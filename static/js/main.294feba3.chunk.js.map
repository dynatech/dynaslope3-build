{"version":3,"sources":["images/generic-user-icon.jpg","websocket/misc_ws.js","components/contexts/ServerTimeContext.js","components/sessions/Login.js","components/layouts/Footer.js","UtilityFunctions.js","components/contexts/NotificationsContext.js","components/widgets/notifications/ajax.js","components/widgets/notifications/NotificationsTab.js","components/layouts/Header.js","components/layouts/Navigation.js","components/reusables/PageTitle.js","components/reusables/TabBar.js","websocket/monitoring_ws.js","components/monitoring/dashboard/ValidationModal.js","components/reusables/useModal.js","components/widgets/bulletin/BulletinTemplate.js","components/widgets/bulletin/ajax.js","components/communication/mailbox/ajax.js","components/widgets/bulletin/BulletinModal.js","components/communication/ajax.js","components/reusables/TransitionList.js","components/reusables/SelectMultipleWithSuggest.js","components/contexts/GeneralContext.js","components/contexts/ajax.js","components/reusables/DynaslopeSiteSelectInputForm.js","components/communication/chatterbox/LoadTemplateModal.js","components/reusables/SelectInputForm.js","components/communication/chatterbox/MessageInputTextbox.js","components/reusables/CheckboxGroup.js","components/communication/chatterbox/QuickSelectModal.js","components/communication/chatterbox/SendMessageForm.js","components/monitoring/dashboard/SendEwiSmsModal.js","components/monitoring/dashboard/SendRoutineEwiSmsModal.js","components/monitoring/dashboard/MonitoringTables.js","components/monitoring/ajax.js","components/monitoring/dashboard/GeneratedAlerts.js","components/widgets/alert_release_form/store.js","components/widgets/alert_release_form/actions.js","components/reusables/OutlinedSelectInputForm.js","components/reusables/DynaslopeUserSelectInputForm.js","components/widgets/alert_release_form/AlertReleaseForm.js","components/contexts/MonitoringShiftsContext.js","components/widgets/alert_release_form/AlertReleaseFormModal.js","components/widgets/alert_release_form/ajax.js","components/widgets/alert_release_form/RoutineReleaseForm.js","components/widgets/alert_release_form/RoutineReleaseFormModal.js","components/widgets/issues_and_reminders_form/ajax.js","store.js","components/widgets/issues_and_reminders_form/IssuesAndRemindersForm.js","components/widgets/issues_and_reminders_form/IssuesAndReminderModal.js","components/widgets/issues_and_reminders_form/IssuesAndRemindersList.js","components/widgets/monitoring_shifts/MonitoringShiftsPanel.js","components/widgets/moms/MomsForm.js","components/widgets/moms/state_handlers.js","components/widgets/moms/ajax.js","components/widgets/moms/MomsInsertModal.js","components/widgets/on_demand/OnDemandForm.js","components/widgets/on_demand/OnDemandInsertModal.js","components/widgets/on_demand/ajax.js","components/monitoring/dashboard/Container.js","components/monitoring/events_table/EventTimeline.js","components/monitoring/events_table/CustomSearchRender.js","components/monitoring/events_table/Container.js","components/monitoring/shifts_and_reports/DetailedExpansionPanels.js","components/monitoring/shifts_and_reports/SelectSiteModal.js","components/monitoring/shifts_and_reports/EndOfShiftGenerator.js","components/widgets/monitoring_shifts/MonitoringShiftsCalendar.js","components/monitoring/shifts_and_reports/MonitoringShifts.js","components/monitoring/shifts_and_reports/Container.js","components/monitoring/site_logs/CustomSearchRender.js","components/widgets/narrative_form/ajax.js","components/widgets/narrative_form/NarrativeForm.js","components/widgets/narrative_form/NarrativeFormModal.js","components/widgets/narrative_form/DeleteNarrativeModal.js","components/monitoring/site_logs/Container.js","components/monitoring/issues_and_reminders/CustomSearchRender.js","components/monitoring/issues_and_reminders/Container.js","components/monitoring/qa/subcomponents/Table.js","components/monitoring/qa/subcomponents/Event.js","components/monitoring/qa/subcomponents/Lowering.js","components/monitoring/qa/subcomponents/Extended.js","components/monitoring/qa/subcomponents/Routine.js","components/monitoring/qa/subcomponents/Raising.js","components/monitoring/qa/Container.js","components/analysis/ajax.js","components/analysis/integrated_site/SurficialTrendingGraphs.js","components/analysis/integrated_site/BackToMainButton.js","components/analysis/integrated_site/DateRangeSelector.js","components/analysis/integrated_site/SurficialGraph.js","components/analysis/integrated_site/RainfallDataTaggingModal.js","components/analysis/integrated_site/RainfallGraph.js","components/analysis/integrated_site/SubsurfaceGraph.js","components/analysis/integrated_site/ConsolidatedSiteCharts.js","components/analysis/integrated_site/ConsolidateSiteChartsModal.js","components/analysis/integrated_site/InsertEarthquakeModal.js","components/analysis/integrated_site/EarthquakeMap.js","components/analysis/integrated_site/EarthquakeContainer.js","components/widgets/moms/InsertMomsButton.js","components/analysis/integrated_site/MomsInstancesPage.js","components/analysis/integrated_site/Container.js","components/analysis/monitoring_alerts_analytics/PieChart.js","components/analysis/monitoring_alerts_analytics/StackedBarChart.js","components/analysis/monitoring_alerts_analytics/TriggerEventsTable.js","components/analysis/monitoring_alerts_analytics/Container.js","components/analysis/communications_analytics/EwiChart.js","components/analysis/communications_analytics/EwiAckChart.js","components/analysis/communications_analytics/GroundMeasChart.js","components/analysis/communications_analytics/Container.js","components/analysis/loggers_and_sensors_form/LoggersList.js","components/analysis/loggers_and_sensors_form/LoggerDetails.js","components/analysis/loggers_and_sensors_form/TiltForm.js","components/analysis/loggers_and_sensors_form/AddLoggerForm.js","components/analysis/loggers_and_sensors_form/Container.js","components/communication/chatterbox/OptionsModal.js","components/communication/chatterbox/BlockNumberModal.js","components/communication/contacts/ContactForm.js","websocket/communications_ws.js","components/communication/chatterbox/CommsContext.js","components/communication/chatterbox/SaveContactModal.js","components/communication/chatterbox/MessageList.js","components/communication/chatterbox/ChatterboxTagModal.js","components/communication/chatterbox/ChatThread.js","components/communication/chatterbox/ConversationWindow.js","components/communication/chatterbox/SendMessageModal.js","components/reusables/CircularAddButton.js","components/communication/chatterbox/SearchMessageModal.js","components/communication/chatterbox/SearchResultsPage.js","components/communication/chatterbox/QueuedMessages.js","components/communication/chatterbox/Container.js","components/communication/contacts/ContactList.js","components/communication/contacts/BlockedContactList.js","components/communication/contacts/SimPrefixesList.js","components/communication/contacts/ContactPrioritization.js","components/communication/contacts/SearchContactsModal.js","components/communication/contacts/Container.js","components/communication/mailbox/MailBoxContainer.js","components/community/site_information/SiteStakeholdersList.js","components/community/ajax.js","components/community/site_information/BackToMainButton.js","components/community/site_information/EditSiteInformationForm.js","components/community/site_information/EditSiteInformationModal.js","components/community/site_information/SiteInformationPage.js","components/community/site_information/PhilippineMap.js","components/community/site_information/Container.js","components/member_profile/MemberList.js","components/member_profile/ProfileDetails.js","components/member_profile/ajax.js","components/member_profile/Container.js","components/member_profile/UpdateCredentialsForm.js","components/member_profile/CreateDynaUser.js","components/usability_testing/ajax.js","components/usability_testing/RainfallForm.js","components/usability_testing/SurficialForm.js","components/usability_testing/EarthquakeForm.js","components/usability_testing/SubsurfaceForm.js","components/usability_testing/MomsForm.js","components/usability_testing/OnDemandForm.js","components/usability_testing/StartScenarioModal.js","components/usability_testing/UpdateMachineTimeModal.js","components/usability_testing/Container.js","Routes.js","components/chart_rendering/Container.js","App.js","serviceWorker.js","index.js","images/phivolcs-dynaslope-logo.png","components/sessions/ajax.js","components/sessions/auth.js","GeneralStyles.js","images/login-bg-img.jpg","components/layouts/ScreenDrawer.js","images/phivolcs-letter-head.png","images/phivolcs-letter-footer.png","images/dyna_wall.jpg","config.js"],"names":["module","exports","socket","connectToWebsocket","io","host","reconnectionDelay","reconnectionAttempts","transports","getServerTime","emit","receiveServerTime","callback","on","data","getMonitoringShifts","receiveMonitoringShiftData","temp","JSON","parse","console","log","removeReceiveMonitoringShiftData","removeListener","getUserNotifications","user_id","getCurrentUser","receiveUserNotifications","ServerTimeContext","createContext","ServerTimeProvider","children","useState","server_time","setServerTime","useEffect","ts","return_obj","Provider","value","Copyright","Typography","variant","color","align","Link","href","Date","getFullYear","useStyles","makeStyles","theme","root","height","image","backgroundImage","LoginBgImg","backgroundSize","backgroundPosition","paperContainer","display","alignItems","justifyContent","paper","margin","spacing","flexDirection","paddingBottom","breakpoints","up","phivolcsDynaslopeLogo","between","only","form","width","marginTop","submit","title","down","fontSize","passwordField","buttonChild","LoginComponent","props","classes","username","password","credentials","setCredentials","errors","setErrors","error_message","setErrorMessage","is_loading","setLoading","history","onLogin","onLoginClick","Object","entries","forEach","row","key","handleError","values","includes","login","push","message","handleChange","attr","event","target","handleFocus","Grid","container","component","className","CssBaseline","item","xs","sm","md","Paper","elevation","square","src","PhivolcsDynaslopeLogo","alt","TextField","required","fullWidth","id","label","name","autoComplete","autoFocus","onChange","onFocus","error","type","onKeyPress","FormHelperText","focused","Button","onClick","disabled","style","marginRight","CircularProgress","size","Box","mt","withStyles","footer","padding","textAlign","zIndex","footerText","AppBar","position","Toolbar","prepareSiteAddress","site_details","include_site_code","purok","sitio","barangay","municipality","province","site_code","address","upper_sc","toUpperCase","capitalizeFirstLetter","str","every_word","capitalize","s","charAt","slice","split","map","join","getUserOrganizations","organizations","return_grouped","org","sites","site","org_name","unshift","getUserContactPriority","is_priority","length","Boolean","primary_contact","simNumFormatter","sim_num","match","computeForStartTs","duration","unit","clone","subtract","format","makePOSTAxiosRequest","api_link","payload","err","axios","post","then","response","catch","makeGETAxiosRequest","get","monthSorter","season_months","all_months","sort","a","b","indexOf","NotificationsContext","NotificationsProvider","useReducer","state","action","notifications","count","notification_id","index","findIndex","ts_read","notifications_object","setNotificationsObject","setNotificationCountToZero","setAllUnseenNotifications","toggleReadTS","toggle_to","moment","updateTSRead","divider","sectionHead","marginBottom","cardSection","card","cardUnread","backgroundColor","cardContent","toggleReadIcon","marginLeft","notifTS","noNotifs","border","NotificationCard","React","memo","details","toggleNotifStatus","goToLink","link","Card","CardContent","IconButton","aria-label","disableRipple","disableFocusRipple","edge","CallMade","FiberManualRecordTwoTone","FiberManualRecord","NotificationsTab","handleCloseNotif","useContext","read_batch","setReadBatch","unread_notifs","read_notifs","batch_read_notifs","has_unloaded_read_notifs","has_unread_notifs","useCallback","is_unread","Divider","GeneralStyles","grow","flexGrow","menuButton","projectTitle","fontWeight","titleBlock","projectSubtitle","logo","sectionDesktop","list","menu","icon","paddingRight","right","overflowY","boxSizing","backdrop","Header","drawerHandler","onLogout","anchorEl","setAnchorEl","handleClose","first_name","is_notif_open","setIsNotifOpen","document","body","overflow","noWrap","Badge","badgeContent","Notifications","aria-owns","aria-haspopup","currentTarget","startIcon","AccountCircle","Menu","keepMounted","open","onClose","MenuItem","logout","ExitToApp","Slide","direction","in","mountOnEnter","Backdrop","navBar","appBar","top","popper","textDecoration","navigation_labels","main","sub","soon","withWidth","drawer","path","window","location","pathname","obj","setValue","from_tab","setFromTab","last_clicked_tab","setLastClickedTab","popper_open","setPopperOpen","setAnchorE1","handleNavTabClick","old_value","handlePopperClickAway","contains","setTimeout","handleMenuClick","Tabs","val","indicatorColor","textColor","isWidthUp","scrollButtons","centered","Tab","Popper","transition","disablePortal","TransitionProps","placement","Grow","transformOrigin","ClickAwayListener","onClickAway","MenuList","i","paddingLeft","button","paddingTop","to","ScreenDrawer","navigationLabels","pageTitleContainer","pageTitle","hasCustomButtons","customButtons","has_custom_buttons","undefined","c_classes","preventDefault","LinkTab","chosenTab","onSelect","tabsArray","NoSsr","e","tab","subscribeToWebSocket","reconnect_callback","sendWSMessage","send","unsubscribeToWebSocket","close","receiveAlertsFromDB","withMobileDialog","isShowing","hide","isValidating","trigger_id","ts_updated","triggerValidity","setTriggerValidity","remarks","setRemarks","current_user","ReactDOM","createPortal","Dialog","aria-labelledby","DialogTitle","DialogContent","DialogContentText","FormControl","RadioGroup","trigger_validity","Number","parseInt","FormControlLabel","control","Radio","DialogActions","trigger_ts","alert_status","validate_trigger","useModal","setIsShowing","toggle","getHeightWithMargin","element","margin_only","offset","offsetHeight","getComputedStyle","margins","parseFloat","LetterHead","letterHeadContainer","PhivolcsLetterHead","phivolcsLetterHead","LetterFooter","letterFooterContainer","PhivolcsLetterFooter","TitleAndMainInfo","bulletinDetail","isMD","bulletin_control_code","site_address","data_ts","alert_description_group","recommended_response","mainInfo","releaseId","maxWidth","maxHeight","letterSpacing","sectionHeader","sectionDetails","indent","releaseDetailsArea","useStyle","excess_divs","setExcessDivs","is_bulletin_ready","setIsBulletinReady","is_loaded","setIsLoaded","content_body","useRef","alert_level","community_response","lewc_lgu_response","households_at_risk","has_ground_trigger","ground_movement_details","prepared_triggers","no_data_triggers","publishers","next_ewi_release_ts","bulletin_detail","setBulletinDetails","is_md","params","release_id","getBulletinDetails","current","parent","Array","from","total_height","node","sub_children","excess","sub_h","setAttribute","is_ground_movement_section_printed","ref","arr","is_ground","curr_trig_source","trigger_source","GroundMovementHeaderComponent","to_print_header","HeaderComponent","uc_trig_source","NoDataComponent","dangerouslySetInnerHTML","__html","description","new_classes","classList","x","p","outerHTML","replace","sendBulletinEmail","input","queueBulletinEmail","cancelQueuedBulletinEmail","fullScreen","isOpenBulletinModal","setIsOpenBulletinModal","releaseDetail","site_id","is_bulletin_sent","not_yet_sending_time","is_onset_release","is_bulletin_queued","prescribed_release_time","event_id","show_queue_buttons","mail_subject","setMailSubject","mail_recipients","setMailRecipients","mail_content","setMailContent","file_name","setFileName","narrative_details","setNarrativeDetails","useSnackbar","enqueueSnackbar","closeSnackbar","sender_id","snackBarActionFn","getBulletinEmailDetails","ret","subject","recipients","mail_body","filename","temp_nar","closeHandler","base_fn","func_specific","alert_db_group","task_id","loading_message","ajaxFn","loading_snackbar","persist","status","autoHideDuration","f_site_code","placeholder","multiline","rowsMax","textField","onAdd","chip","handleAddChip","onDelete","splice","handleDeleteChip","release_id_input","responseType","downloadBulletin","url","URL","createObjectURL","Blob","createElement","appendChild","click","sendRoutineEwiMessage","error_callback","queueRoutineEwiMessage","cancelQueuedRoutineEwiMessage","sendMessage","queueMessage","cancelQueuedMessage","SlideTransition","forwardRef","FadeTransition","Fade","NoOptionsMessage","selectProps","innerProps","noOptionsMessage","inputComponent","inputRef","Control","innerRef","isDisabled","InputProps","inputProps","textFieldProps","Option","isFocused","isSelected","fcolor","buttonRef","selected","Placeholder","ValueContainer","valueContainer","MultiValue","removeProps","chipLabel","Chip","tabIndex","chipFocused","deleteIcon","flexWrap","flex","emphasize","palette","grey","singleValue","left","withTheme","changeHandler","isRequired","options","renderDropdownIndicator","openMenuOnClick","isMulti","isClearable","hasAlternativeChipLabel","isError","helperText","selectStyles","base","font","menuPortal","provided","components","open_menu_on_click","is_multi","is_disabled","is_clearable","is_required","DropdownIndicator","IndicatorSeparator","styles","InputLabelProps","shrink","menuPortalTarget","openMenuOnFocus","GeneralContext","GeneralProvider","setSites","all_sites_including_inactive","SetAllSites","refresh_sites","setRefreshSites","active","filter","users","setUsers","refresh_users","setRefreshUser","setOrganizations","is_reconnecting","setIsReconnecting","setKey","h_key","prepareSitesOption","to_include_address","isFromSiteLogs","latest","extended","merged_latest","overdue","sc","toLowerCase","ev_index","ex_index","DynaslopeSiteSelectInputForm","includeAddressOnOptions","returnSiteDataCallback","customPlaceholder","to_render_dropdown","pass_value","find","o","inputGridContainer","checkboxGridContainer","selectInput","backButton","instructions","isOpen","inputFieldLength","clickHandler","setComposedMessage","maxCharacters","date_time","setDateTime","site_list","setSiteList","express","setExpress","getRainInformationFunction","site_codes","site_info","getSiteCodes","is_express","as_of","getRainInformation","ewi","snackbar_message","setIsDisabled","TransitionComponent","justify","Tooltip","interactive","Checkbox","checked","utils","MomentUtils","autoOk","ampm","mask","clearable","disableFuture","formControl","minWidth","mapping","div_id","css","is_error","InputLabel","htmlFor","Select","MessageInputTextbox","limitRows","disableSend","messageChangeHandler","sendButtonClickHandler","fromEWIModal","setPriority","setTsSending","priority","tsSending","limit","is_modal_open","setIsModalOpen","schedule_sending","setScheduleSending","priority_list","setPriorityList","list_as_option","default_prio","priority_id","anchor","setAnchor","onMenuClose","is_more_options","setMoreOptions","nickname","message_ender","total_length","rows","maxLength","SendRounded","aria-controls","MoreVert","disablePast","checkboxes","choices","checkboxStyle","clabel","formLabel","checkboxSites","flexBasis","checkboxOrganizations","checkboxGroup","buttons","setRecipients","org_list","initial_sites","initial_orgs","pre","scope","org_id","only_ewi_recipients","setOnlyEwiRecipients","state_handlers","handleCheckAll","prop","bool","setter","is_checked","state_list","group","entry","lgroup","FormLabel","CheckCircle","RemoveCircle","line","FormGroup","CheckboxGroup","pop","listMapper","renderCheckboxes","site_ids","org_ids","getRecipientsList","mobile_id","fin_label","prepare_payload","modalStateHandler","success_message","ajaxFunction","on_send_message_fn","from_ewi_modal","on_queue_fn","SendMessageForm","textboxValue","disableQuickSelect","recipientsList","eventId","siteCode","updateSentStatusObj","prescribedReleaseTime","ewiModalTriggers","setOptions","quick_select","setQuickSelect","composed_message","ts_sending","sendButtonFunction","setSendButtonFunction","disable_select","is_loading_recipients","setIsLoadingRecipients","getEWISMSRecipients","ewi_recipients_list","temp_ewi_recipients","default_recipients","public_alert_symbol","highest_event_alert_level","mobile_numbers","last_name","ewi_recipient","ewi_restriction","organization","prefix","to_push","has_extended_routine_restriction","limit_alert_level","temp_props","recipient_list","mobile_number","gsm_id","sms_msg","is_ewi","fn","trigger","revert","queue","cancel_queue","on_cancel_queue_fn","disable_send_queue_buttons","is_recipients_empty","is_message_empty","AddBox","disableTemplateLoader","modalState","is_queued","is_sms_sent","to_trigger_send","setToTriggerSend","to_trigger_queue","setToTriggerQueue","to_trigger_cancel_queue","setToTriggerCancelQueue","to_disable_send_queue","setToDisableSendQueue","Close","isMobile","SendRoutineMessageForm","sendHandler","routineData","released_sites","is_sms_queued","baseFn","error_response","dyna_error","general_styles","AccordionSummaryContent","invalidCandidate","background","validCandidate","partialInvalidCandidate","inputWidth","format_ts","MyLoader","speed","foregroundColor","y","rx","ry","CandidateAlertsAccordion","alertData","expanded","handleExpansion","releaseFormOpenHandler","isShowingValidation","toggleValidation","validationDetails","ia_level","trigger_arr","has_new_triggers","general_status","is_release_time","unresolved_moms_list","routine_a0","routine_nd","routine_overdue","vs","validity_status","overdue_routine_list","routine_details","el","internal_alert_level","site_id_list","r_site","release_details","trigger_list_arr","gen_status","root_style","alert0","alert3","alert2","Accordion","AccordionSummary","content","elem","AccordionDetails","routineSitesContainer","justifyItems","alert","tech_info","trigger_type","formatted_ts","to_validate","is_validating","validating_status","invalid","to_show_validate_button","moms_instance","observance_ts","op_trigger","feature_type","feature","feature_name","moms_id","AccordionActions","Publish","LatestSiteAlertsAccordion","siteAlert","smsHandler","bulletinHandler","keyName","releases","day","sent_statuses","has_alert_release_today","validity","event_start","site_name","start_ts","validity_ts","release_time","adjusted_data_ts","add","panel_headers","notice","arrow","Warning","day_div","sms","bulletin","isBefore","check_status","comp_row","Done","Cancel","AlarmOn","Schedule","check_comp","end_icons","tooltip_title_maker","comp","Timeline","PhoneAndroid","endIcon","Description","RoutineAccordion","end_icon","MonitoringTables","candidateAlertsData","alertsFromDbData","setExpanded","setIsShowingValidation","validation_details","setValidationDetails","isShowingSendEWI","toggleSendEWI","isShowingSendRoutineEWI","toggleSendRoutineEWI","chosenReleaseDetail","setChosenReleaseDetail","routine_data","setRoutineData","panel","isExpanded","ewi_message","setEWIMessage","release","elem_event","getEWIMessage","latest_db_alerts","extended_db_alerts","overdue_db_alerts","routine_db_alerts","routine","sectionHeadContainer","Help","getRoutineEWIMessage","formatTS","GeneratedAlerts","setOpen","handleClickOpen","dialog","generatedAlertsData","chosen_site","internal_alert","current_trigger_alerts","event_triggers","searchSites","timestamp","rel_trigger_divs","rel_subsurface","trigger_details","alert_symbol","rain_gauge","aria-describedby","div","tsm_name","ts_sub_data","invalid_details","user","ts_ack","getAlertDialog","alert_detail","handleClickClose","lg","CardActionArea","gutterBottom","alignContent","createCard","Store","initial_state","iomp_mt","iomp_ct","subsurface","triggers","surficial","moms","rainfall","earthquake","magnitude","latitude","longitude","comments","validation","previous_release","post_computation","non_triggering_moms","manually_lower_alert","preview","reducer","temp_validation","temp_state","cloneDeep","helper_text","isValid","candidate_alert","current_state","state_copy","source_set","Set","temp_trig_arr","note","source","moms_list","od_details","current_triggers_status","has","public_alert_level","trigger_list","trigger_list_str","to_extend_validity","insertCandidateAlertDetails","every","StoreProvider","dispatch","validateIfNextIsDisabled","step","some","isNextButtonDisabled","prepareAlertReleasePayload","pre_state","temp_comments","publisher_details","publisher_mt_id","publisher_ct_id","preparePayload","OutlinedSelectInputForm","Component","labelWidth","componentDidMount","this","setState","findDOMNode","InputLabelRef","offsetWidth","render","OutlinedInput","prepareUsersArray","DynaslopeUserSelectInputForm","returnFullNameCallback","isCommunityStaff","saved_users","CancelToken","cancelToken","token","cancel","final_label","LoadingComponent","FirstStep","server_time_of_release","setServerTimeOfRelease","is_sandbox","Actions","SecondStep","isLoading","LatestSiteDetailsSection","SubsurfaceSection","SurficialSection","RainfallSection","EarthquakeSection","MOMsSection","OnDemandSection","event_alert","warning_text","isAfter","isSame","whiteSpace","DataPresenceRadioInput","TriggerTimestampAndTechInfoCombo","triggerHandler","labelFor","triggersCboxHandler","triggerDetailsHandler","TriggersComponents","keys","initial","PreviewComp","intro","MomsListFormatter","f","ts_comp","rem","ThirdStep","release_triggers","n","rt","alert_sym","preview_2","Switch","AlertReleaseForm","activeStep","MonitoringShiftsContext","MonitoringShiftsProvider","monitoring_shifts","setMonitoringShifts","current_ct","setCurrentCT","shift_data","current_shift","now","shift_start","shift_end","getCurrentShift","iompct","stepper","chosenCandidateAlert","setChosenCandidateAlert","setIsOpenRoutineModal","generatedAlerts","setActiveStep","active_step","steps","is_next_btn_disabled","setIsLoading","handleReset","Stepper","alternativeLabel","Step","StepLabel","result","site_row","m_list","unreleased_moms_list","snackbar_key","json_data","processReleaseInternalAlert","cardHeader","not","intersection","RoutineReleaseForm","comp_props","a0SiteList","setA0SiteList","NDSiteList","setNDSiteList","dataTimestamp","setDataTimestamp","form_release_time","setFormReleaseTime","reporter_id_mt","handleDateTime","setChecked","leftChecked","rightChecked","handleToggle","currentIndex","newChecked","numberOfChecked","items","handleToggleAll","customList","CardHeader","avatar","indeterminate","List","dense","role","labelId","ListItem","ListItemIcon","ListItemText","primary","concat","reporter_id_ct","ewiPayload","setEwiPayload","initial_routine_data","site_options","setSiteOptions","setDisabled","data_timestamp","unreleased_sites","copy","a_temp","f_data_ts","f_rel_time","temp_payload","handleIssuesAndReminders","ts_posted","ts_expiration","temp_list","insertIssuesAndRemindersViaPost","makeAxiosRequest","psgc","region","season","sites_option","IssuesAndReminderForm","issueReminderData","setIssueReminderData","toResolve","iar_id","detail","resolution","is_event_entry","default_radio_value","set_default_radio_value","radio_value","setRadioValue","is_general_iar","setIsGeneralIar","is_event_checked","setIsEventChecked","is_persistent_checked","setIsPersistentChecked","site_choices","number","handleEventChange","switchHandler","is_persistent","labelPlacement","default_state","postings","resolved_by","ts_resolved","setIsIandRUpdateNeeded","chosenIssueReminder","isIandRUpdateNeeded","setToRefresh","toRefresh","issue_reminder_data","chosenData","get_site_id_list","event_ids","closeHandlerAction","ts_now","resolver_user_id","gridList","boxShadow","hasNoIssues","previewText","minHeight","tile","tileBar","IssuesAndReminderCard","isCardModalOpen","setCardModalOpen","setIsOpenIssueReminderModal","setToResolve","issue_reporter","item_title","prepareTileTitle","textIndent","disableSpacing","to_caps_general","IssuesAndReminderList","isOpenIssueReminderModal","tile_data","setTileData","has_active_issues","setHasActiveIssues","setChosenIssueReminder","is_card_modal_open","issues_and_reminders","final_tile_data","fontStyle","processed_i_n_r","iar","site_events_list","includeSiteList","handleInfoExpand","GridListTile","cols","GridListTileBar","subtitle","actionIcon","prepareTileData","GridList","cellHeight","summary","summaryContent","MonitoringShiftsPanel","shiftData","shifts","setShifts","hours","defaultExpanded","expandIcon","IconButtonProps","iompmt","getShiftStatus","MomsInputFields","moms_entry","momsEntry","update_field","updateField","is_adding_new_instance","isAddingNewInstance","setIsNoneEntrySelected","is_none_entry","narrative","reporter","validator","MomsForm","momsEntries","setMomsEntries","selectSite","setSite","setIsAddingNewInstance","isNoneEntrySelected","attribute","deleteInstanceFn","is_first","is_last","reducerFunction","new_state","stringify","instances","alerts","instances_opt","ins","instance_id","alerts_opt","al","feature_alert_id","getMOMsFeatures","form_message_style","setSiteCode","to_select_site","setToSelectSite","moms_entries","submit_button_state","setSubmitButtonState","moms_form_message","setMomsFormMessage","moms_feature_types","setMomsFeatureTypes","feature_types","feat","feature_id","moms_entry_copy","has_duplicate_feature_name","has_duplicate_obs_ts","empty_fields","feature_name_collection","observance_ts_collection","button_state","form_messsage","moment_obs_ts","feature_name_value","momsFormValidation","f_type","f_name","report_narrative","reporter_id","validator_id","iomp","err_callback","insertMomsToDB","OnDemandForm","alertLevel","setAlertLevel","requestTs","setRequestTs","reason","setReason","setReporter","techInfo","setTechInfo","loading","hasOnDemand","initial_label","holder","reason_label","setReasonLabel","request_ts","has_on_demand","setHasOnDemand","tecchInfo","on_demand_data","insertOnDemandToDb","gen_style","tabBar","pageContentMargin","tabBarContent","speedDial","bottom","tabs_array","setChosenTab","setGeneratedAlerts","setCandidateAlertsData","setAlertsFromDbData","isOpenReleaseModal","setIsOpenReleaseModal","isOpenRoutineModal","is_moms_modal_open","setMomsModal","is_on_demand_modal_open","setOnDemandModal","set_moms_modal_fn","set_on_demand_modal_fn","generated_alerts","receiveCandidateAlerts","candidate_alerts","alerts_from_db","receiveEWIInsertResponse","handleBoolean","releaseAlertHandler","chosen_candidate","is_desktop","actions","AddAlert","Landscape","NotificationImportant","anchorRef","custom_buttons","DataUsage","Hidden","smDown","IssuesAndRemindersList","mdUp","ExpandMore","chosen_tab","SpeedDial","ariaLabel","FabProps","SpeedDialIcon","onOpen","SpeedDialAction","tooltipTitle","timeline","lineColor","processMomsTrigger","int_alert_sym","non_triggering","moms_details","vfn","vln","rfn","rln","buildTimelineElements","timelineItems","item_timestamp","item_data","item_type","moment_item_timestamp","dateText","dateComponent","release_publishers","is_onset","moms_releases","release_type","card_color","getColorBasedOnReleaseType","header","headers","getReleaseHeader","moment_data_ts","ct","publisher","user_details","dateInnerStyle","lineHeight","bodyContainerStyle","borderRadius","Icon","info","internal_sym","trigger_symbol","trigger_hierarchy","additional","trigger_misc","on_demand","processTriggers","Assessment","MonitoringEventTimeline","eventDetails","setEventDetails","setTimelineItems","getEventTimelineEntries","event_details","timeline_items","monitoring_type","end_ts","rel","CustomSearchRender","handleTextChange","onSearch","onSearchChange","onKeyDown","onHide","onSearchClick","keyCode","addEventListener","componentWillUnmount","removeEventListener","searchText","appear","timeout","rootRef","textLabels","toolbar","search","searchField","clearIcon","filter_sites_option","eventTable","getMuiTheme","createMuiTheme","overrides","MUIDataTableHeadCell","setData","page","setPage","rowsPerPage","setRowsPerPage","setCount","sites_dict","setSitesDict","filters","setFilters","filter_list","setFilterList","search_str","setSearchString","on_search_open","setOnSearchOpen","include_count","getMonitoringEvents","ret2","events","total","final_data","entry_type","public_alert","final_event_start","final_ts_end","prepareEventsArray","noMatch","filterType","responsive","searchPlaceholder","rowsPerPageOptions","selectableRows","print","download","serverSide","onTableChange","tableState","cur_page","cur_rpp","search_string","onFilterChange","changedColumn","ret_filters","chosen_filters","is_empty","filter_var","column_name","columns","site_names","entry_types","entry_type_ids","customSearchRender","handleSearch","hideSearch","rendererOptions","searchStr","customBodyRender","rowIndex","prepareEventTimelineLink","filterList","filterOptions","names","exact","modules","clipboard","matchVisual","formats","icons","column","helper","borderLeft","sent","extractSelectedCharts","checkboxStatus","prepareMailBody","mail_contents","shiftSummary","dataAnalysis","shiftNarratives","f_summary","f_analysis","f_narratives","DetailedAccordion","eos_report","shiftStartTs","currentUser","eos_head","shift_start_info","shift_end_info","data_analysis","narratives","node_shift_summary","setShiftSummary","setDataAnalysis","analysis_char_count","setAnalysisCharCount","setShiftNarratives","attachedFiles","setAttachedFiles","is_sent","setIsSent","default_cbox","default_label","has_markers","has_surficial_data","subsurface_columns","surf_label","surf_dis","logger_name","logger","no_data","has_data","setCheckboxStatus","start_saving_countdown","setStartSavingCountdown","interval_id","setIntervalID","saving_status","setSavingStatus","clearTimeout","tying_delay_id","saving_delay_id","shift_ts","shift_ts_end","moment_validity","ts_end","protocol","rendering_url","handleRemoveFile","files","editors","updateFn","is_analysis_over_limit","file","multiple","Attachment","defaultValue","Info","bounds","charts","downloadEosCharts","render_msg","file_response","SaveAlt","Refresh","getNarrative","site_narrative","Send","form_data","FormData","file_name_ts","append","hasOwnProperty","processCheckboxValues","selectedSites","setSelectedSites","checkAll","eosData","setSelectedEosData","setModalOpen","setEosData","setCheckAll","no_sites","DoneAll","site_code_label","final_eos_data","AccordionsGroup","buttonGrid","hidden","createDateTime","prepareEOSRequest","shift_time","time","moment_start_ts","getEndOfShiftReports","EoSRNoData","isStart","datetime_now","dt_hr","hour","setStartTs","setShiftTime","selectedEosData","shift_start_ts","setShiftStartTs","DisplayEOS","DetailedExpansionPanels","isWidthDown","ArrowForwardIos","Event","Popover","anchorOrigin","vertical","horizontal","has_nickname","allShifts","localizer","momentLocalizer","setEvents","flatMap","start","end","set","h","m","defaultDate","eventPropGetter","ts_start","defaultView","dayPropGetter","date","hr","moment_date","day_before","is_pm_early_morn","is_today","views","popup","selects","valueFont","processShiftData","raw_data","index1","word_temp","converter","toWords","alert_summary","new_stuff","second_row","index2","event_link","def_padding","defaultCalendarOpen","setTSStart","setTSEnd","setUserID","setPayload","setShiftData","DateTimePicker","inputVariant","processed_data","Container","open_calendar_on_start","setOpenCalendarOnStart","matchPath","NarrativeForm","narrativeData","setNarrativeData","siteList","callAck","setCallAck","callAckHashtag","toUseCurrentInstance","setToUseCurrentInstance","narrative_id","DatePicker","TimePicker","new_narrative","with_space","substring","setIsUpdateNeeded","chosenNarrative","isEditMode","setSort","resetInput","initial_data","type_id","narrative_data","call_ack","to_use_current_instance","default_narr_data","temp_narrative","handleFullReset","closeFn","snackbar","temp_id","order_by","order","gen","table_data","setTableData","isOpenNarrativeModal","setIsOpenNarrativeModal","isOpenDeleteModal","setIsOpenDeleteModal","setIsEditMode","setChosenNarrative","isUpdateNeeded","getNarratives","processed","exclude_filters","table_state","onColumnSortChange","s_options","sortDirection","logic","filterss","renderValue","is_ev","is_ex","data_handlers","tooltip","Edit","Delete","getManipulationButtons","LinearProgress","to_refresh","include_expired","getIssuesAndReminders","issue_and_reminder","is_not_expired","to_show_delete","datas","setCols","sites_count","_","groupBy","col","tableMeta","tableData","ts_limit_start","sent_ts","updateValue","limit_start","start_limit","end_limit","downloadOptions","separator","releasesData","tableTitle","Routine","overFlowY","NoQAData","TabComponents","selectedTab","eventData","loweringData","extendedData","raisingData","QAContainer","setSelectedTab","setReleases","event_releases","setEventReleases","routine_releases","setRoutineReleases","extended_releases","setExtendedReleases","lowering_releases","setLoweringReleases","raising_releases","setRaisingReleases","raising","lowering","monTypes","Math","max","getMonitoringReleases","getDataPresenceData","getSubsurfaceNodeLevel","subsurface_column","node_id","saveChartSVG","getLoggersAndSensorsData","getMonitoringAnalyticsData","getCommsAnalyticsData","prepareOptions","chart_data","dataset_name","series","dataset","lineWidth","fillOpacity","marker","symbol","enabled","radius","yAxis","processDatasetForPlotting","option","marker_name","timezoneOffset","chart","zoomType","panning","panKey","resetZoomButton","text","xAxis","headerFormat","shared","crosshairs","plotOptions","credits","prepareMarkerAccelerationChartOption","dateTimeLabelFormats","month","year","scatter","pointFormat","prepareMarkerInterpolationChartOption","series_copy","timestamps","categories","labels","formatter","Highcharts","getOptions","colors","opposite","prepareMarkerAccelerationVsTimeChartOption","highchartsMore","SVGRenderer","prototype","symbols","asterisk","w","VMLRenderer","SurficialTrendingGraphs","generateTrending","setShowTrending","setGenerateTrending","chosenPoint","chartRef","trending_data","setTrendingData","graph_components","setGraphComponents","getSurficialMarkerTrendingData","has_trend","td","gc","highcharts","createSurficialTrendingGraphs","ArrowDropUp","graph","goBack","BackToMainButton","ArrowBackIos","date_range_options","hour_interval","hour_value","DateRangeSelector","isSubsurface","selectedRangeInfo","setSelectedRangeInfo","selectedHourInterval","setSelectedHourInterval","disableAll","date_range_anchor","setDateRangeAnchor","hour_interval_anchor","setHourIntervalAnchor","disable_all","is_subsurface","hourIntervalHandleClick","hourIntervalHandleClose","ArrowDropDown","snackBarActionButton","closeSnackbarFn","ExportModal","setIsOpen","surficialData","data_state","setDataState","setTsStart","setTsEnd","marker_id","clickCheckboxHandler","toString","markers","downloadMarkerHistoryTags","AddNewHistoryModal","selectedMarker","historicalMarkers","addNewMarker","setRedrawChart","mi","mn","setEvent","setTs","new_marker_name","setNewMarkerName","resetForm","setNmmValidation","nmm_validation","handleBlur","test","verify_submit","setVerifySubmit","onBlur","to_send","temp_event","temp_ts","insertMarkerEvent","MarkerHistoryTable","markerInfo","markerName","column_options","table_options","expandableRows","expandableRowsHeader","expandableRowsOnClick","renderExpandableRow","row_data","rowMeta","col_span","TableRow","TableCell","colSpan","viewColumns","customSort","col_index","marker_history","m_name","UpdateDeleteModal","editModal","setEditModal","is_open","measurement","mo_id","data_id","chosen_ts","chosen_meas","is_delete_clicked","setDeleteClick","delete_quantity","setDeleteQuantity","changeHandlerFn","fin_val","updateSurficialData","ButtonGroup","quantity","deleteSurficialData","SurficialDataTagModal","surficialDataTagModal","setSurficialDataTagModal","unreliable_data","show_form","setShowForm","tag_type","setTagType","tagger","marker_tag_id","saveUnreliableMarkerData","tagger_id","ClickPointModal","setIsOpenClickModal","TrendingUp","LocalOffer","SurficialMarkersButton","setIsOpenAddEventModal","setAddNewMarker","has_enough_markers","Add","setChosenPointCopy","is_end_of_shift","start_date","end_date","font_size","min_x","min","reduce","cur_min","cd","rd","turboThreshold","series_data_row","fillColor","spacingTop","spacingRight","load","symbol_y","renderer","fill","stroke","label_y","initial_y","initial_x","loader","rect","legend","labelFormatter","userOptions","in_use","dashStyle","cursor","point","showDuration","hideDuration","HC_exporting","disableBack","disableMarkerList","saveSVG","isEndOfShift","selected_range_info","dt_ts_end","te","disable_back","disable_marker_list","save_svg","surficial_data","setSurficialData","selected_marker","setSelectedMarker","historical_markers","setHistoricalMarkers","save_svg_now","setSaveSVGNow","to_redraw_chart","show_trending","generate_trending","is_open_click_modal","is_open_add_event_modal","add_new_marker","is_open_export","setIsOpenExport","default_point","chosen_point","edit_modal","surficial_data_tag_modal","showLoading","getSurficialPlotData","hideLoading","rainbow_colors","Chroma","scale","mode","domain","isExact","svg","getSVGForExport","chart_type","setVisible","redraw","reflow","graph_component","createSurficialGraph","GetApp","sub_props","RainfallDataTaggingModal","closeModalFn","taggingData","onTagSuccess","is_indefinite","setIsIndefinite","observed_data","setObservedData","saveInvalidRainfallTag","default_data","rain","null_ranges","max_rval","max_72h","gauge_name","distance","data_source","threshold_value","rain_id","series_data","max_rval_data","observed_data_dict","rainfall_colors","prepareRainfallData","invalid_data","inv_len","isSameOrAfter","isSameOrBefore","is_invalid","assign","processInstantaneousRainData","null_processed","selectPointsByDrag","is_tagging_data","rg","std","setTaggingData","target_itd","target_rain_gauge","target_rain_id","tagging_sign","target_std","is_tagging","destroyResetSelection","reset_selection","destroy","destroySubmitSelection","submit_selection","r","fireEvent","selected_points","getSelectedPoints","is_submit","unselectPoints","show","selected_ts_list","min_sel_ts","max_sel_ts","points","select","processSelectedPoints","tagged_data","submitted_data","prepareInstantaneousRainfallChartOption","setIsTaggingData","selection","selectedpoints","createRainPlotSubtitle","plotBands","setExtremes","syncExtremes","exporting","menuItemDefinitions","tagInvalidData","onclick","contextButton","menuItems","prepareCumulativeRainfallChartOption","max_rain_2year","round","RainfallGraph","conso_input","arr_num","rainfall_data","setRainfallData","setProcessedData","to_reload","setToReload","chartRefs","instantaneous","createRef","cumulative","get_svg","setGetSVGNow","svg_list","setSVGList","substr","days_diff","diff","tagging_data","is_tag_modal_open","setIsTagModalOpen","default_options","getDataFn","getRainfallPlotData","chart_i","c","svgRef","opt","xsUp","implementation","viewBox","this_chart","assignColorToEachSeries","data_array","prepareNodeHealthSummaryChartOption","setNodeLevelChart","divisor","floor","borderColor","borderWidth","rowsize","dataLabels","textShadow","handleSelectedNode","visible","reversed","useHTML","colorAxis","stops","id_date","flagger","comment","final_stat","added_info","plotNodeLevelCharts","subsurface_node_data","chartOptions","series_name","nodes","final_series","node_arr","node_series","new_series","hideByDefaultRawSeries","cap","itemStyle","layout","verticalAlign","createGeneralNodeChart","NodeLevelChart","allowChartUpdate","returned_data","heatmap","SubsurfaceGraph","sensor","tsm_sensor","consolidated_input","isEOS","selected_hour_interval","tsm","include_comms_health","node_health_option","setNodeHealthOption","comms_health_option","setCommsHealthOption","node_level_chart","node_level_data","setNodeLevelData","getSubsurfacePlotData","subsurface_data","column_data","data_list","col_position_data","orientation","series_list","colored_data","col_data","plotColumnPosition","displacement_data","annotations","plotDisplacement","velocity_alerts","timestamps_per_node","velocity_data","plotVelocityAlerts","communication_health","allowDecimals","prepareCommunicationHealthChartOption","set_data","max_position","min_position","xAxisTitle","states","hover","gridLineWidth","sourceHeight","sourceWidth","prepareColumnPositionChartOption","spline","prepareDisplacementChartOption","prepareVelocityAlertsOption","getSurfaceNodeHealth","node_health_data","each_data","plotNodeHealth","ConsolidatedSiteCharts","site_data","to_include","subsurface_cols","show_charts","site_value","setSiteValue","chart_cboxes","setChartCboxes","setSubsurfaceCols","set_cboxes","update","getSiteSubsurfaceColumns","date_deactivated","deactivated","setReloadEqEvent","eq_magnitude","set_magnitude","eq_depth","set_depth","eq_long","set_long","eq_lat","set_lat","is_disable","set_is_disabled","saveEQ","issuer","insertEarthquakeEvent","depth","lat","issued_by","magnitude_err","depth_err","L","iconUrl","MarkerIcon","shadowUrl","ShadowIcon","iconRetinaUrl","RetinaIcon","iconSize","shadowSize","iconAnchor","shadowAnchor","popupAnchor","tooltipAnchor","EarthquakeMap","eqEvents","zoom","zoomIn","is_one","show_popup","setShowPopUp","leafletElement","openPopup","rule","center","TileLayer","attribution","critical_distance","eq_id","Circle","Marker","Popup","Pane","CircleMarker","weight","bringToFront","MUIDataTableBodyCell","eq_ev_tbl_columns","eq_al_tbl_columns","EarthquakeContainer","eqAlerts","eqAlertsPagination","setEqAlTblPage","tab_value","setTabValue","chosen_events","setChosenEvents","eq_ev_tbl_data","setEqEventsTable","d","select_map_event","collection","ev","eq_al_tbl_data","setEqAlertsTable","eq_alerts","eq_ev_tbl_options","onRowClick","meta","eq_al_tbl_options","onChangePage","new_value","InsertMomsButton","formatTimestamp","buildName","MomsReportsTable","moms_data","instance_row","moms_reports","report","n_details","report_ts","processMomsReportData","MomsInstancesPage","setMOMsData","moms_features","setMOMsFeatures","getMOMsInstances","sorted_data","instance","last_mom","return_data","CustomButtons","change_consolidate_modal_fn","open_eq_modal","InsertChart","createCustomLabels","custom_labels","dataLabel","fontFamily","LabelComponent","is_mobile","uc_type","additional_height","subtitle_text","outside","event_type","ts_last_data","diff_days","presence","type_label","last_data","t_data","has_surficial_markers","generateData","is_consolidate_modal_open","setIsConsolidateModalOpen","is_earthquake_modal","setisEarthquakeModalOpen","subsurface_data_presence","setSubsurfaceDataPresence","subsurface_dp_option","setSubsurfaceDpOption","subsurface_custom_label","setSubsurfaceCustomLabel","surficial_data_presence","setSurficialDataPresence","surficial_dp_option","setSurficialDpOption","surficial_custom_label","setSurficialCustomLabel","rainfall_data_presence","setRainfallDataPresence","rainfall_dp_option","setRainfallDpOption","rainfall_custom_label","setRainfallCustomLabel","loggers_data_presence","setLoggersDataPresence","loggers_dp_option","setLoggersDpOption","chart_instances","setChartInstances","rainfall_summary_option","setRainfallSummaryOption","save_chart_instances_fn","prev","rainfall_summary","list_1d","list_3d","ts_str","data_value","toFixed","grouping","shadow","pointPadding","prepareRainfallSummaryOption","record","cumulative_1d","cumulative_3d","threshold_1d","threshold_3d","DataSource","temp_1d","temp_3d","cum_1d","cum_3d","formatRainfallSummaryData","moms_alerts","setMOMsAlerts","getMOMsAlertSummary","moms_alert","moms_table_options","eq_events","setEqEvents","reload_eq_event","getEarthquakeEvents","setEqAlerts","eq_al_tbl_pagination","is_first_pass","setFirstPass","request","getEarthquakeAlerts","eq_data","is_main_page","chartType","ConsolidateSiteChartsModal","InsertEarthquakeModal","getPieChartOption","setSelectedTrigger","alerts_data","trigger_count","j","data_length","drill_data_length","drilldown","d_data","d_categories","trigger_events","brighten","hex","alert_events","donutChartOption","plotBackgroundColor","plotBorderWidth","plotShadow","accessibility","valueSuffix","pie","innerSize","lang","noData","PieChart","setChart","data_with_color","updated","applyColor","chart_option","setChartOption","to_show","showNoData","hideNoData","getStackedBarChartOptions","stackLabels","defaultOptions","stacking","StackedBarChart","reverse","TriggerEventsTable","selectedTrigger","NoDataToDisplay","getHelperText","field","field_value","new_helper_text","reset_data","initReducer","new_data","updated_value","sanitizeData","clean_data","MonitoringAlertsAnalytics","alert_1","alert_2","alert_3","pie_chart_data","setPieChartData","stacked_chart_data","setStackedChartData","pie_chart_initial_data","stacked_chart_initial_data","pie_chart_filter_data","dispatchPie","stacked_chart_filter_data","dispatchStacked","year_list","back","v","listOfYears","selected_trigger","update_ts","setChartData","submitFilter","data_to_sanitize","temp_data","sanitized_data","inputs","getEWISmsChartOption","queud","floating","EwiChart","getEwiAckChartOption","site_label","days","showInLegend","EwiAckChart","getGroundMeasSiteOptions","expected","received","GroundMeasChart","CommunicationsAnalyticsContainer","current_date_time","current_quarter","quarter","sms_initial_filter_data","initial_filter_data","sms_filter_data","dispatchSmsFilter","ack_filter_data","dispatchAckFilter","ground_meas_filter_data","dispatchGroundMeasFilter","per_month_ewi_sms","setPerMonthEwiSms","per_quarter_ewi_sms","setPerQuarterEwiSms","per_day_ack","setPerDayAck","per_hour_ack","setPerHourAck","ground_meas_data","setGroundMeasData","per_month","per_quarter","per_day","per_hour","input_data","searchBox","sticky","selectedLogger","onLoggerClickFn","reloadList","loggers","setLoggers","setReloadList","loggers_list","setLoggersList","setSearchStr","temp_l","rain_gauges","has_rain","logger_model","filtered","RegExp","toLocaleLowerCase","logger_id","is_selected","logger_number_mask","conforming_mobile_mask","TextMaskCustom","other","inputElement","placeholderChar","showMask","RainSection","rainGauge","saveUpdate","date_activated","is_edit","setIsEdit","date_deact","setDateDeact","deact","updateDeact","CardActions","updated_data","section","save","TiltSection","tsmSensor","version","number_of_segments","segment_length","tsm_id","AccelerometersSection","accelerometers","IndividualAccelerometers","accel_id","accel_number","voltage_min","voltage_max","date_updated","default_flag","add_flag","setAddFlag","update_data","stat","ts_flagged","has_new_status","MainSection","logger_mobile","logger_type","conformed_sim","conformToMask","conformedValue","initial_value","logger_number","field_val","isMoment","LoggerDetails","has_tilt","save_update","saveDataUpdate","test_helper_value","TiltForm","onTiltFormUpdate","ght","checkInputFields","segment_list","setSegmentList","number_of_segment","tsm_data","has_reg_error","has_segment_error","has_error","get_value","bank","temp_bank","temp_value","len","onNumberOfSegmentChange","onSegmentInputChange","segment_value","tilt_data","test_value","installed_sensors","not_required_list","personnel_list","AddLoggerForm","setIsAddLogger","date_installed","location_description","network","personnel","deployment_data","is_submit_disabled","setIsSubmitDisabled","checkCheckbox","onCheckboxChange","add_data","isd","piezo","soms","cleaned_data","tilt","saveLoggerDeployment","noFlexGrow","insetDivider","nested","useTheme","useMediaQuery","is_add_logger","selected_logger","setSelectedLogger","reload_list","MessageOptionsModal","isUnregistered","setBlockModal","setSaveContactModal","Block","mobileDetails","setOpenOptions","error_text","setErrorText","onExited","saveBlockedContact","mobile_number_mask","prepareGeographicalList","category","removeNumberMask","area_code","altered_data","landline_id","pte_code","landline_num","isNaN","addend","has_delete","getOfficesList","offices_list","setContactForm","chosenContact","setContactFormForEdit","isFromChatterbox","setSnackbarKey","setOfficesList","initial_mobiles","initial_landlines","initial_emails","initial_scope","initial_office","initial_office_list","initial_site","initial_location","initial_status","initial_ewi_recipient","initial_ground_reminder_recipient","initial_ewi_restriction","initial_user_details","middle_name","initial_area_code","landline_numbers","emails","ground_reminder_recipient","userAffiliation","scope_list","select_label","setUserDetails","setScope","setLocation","offices","setOffices","office","setOffice","mobile_nums","setMobileNums","landline_nums","setLandlineNums","setEmails","is_ewi_recipient","setEwiRecipient","is_ground_reminder_recipient","setGroundReminderRecipient","is_active","setIsActive","restriction","setRestriction","save_button_state","setSaveButtonState","setAreaCode","closeButtonFn","nameChangeHandler","temp_area_code","contact_numbers","affiliation","is_sim_num_invalid","is_affiliation_invalid","is_landline_num_invalid","contactFormValidation","saveFunction","snack_key","saveContact","queueUpdatingSnackbar","Avatar","Person","enable_delete","AddCircle","paragraph","is_landline_valid","handlePTEcode","handleLandlineNumbers","email","receiveAllContacts","removeReceiveAllContacts","CommsContext","orgs","include_inactive_numbers","string_search","tag_search","mobile_number_search","name_search","CommsProvider","contacts","setContacts","search_state","search_dispatch","initial_user_data","save_type","setSaveType","is_edit_mode","setEditMode","selected_contact","setSelectedContact","attachMobileNumberToExistingUser","inline","overflowEllipsis","textOverflow","sentIcon","mobileUserFormatter","first_message","sender_arr","orgs_arr","sender","level","inactive","SecondaryInformation","msg_ts","send_status","ts_sent","ts_received","moment_ts","returnTS","CallReceived","RadioButtonUnchecked","MessageList","messagesArr","open_options","is_unregistered","setIfUnregistered","open_block_modal","open_save_contact_modal","chosen_mobile","setChosenMobile","openOptionsModal","is_unreg","mobile_details","messages","async","searchFilters","sim_number","senders","is_unknown","search_filters","is_per_convo","no_convo_message","InactiveIcon","MobileOff","titleAccess","ListItemAvatar","GenericAvatar","bigAvatar","primaryTypographyProps","secondary","secondaryTypographyProps","MessageListItem","OptionsModal","tagOption","tagObject","tag_options","tag_selection","tags","update_tags","tag_id","tag","useFetchTagOptions","orig_tags","setOrigTags","has_fyi_tag","setHasFyiTag","has_permission_tag","setHasPermissionTag","fyi_purpose","setFyiPurspose","permission_purpose","setPermissionPurpose","has_rainfall_tag","setHasRainfallTag","attach_narrative_to","setAttachNarrativeTo","is_saved_number","fyi_bool","permission_bool","rainfall_bool","tag_arr","contact_person","prepareContactPerson","var_key_id","missing_tags","delete_tag_id_list","delete_payload","tag_details","new_tags","tag_id_list","final_message","ts_message","handleUpdateInsertTags","chatItemSent","chatBubble","chatBubbleReceived","chatBubbleSent","chatMessage","timestampArea","tagButton","useStylesBootstrap","borderStyle","common","black","tooltipPlacementLeft","tooltipPlacementRight","tooltipPlacementTop","tooltipPlacementBottom","BootstrapTooltip","arrowRef","setArrowRef","PopperProps","popperOptions","modifiers","Fragment","ChatThread","message_list","setScrollToBottom","setMessages","is_gdt_modal_open","set_is_gdt_modal_open","selected_message","setSelectedMessage","default_tag_obj","tag_object","update_tag_object","message_batch","setMessageBatch","loaded_messages","setLoadedMessages","initial_messages","set_gdt_fn","onResendClick","message_row","convo_id","outbox_status_id","resendMessage","batch","loadMoreMessages","on_resend_click","is_you","avatar_component","has_tag","tag_icon","TurnedIn","TurnedInNot","tag_summary","disableFocusListener","disableHoverListener","first","second","chatBubbleCreator","regularContainer","chatInputContainer","borderBottom","chatHead","backIcon","AvatarWithText","preserveAspectRatio","cx","cy","ChatLoader","RecipientFormatter","saveNumberModal","ml","AssignmentLate","getContentAnchorEl","ConversationWindow","sf","conversation_details","setConversationDetails","convo_end_ref","scrollToBottom","scrollIntoView","KeyboardArrowLeft","m_id","clear","dialogContent","compose","fab","Zoom","unmountOnExit","transitionDelay","Fab","setSearchResultsToEmpty","tagList","orgs_list","org_options","setOrgOptions","is_search_disabled","setIsSearchDisabled","has_site_or_org","are_ts_all_null","has_date_filter","SearchResultsPage","searchResults","setSearchResults","ListLoader","has_no_input","has_string_or_tag","updated_offset","setUpdateOffset","fetch_new_data","setFetchNewData","has_no_search_results","smUp","mr","NavigateNext","NavigateBefore","CancelQueueModal","chosenMessage","QueuedMessages","chosen_message","setChosenMessage","recipient_list_preview","formatRecipients","QueuedRow","ChatterboxInfoModal","is_open_send_modal","setIsOpenSendModal","is_open_search_modal","setIsOpenSearchModal","inbox","unsent","message_collection","setMessagesCollection","setTabsArray","search_results","recipients_list","setRecipientsList","tag_list","setTagList","is_open_info_modal","setIsOpenInfoModal","set_modal_fn","unsent_length","q_length","unsent_label","overlap","q_label","getAllTags","all_tags","Create","Search","messageCollection","MemoizedItem","onContactClickFn","xl","Star","ContactList","blocked_numbers","onBlockContactClickFn","SimGroup","prefixes","groups","sim_prefixes","smart","globe","network_id","prefix_code","groupSimPrefixesByNetwork","pos","createHeader","SelectPrimaryContact","checkbox_data","updatePrimary","contact_per_org","setContactsPerOrg","contacts_key","updated_org_primary_contact","has_primary","contact","u_org_id","user_org_id","Save","selected_value","is_primary","saveUpdatedPrimaryContact","ArrowBack","AllContacts","siteData","isUpdatePrimary","setIsUpdatePrimary","setOrgs","setCheckboxData","setContactKey","initial_contact_per_org","contact_scope","siteLabel","siteID","contactsArray","setChosenContact","setSlideOpen","results","set_results","population","Loader","IndividualContact","siteOrgs","isContactPriority","lgUp","num","ListItemSecondaryAction","Call","email_id","MailOutline","BlockedContact","reporter_first_name","reporter_last_name","contact_name","date_reported","Phone","PersonAdd","SearchBar","hiddenLabel","contacts_array","setContactsArray","chosen_contact","chosen_contact_index","setChosenContactIndex","is_slide_open","is_contact_form_open","setContactFormOpen","blocked_number_array","setBlockedNumberArray","blocked_chosen_contact","setBlockedChosenContact","sim_prefixes_list","setSimPrefixesList","site_stakeholders","setSiteStakeholders","tab_selected","setTabSelected","modal_state","setModalState","get_contact_priotitization","setGetContactPrioritization","getBlockedContacts","getSimPrefixes","getSiteStakeHolders","site_orgs","PaperDialogContent","SearchComp","endAdornment","InputAdornment","Sort","ViewList","Collapse","disablePadding","FormatListNumbered","SimCard","mdDown","recip_default","cc","bcc","MailBoxContainer","siteId","recipients_dict","setRecipientsDict","is_snackbar_notif_open","set_snackbar_notif_fn","snack_bar_data","set_snack_bar_data","setSubject","setMailBody","sendEmail","green","red","Snackbar","ContentProps","customPaper","StyledBadge","badge","SiteStakeholdersList","community_contacts","setCommunityContacts","com_orgs","comm_contacts_ui","community_orgs","lgu","non_lgu","org_index","user_list_for_ui","user_index","salutation","sal","Stars","primary_badge","enterTouchDelay","prepareOrgList","region_list","arrangeSeasons","seasons","current_season","season_data","dry","wet","not_required","EditSiteInformationForm","siteInformation","setSiteInformationData","seasonPreview","setSeasonPreview","is_disable_save","arrangedSeasons","households","selected_season","season_group_id","l","editButtonAction","site_information_data","saveSiteInformation","responsiveFontSizes","SiteInformationPage","setSeasonMonths","setSeasons","routine_schedule","setRoutineSchedule","isOpenEditModal","setIsEditModal","getSiteSeason","rs","routine_schedules","c_dry","c_wet","isoWeekday","iso_week_day","season_type","raised","PhilippineMap","siteMapData","hoveredSite","refs","scrollWheelZoom","innerHeight","MapLoader","SitesPerRegion","sitesPerRegion","setHoveredSite","sorted_regions","onMouseOver","hovered_site","site_map_data","setSiteMapData","sites_per_region","setSitesPerRegion","smd","spr","MemberList","onMemberClickFn","selectedUserDetails","usersList","setUsersList","media","objectPosition","avatarContainer","editButton","listBody","alignCenter","alignRight","field_with_error","new_instance","initMobileNumbers","initEmails","delete","unfilled_key_str","saving_point","new_field_value","conformTextMask","ProfileEdit","user_data","birthday","sex","is_existing","clean_value","updateUserInfo","ProfileDisplay","bday","t_sex","format_to_mask","StringMask","apply","Cake","Wc","ProfileDetails","isUser","isEdit","handleEdit","BadgeButton","Lock","CardMedia","Dyna_Wall","schedIcon","Transition","ProfileContainer","users_list","selectedUser","setSelectedUser","setIsUser","isWebAdmin","setWebAdmin","teams","team","team_name","isAdmin","avatar_success","form_display","form_hide","ChangePasswordForm","warningText","setWarningText","setUsername","pass1","setPass1","pass2","setPass2","old_pass","setOldPass","setShow","setColor","setTitle","success","setSuccess","goToProfile","updateUserCredentials","new_password","old_password","successIcon","salutations","CreateDynaUser","firstName","setFirstName","middleName","setMiddleName","lastName","setLastName","setNickname","setEemail","typedEmail","setTypedemail","mobileNumber","setMobileNumber","typedMobile","setTypedMobile","setPassword","isSuccess","setBirthday","setGender","setSalutation","handleSubmit","unmasked_number","sim","formatted","CreateDynaMember","SelectProps","disableToolbar","getBirthday","KeyboardButtonProps","maxDate","mobiles","removeFromMobileList","insertToMobileNumbers","removeFromEmailList","insertToEmail","react_host","updateScenarioGroupData","RainfallForm","rain_alert","threshold","source_id","rainfallGauges","rainfallPriorities","data_index","selectedGroupIndexes","scenarioGroups","setScenarioGroups","onScenarioClick","site_selected","setSiteSelected","cumulative_value","rain_alert_value","setRainAlertValue","rain_id_value","setRainId","ts_value","setTsValue","setRainGauges","site_rain_priorities","gauges","group_index","group_data_index","type_data","scenario_data","SurficialForm","meas_type","weather","weather_value","meas_type_value","alert_level_value","setAlertLevelValue","EarthquakeForm","sourceIds","setSelectedGroupIndexes","setSelectedScenarioData","magnitude_value","depth_value","latitude_value","longitude_value","critical_distance_value","distance_value","issuer_value","processed_value","SubsurfaceForm","disp_alert","na_status","vel_alert","disp_alert_value","na_status_value","node_id_value","tsm_id_value","vel_alert_value","current_site","initial_entries","site_temp","tech_info_value","reason_value","reporter_id_value","ReturnData","tsmSensorsData","deployedNodeData","utcOffset","obs_ts","displacement","time_delta","scenarioName","scenarioData","system_time","setReturnData","setButtonState","updateDashboardHandler","updateDashboard","start_scenario_data","scenario_name","startScenario","localStorage","setItem","setSystemTime","machine_time_data","machine_time","updateMachineTime","listMaxWidth","defaultValues","default_object","ScenarioList","selectedScenarioData","deployedNode","tsmSensors","addedForm","scenario_data_index","AlertDetails","ScenarioListItem","groupIndex","groupDataIndex","selectedIndex","randomKey","getScenarioGroupsData","updated_scenario_name","setUpdatedScenarioName","is_delete","setIsDelete","save_updated_scenario_name_btn","setSaveUpdatedScenarionNameBtn","Check","default_menu","source_ids","setSelectedIndex","showAddFolderInput","setShowAddFolderInput","isAddNewScenario","setIsAddNewScenario","selected_group","setSelectedGroup","scenario_groups","selected_scenario","setSelectedScenario","selected_scenario_data","selected_group_indexes","folder_name","setFolderName","setScenarioName","setMenu","added_form","setAddedForm","save_folder_button_state","setSaveFolderButtonState","save_new_scenario_button_state","setSaveNewScenarioButtonState","update_new_folder_button_state","setSaveUpdateNewFolderState","deployed_node_data","setDeployedNodeData","tsm_sensors_data","setTsmSensorsData","rainfall_priorities","setRainfallPrioritiesData","rainfall_gauges","setRainfallGaugesData","start_scenario_modal_state","setStartScenarioModalState","update_machine_time_modal_state","setUpdateMachineTimeModalState","is_for_deletion","setIsForDeletion","is_for_rename","setIsForRename","updated_folder_name","setUpdatedFolderName","selected_on_menu","setSelectedOnMenu","temp_selected_scenario","current_alert_type","menu_list","startScenarioModalState","updateMachineTimeHandler","getScenarioGroups","getAllSensorsData","deployed_node","rain_priorities","tsm_sensors","AccessTime","group_name","Folder","heading","deleteScenarioGroup","updateFolderName","random_key","random","menu_row","form_type","onAddForm","PlayCircleFilled","RoutesCollection","DashboardContainer","EventsTableContainer","ShiftsAndReportsContainer","IssuesAndReminders","SiteLogsContainer","IntegratedSiteAnalysisContainer","CommunicationsAnalytics","LoggersAndSensorsFormContainer","ChatterboxContainer","ContactsContainer","SitesInformationContainer","UpdateCredentialsForm","UsabilityTestingContaiter","rainfall_comp","setRainfallComp","surficial_comp","setSurficialComp","subsurface_comp","setSubsurfaceComp","app","setDrawer","toggleDrawer","is_logged","setIsLogged","interval_ref","isLoggedIn","setInterval","refreshSession","access_refresh_interval","clearInterval","BulletinTemplate","ChartRenderingContainer","r_props","Routes","hostname","noop","warn","maxSnack","getElementById","navigator","serviceWorker","ready","registration","unregister","refresh_token","Authorization","getItem","tokens","access_token","getSession","is_logged_in","rS","res","success_callback","failed_callback","loginUser","ok","dynaslopeLogo","phivolcsLogo","overflowX","alert1","nestedText","drawerHeader","iOS","process","browser","userAgent","disableBackdropTransition","disableDiscovery","subheader","handleNestedList","sublabel"],"mappings":"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","file":"static/js/main.294feba3.chunk.js","sourcesContent":["module.exports = \"data:image/jpeg;base64,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\"","import io from \"socket.io-client\";\nimport { host } from \"../config\";\nimport { getCurrentUser } from \"../components/sessions/auth\";\n\nlet socket;\n\nfunction connectToWebsocket () {\n    if (typeof socket === \"undefined\" || socket === null) {\n        socket = io(`${host}/misc`, {\n            reconnectionDelay: 10000,\n            reconnectionAttempts: 30,\n            transports: [\"websocket\"]\n        });\n    }\n}\n\nfunction subscribeToMiscWebSocket (reconnect_callback) {\n    connectToWebsocket();\n\n    socket.on(\"reconnecting\", () => {\n        reconnect_callback(true);\n    });\n\n    socket.on(\"reconnect\", () => {\n        reconnect_callback(false);\n    });\n\n    socket.on(\"reconnect_failed\", () => {\n        // reconnect_callback(false);\n        console.log(\"failed\");\n    });\n}\n\nfunction unsubscribeToWebSocket () {\n    socket.close();\n    socket = null;\n}\n\nfunction getServerTime () {\n    connectToWebsocket();\n    socket.emit(\"get_server_time\");\n}\n\nfunction receiveServerTime (callback) {\n    socket.on(\"receive_server_time\", data => {\n        callback(data);\n    });\n}\n\nfunction getMonitoringShifts () {\n    connectToWebsocket();\n    socket.emit(\"get_monitoring_shifts\");\n}\n\nfunction receiveMonitoringShiftData (callback) {\n    socket.on(\"receive_monitoring_shifts\", data => {\n        const temp = JSON.parse(data);\n        console.log(\"Monitoring Shifts:\", temp);\n        callback(temp);\n    });\n\n    socket.on(\"reconnect\", () => {\n        socket.emit(\"get_monitoring_shifts\");\n    });\n}\n\nfunction removeReceiveMonitoringShiftData () {\n    socket.removeListener(\"receive_monitoring_shifts\");\n}\n\nfunction getUserNotifications () {\n    const { user_id } = getCurrentUser();\n    connectToWebsocket();\n    socket.emit(\"get_user_notifications\", user_id);\n}\n\nfunction receiveUserNotifications (callback) {\n    socket.on(\"receive_user_notifications\", data => {\n        console.log(\"Notifications:\", data);\n        callback(data);\n    });\n    \n    socket.on(\"reconnect\", () => {\n        const { user_id } = getCurrentUser();\n        socket.emit(\"get_user_notifications\", user_id);\n    });\n}\n\nexport { \n    subscribeToMiscWebSocket,\n    unsubscribeToWebSocket,\n    connectToWebsocket, \n    getServerTime, \n    receiveServerTime, \n    receiveMonitoringShiftData,\n    getMonitoringShifts,\n    removeReceiveMonitoringShiftData,\n    getUserNotifications,\n    receiveUserNotifications\n};\n    ","import React, {\n    createContext, useState,\n    useEffect\n} from \"react\";\nimport { \n    getServerTime, receiveServerTime\n} from \"../../websocket/misc_ws\";\n\nexport const ServerTimeContext = createContext();\n\nexport const ServerTimeProvider = ({ children }) => {\n    const [server_time, setServerTime] = useState(null);\n\n    useEffect(() => {\n        getServerTime();\n        receiveServerTime(ts => setServerTime(ts));\n    }, []);\n\n    const return_obj = { server_time };\n\n    return (\n        <ServerTimeContext.Provider value={return_obj}>\n            {children}\n        </ServerTimeContext.Provider>\n    );\n};","import React, { useState } from \"react\";\nimport Button from \"@material-ui/core/Button\";\nimport CssBaseline from \"@material-ui/core/CssBaseline\";\nimport TextField from \"@material-ui/core/TextField\";\nimport FormControlLabel from \"@material-ui/core/FormControlLabel\";\nimport FormHelperText from \"@material-ui/core/FormHelperText\";\nimport Link from \"@material-ui/core/Link\";\nimport Paper from \"@material-ui/core/Paper\";\nimport Box from \"@material-ui/core/Box\";\nimport Grid from \"@material-ui/core/Grid\";\nimport Typography from \"@material-ui/core/Typography\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport { CircularProgress } from \"@material-ui/core\";\nimport { login } from \"./auth\";\nimport PhivolcsDynaslopeLogo from \"../../images/phivolcs-dynaslope-logo.png\";\nimport LoginBgImg from \"../../images/login-bg-img.jpg\";\n\nfunction Copyright () {\n    return (\n        <Typography variant=\"body2\" color=\"textSecondary\" align=\"center\">\n            {\"Copyright  \"}\n            <Link color=\"inherit\" href=\"https://material-ui.com/\">\n                Project Dynaslope\n            </Link>{\" \"}\n            {new Date().getFullYear()}\n            {\".\"}\n        </Typography>\n    );\n}\n\nconst useStyles = makeStyles(theme => ({\n    root: {\n        height: \"100vh\",\n    },\n    image: {\n        backgroundImage: `url(${LoginBgImg})`,\n        // backgroundRepeat: \"no-repeat\",\n        backgroundSize: \"cover\",\n        backgroundPosition: \"center\",\n    },\n    paperContainer: {\n        display: \"flex\",\n        alignItems: \"center\",\n        justifyContent: \"center\"\n    },\n    paper: {\n        margin: theme.spacing(0, 4),\n        display: \"flex\",\n        flexDirection: \"column\",\n        alignItems: \"center\",\n        paddingBottom: theme.spacing(5),\n        [theme.breakpoints.up(\"lg\")]: {\n            paddingBottom: theme.spacing(9)\n        }\n    },\n    phivolcsDynaslopeLogo: {\n        margin: theme.spacing(1),\n        height: 200,\n        [theme.breakpoints.between(\"sm\", \"md\")]: {\n            height: 164\n        },\n        [theme.breakpoints.only(\"xs\")]: {\n            height: 140\n        },\n    },\n    form: {\n        width: \"100%\", // Fix IE 11 issue.\n        marginTop: theme.spacing(1),\n    },\n    submit: {\n        margin: theme.spacing(3, 0, 2),\n    },\n    title: {\n        margin: theme.spacing(2, 0),\n        [theme.breakpoints.down(\"sm\")]: {\n            fontSize: \"1.25rem\"\n        },\n        [theme.breakpoints.only(\"xs\")]: {\n            margin: theme.spacing(0, 0)\n        }\n    },\n    passwordField: {\n        margin: theme.spacing(0, 0, 3, 0),\n        [theme.breakpoints.only(\"xs\")]: {\n            margin: theme.spacing(0, 0, 1, 0)\n        },\n    },\n    buttonChild: {\n        display: \"flex\",\n        width: \"100%\",\n        justifyContent: \"center\",\n        alignItems: \"center\"\n    }\n}));\n\nexport default function LoginComponent (props) {\n    const classes = useStyles();\n    const [credentials, setCredentials] = useState({\n        username: \"\",\n        password: \"\"\n    });\n\n    const [errors, setErrors] = useState({\n        username: false,\n        password: false\n    });\n    const [error_message, setErrorMessage] = useState(\"\");\n    const [is_loading, setLoading] = useState(false);\n\n    const { history, onLogin } = props;\n    const onLoginClick = () => {\n        Object.entries(credentials).forEach(row => {\n            const [key, value] = row;\n            if (value === \"\") handleError(key, value);\n        });\n\n        if (Object.values(errors).includes(true)) {\n            setErrorMessage(\"Fill up all required fields\");\n        } else {\n            setLoading(true);\n            login(credentials, () => {\n                setLoading(false);\n                onLogin();\n                history.push(\"/\");\n            }, message => {\n                setLoading(false);\n                setErrorMessage(message);\n            });\n        }\n    };\n\n    const { username, password } = credentials;\n    const handleChange = attr => event => {\n        const { target: { value } } = event;\n        setCredentials({\n            ...credentials,\n            [attr]: value\n        });\n\n        setErrorMessage(\"\");\n        handleError(attr, value);\n    };\n    const handleFocus = attr => event => {\n        handleError(attr, credentials[attr]);\n    };\n    const handleError = (attr, value) => {\n        setErrors({\n            ...errors,\n            [attr]: value === \"\"\n        });\n    };\n\n    const handleEnterPress = event => {\n        if (event.key === \"Enter\") onLoginClick();\n    };\n\n    return (\n        <Grid container component=\"main\" className={classes.root}>\n            <CssBaseline />\n            <Grid item xs={false} sm={4} md={7} className={classes.image} />\n            <Grid \n                item \n                xs={12} sm={8} md={5} \n                component={Paper} \n                elevation={6} \n                square\n                className={classes.paperContainer}\n            >\n                <div className={classes.paper}>\n                    <img\n                        src={PhivolcsDynaslopeLogo}\n                        alt=\"PHIVOLCS-Dynaslope Logo\"\n                        className={classes.phivolcsDynaslopeLogo}\n                    />\n                    <Typography \n                        component=\"h1\"\n                        variant=\"h5\"\n                        align=\"center\"\n                        className={classes.title}\n                    >\n                        <strong>MONITORING AND INFORMATION APPLICATION (MIA 3.0)</strong>\n                    </Typography>\n                    <div className={classes.form}>\n                        <TextField\n                            variant=\"outlined\"\n                            margin=\"normal\"\n                            required\n                            fullWidth\n                            id=\"username\"\n                            label=\"Username\"\n                            name=\"username\"\n                            autoComplete=\"username\"\n                            autoFocus\n                            value={username}\n                            onChange={handleChange(\"username\")}\n                            onFocus={handleFocus(\"username\")}\n                            error={errors.username}\n                        />\n                        <TextField\n                            variant=\"outlined\"\n                            margin=\"normal\"\n                            required\n                            fullWidth\n                            name=\"password\"\n                            label=\"Password\"\n                            type=\"password\"\n                            id=\"password\"\n                            autoComplete=\"current-password\"\n                            value={password}\n                            onChange={handleChange(\"password\")}\n                            onKeyPress={handleEnterPress}\n                            onFocus={handleFocus(\"password\")}\n                            error={errors.password}\n                            className={classes.passwordField}\n                        />\n                        {\n                            error_message !== \"\" && (\n                                <FormHelperText error focused>\n                                    {error_message}\n                                </FormHelperText>\n                            )\n                        }\n                        {/* <FormControlLabel\n                            control={<Checkbox value=\"remember\" color=\"primary\" />}\n                            label=\"Remember me\"\n                        /> */}\n                        <Button\n                            type=\"submit\"\n                            fullWidth\n                            variant=\"contained\"\n                            color=\"primary\"\n                            className={classes.submit}\n                            onClick={onLoginClick}\n                            disabled={is_loading}\n                        >\n                            {\n                                is_loading ? (\n                                    <div className={classes.buttonChild}>\n                                        <span style={{ marginRight: 6 }}>Signing In... </span>\n                                        <CircularProgress color=\"secondary\" size={20} />\n                                    </div>\n                                ) : (\n                                    <span>Sign In</span>\n                                )\n                            }\n                        </Button>\n\n                        {/* <Grid container>\n                            <Grid item xs>\n                                <Link href=\"#\" variant=\"body2\">\n                                    Forgot password?\n                                </Link>\n                            </Grid>\n                            <Grid item>\n                                <Link href=\"#\" variant=\"body2\">\n                                    {\"Don't have an account? Sign Up\"}\n                                </Link>\n                            </Grid>\n                        </Grid> */}\n                        <Box mt={5}>\n                            <Copyright />\n                        </Box>\n                    </div>\n                </div>\n            </Grid>\n        </Grid>\n    );\n}","import React from \"react\";\nimport {\n    AppBar, Toolbar, Typography\n} from \"@material-ui/core\";\nimport { withStyles } from \"@material-ui/core/styles\";\n\nconst styles = theme => ({\n    footer: {\n        display: \"flex\",\n        // minHeight: \"10vh\",\n        padding: \"2% 0\",\n        flexDirection: \"column\",\n        marginTop: 40,\n        justifyContent: \"center\",\n        alignItems: \"center\",\n        textAlign: \"center\",\n        [theme.breakpoints.down(\"sm\")]: {\n            marginTop: 30\n        },\n        zIndex: 0\n    },\n    footerText: {\n        fontSize: \"0.5rem\",\n        [theme.breakpoints.up(\"sm\")]: {\n            fontSize: \"0.85rem\",\n        }\n    }\n});\n\nfunction Footer (props) {\n    const { classes } = props;\n\n    return (\n        <AppBar position=\"static\" className={classes.footer}>\n            <Toolbar>\n                <Typography variant=\"subtitle2\" color=\"inherit\" className={classes.footerText} >\n                    4F PHIVOLCS Building, C. P. Garcia Avenue, UP Campus, Diliman, Quezon City 1101 <br />\n                    Tel. no. (02) 8426-1468 loc. 401 & 403 | dynaslope.phivolcs@gmail.com <br />\n                    www.facebook.com/dynaslopecommunity\n                </Typography>\n            </Toolbar>\n        </AppBar>\n    );\n}\n\nexport default withStyles(styles)(Footer);\n","import axios from \"axios\";\nimport { useEffect, useRef } from \"react\";\n\nfunction prepareSiteAddress (site_details, include_site_code = true, position = \"end\") {\n    const { purok, sitio, barangay, municipality, province, site_code } = site_details;\n    let address = \"\";\n\n    if (sitio !== null && sitio !== \"\") address = `Sitio ${sitio}, `;\n    if (purok !== null && purok !== \"\") address += `Purok ${purok}, `;\n\n    address += `Brgy. ${barangay}, ${municipality}, ${province}`;\n    if (include_site_code) {\n        const upper_sc = site_code.toUpperCase();\n        if (position === \"end\")\n            address += ` (${upper_sc})`;\n        else\n            address = `${upper_sc} (${address})`;\n    }\n\n    return address;\n}\n\nfunction capitalizeFirstLetter (str, every_word = false) {\n    const capitalize = s => s.charAt(0).toUpperCase() + s.slice(1);\n\n    if (every_word) {\n        const arr = str.split(\" \");\n        const cap_arr = arr.map(s => capitalize(s));\n\n        return cap_arr.join(\" \");\n    }\n\n    return capitalize(str);\n}\n\nfunction getUserOrganizations (organizations, return_grouped = false) {\n    let org = null;\n    const sites = organizations.map(row => {\n        const { site, org_name } = row;\n        org = org_name.toUpperCase();\n\n        if (return_grouped) return site;\n\n        return site.site_code.toUpperCase();\n    });\n\n    if (return_grouped) {\n        return {\n            sites,\n            org\n        };\n    } \n    \n    if (org) {\n        sites.unshift(org);\n    }\n\n    return sites;\n}\n\nfunction getUserContactPriority (organizations) {\n    let is_priority = false;\n    if (organizations.length > 0 ) {\n        is_priority = Boolean(organizations[0].primary_contact);\n    }\n    return is_priority;\n}\n\nfunction simNumFormatter (sim_num) {\n    return sim_num[0] === \"0\" || sim_num.match(/[a-z]/i) ? sim_num : `+${sim_num}`;\n}\n\nfunction computeForStartTs (ts, duration = 7, unit = \"days\") {\n    if (unit === \"all\") {\n        return \"None\";\n    }\n\n    const ts_format = \"YYYY-MM-DD HH:mm:ss\";\n    const ts_start = ts.clone().subtract(duration, unit)\n    .format(ts_format);\n    return ts_start;\n}\n\n// eslint-disable-next-line max-params\nfunction makePOSTAxiosRequest (api_link, payload, callback = null, err = null) {\n    axios.post(api_link, payload)\n    .then((response) => {\n        const { data } = response; \n        if (callback !== null) {\n            callback(data);\n        } \n    })\n    .catch((error) => {\n        console.log(error);\n        if (err !== null) {\n            err(error);\n        }\n    });\n}\n\nfunction makeGETAxiosRequest (api_link, callback = null) {\n    axios.get(api_link)\n    .then((response) => {\n        const { data } = response; \n        if (callback !== null) {\n            callback(data);\n        } \n    })\n    .catch((error) => {\n        console.log(error);\n    });\n}\n\nfunction useInterval (callback, delay, clear_interval = false) {\n    const savedCallback = useRef();\n  \n    useEffect(() => {\n        savedCallback.current = callback;\n    });\n  \n    useEffect(() => {\n        function tick () {\n            savedCallback.current();\n        }\n  \n        const id = setInterval(tick, delay);\n\n        if (clear_interval) clearInterval(id);\n        return () => clearInterval(id);\n    }, [delay, clear_interval]);\n}\n\nfunction remapCkeditorEnterKey (editor) {\n    editor.editing.view.document.on(\"enter\", (evt, data) => {\n        if (data.isSoft) {\n            editor.execute(\"enter\");\n        } else {\n            editor.execute(\"shiftEnter\");\n        }\n\n        data.preventDefault();\n        evt.stop();\n        editor.editing.view.scrollToTheSelection();\n    }, { priority: \"high\" } );\n}\n\nfunction monthSorter (season_months) {\n    const all_months = [\n        \"january\", \"february\", \"march\",\n        \"april\", \"may\", \"june\",\n        \"july\", \"august\", \"september\",\n        \"october\", \"november\", \"december\"\n    ];\n\n    season_months.sort((a, b) => {\n        return all_months.indexOf(a) - all_months.indexOf(b);\n    });\n}\n\nexport {\n    prepareSiteAddress, capitalizeFirstLetter,\n    getUserOrganizations, simNumFormatter,\n    computeForStartTs, makePOSTAxiosRequest,\n    makeGETAxiosRequest, useInterval,\n    remapCkeditorEnterKey, getUserContactPriority,\n    monthSorter\n};\n","/* eslint-disable no-case-declarations */\n\nimport React, {\n    useEffect, useReducer, createContext\n} from \"react\";\n\nimport moment from \"moment\";\n\nimport { getUserNotifications, receiveUserNotifications } from \"../../websocket/misc_ws\";\nimport { setAllUnseenNotifications, updateTSRead } from \"../widgets/notifications/ajax\";\n\nexport const NotificationsContext = createContext();\n\nexport const NotificationsProvider = ({ children }) => {\n    function reducer (state, payload) {\n        const { action, data } = payload;\n        const { notifications } = state;\n        switch (action) {\n            case \"INSERT\":\n                return { ...data };\n            case \"UPDATE_COUNT\":\n                return { ...state, count: data };\n            case \"UPDATE_NOTIFICATION\":\n                const { notification_id, value } = data;\n                const temp = [...notifications];\n                const index = temp.findIndex(row => row.notification_id === notification_id);\n                temp[index].ts_read = value;\n                return { ...state, notifications: temp };\n            default:\n                return state;\n        }\n    }\n    const [notifications_object, setNotificationsObject] = useReducer(reducer, { notifications: [], count: 0 });\n    useEffect(() => {\n        getUserNotifications();\n        receiveUserNotifications(data => setNotificationsObject({ action: \"INSERT\", data }));\n    }, []);\n\n    function setNotificationCountToZero (user_id) {\n        setNotificationsObject({ action: \"UPDATE_COUNT\", data: 0 });\n        setAllUnseenNotifications(user_id);\n        receiveUserNotifications(data => setNotificationsObject({ action: \"INSERT\", data }));\n    }\n\n    function toggleReadTS (user_id, notification_id, toggle_to) {\n        const value = toggle_to === \"read\" ? moment().format(\"YYYY-MM-DD HH:mm:ss\") : null;\n        setNotificationsObject({ action: \"UPDATE_NOTIFICATION\", data: { notification_id, value } });\n        updateTSRead(user_id, notification_id, value);\n    }\n\n    const return_obj = {\n        notifications_object,\n        setNotificationsObject,\n        setNotificationCountToZero,\n        toggleReadTS,\n        getUserNotifications\n    };\n\n    return (\n        <NotificationsContext.Provider value={return_obj}>\n            {children}\n        </NotificationsContext.Provider>\n    );\n};","import { host } from \"../../../config\";\nimport { makePOSTAxiosRequest } from \"../../../UtilityFunctions\";\n\nexport function setAllUnseenNotifications (user_id) {\n    const api_link = `${host}/api/notifications/set_all_seen_notifications`;\n    makePOSTAxiosRequest(api_link, { user_id });\n}\n\nexport function updateTSRead (user_id, notification_id, ts_read) {\n    const api_link = `${host}/api/notifications/update_ts_read`;\n    makePOSTAxiosRequest(api_link, { user_id, notification_id, ts_read });\n}","import React, { Fragment, useContext, useState } from \"react\";\n\nimport {\n    makeStyles, Divider, Typography, \n    Card, CardContent, IconButton, Box,\n    Button\n} from \"@material-ui/core\";\nimport { CallMade, FiberManualRecord, FiberManualRecordTwoTone } from \"@material-ui/icons\";\n\nimport moment from \"moment\";\n\nimport { NotificationsContext } from \"../../contexts/NotificationsContext\";\nimport { getCurrentUser } from \"../../sessions/auth\";\n\nconst useStyles = makeStyles(theme => ({\n    divider: {\n        margin: \"16px 0\"\n    },\n    sectionHead: {\n        marginBottom: 12\n    },\n    cardSection: { marginBottom: 12 },\n    card: { marginBottom: 8 },\n    cardUnread: { backgroundColor: \"lightgray\" },\n    cardContent: {\n        paddingBottom: \"16px !important\",\n        display: \"flex\",\n        justifyContent: \"space-between\",\n        alignItems: \"center\"\n    },\n    toggleReadIcon: {\n        // paddingRight: 0\n        marginLeft: 8\n    },\n    notifTS: { marginTop: 8 },\n    noNotifs: {\n        display: \"flex\",\n        padding: 48,\n        justifyContent: \"center\",\n        border: \"1px solid lightgray\"\n    }\n}));\n\nconst NotificationCard = React.memo((props) => {\n    const { classes, details, toggleNotifStatus, goToLink } = props;\n    const { notification_id, message, ts_read, ts, link } = details;\n\n    const toggle_to = ts_read ? \"unread\" : \"read\";\n    \n    return (\n        <Card variant=\"outlined\" className={`${classes.card} ${ts_read ? \"\" : classes.cardUnread}`}>\n            <CardContent className={classes.cardContent} component={Box}>\n                <Box>\n                    <Typography variant=\"body2\" component=\"div\">\n                        { message }\n                    </Typography>\n\n                    <Typography variant=\"caption\" component=\"div\" className={classes.notifTS}>\n                        { moment(ts).format(\"D MMMM YYYY, HH:mm\") }\n                    </Typography>\n                </Box>\n\n                <Box align=\"right\" className={classes.toggleReadIcon}>\n                    {\n                        link && <IconButton \n                            aria-label=\"go-to-link\" \n                            color=\"primary\" disableRipple disableFocusRipple edge=\"end\"\n                            size=\"small\"\n                            onClick={goToLink(link, notification_id, !ts_read)}\n                            title=\"Go to link\"\n                        >\n                            <CallMade />\n                        </IconButton>\n                    }\n\n                    <IconButton \n                        aria-label=\"toggle-notif-status\" \n                        color=\"primary\" disableRipple disableFocusRipple edge=\"end\"\n                        size=\"small\"\n                        onClick={toggleNotifStatus(notification_id, toggle_to)}\n                        title={`Mark as ${toggle_to}`}\n                    >\n                        { ts_read ? <FiberManualRecordTwoTone /> : <FiberManualRecord /> }\n                    </IconButton>\n                </Box>\n            </CardContent>\n        </Card>\n    );\n});\n\nfunction NotificationsTab (props) {\n    const { history, handleCloseNotif } = props;\n    const classes = useStyles();\n\n    const { user_id } = getCurrentUser();\n\n    const { notifications_object, toggleReadTS } = useContext(NotificationsContext);\n    const { notifications } = notifications_object;\n\n    const [read_batch, setReadBatch] = useState(1); \n\n    const unread_notifs = [];\n    const read_notifs = [];\n    notifications.forEach(row => {\n        if (row.ts_read === null) unread_notifs.push(row);\n        else read_notifs.push(row);\n    });\n\n    const batch_read_notifs = read_notifs.slice(0, 10 * read_batch);\n    const has_unloaded_read_notifs = read_notifs.length > read_batch * 10;\n\n    const has_unread_notifs = unread_notifs.length !== 0;\n\n    const markAllAsRead = () => {\n        unread_notifs.forEach(row => {\n            const { notification_id } = row;\n            toggleReadTS(user_id, notification_id, \"read\");\n        });\n    };\n\n    const toggleNotifStatus = React.useCallback((notification_id, toggle_to) => () => {\n        toggleReadTS(user_id, notification_id, toggle_to);\n    }, []);\n\n    const goToLink = (link, notification_id, is_unread) => () => {\n        handleCloseNotif();\n        history.push(link);\n        if (is_unread) { toggleReadTS(user_id, notification_id, \"read\"); }\n    };\n\n    return (\n        <Fragment>\n            <Typography variant=\"h4\">\n                Notifications\n            </Typography>\n\n            <Divider className={classes.divider} />\n\n            <Box display=\"flex\" justifyContent=\"space-between\" alignItems=\"baseline\">\n                <Typography variant=\"h6\" className={classes.sectionHead}>\n                    Unread notifications\n                </Typography>\n\n                { has_unread_notifs && <Button color=\"primary\" onClick={markAllAsRead}>Mark all as read</Button> }\n            </Box>\n\n            <div className={classes.cardSection}>\n                {\n                    !has_unread_notifs ? <Typography variant=\"body1\" component=\"div\" className={classes.noNotifs}>\n                        No unread notifications\n                    </Typography> : (\n                        unread_notifs.map(row => <NotificationCard \n                            classes={classes} details={row} \n                            key={row.notification_id}\n                            toggleNotifStatus={toggleNotifStatus}\n                            goToLink={goToLink}\n                        />)\n                    )\n                }\n            </div>\n\n            <Typography variant=\"h6\" className={classes.sectionHead} style={{ marginTop: 24 }}>\n                Previous notifications\n            </Typography>\n\n            <div className={classes.cardSection}>\n                {\n                    batch_read_notifs.length === 0 ? <Typography variant=\"body1\" component=\"div\" className={classes.noNotifs}>\n                        No previous notifications\n                    </Typography> : (\n                        batch_read_notifs.map(row => <NotificationCard \n                            classes={classes} details={row} \n                            key={`notification-${ row.notification_id}`}\n                            toggleNotifStatus={toggleNotifStatus}\n                            goToLink={goToLink}\n                        />)\n                    )\n                }\n            </div>\n\n            <Box display=\"flex\" justifyContent=\"space-between\" alignItems=\"baseline\">\n                { has_unloaded_read_notifs && <Button color=\"primary\" onClick={() => setReadBatch(read_batch + 1)}>Load more previous notifications...</Button> }\n            </Box>\n        </Fragment>\n    );\n}\n\nexport default NotificationsTab;","import React, { useState, useContext } from \"react\";\n\nimport {\n    AppBar, Toolbar, Typography,\n    Menu, MenuItem, IconButton,\n    Badge, Button, makeStyles,\n    Paper, Slide, Backdrop\n} from \"@material-ui/core\";\nimport {\n    Menu as MenuIcon,\n    AccountCircle,\n    Mail as MailIcon,\n    Notifications as NotificationsIcon,\n    ExitToApp\n} from \"@material-ui/icons\";\n\nimport NotificationsTab from \"../widgets/notifications/NotificationsTab\";\nimport PhivolcsDynaslopeLogo from \"../../images/phivolcs-dynaslope-logo.png\";\nimport GeneralStyles from \"../../GeneralStyles\";\nimport { logout, getCurrentUser } from \"../sessions/auth\";\nimport { NotificationsContext } from \"../contexts/NotificationsContext\";\n\nconst useStyles = makeStyles(theme => ({\n    ...GeneralStyles(theme),\n    root: {\n        width: \"100%\",\n    },\n    grow: {\n        flexGrow: 1,\n    },\n    menuButton: {\n        display: \"flex\",\n        marginLeft: -12,\n        marginRight: 0,\n        [theme.breakpoints.up(\"md\")]: {\n            display: \"none\"\n        },\n    },\n    projectTitle: {\n        display: \"block\",\n        fontWeight: 900\n    },\n    titleBlock: {\n        display: \"block\",\n        margin: \"0 4px\",\n        alignItems: \"center\", \n        textAlign: \"center\",\n        justifyContent: \"center\",\n    },\n    projectSubtitle: {\n        display: \"none\",\n        fontSize: \"0.7rem\",\n        marginTop: -3,\n        [theme.breakpoints.up(\"md\")]: {\n            display: \"block\",\n        }\n    },\n    logo: {\n        marginRight: 12,\n        [theme.breakpoints.down(\"sm\")]: {\n            marginRight: 0\n        }\n    },\n    sectionDesktop: {\n        display: \"none\",\n        [theme.breakpoints.up(\"md\")]: {\n            display: \"flex\",\n            padding: \"4px 0\"\n        }\n    },\n    list: {\n        width: 250,\n    },\n    menu: { marginTop: 40 },\n    icon: { paddingRight: theme.spacing(2) },\n    paper: {\n        position: \"fixed\",\n        right: 0,\n        width: \"45vw\",\n        [theme.breakpoints.down(\"sm\")]: {\n            width: \"55vw\"\n        },\n        [theme.breakpoints.up(\"lg\")]: {\n            width: \"40vw\"\n        },\n        height: \"100vh\",\n        zIndex: 1300,\n        padding: 24,\n        overflowY: \"auto\",\n        boxSizing: \"border-box\"\n    },\n    backdrop: { zIndex: 1299 }\n}));\n  \nfunction Header (props) {\n    const {\n        drawerHandler, history,\n        onLogout\n    } = props;\n    const [anchorEl, setAnchorEl] = useState(null);\n    const classes = useStyles();\n\n    const handleClick = event => {\n        setAnchorEl(event.currentTarget);\n    };\n    \n    const handleClose = () => {\n        setAnchorEl(null);\n    };\n    \n    const onClickProfile = () => {\n        history.push(\"/profile\");\n        handleClose();\n    };\n\n    const onClickLogout = () => {\n        logout(() => {\n            onLogout();\n            history.push(\"/login\");\n        });\n    };\n\n    const { user_id, first_name } = getCurrentUser();\n    const { notifications_object, setNotificationCountToZero, getUserNotifications } = useContext(NotificationsContext);\n    const { count } = notifications_object;\n    const [is_notif_open, setIsNotifOpen] = useState(false);\n\n    const handleOpenNotif = () => {\n        setIsNotifOpen(true);\n        document.body.style.overflow = \"hidden\";\n        getUserNotifications();\n        console.log(\"notifications_object open\", notifications_object);\n    };\n\n    const handleCloseNotif = () => {\n        setIsNotifOpen(false);\n        document.body.style.overflow = \"auto\";\n        setNotificationCountToZero(user_id);\n        console.log(\"notifications_object close\", notifications_object);\n    };\n\n    return (\n        <div className={classes.root}>\n            <AppBar position=\"fixed\" color=\"primary\">\n                <Toolbar>\n                    <IconButton\n                        onClick={drawerHandler(true)}\n                        className={classes.menuButton}\n                        color=\"inherit\"\n                        aria-label=\"Open drawer\"\n                    >\n                        <MenuIcon />\n                    </IconButton>\n\n                    <img\n                        src={PhivolcsDynaslopeLogo}\n                        alt=\"PHIVOLCS-Dynaslope Logo\"\n                        className={`${classes.phivolcsDynaslopeLogo} ${classes.logo} ${classes.sectionDesktop}`}\n                    />\n\n                    <div className={classes.titleBlock}>\n                        <Typography className={classes.projectTitle} variant=\"h4\" color=\"inherit\" noWrap>\n                            MIA 3.0\n                        </Typography>\n                        <Typography variant=\"caption\" className={classes.projectSubtitle} color=\"inherit\">\n                            Monitoring and Information Application\n                        </Typography>\n                    </div>\n\n                    <div className={classes.grow} />\n                    <div className={classes.sectionDesktop}>\n                        {/* <IconButton color=\"inherit\">\n                            <Badge badgeContent={4} color=\"secondary\">\n                                <MailIcon />\n                            </Badge>\n                        </IconButton> */}\n\n                        <IconButton color=\"inherit\" onClick={handleOpenNotif}>\n                            <Badge badgeContent={count} color=\"secondary\">\n                                <NotificationsIcon />\n                            </Badge>\n                        </IconButton>\n\n                        <Button\n                            aria-owns=\"menu-list-grow\"\n                            aria-haspopup=\"true\"\n                            onClick={handleClick}\n                            color=\"inherit\"\n                            startIcon={<AccountCircle />}\n                        >\n                            <strong>{first_name}</strong>\n                        </Button>\n                    </div>\n                </Toolbar>\n            </AppBar>\n\n            <Menu\n                id=\"simple-menu\"\n                anchorEl={anchorEl}\n                keepMounted\n                open={Boolean(anchorEl)}\n                onClose={handleClose}\n                className={classes.menu}\n            >\n                <MenuItem onClick={onClickProfile}>\n                    <AccountCircle className={classes.icon} /> Profile\n                </MenuItem>\n                <MenuItem onClick={onClickLogout}>\n                    <ExitToApp className={classes.icon} /> Logout\n                </MenuItem>\n            </Menu>\n\n            <Slide direction=\"left\" in={is_notif_open} mountOnEnter>\n                <Paper \n                    elevation={4}\n                    className={classes.paper}\n                >\n                    <NotificationsTab history={history} handleCloseNotif={handleCloseNotif} />\n                </Paper>\n            </Slide>\n\n            <Backdrop open={is_notif_open} className={classes.backdrop} onClick={handleCloseNotif} />\n        </div>\n    );\n}\n  \nexport default Header;\n","import React, { useState, useEffect, Fragment, useContext } from \"react\";\nimport { Link } from \"react-router-dom\";\n\nimport {\n    AppBar, Tabs, Tab,\n    MenuItem, MenuList,\n    Popper, Paper, Grow, ClickAwayListener,\n    makeStyles, Grid,\n    Typography\n} from \"@material-ui/core\";\nimport withWidth, { isWidthUp } from \"@material-ui/core/withWidth\";\n\nimport moment from \"moment\";\n\nimport ScreenDrawer from \"./ScreenDrawer\";\nimport { ServerTimeContext } from \"../contexts/ServerTimeContext\";\n\nconst useStyles = makeStyles(theme => ({\n    navBar: {\n        display: \"none\",\n        [theme.breakpoints.up(\"md\")]: {\n            display: \"block\",\n        }\n    },\n    appBar: { top: 70 },\n    popper: {\n        zIndex: 500,\n        marginTop: 2\n    },\n    list: { width: 250 },\n    link: { \n        textDecoration: \"none\",\n        color: \"blue\"\n    }\n}));\n\nconst navigation_labels = [\n    {\n        key: \"monitoring\",\n        main: \"Monitoring\",\n        sub: [\n            {\n                label: \"Dashboard\",\n                link: \"/\"\n            },\n            {\n                label: \"Events Table\",\n                link: \"/monitoring/events\"\n            },\n            {\n                label: \"Shifts and Reports\",\n                link: \"/monitoring/shifts_and_reports\"\n            },\n            {\n                label: \"Issues and Reminders\",\n                link: \"/monitoring/issues_and_reminders\"\n            },\n            {\n                label: \"Site Logs\",\n                link: \"/monitoring/logs\"\n            },\n            {\n                label: \"Quality Assurance\",\n                link: \"/monitoring/qa\",\n            },\n            {\n                label: \"Usability Testing\",\n                link: \"/usability_testing\",\n            }\n        ]\n    },\n    {\n        key: \"analysis\",\n        main: \"Analysis\",\n        sub: [\n            {\n                label: \"Site Data Analytics\",\n                link: \"/analysis/sites\"\n            },\n            {\n                label: \"Communications Analytics\",\n                link: \"/analysis/communications\"\n            },\n            {\n                label: \"Monitoring Alerts Analytics\",\n                link: \"/analysis/alerts\"\n            },\n            {\n                divider: true\n            },\n            {\n                label: \"Loggers and Sensors Form\",\n                link: \"/analysis/forms/loggers_and_sensors\"\n            }\n        ]\n    },\n    {\n        key: \"communication\",\n        main: \"Communication\",\n        sub: [\n            {\n                label: \"Chatterbox\",\n                link: \"/communication/chatterbox\"\n            },\n            {\n                label: \"Contacts\",\n                link: \"/communication/contacts\"\n            },\n            {\n                label: \"Mailbox\",\n                link: \"/communication/mailbox\"\n            }\n        ]\n    },\n    {\n        key: \"community\",\n        main: \"Community\",\n        sub: [\n            {\n                label: \"Site Information\",\n                link: \"/community/site_info\"\n            },\n            {\n                label: \"Stakeholders' Concerns\",\n                link: \"/community/concerns\",\n                soon: true\n            },\n            {\n                label: \"Community Feedback\",\n                link: \"/community/feedback\",\n                soon: true\n            }\n        ]\n    },\n    {\n        key: \"knowledge\",\n        main: \"Knowledge Management\",\n        sub: [\n            {\n                label: \"Protocols\",\n                link: \"/knowlegde/protocols\",\n                soon: true\n            },\n            {\n                label: \"Papers\",\n                link: \"/knowledge/papers\",\n                soon: true\n            }\n        ]\n    }\n];\n\nfunction Navigation (props) {\n    const {\n        width, drawerHandler, drawer,\n        history, onLogout\n    } = props;\n    const classes = useStyles();\n\n    const { pathname } = window.location;\n    const path = pathname.split(\"/\")[1];\n    const index = navigation_labels.findIndex(obj => obj.key === path);\n\n    const [value, setValue] = useState(index === -1 ? 0 : index);\n    const [from_tab, setFromTab] = useState(null);\n    const [last_clicked_tab, setLastClickedTab] = useState(null);\n    const [popper_open, setPopperOpen] = useState(false);\n    const [anchorEl, setAnchorE1] = useState(null);\n    const { server_time } = useContext(ServerTimeContext);\n\n    const tab = value === from_tab && last_clicked_tab !== null ? last_clicked_tab : value;\n    const { sub } = navigation_labels[tab];\n\n    useEffect(() => {\n        setLastClickedTab(value);\n    }, [value]);\n\n    const handleTabChange = (event, val) => {\n        setValue(val);\n    };\n\n    const handleNavTabClick = event => { \n        const old_value = value;\n\n        setPopperOpen(true);\n        setAnchorE1(event.currentTarget);\n        setFromTab(old_value);\n    };\n\n    const handlePopperClickAway = event => {\n        if (anchorEl.contains(event.target)) {\n            return;\n        }\n        \n        setPopperOpen(false);\n        setTimeout(() => setValue(from_tab), 100);\n    };\n\n    const handleMenuClick = event => {\n        setPopperOpen(false);\n    };\n\n    return (\n        <Fragment>\n            <div className={classes.navBar}>\n                <AppBar position=\"fixed\" color=\"default\" className={classes.appBar}>\n                    <Grid container spacing={0} alignItems=\"center\">\n                        <Grid item xs={10}>\n                            <Tabs\n                                value={value}\n                                onChange={handleTabChange}\n                                indicatorColor=\"primary\"\n                                textColor=\"primary\"\n                                variant={isWidthUp(\"md\", width) ? \"standard\" : \"scrollable\"}\n                                scrollButtons=\"on\"\n                                centered={isWidthUp(\"md\", width)}\n                            >\n                                {navigation_labels.map(({ main, key }) => \n                                    <Tab\n                                        key={key}\n                                        label={main}\n                                        aria-owns={popper_open ? \"monitoring-menu\" : null}\n                                        aria-haspopup=\"true\"\n                                        onClick={handleNavTabClick}\n                                    />\n                                )}\n                            </Tabs>\n                        </Grid>\n                        <Grid item xs={2} align=\"center\">\n                            <Typography variant=\"button\">\n                                {\n                                    server_time \n                                        ? moment(server_time).format(\"ddd DD-MMM-YYYY HH:mm:ss\")\n                                        : \"Loading server time...\"\n                                }\n                            </Typography>\n                        </Grid>\n                    </Grid>\n                </AppBar>\n            </div>\n\n            <Popper\n                className={classes.popper}\n                open={popper_open}\n                anchorEl={anchorEl}\n                transition\n                disablePortal\n            >\n                {({ TransitionProps, placement }) => (\n                    <Grow\n                        {...TransitionProps}\n                        id=\"monitoring-menu\"\n                        style={{ transformOrigin: placement === \"bottom\" ? \"center top\" : \"center bottom\" }}\n                    >\n                        <Paper>\n                            <ClickAwayListener onClickAway={handlePopperClickAway}>\n                                <MenuList>\n                                    {\n                                        sub.map((row, i) => {\n                                            const { label, link, soon, divider } = row;\n                                            const disabled = typeof soon !== \"undefined\";\n                                            if (disabled) {\n                                                return (\n                                                    <MenuItem\n                                                        key={label}\n                                                        onClick={handleMenuClick}\n                                                        disabled={disabled}\n                                                    >\n                                                        {label}\n                                                        {\n                                                            disabled && <Typography\n                                                                component=\"span\"\n                                                                variant=\"overline\"\n                                                                style={{ paddingLeft: 4 }}\n                                                            >\n                                                                SOON\n                                                            </Typography>\n                                                        }\n                                                    </MenuItem>\n                                                );\n                                            }\n\n                                            if (typeof divider !== \"undefined\") {\n                                                return (\n                                                    <MenuItem\n                                                        key={i}\n                                                        divider button={false}\n                                                        style={{ paddingTop: 2, marginBottom: 8 }}/>\n                                                );\n                                            }\n\n                                            return (\n                                                <Link\n                                                    to={link}\n                                                    key={label}\n                                                    className={classes.link}\n                                                >\n                                                    <MenuItem \n                                                        onClick={handleMenuClick}\n                                                    >\n                                                        {label}\n                                                    </MenuItem>\n                                                </Link>\n                                            );\n                                        })\n                                    }\n                                </MenuList>\n                            </ClickAwayListener>\n                        </Paper>\n                    </Grow>\n                )}\n            </Popper>\n                \n            <ScreenDrawer\n                drawer={drawer}\n                drawerHandler={drawerHandler}\n                navigationLabels={navigation_labels}\n                history={history}\n                onLogout={onLogout}\n            />\n        </Fragment>\n    );\n}\n\nexport default React.memo(withWidth()(Navigation));","import React from \"react\";\nimport { Typography } from \"@material-ui/core\";\nimport { withStyles } from \"@material-ui/core/styles\";\n\nconst styles = theme => ({\n    pageTitleContainer: {\n        margin: \"24px 0 18px\",\n        [theme.breakpoints.down(\"sm\")]: {\n            margin: \"10px 0 10px\",\n        }\n    },\n    pageTitle: {\n        fontSize: \"0.85rem\"\n    },\n    hasCustomButtons: {\n        display: \"flex\",\n        alignItems: \"baseline\",\n        justifyContent: \"space-between\",\n        paddingTop: 12,\n        paddingBottom: 12\n    }\n});\n\nfunction PageTitle ({ title, classes, customButtons }) {\n    const has_custom_buttons = customButtons === undefined\n        ? false\n        : customButtons;\n\n    let c_classes = classes.pageTitleContainer;\n    if (has_custom_buttons) c_classes += ` ${classes.hasCustomButtons}`;\n\n    return (\n        <div className={c_classes}>\n            <Typography variant=\"overline\" className={classes.pageTitle}>{ title }</Typography>\n\n            {customButtons}\n        </div>\n    );\n}\n\nexport default withStyles(styles)(PageTitle);","import React from \"react\";\nimport { withStyles } from \"@material-ui/core/styles\";\nimport { AppBar, Tabs, Tab, NoSsr } from \"@material-ui/core\";\n\nconst preventDefault = event => {\n    event.preventDefault();\n};\n\nfunction LinkTab (props) {\n    return <Tab component=\"a\" onClick={preventDefault} {...props} />;\n}\n\nconst styles = theme => ({\n    root: {\n        flexGrow: 1\n    },\n});\n\nfunction TabBar (props) {\n    const { chosenTab, onSelect, tabsArray, classes } = props;\n\n    const onIndexSelect = (e, i) => {\n        onSelect(i);\n    };\n\n    return (\n        <NoSsr>\n            <AppBar position=\"static\" color=\"default\" className={classes.root}>\n                <Tabs \n                    variant=\"fullWidth\"\n                    value={chosenTab}\n                    onChange={onIndexSelect}\n                >\n                    {\n                        tabsArray.map(tab => {\n                            const { label, href } = tab;\n                            return (\n                                <LinkTab label={label} href={href} key={href} />\n                            );\n                        })\n                    }\n                </Tabs>\n            </AppBar>\n        </NoSsr>\n    );\n}\n\nexport default withStyles(styles)(TabBar);","import io from \"socket.io-client\";\nimport { host } from \"../config\";\n\nlet socket;\n\nfunction connectToWebsocket () {\n    if (typeof socket === \"undefined\" || socket === null) {\n        socket = io(`${host}/monitoring`, {\n            reconnectionDelay: 10000,\n            reconnectionAttempts: 30,\n            transports: [\"websocket\"]\n        });\n    }\n}\n\nexport function subscribeToWebSocket (reconnect_callback) {\n    connectToWebsocket();\n\n    socket.on(\"reconnecting\", () => {\n        reconnect_callback(true);\n    });\n\n    socket.on(\"reconnect\", () => {\n        reconnect_callback(false);\n    });\n\n    socket.on(\"reconnect_failed\", () => {\n        // reconnect_callback(false);\n        console.log(\"failed\");\n    });\n}\n\nexport function sendWSMessage (key, data = null) {\n    connectToWebsocket();\n    console.log(\"Payload: { key: data }\", key, data);\n    const payload = {\n        data,\n        key\n    };\n    socket.send(payload);\n}\n\nexport function onWSMessage (message) {\n    connectToWebsocket();\n    \n    socket.on(\"message\", (msg) => {\n        console.log(msg);\n    });\n}\n\nexport function unsubscribeToWebSocket () {\n    socket.close();\n    socket = null;\n}\n\n// Receiver Callback Functions\nexport function receiveIssuesAndReminders (callback) {\n    connectToWebsocket();\n\n    socket.on(\"receive_issues_and_reminders\", data => {\n        const temp = JSON.parse(data);\n        callback(temp);\n    });\n}\n\nexport function receiveGeneratedAlerts (callback) {\n    connectToWebsocket();\n\n    socket.on(\"receive_generated_alerts\", data => {\n        const temp = JSON.parse(data);\n        console.log(\"Generated alerts: \", temp);\n        callback(temp);\n    });\n}\n\nexport function receiveCandidateAlerts (callback) {\n    connectToWebsocket();\n\n    socket.on(\"receive_candidate_alerts\", data => {\n        const temp = JSON.parse(data);\n        console.log(\"Candidate alerts: \", temp);\n        callback(temp);\n    });\n}\n\nexport function receiveAlertsFromDB (callback) {\n    connectToWebsocket();\n\n    socket.on(\"receive_alerts_from_db\", data => {\n        const temp = JSON.parse(data);\n        console.log(\"Alerts from DB: \", temp);\n        callback(temp);\n    });\n}\n\nexport function receiveAllSiteRainfallData (callback) {\n    connectToWebsocket();\n\n    socket.on(\"receive_rainfall_data\", data => {\n        const temp = JSON.parse(data);\n        console.log(\"All Site Rainfall Data: \", temp);\n        callback(temp);\n    });\n}\n\nexport function receiveEWIInsertResponse (callback) {\n    connectToWebsocket();\n\n    socket.on(\"receive_ewi_insert_response\", data => {\n        const temp = JSON.parse(data);\n        callback(temp);\n    });\n}\n","import React, { useState, Fragment } from \"react\";\nimport ReactDOM from \"react-dom\";\n// import moment from \"moment\";\nimport {\n    Radio, RadioGroup, Dialog, TextField, DialogTitle, DialogContent,\n    DialogContentText, DialogActions,\n    Button, withMobileDialog,\n    FormControlLabel, FormControl\n} from \"@material-ui/core\";\nimport { sendWSMessage } from \"../../../websocket/monitoring_ws\";\nimport { getCurrentUser } from \"../../sessions/auth\";\n\n// eslint-disable-next-line max-params\nfunction validate_trigger (site_code, trigger_id, trigger_ts, alert_status, remarks, user_id) {\n    const data = {\n        site_code,\n        alert_status,\n        trigger_id,\n        trigger_ts,\n        remarks,\n        user_id\n    };\n    sendWSMessage(\"validate_trigger\", data);\n}\n\nconst ValidationModal = props => {\n    const {\n        isShowing, hide, data,\n        isValidating\n    } = props;\n    const { site, trigger_id, ts_updated } = data;\n    const [triggerValidity, setTriggerValidity] = useState(\"\");\n    const [remarks, setRemarks] = useState(\"\");\n    const current_user = getCurrentUser();\n    const validation_data = { site, trigger_id, ts_updated, triggerValidity, remarks, user_id: current_user.user_id };\n\n    function handleChange (event) {\n        const trigger_validity = Number.parseInt(event.target.value, 10);\n        setTriggerValidity(trigger_validity);\n    }\n\n    function handleRemarksChange (event) {\n        setRemarks(event.target.value);\n    }\n\n    function handleClose () {\n        hide();\n        setTriggerValidity(\"\");\n        setRemarks(\"\");\n    }\n\n    const handleOnClick = key => event => {\n        validate_trigger(site, trigger_id, ts_updated, triggerValidity, remarks, current_user.user_id);\n        hide();\n        setTriggerValidity(\"\");\n        setRemarks(\"\");\n    };\n\n    const disabled = triggerValidity === \"\";\n\n    return isShowing ? ReactDOM.createPortal(\n        <Fragment>\n            <Dialog open onClose={handleClose} aria-labelledby=\"form-dialog-title\">\n                <DialogTitle id=\"form-dialog-title\">Validate Trigger</DialogTitle>\n                <DialogContent>\n                    <DialogContentText>\n                        Select whether trigger is valid or invalid. Also, provide remarks.\n                    </DialogContentText>\n                    <FormControl component=\"fieldset\" style={{ display: \"flex\" }}>\n                        <RadioGroup\n                            aria-label=\"trigger_validity\"\n                            name=\"trig_validity_1\"\n                            row\n                            style={{ justifyContent: \"space-around\" }}\n                            value={triggerValidity}\n                            onChange={handleChange}\n                        >\n                            <FormControlLabel value={1} control={<Radio />} label=\"Valid\" />\n                            {\n                                !isValidating && (\n                                    <FormControlLabel value={0} control={<Radio />} label=\"Validating\" />\n                                )\n                            }\n                            <FormControlLabel value={-1} control={<Radio />} label=\"Invalid\" />\n                        </RadioGroup>\n                    </FormControl>\n                    <TextField\n                        autoFocus\n                        margin=\"dense\"\n                        id=\"remarks\"\n                        label=\"Remarks\"\n                        onChange={handleRemarksChange}\n                        value={remarks}\n                        fullWidth\n                    />\n                </DialogContent>\n                <DialogActions>\n                    <Button onClick={handleClose} color=\"primary\">\n                        Cancel\n                    </Button>\n                    <Button onClick={handleOnClick(validation_data)} color=\"primary\" disabled={disabled}>\n                        Confirm\n                    </Button>\n                </DialogActions>\n            </Dialog>\n        </Fragment>, document.body\n    ) : null;\n};\n\n\nexport default withMobileDialog()(ValidationModal);\n","import { useState } from \"react\";\n\nconst useModal = () => {\n    const [isShowing, setIsShowing] = useState(false);\n\n    function toggle () {\n        setIsShowing(!isShowing);\n    }\n\n    return {\n        isShowing,\n        toggle,\n    };\n};\n\nexport default useModal;\n","import React, { useState, useEffect, useRef, Fragment } from \"react\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport withWidth, { isWidthUp } from \"@material-ui/core/withWidth\";\nimport { Typography, Grid, Divider, CircularProgress } from \"@material-ui/core\";\nimport PhivolcsLetterHead from \"../../../images/phivolcs-letter-head.png\";\nimport PhivolcsLetterFooter from \"../../../images/phivolcs-letter-footer.png\";\nimport { getBulletinDetails } from \"./ajax\";\nimport { prepareSiteAddress } from \"../../../UtilityFunctions\";\n\nconst useStyle = releaseId => makeStyles(theme => {\n    let temp;\n    if (typeof releaseId === \"undefined\") {\n        temp = {\n            letterHeadContainer: {\n                width: \"inherit\",\n                height: \"auto\",\n                boxSizing: \"border-box\",\n                padding: \"28px 44px\",\n                [theme.breakpoints.only(\"md\")]: {\n                    padding: \"58.3324px 91.6652px\",\n                },\n                [theme.breakpoints.up(\"lg\")]: {\n                    padding: \"116.6648px 183.3304px\",\n                }\n            },\n            letterFooterContainer: {\n                paddingTop: 0,\n                marginTop: 16,\n                [theme.breakpoints.only(\"md\")]: {\n                    marginTop: \"33.3328px\",\n                },\n                [theme.breakpoints.up(\"lg\")]: {\n                    marginTop: \"66.6656px\",\n                }\n            },\n            phivolcsLetterHead: {\n                maxWidth: \"100%\",\n                maxHeight: \"100%\",\n                height: \"auto\"\n            },\n            body: {\n                padding: \"0 44px\",\n                // NOTE: Change height and maxHeight accordingly depending\n                // on what is letter header height\n                // height: 629, maxHeight: 629,\n                height: 604, maxHeight: 604,\n                overflowY: \"hidden\",\n                [theme.breakpoints.only(\"md\")]: {\n                    padding: \"0 91.6652px\",\n                    // height: 1310.3957, maxHeight: 1310.3957\n                    height: 1258.3132, maxHeight: 1258.3132,\n                },\n                [theme.breakpoints.up(\"lg\")]: {\n                    padding: \"0 183.3304px\",\n                    height: 2620.7914, maxHeight: 2620.7914\n                }\n            },\n            title: {\n                marginBottom: 16,\n                fontSize: \"0.8rem\",\n                [theme.breakpoints.only(\"md\")]: {\n                    marginBottom: 33.3328,\n                    fontSize: \"1.6664rem\"\n                },\n                [theme.breakpoints.up(\"lg\")]: {\n                    marginBottom: 66.6656,\n                    fontSize: \"3.47111rem\"\n                }\n            },\n            mainInfo: {\n                border: \"0.5px solid black\",\n                padding: \"8px 12px\",\n                fontSize: \"0.65rem\",\n                letterSpacing: 0,\n                marginBottom: 12,\n                [theme.breakpoints.only(\"md\")]: {\n                    padding: \"16.6664px 24.9996px\",\n                    fontSize: \"1.354145rem\",\n                    marginBottom: 24.9996\n                },\n                [theme.breakpoints.up(\"lg\")]: {\n                    padding: \"33.3328px 49.9992px\",\n                    fontSize: \"2.70829rem\",\n                    marginBottom: 49.9992\n                }\n            },\n            sectionHeader: {\n                fontSize: \"0.7rem\",\n                [theme.breakpoints.only(\"md\")]: {\n                    fontSize: \"1.45831rem\"\n                },\n                [theme.breakpoints.up(\"lg\")]: {\n                    fontSize: \"2.91662rem\"\n                }\n            },\n            sectionDetails: {\n                fontSize: \"0.65rem\",\n                [theme.breakpoints.only(\"md\")]: {\n                    fontSize: \"1.354145rem\"\n                },\n                [theme.breakpoints.up(\"lg\")]: {\n                    fontSize: \"2.70829rem\"\n                }\n            },\n            indent: {\n                marginLeft: 24,\n                [theme.breakpoints.only(\"md\")]: {\n                    marginLeft: 49.9992\n                },\n                [theme.breakpoints.up(\"lg\")]: {\n                    marginLeft: 99.9984\n                }\n            },\n            divider: { margin: \"12px 0px 2px\" },\n            releaseDetailsArea: {\n                display: \"flex\",\n                justifyContent: \"space-between\"\n            }\n        };\n    } else {\n        temp = {\n            letterHeadContainer: {\n                width: \"inherit\",\n                height: \"auto\",\n                boxSizing: \"border-box\",\n                padding: \"7px 11px\",\n                [theme.breakpoints.only(\"md\")]: {\n                    padding: \"20px 22.9163px\",\n                },\n                [theme.breakpoints.up(\"lg\")]: {\n                    padding: \"29.1662px 45.8326px\",\n                }\n            },\n            letterFooterContainer: {\n                paddingTop: 0,\n                marginTop: 16,\n                [theme.breakpoints.only(\"md\")]: {\n                    marginTop: \"8.3332px\",\n                },\n                [theme.breakpoints.up(\"lg\")]: {\n                    marginTop: \"16.6664px\",\n                }\n            },\n            phivolcsLetterHead: {\n                maxWidth: \"100%\",\n                maxHeight: \"100%\",\n                height: \"auto\"\n            },\n            body: {\n                overflowY: \"hidden\",\n                padding: \"0 11px\",\n                height: \"100%\", maxHeight: \"100%\",\n                [theme.breakpoints.only(\"md\")]: {\n                    padding: \"0 22.9163px\",\n                    height: \"100%\", maxHeight: \"100%\"\n                },\n                [theme.breakpoints.up(\"lg\")]: {\n                    padding: \"0 45.8326px\",\n                    height: \"100%\", maxHeight: \"100%\"\n                }\n            },\n            title: {\n                marginBottom: 4,\n                fontSize: \"0.65625rem\",\n                [theme.breakpoints.only(\"md\")]: {\n                    // marginBottom: 8.3332,\n                    // fontSize: \"0.91144375rem\"\n                    marginBottom: 16,\n                    fontSize: \"1.45rem\",\n                },\n                [theme.breakpoints.up(\"lg\")]: {\n                    marginBottom: 33.3328,\n                    fontSize: \"1.367163rem\"\n                }\n            },\n            mainInfo: {\n                border: \"0.5px solid black\",\n                letterSpacing: 0,\n                padding: \"2px 3px\",\n                fontSize: \"0.4875rem\",\n                marginBottom: 3,\n                [theme.breakpoints.only(\"md\")]: {\n                    padding: \"10px 16px\",\n                    fontSize: \"1rem\",\n                    marginBottom: 12\n                },\n                [theme.breakpoints.up(\"lg\")]: {\n                    padding: \"8.3332px 12.4998px\",\n                    fontSize: \"1.01560875rem\",\n                    marginBottom: 12.4998\n                }\n            },\n            sectionHeader: {\n                fontSize: \"0.525rem\",\n                [theme.breakpoints.only(\"md\")]: {\n                    fontSize: \"1.2rem\"\n                },\n                [theme.breakpoints.up(\"lg\")]: {\n                    fontSize: \"1.0937325rem\"\n                }\n            },\n            sectionDetails: {\n                fontSize: \"0.4875rem\",\n                [theme.breakpoints.only(\"md\")]: {\n                    fontSize: \"1rem\"\n                },\n                [theme.breakpoints.up(\"lg\")]: {\n                    fontSize: \"1.01560875rem\"\n                }\n            },\n            indent: {\n                marginLeft: 6,\n                [theme.breakpoints.only(\"md\")]: {\n                    marginLeft: 12.4998\n                },\n                [theme.breakpoints.up(\"lg\")]: {\n                    marginLeft: 24.9996\n                }\n            },\n            divider: { margin: \"12px 0px 2px\" },\n            releaseDetailsArea: {\n                display: \"flex\",\n                justifyContent: \"space-between\"\n            }\n        };\n    }\n    return (temp);\n});\n\n\nfunction getHeightWithMargin (element, margin_only = false) {\n    const { offsetHeight: offset } = element;\n    const { marginBottom, marginTop } = getComputedStyle(element);\n    const margins = parseFloat(marginBottom) + parseFloat(marginTop);\n    if (margin_only) return margins;\n    return offset + margins;\n}\n\nfunction LetterHead (props) {\n    const { classes } = props;\n    return (\n        <div id=\"letter-head\" className={classes.letterHeadContainer}>\n            <img\n                src={PhivolcsLetterHead}\n                alt=\"PHIVOLCS Letter Head\"\n                className={classes.phivolcsLetterHead}\n            />\n        </div>\n    );\n}\n\nfunction LetterFooter (props) {\n    const { classes } = props;\n    return (\n        <div id=\"letter-foot\" className={`${classes.letterHeadContainer} ${classes.letterFooterContainer}`}>\n            <img\n                src={PhivolcsLetterFooter}\n                alt=\"PHIVOLCS Letter Footer\"\n                className={classes.phivolcsLetterHead}\n            />\n        </div>\n    );\n}\n\nfunction TitleAndMainInfo (props) {\n    const { classes, bulletinDetail, isMD } = props;\n\n    const {\n        bulletin_control_code, site_address, data_ts,\n        alert_description_group, recommended_response\n    } = bulletinDetail;\n\n    return (\n        <Fragment>\n            <Typography variant=\"body2\" align=\"center\" className={classes.title}>\n                <strong>DYNASLOPE LANDSLIDE ALERT LEVEL INFORMATION: {bulletin_control_code}</strong>\n            </Typography>\n\n            <Typography variant=\"body2\" component=\"div\" className={classes.mainInfo}>\n                <Grid container spacing={isMD ? 2 : 1}>\n                    <Grid item xs={4}>Location:</Grid>\n                    <Grid item xs={8}><strong>{site_address}</strong></Grid>\n\n                    <Grid item xs={4}>Date/Time:</Grid>\n                    <Grid item xs={8}><strong>{data_ts}</strong></Grid>\n\n                    <Grid item xs={4}>Alert Level Released:</Grid>\n                    <Grid item xs={8}><strong>{alert_description_group}</strong></Grid>\n\n                    <Grid item xs={4}>Recommended Response:</Grid>\n                    <Grid item xs={8}><strong>{recommended_response}</strong></Grid>\n                </Grid>\n            </Typography>\n        </Fragment>\n    );\n}\n\nfunction BulletinTemplate (props) {\n    const { releaseId, width } = props;\n    const classes = useStyle(releaseId)();\n    const [excess_divs, setExcessDivs] = useState([]);\n    const [is_bulletin_ready, setIsBulletinReady] = useState(false);\n\n    const [is_loaded, setIsLoaded] = useState(false);\n    const content_body = useRef(null);\n    const [bulletin_detail, setBulletinDetails] = useState({\n        site: {},\n        alert_level: 0,\n        bulletin_control_code: \"\",\n        site_address: \"\",\n        alert_description_group: \"\",\n        recommended_response: \"\",\n        community_response: \"\",\n        lewc_lgu_response: \"\",\n        households_at_risk: \"\",\n        has_ground_trigger: false,\n        ground_movement_details: \"\",\n        prepared_triggers: [],\n        no_data_triggers: [],\n        publishers: \"\",\n        next_ewi_release_ts: \"\"\n    });\n\n    const {\n        alert_level,\n        community_response, households_at_risk,\n        lewc_lgu_response, prepared_triggers, has_ground_trigger,\n        site: { barangay }, no_data_triggers, publishers,\n        next_ewi_release_ts, ground_movement_details\n    } = bulletin_detail;\n\n    const is_md = isWidthUp(\"md\", width);\n\n    useEffect(() => {\n        let temp = releaseId;\n        if (typeof releaseId === \"undefined\") {\n            const { match: { params: { release_id } } } = props;\n            temp = release_id;\n        } \n        \n        getBulletinDetails(temp, data => {\n            const { site } = data;\n            const site_address = prepareSiteAddress(site, false);\n\n            const details = {\n                ...data,\n                site_address\n            };\n            setIsBulletinReady(true);\n            setBulletinDetails(details);\n        });\n    }, []);\n\n    useEffect(() => {\n        if (content_body.current !== null) {\n            const { current: parent } = content_body;\n            const children = Array.from(parent.children);\n            let total_height = 0;\n            children.forEach((node, index) => {\n                if (node.id !== \"subcontent\") {\n                    total_height += getHeightWithMargin(node);\n                } else {\n                    total_height += getHeightWithMargin(node, true);\n    \n                    const sub_children = Array.from(node.children);\n                    const excess = [];\n                    sub_children.forEach(sub => {\n                        const sub_h = getHeightWithMargin(sub);\n                        if (total_height + sub_h < 1310.3957) { // 629\n                            total_height += sub_h;\n                        } else {\n                            total_height += sub_h;\n                            excess.push(sub.children[0]);\n                            sub.setAttribute(\"style\", \"display: none\");\n                        }\n                    });\n    \n                    setExcessDivs(excess);\n                }\n            });\n    \n            if (bulletin_detail.site_address !== \"\") setIsLoaded(true);\n        }\n    }, [bulletin_detail, content_body]);\n\n    let is_ground_movement_section_printed = false;\n    return (\n        <Fragment>\n            {\n                is_bulletin_ready ? (\n                    <Fragment>\n                        <div id=\"bulletin-root\" className={classes.root}>\n                            <LetterHead classes={classes} />\n                        \n                            <div id=\"bulletin-content\" className={classes.body} ref={content_body}> \n                                <TitleAndMainInfo \n                                    classes={classes} \n                                    bulletinDetail={bulletin_detail}\n                                    isMD={is_md}\n                                />\n\n                                <Grid container spacing={is_md ? 2 : 1} id=\"subcontent\">\n                                    <Grid item xs={12}>\n                                        <Typography variant=\"body2\" className={classes.sectionHeader}>\n                                            <strong><u>AREA SITUATION</u>:</strong>\n                                        </Typography>\n                                    </Grid>\n\n                                    {\n                                        prepared_triggers.map((row, i, arr) => {\n                                            const {\n                                                is_ground,\n                                                trigger_source: curr_trig_source\n                                            } = row;\n\n                                            let GroundMovementHeaderComponent = \"\";\n                                            if (!is_ground_movement_section_printed && is_ground) {\n                                                GroundMovementHeaderComponent = (\n                                                    <Grid item xs={12}>\n                                                        <Typography variant=\"body2\" className={classes.sectionHeader}>\n                                                            <strong>GROUND MOVEMENT</strong>\n                                                        </Typography>\n                                                    </Grid>\n                                                );\n                                                is_ground_movement_section_printed = true;\n                                            }\n\n                                            let to_print_header = false;\n                                            if (i === 0) to_print_header = true;\n                                            else if (arr[i - 1].trigger_source !== curr_trig_source)\n                                                to_print_header = true;\n\n                                            \n                                            let HeaderComponent = \"\";\n                                            if (to_print_header) {\n                                                const uc_trig_source = curr_trig_source.toUpperCase();\n                                                HeaderComponent = (\n                                                    <Grid item xs={12}>\n                                                        <Typography\n                                                            variant=\"body2\"\n                                                            className={`${classes.sectionHeader} ${is_ground ? classes.indent : \"\"}`}\n                                                        >\n                                                            <strong>{\n                                                                is_ground ? <u><i>{uc_trig_source}</i></u>\n                                                                    : uc_trig_source\n                                                            }</strong>\n                                                        </Typography>\n                                                    </Grid>\n                                                );\n                                            }\n                                            \n                                            let NoDataComponent = \"\";\n                                            if (no_data_triggers.includes(curr_trig_source)) {\n                                                NoDataComponent = (\n                                                    <Grid item xs={12} style={{ paddingTop: \"0 !important\" }}>\n                                                        <Typography \n                                                            variant=\"body2\" \n                                                            className={`${classes.sectionDetails} ${classes.indent}`}\n                                                        >\n                                                            Currently, no data available.\n                                                        </Typography>\n                                                    </Grid>\n                                                );\n                                            }\n\n                                            return (\n                                                <Fragment key={`key-${i + 1}`}>\n                                                    { GroundMovementHeaderComponent }\n                                                    { HeaderComponent }\n                                                    <Grid item xs={12}>\n                                                        <Typography \n                                                            variant=\"body2\" \n                                                            className={`${classes.sectionDetails} ${classes.indent}`}\n                                                            dangerouslySetInnerHTML={{ __html: row.description }}\n                                                        />\n                                                    </Grid>\n                                                    { NoDataComponent }\n                                                </Fragment>\n                                            );\n                                        })\n                                    }\n\n                                    {\n                                        (!has_ground_trigger || alert_level === 0) && (\n                                            <Fragment>\n                                                <Grid item xs={12}>\n                                                    <Typography variant=\"body2\" className={classes.sectionHeader}>\n                                                        <strong>GROUND MOVEMENT</strong>\n                                                    </Typography>\n                                                </Grid>\n\n                                                <Grid item xs={12}>\n                                                    <Typography\n                                                        variant=\"body2\"\n                                                        className={`${classes.sectionDetails} ${classes.indent}`}\n                                                    >\n                                                        {ground_movement_details}\n                                                    </Typography>\n                                                </Grid>\n                                            </Fragment>\n                                        )\n                                    }\n\n                                    <Grid item xs={12}>\n                                        <Typography variant=\"body2\" className={classes.sectionHeader}>\n                                            <strong>ELEMENTS AT RISK</strong>\n                                        </Typography>\n                                    </Grid>\n\n                                    <Grid item xs={12}>\n                                        <Typography variant=\"body2\" className={`${classes.sectionDetails} ${classes.indent}`}>\n                                            {households_at_risk}\n                                        </Typography>\n                                    </Grid>\n\n                                    <Grid item xs={12}>\n                                        <Typography variant=\"body2\" className={classes.sectionHeader}>\n                                            <strong><u>OTHER RECOMMENDATIONS</u>:</strong>\n                                        </Typography>\n                                    </Grid>\n\n                                    <Grid item xs={12}>\n                                        <Typography variant=\"body2\" className={classes.sectionDetails}>\n                                            <strong>For the Landslide Early Warning Committee (LEWC):</strong> <span dangerouslySetInnerHTML={{ __html: lewc_lgu_response }} /> \n                                        </Typography>\n                                    </Grid>\n\n                                    <Grid item xs={12}>\n                                        <Typography variant=\"body2\" className={classes.sectionDetails}>\n                                            <strong>For the Community:</strong> {community_response}\n                                        </Typography>\n                                    </Grid>\n\n                                    <Grid item xs={12}>\n                                        <Typography variant=\"body2\" className={classes.sectionDetails}>\n                                            <strong>NOTE:</strong> This bulletin contains the official Alert Level and Recommended Response of the Dynaslope Project for Brgy. {barangay} and will hold true until a new bulletin is released.\n                                        </Typography>\n                                    </Grid>\n\n                                    <Grid item xs={12}>\n                                        <Divider className={classes.divider} />\n                                    </Grid>\n\n                                    <Grid item xs={12}>\n                                        <Typography \n                                            component=\"div\"\n                                            variant=\"body2\" \n                                            className={`${classes.sectionDetails} ${classes.releaseDetailsArea}`}\n                                        >\n                                            {\n                                                alert_level === 0 ? <span/>\n                                                    : <span>Next bulletin on: <strong>{next_ewi_release_ts}</strong></span>\n                                            }\n                                            <span>Released by: <strong>{publishers}</strong></span>\n                                        </Typography>\n                                    </Grid>\n                                </Grid>\n                            </div>\n\n                            <LetterFooter classes={classes} />\n                        </div>\n\n                        {\n                            excess_divs.length > 0 && (\n                                <div id=\"bulletin-root-2\" className={classes.root}>\n                                    <LetterHead classes={classes} />\n                        \n                                    <div id=\"bulletin-content\" className={classes.body} ref={content_body}> \n                                        <TitleAndMainInfo \n                                            classes={classes} \n                                            bulletinDetail={bulletin_detail}\n                                            isMD={is_md}\n                                        />\n\n                                        <Grid container spacing={is_md ? 2 : 1} id=\"excess-content\">\n                                            {\n                                                excess_divs.map((row, i) => {\n                                                    const new_classes = [];\n                                                    row.classList.forEach(x => { \n                                                        if (x.includes(\"makeStyles\")) {\n                                                            const a = x.split(\"-\");\n                                                            const p = a[1];\n                                                            new_classes.push(classes[p]);\n                                                        } else new_classes.push(x);\n                                                    });\n                                                    const temp = row.outerHTML.replace(/([\"'])(?:(?=(\\\\?))\\2.)*?\\1/g, `\"${new_classes.join(\" \")}\"`);\n                                                    return <Grid\n                                                        key={`key-${i + 1}`}\n                                                        item xs={12} \n                                                        dangerouslySetInnerHTML={{ __html: temp }}\n                                                    />;\n                                                })\n                                            }\n                                        </Grid>\n                                    </div>\n\n                                    <LetterFooter classes={classes} />\n                                </div>\n                            )\n                        }\n\n                        {\n                            is_loaded && <div id=\"is-loaded\" />\n                        }\n                    </Fragment>\n                ) : (\n                    <Grid item style={{ textAlign: \"center\" }}>\n                        <CircularProgress\n                            size={50}\n                        />\n                        <Typography>Loading Bulletin</Typography>\n                    </Grid>\n                )\n            }\n        </Fragment>\n    );\n}\n\nexport default withWidth()(BulletinTemplate);\n","import axios from \"axios\";\nimport { host } from \"../../../config\";\nimport { makeGETAxiosRequest } from \"../../../UtilityFunctions\";\n\nexport function getBulletinEmailDetails (release_id, callback) {\n    const api_link = `${host}/api/bulletin_email/get_bulletin_email_details/${release_id}`;\n    makeGETAxiosRequest(api_link, callback);\n}\n\nexport function downloadBulletin (release_id, callback) {\n    const api_link = `${host}/api/bulletin/download_bulletin/${release_id}`;\n    axios.get(api_link, { responseType: \"blob\" })\n    .then((response) => {\n        const { data } = response;\n        callback(data);\n    })\n    .catch((error) => {\n        console.log(error);\n    });\n}\n\nexport function getBulletinDetails (release_id, callback) {\n    const api_link = `${host}/api/monitoring/create_bulletin/${release_id}`;\n\n    axios.get(api_link)\n    .then((response) => {\n        const { data } = response;\n        console.log(\"Bulletin details\", data);\n        callback(data);\n    })\n    .catch((error) => {\n        console.log(error);\n    });\n}\n","import axios from \"axios\";\nimport { host } from \"../../../config\";\nimport { makePOSTAxiosRequest } from \"../../../UtilityFunctions\";\n\nexport function sendEmail (input, callback) {\n    const api_link = `${host}/api/mailbox/send_email`;\n    console.log(input);\n    axios.post(api_link, input)\n    .then(response => {\n        const { data } = response;\n        console.log(\"Send email response\", data);\n        callback(data);\n    })\n    .catch(error => {\n        console.error(error);\n    });\n}\n\n\nexport function sendBulletinEmail (input, callback, err) {\n    const api_link = `${host}/api/mailbox/send_bulletin_email`;\n    makePOSTAxiosRequest(api_link, input, callback, err);\n}\n\nexport function queueBulletinEmail (input, callback, err) {\n    const api_link = `${host}/api/mailbox/queue_bulletin_email`;\n    makePOSTAxiosRequest(api_link, input, callback, err);\n}\n\nexport function cancelQueuedBulletinEmail (input, callback, err) {\n    const api_link = `${host}/api/mailbox/cancel_queued_bulletin`;\n    makePOSTAxiosRequest(api_link, input, callback, err);\n}\n\nexport function sendEOSEmail (json_data, callback, err) {\n    const api_link = `${host}/api/mailbox/send_eos_email`;\n    makePOSTAxiosRequest(api_link, json_data, callback, err);\n}\n\nexport function uploadTempFile (data, callback, err) {\n    const api_link = `${host}/api/mailbox/upload_temp`;\n    makePOSTAxiosRequest(api_link, data, callback, err);\n}\n","import React, { useState, useEffect } from \"react\";\n\nimport {\n    Dialog, DialogTitle, DialogContent,\n    DialogActions,\n    Button, withMobileDialog, Divider,\n    Grid, TextField\n} from \"@material-ui/core\";\nimport ChipInput from \"material-ui-chip-input\";\n\nimport { useSnackbar } from \"notistack\";\nimport BulletinTemplate from \"./BulletinTemplate\";\nimport { downloadBulletin, getBulletinEmailDetails } from \"./ajax\";\nimport { sendBulletinEmail, queueBulletinEmail, cancelQueuedBulletinEmail } from \"../../communication/mailbox/ajax\";\nimport { getCurrentUser } from \"../../sessions/auth\";\n\n\nfunction BulletinModal (props) {\n    const {\n        classes, fullScreen, isOpenBulletinModal,\n        setIsOpenBulletinModal, releaseDetail\n    } = props;\n    const {\n        release_id, site_code, site_id,\n        type, // either \"latest\", \"extended\", \"overdue\"\n        // the variables below are only available only\n        // if from dashboard\n        is_bulletin_sent, not_yet_sending_time, is_onset_release,\n        is_bulletin_queued, prescribed_release_time, event_id\n    } = releaseDetail;\n\n    const show_queue_buttons = !is_onset_release && not_yet_sending_time;\n\n    const [mail_subject, setMailSubject] = useState(\"\");\n    const [mail_recipients, setMailRecipients] = useState([]);\n    const [mail_content, setMailContent] = useState(\"\");\n    const [file_name, setFileName] = useState(\"\");\n    const [narrative_details, setNarrativeDetails] = useState({});\n    const { enqueueSnackbar, closeSnackbar } = useSnackbar();\n\n    const { user_id: sender_id } = getCurrentUser();\n\n    const snackBarActionFn = key => {\n        return (<Button\n            color=\"primary\"\n            onClick={() => { closeSnackbar(key); }}\n        >\n            Dismiss\n        </Button>);\n    };\n\n    useEffect(() => {\n        if (typeof release_id !== \"undefined\" && isOpenBulletinModal) {\n            getBulletinEmailDetails(release_id, ret => {\n                const {\n                    subject, recipients, mail_body,\n                    file_name: filename,\n                    narrative_details: temp_nar\n                } = ret;\n\n                setNarrativeDetails(temp_nar);\n                setMailRecipients(recipients);\n                setMailSubject(subject);\n                setMailContent(mail_body);\n                setFileName(filename);\n            });\n        }\n    }, [isOpenBulletinModal]);\n\n    const downloadHandler = release_id_input => () => {\n        downloadBulletin(release_id_input, ret => {\n            const url = window.URL.createObjectURL(new Blob([ret]));\n            const link = document.createElement(\"a\");\n            link.href = url;\n            link.setAttribute(\"download\", file_name);\n            document.body.appendChild(link);\n            link.click();\n        });\n    };\n\n    const closeHandler = () => {\n        setIsOpenBulletinModal(false);\n        setNarrativeDetails({});\n        setMailRecipients([]);\n        setMailSubject(\"\");\n        setMailContent(\"\");\n        setFileName(\"\");\n    };\n\n    const base_fn = func_specific => {\n        const input = {\n            subject: mail_subject,\n            recipients: mail_recipients,\n            mail_body: mail_content,\n            release_id,\n            file_name,\n            alert_db_group: type,\n            site_id,\n            site_code,\n            sender_id,\n            event_id,\n            narrative_details,\n            prescribed_release_time\n        };\n\n        if (is_bulletin_queued) {\n            input.task_id = is_bulletin_queued.remarks;\n        }\n\n        const { loading_message, error_message, ajaxFn } = func_specific;\n\n        const loading_snackbar = enqueueSnackbar(\n            loading_message,\n            {\n                variant: \"warning\",\n                persist: true\n            }\n        );\n\n        closeHandler();\n\n        ajaxFn(input, ret => {\n            const { status, message } = ret;\n            closeSnackbar(loading_snackbar);\n            let variant;\n            if (status) {\n                variant = \"success\";\n            } else {\n                variant = \"error\";\n            }\n            enqueueSnackbar(\n                message,\n                {\n                    variant,\n                    autoHideDuration: 7000,\n                    action: snackBarActionFn\n                }\n            );\n        }, () => {\n            closeSnackbar(loading_snackbar);\n            enqueueSnackbar(\n                error_message,\n                {\n                    variant: \"error\",\n                    autoHideDuration: 7000,\n                    action: snackBarActionFn\n                }\n            );\n        });\n    };\n\n    const handleSend = () => {\n        const func_specific = {\n            loading_message: \"Sending EWI bulletin...\",\n            error_message: \"Send bulletin failed... Report to the incident to the developers.\",\n            ajaxFn: sendBulletinEmail\n        };\n\n        base_fn(func_specific);\n    };\n\n    const handleQueue = () => {\n        const func_specific = {\n            loading_message: \"Queueing EWI bulletin...\",\n            error_message: \"Error queueing EWI bulletin...\",\n            ajaxFn: queueBulletinEmail\n        };\n\n        base_fn(func_specific);\n    };\n\n    const handleCancelQueue = () => {\n        const func_specific = {\n            loading_message: \"Canceling queued EWI bulletin...\",\n            error_message: \"Error canceling queued EWI bulletin...\",\n            ajaxFn: cancelQueuedBulletinEmail\n        };\n\n        base_fn(func_specific);\n    };\n\n    const mailContentHandler = event => {\n        setMailContent(event.target.value);\n    };\n\n    const handleAddChip = chip => {\n        const temp = mail_recipients;\n        temp.push(chip);\n        setMailRecipients([...temp]);\n    };\n\n    const handleDeleteChip = (chip, index) => {\n        mail_recipients.splice(mail_recipients.indexOf(chip), 1);\n        setMailRecipients([...mail_recipients]);\n    };\n\n    let f_site_code = \"\";\n    if (typeof site_code !== \"undefined\") {\n        f_site_code = site_code.toUpperCase();\n    }\n\n    return (\n        <Dialog\n            fullWidth\n            fullScreen={fullScreen}\n            open={isOpenBulletinModal}\n            aria-labelledby=\"form-dialog-title\"\n            maxWidth=\"md\"\n        >\n            <DialogTitle id=\"form-dialog-title\">Early Warning Bulletin for {f_site_code}</DialogTitle>\n            <DialogContent>\n                <Grid container spacing={2}>\n                    <Grid item xs={12}>\n                        <TextField\n                            required\n                            label=\"Mail Content\"\n                            value={mail_content}\n                            onChange={mailContentHandler}\n                            placeholder=\"Add mail content\"\n                            multiline\n                            rowsMax={6}\n                            fullWidth\n                            className={classes.textField}\n                        />                        \n                    </Grid>\n\n                    <Grid item xs={12}>\n                        <ChipInput \n                            label=\"To\"\n                            value={mail_recipients}\n                            onAdd={chip => handleAddChip(chip)}\n                            onDelete={(chip, index) => handleDeleteChip(chip, index)}\n                            fullWidth\n                            required\n                        />\n                    </Grid>\n                    \n                    <Grid item xs={12}>\n                        <Divider className={classes.divider} />\n                    </Grid>\n\n                    <Grid item xs={12} style={{ paddingTop: 20 }}>\n                        <BulletinTemplate\n                            releaseId={release_id}\n                        />\n                    </Grid>\n\n                </Grid>\n            </DialogContent>\n            <DialogActions>\n                <Button onClick={downloadHandler(release_id)} color=\"primary\">\n                    Download\n                </Button>\n                {\n                    show_queue_buttons && !is_bulletin_queued && (\n                        <Button \n                            onClick={handleQueue} color=\"primary\" \n                            disabled={mail_recipients.length === 0}\n                        >\n                            Queue\n                        </Button>\n                    )\n                }\n                {\n                    show_queue_buttons && is_bulletin_queued && (\n                        <Button color=\"primary\" onClick={handleCancelQueue}>\n                            Cancel Queue\n                        </Button>\n                    )\n                }\n                {\n                    !not_yet_sending_time && <Button onClick={handleSend}\n                        color=\"primary\"\n                        disabled={mail_recipients.length === 0}\n                    >\n                        { is_bulletin_sent ? \"Send Again\" : \"Send\" }\n                    </Button>\n                }\n                <Button onClick={closeHandler} color=\"primary\">\n                    Cancel\n                </Button>\n            </DialogActions>\n        </Dialog>\n    );\n}\n\nexport default withMobileDialog()(BulletinModal);\n","import axios from \"axios\";\nimport { host } from \"../../config\";\nimport { makePOSTAxiosRequest, makeGETAxiosRequest } from \"../../UtilityFunctions\";\n\nexport function getListOfMunicipalities (callback) {\n    const api_link = `${host}/api/sites/get_all_geographical_selection_per_category/municipality?include_inactive=false`;\n\n    axios.get(api_link)\n    .then(response => {\n        const { data } = response;\n        console.log(data);\n        callback(data);\n    })\n    .catch(error => {\n        console.error(error);\n    });\n}\n\nexport function saveContact (input, callback) {\n    const api_link = `${host}/api/contacts/save_contact`;\n    axios.post(api_link, input)\n    .then(response => {\n        const { data } = response;\n        console.log(\"Save contact data reponse\", data);\n        callback(data);\n    })\n    .catch(error => {\n        console.error(error);\n    });\n}\n\nexport function attachMobileNumberToExistingUser (input, callback) {\n    const api_link = `${host}/api/contacts/attach_mobile_number_to_existing_user`;\n    axios.post(api_link, input)\n    .then(response => {\n        const { data } = response;\n        console.log(\"Save contact data reponse\", data);\n        callback(data);\n    })\n    .catch(error => {\n        console.error(error);\n    });\n}\n\nexport function getEWISMSRecipients (site_code, callback) {\n    const api_link = `${host}/api/contacts/get_contacts_per_site/${site_code}`;\n\n    axios.get(api_link)\n    .then(response => {\n        const { data } = response;\n        console.log(response);\n        console.log(data);\n        callback(data);\n    })\n    .catch(error => {\n        console.error(error);\n    });\n}\n\nexport function getRainInformation (input, callback) {\n    const api_link = `${host}/api/rainfall/get_all_site_rainfall_data`;\n    axios.post(api_link, input)\n    .then(response => {\n        const { data } = response;\n        console.log(\"Get rain information data reponse\", data);\n        callback(data);\n    })\n    .catch(error => {\n        console.error(error);\n    });\n}\n\nexport function sendRoutineEwiMessage (payload, callback, error_callback) {\n    const api_link = `${host}/api/chatterbox/send_routine_ewi_sms`;\n\n    axios.post(api_link, payload)\n    .then(response => {\n        const { data } = response;\n        callback(data);\n    })\n    .catch(error => {\n        console.error(error);\n        error_callback(error);\n    });\n}\n\nexport function queueRoutineEwiMessage (payload, callback, error_callback) {\n    const api_link = `${host}/api/chatterbox/queue_routine_ewi_sms`;\n\n    axios.post(api_link, payload)\n    .then(response => {\n        const { data } = response;\n        callback(data);\n    })\n    .catch(error => {\n        console.error(error);\n        error_callback(error);\n    });\n}\n\nexport function cancelQueuedRoutineEwiMessage (payload, callback, error_callback) {\n    const api_link = `${host}/api/chatterbox/cancel_queued_routine_ewi_sms`;\n\n    axios.post(api_link, payload)\n    .then(response => {\n        const { data } = response;\n        callback(data);\n    })\n    .catch(error => {\n        console.error(error);\n        error_callback(error);\n    });\n}\n\nexport function sendMessage (payload, callback, error_callback) {\n    const api_link = `${host}/api/chatterbox/send_message`;\n\n    axios.post(api_link, payload)\n    .then(response => {\n        const { data } = response;\n        callback(data);\n    })\n    .catch(error => {\n        console.error(error);\n        error_callback(error);\n    });\n}\n\nexport function queueMessage (payload, callback, error_callback) {\n    const api_link = `${host}/api/chatterbox/queue_message`;\n\n    axios.post(api_link, payload)\n    .then(response => {\n        const { data } = response;\n        callback(data);\n    })\n    .catch(error => {\n        console.error(error);\n        error_callback(error);\n    });\n}\n\nexport function cancelQueuedMessage (payload, callback, error_callback) {\n    const api_link = `${host}/api/chatterbox/cancel_queued_message`;\n\n    axios.post(api_link, payload)\n    .then(response => {\n        const { data } = response;\n        callback(data);\n    })\n    .catch(error => {\n        console.error(error);\n        error_callback(error);\n    });\n}\n\nexport function getRecipientsList (payload, callback) {\n    const api_link = `${host}/api/contacts/get_recipients_option`;\n\n    axios.post(api_link, payload)\n    .then(response => {\n        const { data } = response;\n        console.log(\"Selected recipients\", data);\n        callback(data);\n    })\n    .catch(error => {\n        console.error(error);\n    });\n}\n\nexport function getBlockedContacts (callback) {\n    const api_link = `${host}/api/contacts/get_blocked_numbers`;\n\n    axios.get(api_link)\n    .then(response => {\n        const { data } = response;\n        callback(data);\n    })\n    .catch(error => {\n        console.error(error);\n    });\n}\n\nexport function saveBlockedContact (input, callback) {\n    const api_link = `${host}/api/contacts/save_block_number`;\n    axios.post(api_link, input)\n    .then(response => {\n        const { data } = response;\n        console.log(\"Save blocked contact data reponse\", data);\n        callback(data);\n    })\n    .catch(error => {\n        console.error(error);\n    });\n}\n\nexport function getSimPrefixes (callback) {\n    const api_link = `${host}/api/contacts/sim_prefix`;\n\n    axios.get(api_link)\n    .then(response => {\n        const { data } = response;\n        callback(data);\n    })\n    .catch(error => {\n        console.error(error);\n    });\n}\n\nexport function loadMoreMessages (mobile_id, batch, callback) {\n    const api_link = `${host}/api/chatterbox/load_more_messages/${mobile_id}/${batch}`;\n\n    axios.get(api_link)\n    .then(response => {\n        const { data } = response;\n        console.log(\"Additional loaded messages\", data);\n        callback(data);\n    })\n    .catch(error => {\n        console.error(error);\n    });\n}\n\nexport function getSiteStakeHolders (callback) {\n    const api_link = `${host}/api/contacts/get_contact_prioritization`;\n\n    axios.get(api_link)\n    .then(response => {\n        const { data } = response;\n        console.log(\"All Sites Stakeholders\", data);\n        callback(data);\n    })\n    .catch(error => {\n        console.error(error);\n    });\n}\n\nexport function saveUpdatedPrimaryContact (input, callback = null) {\n    const api_link = `${host}/api/contacts/save_primary_contact`;\n    \n    axios.post(api_link, input)\n    .then(response => {\n        const { data } = response;\n        console.log(\"Save updated primary contact\", data);\n        if (callback !== null)\n            callback(data);\n    })\n    .catch(error => {\n        console.error(error);\n    });\n}\n\nexport function resendMessage (outbox_status_id, callback) {\n    const api_link = `${host}/api/chatterbox/resend_message/${outbox_status_id}`;\n\n    axios.get(api_link)\n    .then(response => {\n        const { data } = response;\n        console.log(\"Resend message\", data);\n        if (typeof callback !== \"undefined\") callback(data);\n    })\n    .catch(error => {\n        console.error(error);\n    });\n}\n\nexport function getAllTags (callback) {\n    const api_link = `${host}/api/chatterbox/get_all_tags`;\n\n    axios.get(api_link)\n    .then(response => {\n        const { data } = response;\n        console.log(\"All Tags\", data);\n        if (typeof callback !== \"undefined\") callback(data);\n    })\n    .catch(error => {\n        console.error(error);\n    });\n}\n\nexport function handleUpdateInsertTags (payload, callback) {\n    const api_link = `${host}/api/general_data_tag/handle_update_insert_tags`;\n    makePOSTAxiosRequest(api_link, payload, callback);\n}\n\nexport function handleDeleteTags (payload, callback) {\n    const api_link = `${host}/api/general_data_tag/handle_delete_tags`;\n    makePOSTAxiosRequest(api_link, payload, callback);\n}\n\nexport function getAllSmsPriority (callback) {\n    const api_link = `${host}/api/chatterbox/get_all_sms_priority`;\n    makeGETAxiosRequest(api_link, callback);\n}\n\nexport function getAllOrganizations (callback) {\n    const api_link = `${host}/api/contacts/get_all_organizations`;\n    makeGETAxiosRequest(api_link, callback);\n}","import React, { forwardRef } from \"react\";\nimport { Fade, Slide } from \"@material-ui/core\";\n\nexport const SlideTransition = forwardRef((props, ref) => (\n    <Slide direction=\"up\" {...props} ref={ref} />\n));\n\nexport const FadeTransition = forwardRef((props, ref) => (\n    <Fade {...props} ref={ref} />\n));","/* eslint-disable react/prop-types, react/jsx-handler-names */\n\nimport React from \"react\";\nimport Select from \"react-select\";\nimport { withStyles } from \"@material-ui/core/styles\";\nimport Typography from \"@material-ui/core/Typography\";\nimport NoSsr from \"@material-ui/core/NoSsr\";\nimport TextField from \"@material-ui/core/TextField\";\nimport FormHelperText from \"@material-ui/core/FormHelperText\";\nimport Paper from \"@material-ui/core/Paper\";\nimport Chip from \"@material-ui/core/Chip\";\nimport MenuItem from \"@material-ui/core/MenuItem\";\nimport CancelIcon from \"@material-ui/icons/Cancel\";\nimport { emphasize } from \"@material-ui/core/styles/colorManipulator\";\nimport { FormControl } from \"@material-ui/core\";\n\nconst styles = theme => ({\n    root: {\n        flexGrow: 1\n    },\n    input: {\n        display: \"flex\",\n        padding: 0,\n        height: \"auto\"\n    },\n    valueContainer: {\n        display: \"flex\",\n        flexWrap: \"wrap\",\n        flex: 1,\n        alignItems: \"center\",\n        overflow: \"hidden\",\n    },\n    chip: {\n        margin: theme.spacing(1 * 0.5, 1 * 0.25),\n    },\n    chipFocused: {\n        backgroundColor: emphasize(\n            theme.palette.type === \"light\" ? theme.palette.grey[300] : theme.palette.grey[700],\n            0.08,\n        ),\n    },\n    noOptionsMessage: {\n        padding: theme.spacing(1, 2)\n    },\n    singleValue: {\n        fontSize: 16,\n    },\n    placeholder: {\n        position: \"absolute\",\n        left: 2,\n        fontSize: 16,\n    },\n    paper: {\n        position: \"absolute\",\n        zIndex: 2,\n        marginTop: theme.spacing(1),\n        left: 0,\n        right: 0,\n    },\n    divider: {\n        height: theme.spacing(2),\n    }\n});\n\nfunction NoOptionsMessage (props) {\n    const { selectProps, innerProps, children } = props;\n\n    return (\n        <Typography\n            color=\"textSecondary\"\n            className={selectProps.classes.noOptionsMessage}\n            {...innerProps}\n        >\n            {children}\n        </Typography>\n    );\n}\n\nfunction inputComponent ({ inputRef, ...props }) {\n    return <div ref={inputRef} {...props} />;\n}\n\nfunction Control (props) {\n    const {\n        selectProps, innerRef,\n        children, innerProps, isDisabled\n    } = props;\n    \n    return (\n        <TextField\n            fullWidth\n            InputProps={{\n                inputComponent,\n                inputProps: {\n                    className: selectProps.classes.input,\n                    inputRef: innerRef,\n                    children,\n                    ...innerProps,\n                },\n            }}\n            {...selectProps.textFieldProps}\n            disabled={isDisabled}\n        />\n    );\n}\n\nfunction Option (props) {\n    const {\n        innerRef, isFocused, isSelected,\n        innerProps, children, data\n    } = props;\n    const fcolor = data.color;\n    return (\n        <MenuItem\n            buttonRef={innerRef}\n            selected={isFocused}\n            component=\"div\"\n            style={{\n                fontWeight: isSelected ? 500 : 400,\n                color: fcolor,\n            }}\n            {...innerProps}\n        >\n            {children}\n        </MenuItem>\n    );\n}\n\nfunction Placeholder (props) {\n    const { selectProps, innerProps, children } = props;\n\n    return (\n        <Typography\n            color=\"textSecondary\"\n            className={selectProps.classes.placeholder}\n            {...innerProps}\n        >\n            {children}\n        </Typography>\n    );\n}\n\nfunction ValueContainer (props) {\n    const { selectProps, children } = props;\n    return <div className={selectProps.classes.valueContainer}>{children}</div>;\n}\n\nfunction MultiValue (props) {\n    const {\n        children, selectProps, isFocused,\n        data, removeProps\n    } = props;\n\n    const { chipLabel } = data;\n    const label = typeof chipLabel !== \"undefined\" ? chipLabel : children;\n\n    return (\n        <Chip\n            tabIndex={-1}\n            label={label}\n            className={`${selectProps.classes.chip} ${\n                { [selectProps.classes.chipFocused]: isFocused,\n                }}`\n            }\n            onDelete={removeProps.onClick}\n            deleteIcon={<CancelIcon {...removeProps} />}\n        />\n    );\n}\n\nfunction Menu (props) {\n    const { selectProps, innerProps, children } = props;\n\n    return (\n        <Paper square className={selectProps.classes.paper} {...innerProps}>\n            {children}\n        </Paper>\n    );\n}\n\nfunction SelectMultipleWithSuggest (props) {\n    const {\n        classes, changeHandler, isRequired,\n        options, value, label, placeholder,\n        renderDropdownIndicator, openMenuOnClick, isMulti,\n        isDisabled, isClearable, hasAlternativeChipLabel,\n        isError, helperText\n    } = props;\n\n    const selectStyles = {\n        input: base => ({\n            ...base,\n            color: \"blue\",\n            \"& input\": {\n                font: \"inherit\"\n            }\n        }),\n        menuPortal: provided => ({ ...provided, zIndex: 9999 })\n    };\n\n    const components = {\n        Control,\n        Menu,\n        MultiValue,\n        NoOptionsMessage,\n        Option,\n        Placeholder,\n        ValueContainer\n    };\n\n    const open_menu_on_click = openMenuOnClick === undefined ? true : openMenuOnClick;\n    const is_multi = isMulti === undefined ? false : isMulti;\n    const is_disabled = isDisabled === undefined ? false : isDisabled;\n    const is_clearable = isClearable === undefined ? false : isClearable;\n    const is_required = isRequired === undefined ? false : isRequired;\n\n    const rdd = renderDropdownIndicator === undefined ? true : renderDropdownIndicator;\n    if (rdd === false) {\n        components.DropdownIndicator = () => null;\n        components.IndicatorSeparator = () => null;\n    }\n\n    return (\n        <div className={classes.root}>\n            <NoSsr>\n                <Select\n                    required={is_required}\n                    classes={classes}\n                    styles={selectStyles}\n                    textFieldProps={{\n                        label,\n                        InputLabelProps: {\n                            shrink: true,\n                        }\n                    }}\n                    menuPortalTarget={document.body}\n                    options={options}\n                    components={components}\n                    value={value}\n                    onChange={changeHandler}\n                    placeholder={placeholder}\n                    isMulti={is_multi}\n                    openMenuOnFocus={false}\n                    openMenuOnClick={open_menu_on_click}\n                    isDisabled={is_disabled}\n                    isClearable={is_clearable}\n                    hasAlternativeChipLabel={hasAlternativeChipLabel}\n                />\n                {\n                    Boolean(isError) && <FormControl error>\n                        <FormHelperText id=\"component-error-text\">{helperText}</FormHelperText>\n                    </FormControl>\n                }\n            </NoSsr>\n        </div>\n    );\n}\n\nexport default withStyles(styles, { withTheme: true })(SelectMultipleWithSuggest);","import React, {\n    createContext, useState, useEffect\n} from \"react\";\nimport { useSnackbar } from \"notistack\";\nimport { getSites, getUsers, getOrganizations } from \"./ajax\";\n\nexport const GeneralContext = createContext();\n\nexport const GeneralProvider = ({ children }) => {\n    const [sites, setSites] = useState([]);\n    const [all_sites_including_inactive, SetAllSites] = useState([]);\n    const [refresh_sites, setRefreshSites] = useState(true);\n    useEffect(() => {\n        if (refresh_sites) {\n            getSites(data => {\n                const active = data.filter(x => x.active);\n                setSites(active);\n                SetAllSites(data);\n                setRefreshSites(false);\n            });\n        }\n    }, [refresh_sites]);\n\n    const [users, setUsers] = useState([]);\n    const [refresh_users, setRefreshUser] = useState(true);\n    useEffect(() => {\n        if (refresh_users) {\n            getUsers(data => {\n                setUsers(data);\n                setRefreshUser(false);\n            });\n        }\n    }, [refresh_users]);\n\n    const [organizations, setOrganizations] = useState([]);\n    useEffect(() => {\n        getOrganizations(data => {\n            setOrganizations(data);\n        });\n    }, []);\n\n    const [is_reconnecting, setIsReconnecting] = useState(null);\n    const { enqueueSnackbar, closeSnackbar } = useSnackbar();\n    const [key, setKey] = useState(null);\n    useEffect(() => {\n        if (is_reconnecting !== null) {\n            if (is_reconnecting === true) {\n                const h_key = enqueueSnackbar(\n                    \"Connection lost... Features will not work properly... Reconnecting...\",\n                    {\n                        variant: \"warning\",\n                        persist: true\n                        // autoHideDuration: 7000,\n                        // action: snackBarActionFn\n                    }\n                );\n                setKey(h_key);\n            } else {\n                closeSnackbar(key);\n                enqueueSnackbar(\n                    \"Reconnection successful...\",\n                    {\n                        variant: \"success\",\n                        autoHideDuration: 5000,\n                    // action: snackBarActionFn\n                    }\n                );\n            }\n        }\n    }, [is_reconnecting]);\n\n    const return_obj = {\n        users,\n        sites,\n        all_sites_including_inactive,\n        organizations,\n        is_reconnecting,\n        setIsReconnecting,\n        setRefreshUser,\n        setRefreshSites\n    };\n\n    return (\n        <GeneralContext.Provider value={return_obj}>\n            {children}\n        </GeneralContext.Provider>\n    );\n};","import { host } from \"../../config\";\nimport { makeGETAxiosRequest } from \"../../UtilityFunctions\";\n\n\nexport function getSites (callback) {\n    const api_link = `${host}/api/sites/get_sites_data?include_inactive=true`;\n    makeGETAxiosRequest(api_link, callback);\n}\n\nexport function getUsers (callback) {\n    const api_link = `${host}/api/users/get_dynaslope_users/true/true`;\n    makeGETAxiosRequest(api_link, callback);\n}\n\nexport function getOrganizations (callback) {\n    const api_link = `${host}/api/users/get_organizations`;\n    makeGETAxiosRequest(api_link, callback);\n}\n\nexport function getUserByNickname (nickname, callback) {\n    const api_link = `${host}/api/users/get_user_by_nickname/${nickname}`;\n    makeGETAxiosRequest(api_link, callback);\n}\n\n","import React, { useContext } from \"react\";\nimport SelectMultipleWithSuggest from \"./SelectMultipleWithSuggest\";\nimport { prepareSiteAddress } from \"../../UtilityFunctions\";\nimport { GeneralContext } from \"../contexts/GeneralContext\";\n\nexport function prepareSitesOption (arr, to_include_address, isFromSiteLogs) {\n    return arr.map(site => {\n        const { \n            site_code, site_id\n        } = site;\n\n        let address = site_code.toUpperCase();\n        \n        if (to_include_address) address = prepareSiteAddress(site, true, \"start\");\n\n        // check sites if on-event\n        let color = \"black\";\n        let event_id = null;\n        if (typeof isFromSiteLogs !== \"undefined\" && isFromSiteLogs !== null) {\n            const { latest, extended, overdue } = isFromSiteLogs;\n            const merged_latest = [...latest, ...overdue];\n            const sc = site_code.toLowerCase();\n\n            // const is_ev = merged_latest.find(x => x.event.site.site_code === sc);\n            // const is_ex = extended.find(x => x.event.site.site_code === sc);\n            const ev_index = merged_latest.findIndex(x => x.event.site.site_code === sc);\n            const ex_index = extended.findIndex(x => x.event.site.site_code === sc);\n            \n            if (ev_index > -1) {\n                color = \"red\"; \n                event_id = merged_latest[ev_index].event.event_id; \n            }\n            if (ex_index > -1) {\n                color = \"green\";\n                event_id = extended[ex_index].event.event_id;\n            }\n        }\n\n        return { value: site_id, label: address, data: site, color, event_id };\n    });\n}\n\nfunction DynaslopeSiteSelectInputForm (props) {\n    const { \n        value, changeHandler, isMulti,\n        renderDropdownIndicator, includeAddressOnOptions,\n        returnSiteDataCallback, isFromSiteLogs,\n        disabled, customPlaceholder, isClearable,\n        required, isError, helperText\n    } = props;\n    const { sites } = useContext(GeneralContext);\n\n    const to_include_address = typeof includeAddressOnOptions === \"undefined\" ? true : includeAddressOnOptions;\n    const options = prepareSitesOption(sites, to_include_address, isFromSiteLogs);\n\n    const is_multi = (typeof isMulti === \"undefined\") ? false : isMulti;\n    let placeholder = is_multi ? \"Select site(s)\" : \"Select site\";\n    placeholder = customPlaceholder || placeholder;\n    const to_render_dropdown = (typeof renderDropdownIndicator === \"undefined\") ? false : renderDropdownIndicator;\n    const is_clearable = (typeof isClearable === \"undefined\") ? false : isClearable;\n\n    let pass_value = value;\n    if (value !== \"\" && value !== null) {\n        const { label, value: site_id } = value;\n        const callback = typeof returnSiteDataCallback === \"undefined\" ? false : returnSiteDataCallback;\n        if (callback) {\n            const site = sites.find(o => o.site_id === site_id);\n            if (typeof site !== \"undefined\") returnSiteDataCallback(site);\n        }\n\n        if (typeof label === \"undefined\" && !is_multi) {\n            pass_value = options[site_id - 1];\n        }\n    }\n\n    let label = isMulti ? \"Site(s)\" : \"Site\";\n    if (required) label += \" *\";\n\n    return (\n        <SelectMultipleWithSuggest\n            isRequired={Boolean(required)}\n            label={label}\n            options={options}\n            value={pass_value}\n            changeHandler={changeHandler}\n            placeholder={placeholder}\n            renderDropdownIndicator={to_render_dropdown}\n            openMenuOnClick\n            isMulti={is_multi}\n            isDisabled={Boolean(disabled)}\n            isClearable={is_clearable}\n            isError={Boolean(isError)}\n            helperText={helperText}\n        />\n    );\n}\n\nexport default DynaslopeSiteSelectInputForm;","import React, { useState, useEffect } from \"react\";\n\nimport {\n    Dialog, DialogTitle, DialogContent,\n    DialogContentText, DialogActions,\n    Button, withMobileDialog, \n    makeStyles, Grid, Tooltip,\n    FormControl, FormControlLabel, Checkbox\n} from \"@material-ui/core\";\n\nimport { MuiPickersUtilsProvider, KeyboardDateTimePicker } from \"@material-ui/pickers\";\nimport MomentUtils from \"@date-io/moment\";\nimport moment from \"moment\";\nimport { useSnackbar } from \"notistack\";\n\nimport { getRainInformation } from \"../ajax\";\nimport { SlideTransition, FadeTransition } from \"../../reusables/TransitionList\";\nimport DynaslopeSiteSelectInputForm from \"../../reusables/DynaslopeSiteSelectInputForm\";\n\nconst useStyles = makeStyles(theme => ({\n    inputGridContainer: {\n        marginTop: 6,\n        marginBottom: 6\n    },\n    checkboxGridContainer: {\n        marginTop: 12,\n        marginBottom: 6\n    },\n    selectInput: {\n        width: \"auto\",\n        [theme.breakpoints.down(\"xs\")]: {\n            width: \"250px\"\n        }\n    },\n    root: {\n        width: \"90%\",\n    },\n    backButton: {\n        marginRight: 1\n    },\n    instructions: {\n        marginTop: 1,\n        marginBottom: 1,\n    },\n    link: { textDecoration: \"none\" }\n}));\n\n\nfunction getSiteCodes (site_list) {\n    const site_codes = [];\n    site_list.forEach((row, index) => {\n        const { data: { site_code, barangay, municipality, province } } = row;\n        const site_info = `Brgy. ${barangay}, ${municipality}, ${province}`;\n        site_codes.push({ site_code, site_info });\n    });\n\n    return site_codes;\n}\n\nfunction LoadTemplateModal (props) {\n    const {\n        fullScreen, isOpen, inputFieldLength,\n        clickHandler, setComposedMessage,\n        maxCharacters\n    } = props;\n\n    const classes = useStyles();\n\n    const [date_time, setDateTime] = useState(moment().format(\"YYYY-MM-DD HH:mm:ss\"));\n    const [site_list, setSiteList] = useState(null);\n    const [express, setExpress] = useState(true);\n    const { enqueueSnackbar, closeSnackbar } = useSnackbar();\n    const update_datetime = value => setDateTime(moment(value).format(\"YYYY-MM-DD HH:mm:ss\"));\n\n    const update_site_value = value => {\n        setSiteList(value);\n    };\n\n    const expressRainInfo = event => setExpress(event.target.checked);\n\n    const snackBarActionFn = key => {\n        return (<Button\n            color=\"primary\"\n            onClick={() => { closeSnackbar(key); }}\n        >\n            Dismiss\n        </Button>);\n    };\n\n    const getRainInformationFunction = () => {\n        const site_details = getSiteCodes(site_list);\n        const is_express = express;\n        const as_of = moment(date_time).format(\"LLL\");\n        const final_data = {\n            is_express,\n            site_details,\n            date_time,\n            as_of\n        };\n\n        getRainInformation(final_data, data => {\n            const { status, message, ewi } = data;\n            setComposedMessage(ewi.slice(0, inputFieldLength));\n            \n            let snackbar_message = message;\n            let variant = \"error\";\n            if (status === true) {\n                clickHandler();\n                variant = \"success\";\n                if (ewi.length > inputFieldLength) {\n                    variant = \"warning\";\n                    snackbar_message = `Rainfall information message is trimmed down because of length restrictions (max characters: ${maxCharacters})`;\n                }\n            }\n\n            enqueueSnackbar(\n                snackbar_message,\n                {\n                    variant,\n                    autoHideDuration: 3000,\n                    action: snackBarActionFn\n                }\n            );\n        });\n    };\n\n    const [is_disabled, setIsDisabled] = useState(true);\n    useEffect(() => {\n        setIsDisabled(date_time === null || site_list === null);\n    }, [date_time, site_list]);\n\n    return (\n        <Dialog\n            fullWidth\n            fullScreen={fullScreen}\n            open={isOpen}\n            aria-labelledby=\"form-dialog-title\"\n            TransitionComponent={fullScreen ? SlideTransition : FadeTransition}      \n        >\n            <DialogTitle id=\"form-dialog-title\">\n                Load Rainfall Information\n            </DialogTitle>\n            <DialogContent>\n                <DialogContentText>\n                    Fill-up the form with needed data.\n                </DialogContentText>\n                <Grid\n                    container \n                    spacing={1} \n                    alignItems=\"center\"\n                    justify=\"space-evenly\"\n                >\n                    <Grid item xs={12} className={classes.inputGridContainer}>\n                        <DynaslopeSiteSelectInputForm \n                            value={site_list}\n                            changeHandler={update_site_value}\n                            isMulti                    \n                        />\n                    </Grid>\n                    <Grid item xs={6} className={classes.inputGridContainer}>\n                        <Tooltip \n                            title=\"Example tooltip\"\n                            placement=\"top\"\n                            interactive\n                        >\n                            <FormControl>\n                                <FormControlLabel\n                                    control={\n                                        <Checkbox\n                                            checked={express}\n                                            onChange={expressRainInfo}\n                                            value=\"checkedB\"\n                                            color=\"primary\"\n                                        />\n                                    }\n                                    label=\"Express data in percentage\"\n                                />\n                            </FormControl>\n                        </Tooltip>\n                    </Grid>\n                    <Grid item xs={6} className={classes.inputGridContainer}>\n                    \n                        <MuiPickersUtilsProvider utils={MomentUtils}>\n                            <KeyboardDateTimePicker\n                                required\n                                autoOk\n                                label=\"Data timestamp\"\n                                value={date_time}\n                                onChange={update_datetime}\n                                ampm={false}\n                                placeholder=\"2010/01/01 00:00\"\n                                format=\"YYYY/MM/DD HH:mm\"\n                                mask=\"____/__/__ __:__\"\n                                clearable\n                                disableFuture\n                            />\n                        </MuiPickersUtilsProvider>\n                    </Grid>\n                </Grid>\n               \n            </DialogContent>\n               \n            <DialogActions>\n                <Button color=\"primary\" onClick={() => getRainInformationFunction()} disabled={is_disabled}>\n                    Select\n                </Button>\n                <Button onClick={clickHandler}>\n                    Cancel\n                </Button>\n            </DialogActions>\n        </Dialog>\n    );\n}\n\nexport default withMobileDialog()(LoadTemplateModal);\n","import React, { Fragment } from \"react\";\nimport {\n    FormControl, InputLabel, Select,\n    MenuItem, withStyles, FormHelperText\n} from \"@material-ui/core\";\n\nconst styles = theme => ({\n    formControl: {\n        minWidth: 120\n    }\n});\n\nfunction SelectInputForm (props) {\n    const {\n        classes, list, mapping,\n        label, div_id,\n        changeHandler, value, css,\n        error, required,\n        disabled, helperText\n    } = props;\n\n    const is_required = typeof required !== \"undefined\" ? required : false;\n    const is_error = typeof error !== \"undefined\" ? error : false;\n\n    return (\n        <Fragment>\n            <FormControl \n                required={is_required}\n                error={is_error}\n                className={`${classes.formControl} ${css}`} \n                fullWidth\n            >\n                <InputLabel htmlFor={div_id}>{label}</InputLabel>\n                <Select\n                    value={value}\n                    onChange={changeHandler}\n                    name={div_id}\n                    inputProps={{\n                        id: div_id,\n                    }}\n                    disabled={disabled}\n                >\n                    <MenuItem value=\"\">\n                        <em>---</em>\n                    </MenuItem>\n                    {\n                        list.map((item, i) => (\n                            <MenuItem value={item[mapping.id]} key={i}>{item[mapping.label]}</MenuItem>\n                        ))\n                    }\n                </Select>\n                { Boolean(helperText) && <FormHelperText>{helperText}</FormHelperText> }\n            </FormControl>\n        </Fragment>\n    );\n    \n}\n\nexport default withStyles(styles)(SelectInputForm);\n","import React, { Fragment, useState, useEffect } from \"react\";\nimport {\n    IconButton, TextField, Typography,\n    Grid, Menu, MenuItem, Divider,\n    FormControlLabel, Checkbox, Button\n} from \"@material-ui/core\";\nimport { SendRounded, MoreVert } from \"@material-ui/icons\";\n\nimport { MuiPickersUtilsProvider, KeyboardDateTimePicker } from \"@material-ui/pickers\";\nimport MomentUtils from \"@date-io/moment\";\n\nimport LoadTemplateModal from \"./LoadTemplateModal\";\nimport SelectInputForm from \"../../reusables/SelectInputForm\";\nimport { getCurrentUser } from \"../../sessions/auth\";\nimport { getAllSmsPriority } from \"../ajax\";\n\n\nfunction MessageInputTextbox (props) {\n    const {\n        limitRows, value, disableSend,\n        messageChangeHandler, sendButtonClickHandler,\n        setComposedMessage, fromEWIModal,\n        setPriority, setTsSending,\n        priority, tsSending\n    } = props;\n    const limit = limitRows === undefined ? true : limitRows;\n    const [is_modal_open, setIsModalOpen] = useState(false);\n    // const [ts_sending, setTsSending] = useState(null);\n    const [schedule_sending, setScheduleSending] = useState(false);\n    // const [priority, setPriority] = useState(\"-\");\n    const [priority_list, setPriorityList] = useState([]);\n\n    useEffect(() => {\n        if (!fromEWIModal) {\n            getAllSmsPriority(data => {\n                const list = data.filter(x => Boolean(x.list_as_option));\n                const default_prio = data.find(x => x.name === \"Default\");\n                setPriorityList(list);\n                setPriority(default_prio.priority_id);\n            });\n        }\n    }, [fromEWIModal]);\n\n    useEffect(() => {\n        if (!schedule_sending && setTsSending) setTsSending(null);\n    }, [schedule_sending]);\n\n    const [anchor, setAnchor] = useState(null);\n    const onMenuClick = event => setAnchor(event.currentTarget);\n    const onMenuClose = () => setAnchor(null);\n\n    const [is_more_options, setMoreOptions] = useState(false);\n\n    const onGenerateRainInfoClick = () => {\n        setIsModalOpen(true);\n        onMenuClose();\n    };\n\n    const onMoreOptionsClick = () => {\n        setMoreOptions(true);\n        onMenuClose();\n    };\n\n    const onCancelOptionsClick = () => {\n        setMoreOptions(false);\n    };\n\n    const { nickname } = getCurrentUser();\n    const message_ender = ` - ${nickname} from PHIVOLCS-DYNASLOPE`;\n\n    const max_chars = 1000;\n    const total_length = value.length + message_ender.length;\n\n    return (\n        <Fragment>\n            <Grid container spacing={1} alignItems=\"center\" style={{ paddingTop: 16 }}>\n                <Grid item xs={fromEWIModal ? 12 : 10} sm={fromEWIModal ? 12 : 11}>\n                    <TextField\n                        id=\"message_textbox\"\n                        label=\"Message\"\n                        multiline\n                        rows=\"4\"\n                        rowsMax={ limit ? 4 : 10 }\n                        fullWidth\n                        margin=\"dense\"\n                        variant=\"filled\"\n                        inputProps={{ maxLength: max_chars }}\n                        value={value}\n                        onChange={messageChangeHandler}\n                    />\n                    <Typography variant=\"caption\" align=\"right\" component=\"div\">\n                        <strong>Character count (including signature): {total_length}/{max_chars}</strong>\n                    </Typography>        \n                </Grid>\n\n                {\n                    !fromEWIModal && <Fragment>\n                        <Grid item xs={1} container direction=\"column\">\n                            <IconButton\n                                color=\"primary\"\n                                aria-label=\"Send message\"\n                                onClick={sendButtonClickHandler}\n                                disabled={disableSend}\n                                title=\"Send message\"\n                            >\n                                <SendRounded />\n                            </IconButton>\n                    \n                            <IconButton\n                                color=\"primary\"\n                                aria-label=\"More options\"\n                                aria-controls=\"simple-menu\"\n                                aria-haspopup=\"true\"\n                                onClick={onMenuClick}\n                                title=\"More options\"\n                            >\n                                <MoreVert />\n                            </IconButton>\n\n                            <Menu\n                                id=\"simple-menu\"\n                                anchorEl={anchor}\n                                keepMounted\n                                open={Boolean(anchor)}\n                                onClose={onMenuClose} \n                            >\n                                <MenuItem onClick={onMoreOptionsClick}>\n                                    Queue/Schedule message sending\n                                </MenuItem> \n                                <MenuItem onClick={onGenerateRainInfoClick}>\n                                    Generate rainfall information\n                                </MenuItem>\n                            </Menu>\n                        </Grid>\n\n                        {\n                            is_more_options && <Fragment>\n                                <Grid item xs={12}>\n                                    <Divider style={{ margin: \"12px 0\" }}/>\n                                </Grid>\n                        \n                                <Typography variant=\"body1\" component={Grid} item xs={8}>\n                                    <strong>Message options</strong>    \n                                </Typography>\n\n                                <Typography variant=\"body2\" component={Grid} item xs={4} align=\"right\">\n                                    <Button color=\"primary\" onClick={onCancelOptionsClick}>\n                                        Hide\n                                    </Button>\n                                </Typography>\n\n                                <Grid item xs={4} sm={3} style={{ textAlign: \"center\" }}>\n                                    <FormControlLabel\n                                        control={<Checkbox\n                                            checked={schedule_sending}\n                                            onChange={x => setScheduleSending(x.target.checked)}\n                                            name=\"checkedA\"\n                                        />}\n                                        label=\"Schedule\"\n                                    />\n                                </Grid>\n\n                                <MuiPickersUtilsProvider utils={MomentUtils}>\n                                    <Grid item xs={8} sm={6}>\n                                        <KeyboardDateTimePicker\n                                            autoOk\n                                            label=\"Timestamp of sending\"\n                                            value={tsSending}\n                                            onChange={x => setTsSending(x)}\n                                            ampm={false}\n                                            placeholder=\"2010/01/01 00:00\"\n                                            format=\"YYYY/MM/DD HH:mm\"\n                                            mask=\"____/__/__ __:__\"\n                                            clearable\n                                            fullWidth\n                                            disablePast\n                                            disabled={!schedule_sending}\n                                        />\n                                    </Grid>\n                                </MuiPickersUtilsProvider>\n\n                                <Grid item xs={12} sm={3}>\n                                    <SelectInputForm\n                                        div_id=\"sms-priority\"\n                                        label=\"Priority\"\n                                        list={priority_list}\n                                        mapping={{ id: \"priority_id\", label: \"name\" }}\n                                        value={priority}\n                                        changeHandler={event => setPriority(event.target.value)}\n                                    />\n                                </Grid>\n                            </Fragment>\n                        }\n                    </Fragment>\n                }\n            </Grid>\n\n            <LoadTemplateModal\n                isOpen={is_modal_open} \n                setComposedMessage={setComposedMessage}\n                clickHandler={() => setIsModalOpen(false)}\n                maxCharacters={max_chars}\n                inputFieldLength={max_chars - message_ender.length}\n            />\n        </Fragment>\n    );\n}\n\nexport default MessageInputTextbox;\n","import React, { Fragment } from \"react\";\nimport { withStyles } from \"@material-ui/core/styles\";\nimport FormControlLabel from \"@material-ui/core/FormControlLabel\";\nimport Checkbox from \"@material-ui/core/Checkbox\";\n\nconst styles = theme => ({\n    checkboxes: {\n        paddingTop: 4,\n        paddingBottom: 4\n    }\n});\n\nfunction CheckboxesGroup (props) {\n    const {\n        classes, changeHandler,\n        choices, checkboxStyle\n    } = props;\n\n    return (\n        <Fragment>\n            {\n                choices.map(({ state, value, label: clabel, is_disabled }, i) => (\n                    <FormControlLabel\n                        key={i}\n                        control={\n                            <Checkbox\n                                checked={state}\n                                onChange={changeHandler(value)}\n                                value={value}\n                                disabled={\n                                    typeof is_disabled === \"undefined\" ?\n                                        false : is_disabled\n                                }\n                                className={classes.checkboxes}\n                            />\n                        }\n                        label={clabel}\n                        className={checkboxStyle}\n                    />\n                ))\n            }\n        </Fragment>\n    );\n}\n\nexport default withStyles(styles)(CheckboxesGroup);","import React, { useState, useContext } from \"react\";\nimport {\n    Dialog, DialogTitle, DialogContent,\n    DialogContentText, DialogActions,\n    Button, withMobileDialog, IconButton, makeStyles,\n    FormControl, FormLabel, FormGroup,\n    FormControlLabel, Checkbox\n} from \"@material-ui/core\";\nimport { CheckCircle, RemoveCircle } from \"@material-ui/icons\";\nimport CheckboxGroup from \"../../reusables/CheckboxGroup\";\nimport { SlideTransition, FadeTransition } from \"../../reusables/TransitionList\";\nimport { GeneralContext } from \"../../contexts/GeneralContext\";\nimport { getRecipientsList } from \"../ajax\";\n\nconst useStyles = makeStyles(theme => ({\n    formControl: {\n        width: \"-webkit-fill-available\",\n        marginTop: 8,\n        \"&:first-child\": {\n            marginTop: 12,\n        }\n    },\n    formLabel: {\n        display: \"flex\",\n        alignItems: \"center\",\n        justifyContent: \"space-between\",\n        width: \"100%\"\n    },\n    checkboxSites: {\n        flex: \"1 1 25%\",\n        [theme.breakpoints.down(\"xs\")]: {\n            \"&:last-child\": {\n                flexBasis: \"58.5%\"\n            }\n        },\n        [theme.breakpoints.up(\"sm\")]: {\n            flexBasis: \"17%\"\n        },\n        [theme.breakpoints.up(\"md\")]: {\n            flexBasis: \"9%\"\n        },\n    },\n    checkboxOrganizations: {\n        flex: \"1 1 45%\",\n        [theme.breakpoints.up(\"sm\")]: {\n            flexBasis: \"17%\",\n            \"&:last-child\": {\n                flexBasis: \"77%\"\n            }\n        },\n        [theme.breakpoints.up(\"md\")]: {\n            flexBasis: \"9%\",\n            \"&:last-child\": {\n                flexBasis: \"45%\"\n            }\n        },\n    },\n    checkboxGroup: {\n        flexDirection: \"row\",\n        paddingTop: 6\n    },\n    buttons: {\n        [theme.breakpoints.down(\"xs\")]: {\n            padding: \"12px 6px\"\n        }\n    }\n}));\n\nfunction renderCheckboxes (classes, entry, state_handlers) {\n    const { state_list, group, list } = entry;\n    const { handleCheckAll, handleChange } = state_handlers;\n    const lgroup = group.toLowerCase();\n\n    return (\n        <FormControl component=\"fieldset\" className={classes.formControl} key={group}>\n            <FormLabel component=\"legend\" className={classes.formLabel}>\n                <span>{group}</span>\n\n                <span>\n                    {\n                        [\n                            { label: \"Check all\", component: <CheckCircle />, bool: true },\n                            { label: \"Uncheck all\", component: <RemoveCircle />, bool: false }\n                        ].map(line => (\n                            <IconButton\n                                aria-label={line.label}\n                                color=\"primary\"\n                                className={classes.buttons}\n                                onClick={handleCheckAll(lgroup, line.bool)}\n                                key={line.label}\n                            >\n                                {line.component}\n                            </IconButton>\n                        ))\n                    }\n                </span>\n            </FormLabel>\n            <FormGroup className={classes.checkboxGroup}>\n                <CheckboxGroup\n                    choices={list.map(x => listMapper(x, group, state_list))}\n                    changeHandler={handleChange(lgroup)}\n                    checkboxStyle={classes[`checkbox${group}`]}\n                />\n            </FormGroup>\n        </FormControl>\n    );\n}\n\nfunction listMapper (x, group, state_list) {\n    let id;\n    if (group === \"Sites\") {\n        id = \"site_id\";\n    } else if (group === \"Organizations\") {\n        id = \"org_id\";\n    }\n\n    const arr = state_list.filter(row => row.value === x[id]);\n    return arr.pop();\n}\n\nfunction QuickSelectModal (props) {\n    const {\n        fullScreen, isOpen, closeHandler,\n        setRecipients\n    } = props;\n    const classes = useStyles();\n\n    const { sites: site_list, organizations: org_list } = useContext(GeneralContext);\n\n    const initial_sites = site_list.map(row => ({\n        label: row.site_code.toUpperCase(),\n        value: row.site_id,\n        state: false\n    }));\n\n    const initial_orgs = org_list.map(row => {\n        let pre = \"\";\n        switch (row.scope) {\n            case 1:\n                pre = \"Barangay \"; break;\n            case 2:\n                pre = \"Municipal \"; break;\n            case 3:\n                pre = \"Provincial \"; break;\n            case 4:\n                pre = \"Regional \"; break;\n            case 5:\n                pre = \"National \"; break;\n            default:\n                break;\n        }\n\n        return {\n            label: pre + row.name.toUpperCase(),\n            value: row.org_id,\n            state: false\n        };\n    });\n\n    const [only_ewi_recipients, setOnlyEwiRecipients] = useState(false);\n    const [sites, setSites] = useState(initial_sites);\n    const [organizations, setOrganizations] = useState(initial_orgs);\n\n    const handleChange = prop => val => e => {\n        const is_checked = e.target.checked;\n\n        if (prop === \"only_ewi_recipient\") {\n            setOnlyEwiRecipients(is_checked);\n        } else {\n            let list;\n            let setter;\n            if (prop === \"sites\") {\n                list = sites;\n                setter = setSites;\n            } else if (prop === \"organizations\") {\n                list = organizations;\n                setter = setOrganizations;\n            }\n\n            const index = list.findIndex(x => x.value === val);\n            list[index].state = is_checked;\n            setter([ ...list ]);\n        }\n    };\n        \n    const handleCheckAll = (prop, bool) => () => {\n        let list;\n        let setter;\n        if (prop === \"sites\") {\n            list = sites;\n            setter = setSites;\n        } else if (prop === \"organizations\") {\n            list = organizations;\n            setter = setOrganizations;\n        }\n\n        const arr = list.map(x => ({ ...x, state: bool }));\n        setter([ ...arr ]);\n    };\n\n    const state_handlers = { handleCheckAll, handleChange };\n\n    const selectHandler = () => {\n        const site_ids = [];\n        const org_ids = [];\n\n        sites.forEach(row => {\n            if (row.state) site_ids.push(row.value);\n        });\n\n        organizations.forEach(row => {\n            if (row.state) org_ids.push(row.value);\n        });\n\n        const payload = {\n            site_ids,\n            org_ids,\n            only_ewi_recipients\n        };\n\n        getRecipientsList(payload, response => {\n            const temp = response.map(row => {\n                const { label, mobile_id, org, sim_num } = row;\n                let fin_label = label;\n                if (org !== \"\") fin_label = `${label} (${org})`;\n                fin_label += ` - ${sim_num}`;\n\n                const chip_label = `${label} - ${sim_num}`;\n\n                return {\n                    label: fin_label,\n                    chipLabel: chip_label,\n                    value: mobile_id,\n                    sim_num,\n                    data: row\n                };\n            });\n            \n            setRecipients(temp);\n        });\n\n        closeHandler();\n    };\n\n    return (\n        <div>\n            <Dialog\n                fullWidth\n                fullScreen={fullScreen}\n                open={isOpen}\n                aria-labelledby=\"form-dialog-title\"\n                TransitionComponent={fullScreen ? SlideTransition : FadeTransition}\n                maxWidth=\"md\"\n            >\n                <DialogTitle id=\"form-dialog-title\">\n                    Select recipients\n                </DialogTitle>\n                <DialogContent>\n                    <DialogContentText>\n                        Choose your preferred sites and offices as message recipients.\n                    </DialogContentText>\n                    \n                    <FormControl className={classes.formControl}>\n                        <FormControlLabel\n                            control={\n                                <Checkbox\n                                    checked={only_ewi_recipients}\n                                    onChange={e => setOnlyEwiRecipients(e.target.checked)}\n                                    value=\"only_ewi_recipients\"\n                                    className={classes.checkboxes}\n                                />\n                            }\n                            label=\"Only EWI Recipients\"\n                        />\n                    </FormControl>\n\n                    {\n                        [\n                            { state_list: organizations, group: \"Organizations\", list: org_list },\n                            { state_list: sites, group: \"Sites\", list: site_list }\n                        ].map(row => renderCheckboxes(classes, row, state_handlers))\n                    }\n                </DialogContent>\n                <DialogActions>\n                    <Button onClick={selectHandler} color=\"primary\">\n                        Select\n                    </Button>\n                    <Button onClick={closeHandler}>\n                        Cancel\n                    </Button>\n                </DialogActions>\n            </Dialog>\n        </div>\n    );\n}\n\nexport default withMobileDialog()(QuickSelectModal);\n","import React, { useState, Fragment, useEffect } from \"react\";\nimport { useSnackbar } from \"notistack\";\nimport { IconButton, Grid, Button, CircularProgress } from \"@material-ui/core\";\nimport { AddBox } from \"@material-ui/icons\";\nimport MessageInputTextbox from \"./MessageInputTextbox\";\nimport SelectMultipleWithSuggest from \"../../reusables/SelectMultipleWithSuggest\";\nimport QuickSelectModal from \"./QuickSelectModal\";\nimport { getEWISMSRecipients, sendMessage, queueMessage, cancelQueuedMessage } from \"../ajax\";\nimport { getCurrentUser } from \"../../sessions/auth\";\n\nfunction base_fn (props, func_specific) {\n    const { \n        prepare_payload, enqueueSnackbar, modalStateHandler,\n        closeSnackbar, snackBarActionFn, task_id\n    } = props;\n\n    const { \n        loading_message, success_message, error_message,\n        ajaxFunction\n    } = func_specific;\n    \n    const payload = prepare_payload();\n\n    if (task_id) payload.task_id = task_id;\n\n    const loading_snackbar = enqueueSnackbar(\n        loading_message,\n        {\n            variant: \"warning\",\n            persist: true\n        }\n    );\n\n    modalStateHandler();\n\n    ajaxFunction(payload, response => {\n        closeSnackbar(loading_snackbar);\n        const { message, status } = response;\n        let temp = message;\n        let variant;\n\n        if (status) {\n            variant = \"success\";\n            temp = success_message;\n        } else variant = \"error\";\n        \n        enqueueSnackbar(\n            temp,\n            {\n                variant,\n                autoHideDuration: 7000,\n                action: snackBarActionFn\n            }\n        );\n    }, () => {\n        closeSnackbar(loading_snackbar);\n        enqueueSnackbar(\n            error_message,\n            {\n                variant: \"error\",\n                autoHideDuration: 7000,\n                action: snackBarActionFn\n            }\n        );\n    });\n}\n\nfunction on_send_message_fn (props, from_ewi_modal = true) {\n    let func_specific = { \n        loading_message: \"Sending EWI SMS...\",\n        success_message: \"EWI SMS sent!\",\n        error_message: \"Error sending EWI SMS...\",\n        ajaxFunction: sendMessage\n    };\n\n    if (!from_ewi_modal) {\n        func_specific = { \n            loading_message: \"Sending message...\",\n            success_message: \"Message sent!\",\n            error_message: \"Error sending message...\",\n            ajaxFunction: sendMessage\n        };\n    }\n    \n    base_fn(props, func_specific);\n}\n\nfunction on_queue_fn (props, from_ewi_modal = true) {\n    let func_specific = { \n        loading_message: \"Queueing EWI SMS...\",\n        success_message: \"EWI SMS sending successfully queued!\",\n        error_message: \"Error queueing EWI SMS...\",\n        ajaxFunction: queueMessage\n    };\n\n    if (!from_ewi_modal) {\n        func_specific = { \n            loading_message: \"Queueing message...\",\n            success_message: \"Message sending successfully queued!\",\n            error_message: \"Error queueing message...\",\n            ajaxFunction: queueMessage\n        };\n    }\n    \n    base_fn(props, func_specific);\n}\n\nfunction on_cancel_queue_fn (props) {\n    const func_specific = { \n        loading_message: \"Canceling queued EWI SMS...\",\n        success_message: \"Queued EWI SMS succesfully canceled!\",\n        error_message: \"Error canceling queued EWI SMS...\",\n        ajaxFunction: cancelQueuedMessage\n    };\n\n    base_fn(props, func_specific);\n}\n\nfunction SendMessageForm (props) {\n    const {\n        textboxValue, disableQuickSelect,\n        releaseId, modalStateHandler,\n        recipientsList, fromEWIModal,\n        // all the following is used only in EWISmsModal\n        eventId, siteCode, updateSentStatusObj,\n        prescribedReleaseTime, ewiModalTriggers\n    } = props;\n    const { enqueueSnackbar, closeSnackbar } = useSnackbar();\n\n    const current_user = getCurrentUser();\n\n    const [recipients, setRecipients] = useState([]);\n    const [options, setOptions] = useState([]);\n    const [quick_select, setQuickSelect] = useState(false);\n    const [composed_message, setComposedMessage] = useState(textboxValue);\n    const [priority, setPriority] = useState(\"\");\n    const [ts_sending, setTsSending] = useState(null);\n    const [sendButtonFunction, setSendButtonFunction] = useState(null);\n\n    const disable_select = typeof disableQuickSelect === \"undefined\" ? false : disableQuickSelect;\n    const from_ewi_modal = typeof fromEWIModal === \"undefined\" ? false : fromEWIModal;\n\n    const [is_loading_recipients, setIsLoadingRecipients] = useState(false);\n\n    const snackBarActionFn = key => {\n        return (<Button\n            color=\"primary\"\n            onClick={() => { closeSnackbar(key); }}\n        >\n            Dismiss\n        </Button>);\n    };\n\n    const prepare_payload = () => {\n        const recipient_list = [];\n\n        if (from_ewi_modal) {\n            recipients.forEach(row => {\n                const { data } = row;\n                const { mobile_numbers } = data;\n\n                mobile_numbers.forEach(item => recipient_list.push({\n                    mobile_id: item.mobile_number.mobile_id,\n                    gsm_id: item.mobile_number.gsm_id,\n                    data\n                }));\n            });\n        } else {\n            recipients.forEach(({ data: { mobile_id, gsm_id } }) => {\n                recipient_list.push({\n                    mobile_id, gsm_id\n                });\n            });\n        }\n\n        const formatted_message = `${composed_message} - ${current_user.nickname} from PHIVOLCS-DYNASLOPE`;\n\n        let payload = {\n            sms_msg: formatted_message,\n            recipient_list,\n            is_ewi: from_ewi_modal,\n            priority: parseInt(priority, 10) || null,\n            ts_sending: ts_sending ? ts_sending.format(\"YYYY-MM-DD HH:mm:ss\") : null,\n            user_id: current_user.user_id,\n        };\n\n        if (from_ewi_modal) {\n            const { site_id, type } = updateSentStatusObj;\n\n            payload = {\n                ...payload,\n                release_id: releaseId,\n                event_id: eventId,\n                site_id,\n                alert_db_group: type,\n                prescribed_release_time: prescribedReleaseTime,\n                site_code: siteCode\n            };\n        }\n\n        return payload;\n    };\n\n    useEffect(() => {\n        if (typeof siteCode !== \"undefined\") {\n            setIsLoadingRecipients(true);\n            getEWISMSRecipients(siteCode, ewi_recipients_list => {\n                const temp_ewi_recipients = [];\n                const default_recipients = [];\n\n                const {\n                    type, public_alert_symbol: { alert_level },\n                    highest_event_alert_level\n                } = updateSentStatusObj;\n\n                ewi_recipients_list.forEach(item => {\n                    if (item.mobile_numbers.length > 0) {\n                        const {\n                            user_id, last_name, first_name,\n                            organizations, ewi_recipient, ewi_restriction\n                        } = item;\n                        const { name, scope } = organizations[0].organization;\n                        let org_name = name.toUpperCase();\n                        \n                        if (name === \"lgu\") {\n                            let prefix;\n                            if (scope === 1) prefix = \"B\";\n                            if (scope === 2) prefix = \"M\";\n                            if (scope === 3) prefix = \"P\";\n                            org_name = prefix + org_name;\n                        }\n                    \n                        const temp = {\n                            label: `${last_name}, ${first_name} (${org_name})`,\n                            value: user_id,\n                            data: item\n                        };\n\n                        temp_ewi_recipients.push(temp);\n                        if (ewi_recipient === 1) {\n                            let to_push = true;\n                            if (type === \"extended\") { \n                                // LEWC to MLGU\n                                to_push = false;\n                                const has_extended_routine_restriction = ewi_restriction !== null && ewi_restriction.alert_level === -1;\n                                if ((name === \"lewc\" || (scope < 3 && name === \"lgu\")) && !has_extended_routine_restriction)\n                                    to_push = true; \n                            } else if (ewi_restriction !== null) {\n                                const { alert_level: limit_alert_level } = ewi_restriction;\n                                if ((alert_level !== 0 && alert_level <= limit_alert_level) || \n                                    (alert_level === 0 && highest_event_alert_level <= limit_alert_level))\n                                    to_push = false;\n                            }\n                            \n                            if (to_push) default_recipients.push(temp);\n                        }\n                    }\n                });\n                setOptions(temp_ewi_recipients);\n                setRecipients(default_recipients);\n                setIsLoadingRecipients(false);\n            });\n        }\n    }, [siteCode, updateSentStatusObj]);\n\n    useEffect(() => {\n        if (typeof recipientsList !== \"undefined\") {\n            setIsLoadingRecipients(true);\n            \n            const temp = recipientsList.map(row => {\n                const { label, mobile_id, org, sim_num } = row;\n                let fin_label = label;\n                if (org !== \"\") fin_label = `${label} (${org})`;\n                fin_label += ` - ${sim_num}`;\n\n                const chip_label = `${label} - ${sim_num}`;\n\n                return {\n                    label: fin_label,\n                    chipLabel: chip_label,\n                    value: mobile_id,\n                    sim_num,\n                    data: row\n                };\n            });\n\n            setOptions(temp);\n            setRecipients([]);\n            setIsLoadingRecipients(false);\n        }\n    }, [recipientsList]);\n\n    const temp_props = {\n        prepare_payload, enqueueSnackbar, modalStateHandler,\n        closeSnackbar, snackBarActionFn\n    };\n\n    useEffect(() => {\n        let fn = on_send_message_fn;\n        if (ts_sending) fn = on_queue_fn;\n        setSendButtonFunction(() => fn);\n    }, [ts_sending]);\n\n    useEffect(() => {\n        if (fromEWIModal && ewiModalTriggers.send.trigger) {\n            ewiModalTriggers.send.revert();\n            on_send_message_fn(temp_props);\n        }\n    }, [fromEWIModal, ewiModalTriggers, temp_props]);\n\n    useEffect(() => {\n        if (fromEWIModal && ewiModalTriggers.queue.trigger) {\n            ewiModalTriggers.queue.revert();\n            on_queue_fn(temp_props);\n        }\n    }, [fromEWIModal, ewiModalTriggers, temp_props]);\n\n    useEffect(() => {\n        if (fromEWIModal && ewiModalTriggers.cancel_queue.trigger) {\n            ewiModalTriggers.cancel_queue.revert();\n            temp_props.task_id = ewiModalTriggers.cancel_queue.task_id;\n            on_cancel_queue_fn(temp_props);\n        }\n    }, [fromEWIModal, ewiModalTriggers, temp_props]);\n\n    useEffect(() => {\n        if (fromEWIModal) {\n            ewiModalTriggers.disable_send_queue_buttons(recipients === null || recipients.length === 0);\n        }\n    }, [fromEWIModal, recipients, ewiModalTriggers]);\n\n    const handle_message_fn = event => setComposedMessage(event.target.value);\n\n    const is_recipients_empty = recipients === null || recipients.length === 0;\n    const is_message_empty = composed_message === \"\" || typeof composed_message === \"undefined\";\n\n    return (\n        <Fragment>\n            <Grid container justify=\"space-around\" alignItems=\"flex-end\">\n                {\n                    is_loading_recipients && (\n                        <Grid item xs={1}>\n                            <CircularProgress size={20} />\n                        </Grid>\n                    )\n                }\n\n                <Grid item xs>\n                    <SelectMultipleWithSuggest\n                        label=\"Recipients\"\n                        options={options}\n                        value={recipients}\n                        changeHandler={value => setRecipients(value)}\n                        placeholder=\"Select recipients\"\n                        renderDropdownIndicator\n                        openMenuOnClick\n                        isMulti\n                    />\n                </Grid>\n\n                {\n                    !disable_select && (\n                        <Grid item style={{ textAlign: \"right\" }}>\n                            <IconButton\n                                aria-label=\"Quick select option\"\n                                onClick={value => setQuickSelect(true)}\n                            >\n                                <AddBox />\n                            </IconButton>\n                        </Grid>\n                    )\n                }\n            </Grid>\n            \n            <QuickSelectModal\n                isOpen={quick_select}\n                closeHandler={value => setQuickSelect(false)}\n                setRecipients={setRecipients}\n            />\n                \n            <div style={{ marginTop: 16 }}>\n                <MessageInputTextbox\n                    limitRows={false}\n                    value={composed_message}\n                    disableSend={is_recipients_empty || is_message_empty}\n                    sendButtonClickHandler={() => sendButtonFunction(temp_props, false)}\n                    messageChangeHandler={handle_message_fn}\n                    setComposedMessage={setComposedMessage}\n                    disableTemplateLoader={from_ewi_modal}\n                    fromEWIModal={from_ewi_modal}\n                    setPriority={setPriority}\n                    setTsSending={setTsSending}\n                    priority={priority}\n                    tsSending={ts_sending}\n                />\n            </div>\n                \n        </Fragment>\n    );\n}\n\nexport default SendMessageForm;\n","import React, { useState } from \"react\";\nimport {\n    Dialog, DialogTitle, DialogContent,\n    DialogContentText, DialogActions,\n    Button, withMobileDialog, IconButton,\n    CircularProgress\n} from \"@material-ui/core\";\nimport { Close } from \"@material-ui/icons\";\nimport SendMessageForm from \"../../communication/chatterbox/SendMessageForm\";\nimport { SlideTransition, FadeTransition } from \"../../reusables/TransitionList\";\n\nfunction SendEwiSmsModal (props) {\n    const {\n        fullScreen, modalStateHandler,\n        modalState, textboxValue, releaseDetail\n    } = props;\n\n    const { \n        release_id, site_code, is_onset_release,\n        not_yet_sending_time, is_queued, \n        prescribed_release_time, event_id, is_sms_sent\n    } = releaseDetail;\n\n    const show_queue_buttons = !is_onset_release && not_yet_sending_time;\n\n    const [to_trigger_send, setToTriggerSend] = useState(false);\n    const clickSend = () => setToTriggerSend(true);\n\n    const [to_trigger_queue, setToTriggerQueue] = useState(false);\n    const clickQueue = () => setToTriggerQueue(true);\n\n    const [to_trigger_cancel_queue, setToTriggerCancelQueue] = useState(false);\n    const clickCancelQueue = () => setToTriggerCancelQueue(true);\n\n    const [to_disable_send_queue, setToDisableSendQueue] = useState(true);\n\n    const ewiModalTriggers = {\n        send: {\n            trigger: to_trigger_send,\n            revert: () => setToTriggerSend(false)\n        },\n        queue: {\n            trigger: to_trigger_queue,\n            revert: () => setToTriggerQueue(false),\n        },\n        cancel_queue: {\n            task_id: is_queued ? is_queued.remarks : null,\n            trigger: to_trigger_cancel_queue,\n            revert: () => setToTriggerCancelQueue(false)\n        },\n        disable_send_queue_buttons: setToDisableSendQueue\n    };\n\n    return (\n        <Dialog\n            fullWidth\n            fullScreen={fullScreen}\n            open={modalState}\n            aria-labelledby=\"form-dialog-title\"\n            TransitionComponent={fullScreen ? SlideTransition : FadeTransition}\n                    \n        >\n            <DialogTitle id=\"form-dialog-title\">\n                <div style={{ display: \"flex\", alignItems: \"center\", justifyContent: \"space-between\" }}>\n                    <span>Send Early Warning Information</span>\n                    <IconButton \n                        color=\"inherit\" \n                        onClick={modalStateHandler}\n                        aria-label=\"Close\"\n                        style={{ padding: 0 }}\n                    >\n                        <Close />\n                    </IconButton>\n                </div>\n            </DialogTitle>\n            <DialogContent style={{ overflowY: \"auto\" }}>\n                <DialogContentText>\n                    Early warning information recipients for this site is already pre-loaded. Add additional site-related contacts\n                    if necessary. Use Chatterbox for non-site-related contacts.\n                </DialogContentText>\n\n                <div style={{ marginTop: 20, textAlign: \"center\" }}>\n                    {\n                        textboxValue !== null ? <SendMessageForm\n                            isMobile={fullScreen}\n                            textboxValue={textboxValue}\n                            disableQuickSelect\n                            releaseId={release_id}\n                            eventId={event_id}\n                            siteCode={site_code}\n                            updateSentStatusObj={releaseDetail}\n                            modalStateHandler={modalStateHandler}\n                            prescribedReleaseTime={prescribed_release_time}\n                            fromEWIModal\n                            ewiModalTriggers={ewiModalTriggers}\n                        /> : <CircularProgress />\n                    }\n                </div>\n            </DialogContent>\n            <DialogActions>\n                {\n                    show_queue_buttons && !is_queued && (\n                        <Button onClick={clickQueue} color=\"primary\" \n                            disabled={textboxValue === null || to_disable_send_queue}>\n                            Queue\n                        </Button>\n                    )\n                }\n                {\n                    show_queue_buttons && is_queued && (\n                        <Button color=\"primary\" onClick={clickCancelQueue}>\n                            Cancel Queue\n                        </Button>\n                    )\n                }\n                {\n                    !not_yet_sending_time && <Button onClick={clickSend} color=\"primary\"\n                        disabled={textboxValue === null || to_disable_send_queue}>\n                        { is_sms_sent ? \"Send Again\" : \"Send\" }\n                    </Button>\n                }\n                <Button onClick={modalStateHandler} color=\"primary\">\n                    Cancel\n                </Button>\n            </DialogActions>\n        </Dialog>\n    );\n}\n\nexport default withMobileDialog()(SendEwiSmsModal);\n","import React, { Fragment } from \"react\";\nimport {\n    Dialog, DialogTitle, DialogContent,\n    DialogContentText, DialogActions,\n    Button, withMobileDialog, IconButton,\n    Grid, CircularProgress, makeStyles\n} from \"@material-ui/core\";\nimport { Close } from \"@material-ui/icons\";\nimport { useSnackbar } from \"notistack\";\n\nimport GeneralStyles from \"../../../GeneralStyles\";\nimport { getCurrentUser } from \"../../sessions/auth\";\nimport MessageInputTextbox from \"../../communication/chatterbox/MessageInputTextbox\";\nimport {\n    sendRoutineEwiMessage, queueRoutineEwiMessage,\n    cancelQueuedRoutineEwiMessage\n} from \"../../communication/ajax\";\nimport { SlideTransition, FadeTransition } from \"../../reusables/TransitionList\";\n\nconst useStyles = makeStyles(theme => GeneralStyles(theme));\n\nfunction SendRoutineMessageForm (props) {\n    const {\n        is_loading_recipients, textboxValue,\n        sendHandler\n    } = props;\n\n    return (\n        <Fragment>\n            <Grid container justify=\"space-around\" alignItems=\"flex-end\">\n                {\n                    is_loading_recipients && (\n                        <Grid item xs={1}>\n                            <CircularProgress size={20} />\n                        </Grid>\n                    )\n                }\n            </Grid>\n\n            <div style={{ marginTop: 16 }}>\n                <MessageInputTextbox\n                    limitRows={false}\n                    value={textboxValue}\n                    disableSend={false}\n                    sendButtonClickHandler={sendHandler}\n                    messageChangeHandler={() => console.log(\"tried msg change\")}\n                    disableTemplateLoader\n                    fromEWIModal\n                />\n            </div>\n                \n        </Fragment>\n    );\n}\n\nfunction SendRoutineEwiSmsModal (props) {\n    const {\n        fullScreen, modalStateHandler,\n        modalState, textboxValue, routineData\n    } = props;\n    const classes = useStyles();\n\n    const {\n        released_sites, prescribed_release_time,\n        not_yet_sending_time, is_sms_sent, is_sms_queued\n    } = routineData;\n\n    const { enqueueSnackbar, closeSnackbar } = useSnackbar();\n    const snackBarActionFn = key => {\n        return (<Button\n            color=\"primary\"\n            onClick={() => { closeSnackbar(key); }}\n        >\n            Dismiss\n        </Button>);\n    };\n\n    const baseFn = func_specific => {\n        const {\n            loading_message, success_message, error_message,\n            ajaxFunction\n        } = func_specific;\n        const { user_id, nickname } = getCurrentUser();\n        const input = {\n            alert_db_group: \"routine\",\n            site_list: released_sites,\n            prescribed_release_time,\n            user_id,\n            nickname \n        };\n        if (is_sms_queued) {\n            input.task_id = is_sms_queued.remarks;\n        }\n\n        const loading_snackbar = enqueueSnackbar(\n            loading_message,\n            { variant: \"warning\", persist: true }\n        );\n        modalStateHandler();\n\n        ajaxFunction(input, response => {\n            closeSnackbar(loading_snackbar);\n            console.log(response);\n\n            let message = success_message;\n            let options = {\n                variant: \"success\",\n                autoHideDuration: 7000,\n                action: snackBarActionFn\n            };\n            if (!response.status) {\n                const temp = response.site_ids.map(x => x.toUpperCase());\n                message = `Some problems occurred sending EWI SMS to ${temp.join(\", \")}`;\n                options = {\n                    variant: \"error\",\n                    persist: true,\n                    action: snackBarActionFn\n                };\n            }\n\n            enqueueSnackbar(message, options);\n        }, error_response => {\n            console.log(\"error_response\", error_response);\n            enqueueSnackbar(\n                error_message,\n                {\n                    variant: \"error\",\n                    autoHideDuration: 7000,\n                    action: snackBarActionFn\n                }\n            );\n        });\n    };\n    \n    const sendHandler = () => {\n        const func_specific = { \n            loading_message: \"Sending routine EWI SMS...\",\n            success_message: \"Routine EWI SMS sent!\",\n            error_message: \"Error sending routine EWI SMS...\",\n            ajaxFunction: sendRoutineEwiMessage\n        };\n\n        baseFn(func_specific);\n    };\n\n    const queueHandler = () => {\n        const func_specific = { \n            loading_message: \"Queueing routine EWI SMS...\",\n            success_message: \"Routine EWI SMS sucessfully queued!\",\n            error_message: \"Error queueing routine EWI SMS...\",\n            ajaxFunction: queueRoutineEwiMessage\n        };\n\n        baseFn(func_specific);\n    };\n\n    const cancelQueueHandler = () => {\n        const func_specific = { \n            loading_message: \"Canceling queued routine EWI SMS...\",\n            success_message: \"Queued routine EWI SMS succesfully canceled!\",\n            error_message: \"Error canceling queued routine EWI SMS...\",\n            ajaxFunction: cancelQueuedRoutineEwiMessage\n        };\n\n        baseFn(func_specific);\n    };\n    \n    return (\n        <Dialog\n            fullWidth\n            fullScreen={fullScreen}\n            open={modalState}\n            aria-labelledby=\"form-dialog-title\"\n            TransitionComponent={fullScreen ? SlideTransition : FadeTransition}\n                    \n        >\n            <DialogTitle id=\"form-dialog-title\">\n                <div style={{ display: \"flex\", alignItems: \"center\", justifyContent: \"space-between\" }}>\n                    <span>Send Routine Early Warning Information</span>\n                    <IconButton \n                        color=\"inherit\" \n                        onClick={modalStateHandler}\n                        aria-label=\"Close\"\n                        style={{ padding: 0 }}\n                    >\n                        <Close />\n                    </IconButton>\n                </div>\n            </DialogTitle>\n            <DialogContent style={{ overflowY: \"hidden\" }}>\n                <DialogContentText>\n                    Early warning information recipients for this site is already pre-loaded. \n                    Recipients are LEWC, Barangay, and Municipal LGUs per site. If you need to add a new recipient, \n                    add a new community contact via chatterbox.\n                </DialogContentText>\n\n                <DialogContentText className={classes.dyna_error}>\n                    NOTE: Ensure first that alerts for ALL sites under routine monitoring has been released before sending \n                    routine EWI SMS. Sending routine EWI in multiple batches will result in message duplication on our stakeholders.\n                </DialogContentText>\n                        \n                <div style={{ marginTop: 20 }}>\n                    <SendRoutineMessageForm\n                        isMobile={fullScreen}\n                        textboxValue={textboxValue}\n                        disableQuickSelect\n                        sendHandler={sendHandler}\n                        fromEWIModal\n                        updateSentStatusObj=\"\"\n                        modalStateHandler={modalStateHandler}\n                    />\n                </div>\n            </DialogContent>\n            <DialogActions>\n                {\n                    not_yet_sending_time && !is_sms_queued && (\n                        <Button onClick={queueHandler} color=\"primary\">\n                            Queue\n                        </Button>\n                    )\n                }\n                {\n                    not_yet_sending_time && is_sms_queued && (\n                        <Button color=\"primary\" onClick={cancelQueueHandler}>\n                            Cancel Queue\n                        </Button>\n                    )\n                }\n                {\n                    !not_yet_sending_time && <Button onClick={sendHandler} color=\"primary\">\n                        { is_sms_sent ? \"Send Again\" : \"Send\" }\n                    </Button>\n                }\n                <Button onClick={modalStateHandler} color=\"primary\">\n                    Cancel\n                </Button>\n            </DialogActions>\n        </Dialog>\n    );\n}\n\nexport default withMobileDialog()(SendRoutineEwiSmsModal);\n","import React, { Fragment, useState, useContext } from \"react\";\nimport {\n    Grid, Typography,\n    Divider, Button\n} from \"@material-ui/core\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport ContentLoader from \"react-content-loader\";\n\nimport moment from \"moment\";\n\nimport Accordion from \"@material-ui/core/Accordion\";\nimport AccordionDetails from \"@material-ui/core/AccordionDetails\";\nimport AccordionSummary from \"@material-ui/core/AccordionSummary\";\nimport AccordionActions from \"@material-ui/core/AccordionActions\";\nimport Tooltip from \"@material-ui/core/Tooltip\";\nimport {\n    Publish, Description, PhoneAndroid,\n    Done, Timeline, Schedule, Warning, Help,\n    AlarmOn, Cancel\n} from \"@material-ui/icons\";\n\nimport GeneralStyles from \"../../../GeneralStyles\";\nimport ValidationModal from \"./ValidationModal\";\nimport useModal from \"../../reusables/useModal\";\nimport BulletinModal from \"../../widgets/bulletin/BulletinModal\";\nimport { getEWIMessage, getRoutineEWIMessage } from \"../ajax\";\nimport SendEwiSmsModal from \"./SendEwiSmsModal\";\nimport SendRoutineEwiSmsModal from \"./SendRoutineEwiSmsModal\";\nimport { capitalizeFirstLetter } from \"../../../UtilityFunctions\";\nimport { ServerTimeContext } from \"../../contexts/ServerTimeContext\";\nimport { GeneralContext } from \"../../contexts/GeneralContext\";\n\nconst useStyles = makeStyles(theme => {\n    const general_styles = GeneralStyles(theme);\n    return {\n        ...general_styles,\n        root: {\n            width: \"100%\",\n        },\n        sectionHead: {\n            ...general_styles.sectionHead,\n            marginBottom: 24\n        },\n        AccordionSummaryContent: { justifyContent: \"space-between\" },\n        invalidCandidate: {\n            background: \"linear-gradient(45deg, #FE6B8B 30%, #FF8E53 90%)\"\n        },\n        validCandidate: {\n            background: \"linear-gradient(315deg, #00b712 0%, #5aff15 74%)\"\n        },\n        partialInvalidCandidate: {\n            background: \"linear-gradient(315deg, #bbf0f3 0%, #f6d285 74%)\"\n        },\n        inputWidth: { width: \"50%\" },\n    };\n});\n\nfunction format_ts (ts) {\n    return moment(ts).format(\"DD MMMM YYYY, HH:mm\");\n}\n\nconst MyLoader = () => (\n    <ContentLoader \n        height={60}\n        width={700}\n        speed={0.5}\n        foregroundColor=\"#f3f3f3\"\n        backgroundColor=\"#ecebeb\"\n        style={{ width: \"100%\" }}\n    >\n        <rect x=\"-4\" y=\"5\" rx=\"4\" ry=\"4\" width=\"700\" height=\"111\" /> \n    </ContentLoader>\n);\n\nfunction CandidateAlertsAccordion (props) {\n    const { \n        alertData, classes, expanded,\n        handleExpansion, index, releaseFormOpenHandler,\n        isShowingValidation, toggleValidation, validationDetails\n    } = props;\n    const { sites } = useContext(GeneralContext);\n\n    let site = \"\";\n    let ts = \"\";\n    let ia_level = \"\";\n    let trigger_arr = [];\n    let has_new_triggers = false;\n    const {\n        general_status, is_release_time,\n        unresolved_moms_list\n    } = alertData;\n\n    const routine_a0 = [];\n    const routine_nd = [];\n    let routine_overdue = [];\n\n    const { validity_status: vs } = alertData;\n    let validity_status = \"valid\";\n    if (typeof vs !== \"undefined\") {\n        validity_status = vs;\n    }\n    \n    if (general_status === \"routine\") {\n        const { data_ts, public_alert_symbol, overdue_routine_list, routine_details } = alertData;\n        site = \"ROUTINE RELEASE\";\n        ts = format_ts(data_ts);\n        ia_level = public_alert_symbol;\n        routine_overdue = overdue_routine_list;\n        routine_details.forEach(el => {\n            if (el.internal_alert_level === \"ND\" && sites !== null) {\n                el.site_id_list.forEach( id => {\n                    const r_site = sites.filter( row => {\n                        return row.site_id === id;\n                    });\n                    routine_nd.push(r_site[0]);\n                });\n            }\n            if (el.internal_alert_level === \"A0\" && sites !== null) {\n                el.site_id_list.forEach( id => {\n                    const r_site = sites.filter( row => {\n                        return row.site_id === id;\n                    });\n                    routine_a0.push(r_site[0]);\n                });\n            }\n        });   \n    } else {\n        const { \n            site_code, release_details, internal_alert_level,\n            trigger_list_arr\n        } = alertData;\n        const { data_ts } = release_details;\n        site = site_code;\n        ts = format_ts(data_ts);\n        ia_level = internal_alert_level;\n        trigger_arr = typeof trigger_list_arr === \"undefined\" ? [] : trigger_list_arr;\n        has_new_triggers = trigger_arr !== \"No new triggers\" && trigger_arr.length > 0;\n    }\n    site = site.toUpperCase();\n    const gen_status = general_status.toUpperCase();\n\n    let root_style = classes.alert0;\n    if (validity_status === \"invalid\") root_style = classes.alert3;\n    else if (validity_status === \"partially valid\") root_style = classes.alert2;\n\n    return (\n        <Accordion\n            key={`panel-${index + 1}`}\n            expanded={expanded === `panel${index}`}\n            onChange={handleExpansion(`panel${index}`)}\n        >\n            <AccordionSummary\n                // expandIcon={<ExpandMoreIcon />}\n                aria-controls={`panel${index}bh-content`}\n                id={`panel${index}bh-header`}\n                classes={{\n                    content: classes.AccordionSummaryContent,\n                    root: root_style\n                }}\n            >\n                {\n                    [site, ts, validity_status.toUpperCase(), gen_status].map((elem, i) => (\n                        <Typography\n                            key={`candidate-column-${i + 1}`}\n                            color=\"textSecondary\"\n                            variant=\"body2\"\n                        >\n                            {elem}\n                        </Typography>\n                    ))\n                }\n            </AccordionSummary>\n            <Divider style={{ marginBottom: 12 }} />\n            <AccordionDetails>\n\n                <Grid container spacing={1}>\n                    <Grid item xs={12} container spacing={1}>\n                        <Grid item xs={12} sm align=\"center\">\n                            <Typography component=\"span\" variant=\"body1\" color=\"textSecondary\" style={{ paddingRight: 8 }}>Data Timestamp:</Typography>\n                            <Typography component=\"span\" variant=\"body1\" color=\"textPrimary\">{ts}</Typography>\n                        </Grid>\n                        <Grid item xs={12} sm align=\"center\">\n                            <Typography component=\"span\" variant=\"body1\" color=\"textSecondary\" style={{ paddingRight: 8 }}>Internal Alert:</Typography>\n                            <Typography component=\"span\" variant=\"body1\" color=\"textPrimary\">{ia_level}</Typography>\n                        </Grid>\n                    </Grid>\n\n                    <Grid item xs={12} style={{ margin: \"6px 0\" }}><Divider /></Grid>\n\n                    <Grid item xs={12} container spacing={1}>\n                        { \n                            gen_status === \"ROUTINE\" ? (\n                                <Grid item xs={12} container spacing={2} justify=\"space-between\">\n                                    <Grid item container xs={12} md={12}>\n                                        <Grid item xs={12}>\n                                            <Typography variant=\"h6\">\n                                                <strong>A0</strong>\n                                            </Typography>\n                                        </Grid>\n                                        {\n                                            routine_a0.length > 0 ? (\n                                                routine_a0.map( row => {\n                                                    return (\n                                                        <Grid item md={1} xs={2} key={row.site_code} style={{ padding: 3 }} >\n                                                            <Typography \n                                                                variant=\"body1\"> \n                                                                {row.site_code.toUpperCase()}\n                                                            </Typography>\n                                                        </Grid>\n                                                    );\n                                                })\n                                            ) : (\n                                                <Typography variant=\"subtitle2\">None</Typography>\n                                            )\n                                        }\n                                    </Grid>\n\n                                    <Grid item container xs={12} md={12} alignItems=\"center\" >\n                                        <Grid item xs={12}>\n                                            <Typography variant=\"h6\">\n                                                <strong>ND</strong>\n                                            </Typography>\n                                        </Grid>\n                                        {\n                                            routine_nd.length > 0 && typeof routine_nd !== \"undefined\" ? ( \n                                                routine_nd.map( row => {\n                                                    return (\n                                                        <Grid item md={1} xs={2} key={row.site_id} style={{ padding: 3 }} >\n                                                            <Typography \n                                                                variant=\"body1\"> \n                                                                {row.site_code.toUpperCase()}\n                                                            </Typography>\n                                                        </Grid>\n                                                    );\n                                                })\n                                            ) : (\n                                                <Typography variant=\"subtitle2\">None</Typography>\n                                            )\n                                        }\n                                    </Grid>\n                                    \n                                    <Grid item container xs={12} md={12}>\n                                        { \n                                            routine_overdue.length > 0 && (\n                                                <Fragment>\n                                                    <Grid item xs={12} className={classes.routineSitesContainer}>\n                                                        <Typography variant=\"h6\">\n                                                            <strong>Overdue</strong>\n                                                        </Typography>\n                                                    </Grid>\n\n                                                    {\n                                                        routine_overdue.map(row => (\n                                                            <Grid item md={1} xs={2} key={row.site_code} style={{ justifyItems: \"center\", padding: 3 }} >\n                                                                <Typography \n                                                                    variant=\"body1\"> \n                                                                    {row.site_code.toUpperCase()}\n                                                                </Typography>\n                                                            </Grid>\n                                                        ))\n                                                    }\n                                                </Fragment>\n                                            )\n                                        }\n                                    </Grid>\n                                </Grid> \n                            ) : (\n                                <div style={{ width: \"100%\" }}>\n                                    <Grid item xs={12} md={12}>\n                                        <Typography variant=\"subtitle2\" color=\"textPrimary\">TRIGGERS</Typography>\n                                    </Grid>\n                       \n                                    <Grid item xs={12} container spacing={2} alignItems=\"center\" >\n                                        {\n                                            has_new_triggers ? (\n                                                trigger_arr.map((trigger, key) => {\n                                                    const { \n                                                        ts_updated, alert, tech_info,\n                                                        trigger_id, trigger_type\n                                                    } = trigger;\n\n                                                    const formatted_ts = format_ts(ts_updated);\n                                                    let trigger_validity = \"Valid\";\n                                                    let to_validate = false;\n                                                    let is_validating = false;\n\n                                                    try {\n                                                        const { validating_status } = trigger;\n                                                        if (validating_status === 0) {\n                                                            trigger_validity = \"Validating\";\n                                                            is_validating = true;\n                                                            to_validate = true;\n                                                        } else if (validating_status === null) {\n                                                            trigger_validity = \"---\";\n                                                            to_validate = true;\n                                                        } else if (validating_status === 1) {\n                                                            to_validate = false;\n                                                        }\n                                                    } catch (err) { /* pass */ }\n\n                                                    try {\n                                                        const { invalid } = trigger;\n                                                        if (invalid) {\n                                                            trigger_validity = \"Invalid\";\n                                                        }\n                                                    } catch (err) { /* pass */ }\n\n                                                    const to_show_validate_button = [\"surficial\", \"rainfall\", \"subsurface\"].includes(trigger_type) && to_validate;\n\n                                                    return (\n                                                        <Fragment key={`trigger-${trigger_type}-${alert}`} >\n                                                            <Grid item xs align=\"center\">\n                                                                <Typography variant=\"body1\" color=\"textSecondary\">Trigger</Typography>\n                                                                <Typography variant=\"body1\" color=\"textPrimary\">{alert}</Typography>\n                                                            </Grid>\n\n                                                            <Grid item xs={4} align=\"center\">\n                                                                <Typography variant=\"body1\" color=\"textSecondary\">Trigger timestamp</Typography>\n                                                                <Typography variant=\"body1\" color=\"textPrimary\">{formatted_ts}</Typography>\n                                                            </Grid>\n                                                            {/* \n                                                    NOTE: Pwedeng ipakita, pwedeng hindi, commented out just in case need\n                                                    <Grid item xs={6} align=\"center\">\n                                                        <Typography variant=\"body1\" color=\"textSecondary\">Tech Info</Typography>\n                                                        <Typography variant=\"body1\" color=\"textPrimary\">{tech_info}</Typography>\n                                                    </Grid> \n                                                */}\n                                                            <Grid item xs align={to_show_validate_button ? \"flex-start\" : \"center\"}>\n                                                                <Typography component=\"span\" variant=\"body1\" color=\"textSecondary\" style={{ paddingRight: 8 }}>Status:</Typography>\n                                                                <Typography component=\"span\" variant=\"body1\" color=\"textPrimary\">{trigger_validity}</Typography>\n                                                            </Grid>\n\n                                                            {\n                                                                to_show_validate_button && (\n                                                                    <Grid item xs justify=\"flex-end\" container>\n                                                                        <Button\n                                                                            onClick={toggleValidation(true, {\n                                                                                site, trigger_id, ts_updated\n                                                                            })}\n                                                                            variant=\"contained\" color=\"secondary\"\n                                                                            size=\"small\" aria-label=\"Validate trigger\"\n                                                                        >\n                                                                            Validate\n                                                                        </Button>\n                                                                    </Grid>\n                                                                )\n                                                            }\n                                                            <ValidationModal\n                                                                isShowing={isShowingValidation}\n                                                                data={validationDetails}\n                                                                hide={toggleValidation(false, {})}\n                                                                isValidating={is_validating}\n                                                            />\n                                                            {\n                                                                trigger_arr.length > key + 1 && (\n                                                                    <Grid item xs={12} style={{ margin: \"6px 0\" }}><Divider /></Grid>\n                                                                )\n                                                            }\n                                                        </Fragment>\n                                                    );\n                                                })\n                                            ) : (\n                                                <Fragment >\n                                                    <Grid item xs={12} align=\"center\">\n                                                        <Typography variant=\"body1\" color=\"textSecondary\">No new triggers</Typography>\n                                                    </Grid>\n                                                </Fragment>\n                                            )\n                                        }\n                                    </Grid>\n                                </div>\n                            )\n                        }\n                    </Grid>\n                        \n                    {\n                        typeof unresolved_moms_list !== \"undefined\" && unresolved_moms_list.length > 0 && (\n                            <Fragment>\n                                <Grid item xs={12} container spacing={1}>\n                                    <Grid item xs={12} style={{ margin: \"6px 0\" }}><Divider /></Grid>\n                                    \n                                    <Grid item xs={12}>\n                                        <Typography variant=\"subtitle2\" color=\"textPrimary\">UNRESOLVED MOMS LIST</Typography>\n                                    </Grid>\n                        \n                                    <Grid item xs={12} container spacing={2} alignItems=\"center\">\n                                        {\n                                            unresolved_moms_list.map((row, key) => {\n                                                const { moms_instance, observance_ts, op_trigger } = row;\n                                                const { feature: { feature_type }, feature_name } = moms_instance;\n                                                const feature = `${capitalizeFirstLetter(feature_type)} ${feature_name.toUpperCase()}`;\n                                                const formatted_ts = format_ts(observance_ts);\n\n                                                return (\n                                                    <Fragment key={row.moms_id}>\n                                                        <Grid item xs align=\"center\">\n                                                            <Typography variant=\"body1\" color=\"textSecondary\">Feature</Typography>\n                                                            <Typography variant=\"body1\" color=\"textPrimary\">{feature}</Typography>\n                                                        </Grid>\n\n                                                        <Grid item xs={4} align=\"center\">\n                                                            <Typography variant=\"body1\" color=\"textSecondary\">Last Report</Typography>\n                                                            <Typography variant=\"body1\" color=\"textPrimary\">{formatted_ts}</Typography>\n                                                        </Grid>\n\n                                                        <Grid item xs align=\"center\">\n                                                            <Typography variant=\"body1\" color=\"textSecondary\">Alert Level</Typography>\n                                                            <Typography variant=\"body1\" color=\"textPrimary\">{op_trigger}</Typography>\n                                                        </Grid>\n\n                                                        {\n                                                            unresolved_moms_list.length > key + 1 && (\n                                                                <Grid item xs={12} style={{ margin: \"6px 0\" }}><Divider /></Grid>\n                                                            )\n                                                        }\n                                                    </Fragment>\n                                                );\n                                            })\n                                        }\n                                    </Grid>\n                                </Grid>\n                            </Fragment>\n                        )\n                    }\n                </Grid>\n            </AccordionDetails>\n            <Divider />\n            <AccordionActions>\n                <Button\n                    color=\"secondary\" size=\"small\"\n                    aria-label=\"Release candidate alert\"\n                    startIcon={<Publish />}\n                    onClick={releaseFormOpenHandler(alertData, general_status)}\n                    disabled={!is_release_time}\n                >\n                    Release\n                </Button>\n            </AccordionActions>\n        </Accordion>\n    );\n}\n\nfunction LatestSiteAlertsAccordion (props) {\n    const { \n        siteAlert, classes, expanded,\n        handleExpansion, smsHandler,\n        bulletinHandler, keyName, type,\n        history\n    } = props;\n    const {\n        event, internal_alert_level, releases,\n        day, sent_statuses, public_alert_symbol,\n        is_onset_release, prescribed_release_time,\n        has_alert_release_today, highest_event_alert_level\n    } = siteAlert;\n    const { alert_level } = public_alert_symbol;\n    const { server_time } = useContext(ServerTimeContext);\n\n    const { validity, site, event_start, event_id } = event;\n    const { site_code, site_id } = site;\n    const site_name = site_code.toUpperCase();\n    \n    const start_ts = format_ts(event_start);\n    const validity_ts = format_ts(validity);\n\n    const { release_id, data_ts, release_time } = releases[0];\n    let adjusted_data_ts = data_ts;\n    if (!is_onset_release) adjusted_data_ts = moment(data_ts).add(30, \"minutes\");\n    adjusted_data_ts = format_ts(adjusted_data_ts);\n\n    const panel_headers = [site_name, internal_alert_level];\n    if (type === \"extended\") {\n        let notice = \"\";\n        if (!has_alert_release_today) {\n            notice = <Tooltip \n                arrow title=\"Don't forget to release today's site alert for extended monitoring!\"\n            >\n                <Warning \n                    fontSize=\"small\" style={{ marginLeft: 8 }} \n                    className={classes.dyna_error}\n                />\n            </Tooltip>;\n        }\n\n        const day_div = <span \n            style={{ display: \"flex\", alignItems: \"center\" }}\n        >\n            Day {day}{notice}\n        </span>;\n        panel_headers.push(day_div);\n    } else {\n        panel_headers.push(adjusted_data_ts, release_time);\n    }\n\n    const { sms, bulletin } = sent_statuses;\n    const not_yet_sending_time = server_time !== null && moment(server_time).isBefore(prescribed_release_time) && !is_onset_release;\n\n    const check_status = comp_row => {\n        let action = null;\n        if (comp_row !== null) ({ action } = comp_row);\n\n        let icon;\n        if (action === \"send\") icon = <Done />;\n        else if (action === \"error\") icon = <Cancel />;\n        else if (not_yet_sending_time) {\n            if (action === \"queue\") icon = <AlarmOn />;\n            else icon = <Schedule />;\n        } else icon = \"\";\n\n        return icon;\n    };\n\n    const check_comp = (comp_row, action) => comp_row !== null && comp_row.action === action;\n\n    const end_icons = { sms: check_status(sms), bulletin: check_status(bulletin) };\n\n    const tooltip_title_maker = (ewi, comp) => {\n        const lowercase = ewi.toLowerCase();\n        if (lowercase === \"bulletin\" && type === \"extended\") {\n            return \"No need to send EWI bulletin on sites under extended monitoring\";\n        }\n\n        let action = null;\n        if (comp !== null) ({ action } = comp);\n\n        if (action === \"send\") return `EWI ${ewi} sent!`;\n\n        if (action === \"error\") return `Error sending EWI ${ewi}! Retry...`;\n        \n        if (not_yet_sending_time) {\n            if (action === \"queue\") return `EWI ${ewi} already queued for sending`;\n            return `Queue EWI ${ewi} for sending`;\n        }\n\n        return `Send EWI ${ewi}`;\n    };\n\n    const is_sms_queued = check_comp(sms, \"queue\") ? sms : false;\n    const is_sms_sent = check_comp(sms, \"send\");\n    const is_bulletin_queued = check_comp(bulletin, \"queue\") ? bulletin : false;\n    const is_bulletin_sent = check_comp(bulletin, \"send\");\n\n    return (\n        <Accordion\n            expanded={expanded === keyName}\n            onChange={handleExpansion(keyName)}\n        >\n            <AccordionSummary\n                // expandIcon={<ExpandMoreIcon />}\n                aria-controls={`${keyName}bh-content`}\n                id={`${keyName}bh-header`}\n                classes={{\n                    content: classes.AccordionSummaryContent,\n                    root: classes[`alert${alert_level}`]\n                }}\n            >\n                {\n                    panel_headers.map((elem, i) => (\n                        <Typography\n                            key={`exp-columns-${i + 1}`}\n                            color=\"textSecondary\"\n                            variant=\"body2\"\n                        >\n                            {elem}\n                        </Typography>\n                    ))\n                }\n            </AccordionSummary>\n            <Divider style={{ marginBottom: 12 }} />\n            <AccordionDetails>\n                <Grid container spacing={1}>\n                    <Grid item xs={12} container spacing={1}>\n                        <Grid item xs={12} sm align=\"center\">\n                            <Typography component=\"span\" variant=\"body1\" color=\"textSecondary\" style={{ paddingRight: 8 }}>Event Start:</Typography>\n                            <Typography component=\"span\" variant=\"body1\" color=\"textPrimary\">{start_ts}</Typography>\n                        </Grid>\n                        <Grid item xs={12} sm align=\"center\">\n                            <Typography component=\"span\" variant=\"body1\" color=\"textSecondary\" style={{ paddingRight: 8 }}>Event Validity:</Typography>\n                            <Typography component=\"span\" variant=\"body1\" color=\"textPrimary\">{validity_ts}</Typography>\n                        </Grid>\n                    </Grid>\n\n                    <Grid item xs={12} style={{ margin: \"6px 0\" }}><Divider /></Grid>\n\n                    <Grid item xs={12}>\n                        <Typography variant=\"subtitle2\" color=\"textPrimary\">LATEST RELEASE</Typography>\n                    </Grid>\n                        \n                    <Grid item xs={12} container spacing={1}>\n                        {\n                            [\n                                [\"Internal Alert\", internal_alert_level],\n                                [\"Data Timestamp\", format_ts(data_ts)],\n                                [\"Release Time\", release_time]\n                            ].map((row, key) => (\n                                <Grid key={row[0]} item xs align=\"center\">\n                                    <Typography variant=\"body1\" color=\"textSecondary\">{row[0]}</Typography>\n                                    <Typography variant=\"body1\" color=\"textPrimary\">{row[1]}</Typography>\n                                </Grid>\n                            ))\n                        }\n                    </Grid>\n                </Grid>\n            </AccordionDetails>\n            <Divider />\n            <AccordionActions>\n                <Button\n                    size=\"small\" color=\"primary\" \n                    startIcon={<Timeline />}\n                    onClick={() => (history.push(`/monitoring/events/${event_id}`))}\n                    align=\"left\"\n                >\n                    Timeline\n                </Button>\n                <Tooltip \n                    arrow\n                    title={tooltip_title_maker(\"SMS\", sms)}\n                >\n                    <Button\n                        size=\"small\" color=\"primary\" \n                        startIcon={<PhoneAndroid />}\n                        onClick={smsHandler({\n                            release_id, site_code, site_id,\n                            type, public_alert_symbol, highest_event_alert_level,\n                            is_onset_release, not_yet_sending_time,\n                            is_queued: is_sms_queued,\n                            prescribed_release_time, event_id,\n                            is_sms_sent\n                        })}\n                        endIcon={end_icons.sms}\n                        className={check_comp(sms, \"error\") ? classes.dyna_error : \"\"}\n                    >\n                        EWI SMS\n                    </Button>\n                </Tooltip>\n                <Tooltip \n                    arrow\n                    title={tooltip_title_maker(\"Bulletin\", bulletin)}\n                >\n                    <span><Button \n                        size=\"small\" color=\"primary\"\n                        startIcon={<Description />}\n                        onClick={bulletinHandler({\n                            release_id, site_code, site_id,\n                            type, is_bulletin_sent, is_bulletin_queued,\n                            not_yet_sending_time, is_onset_release,\n                            prescribed_release_time, event_id\n                        })}\n                        endIcon={end_icons.bulletin}\n                        className={check_comp(bulletin, \"error\") ? classes.dyna_error : \"\"}\n                        disabled={type === \"extended\"}\n                    >\n                        Bulletin\n                    </Button></span>\n                </Tooltip>\n            </AccordionActions>\n        </Accordion>\n    );\n}\n\nfunction RoutineAccordion (props) {\n    const { \n        siteAlert, classes, expanded,\n        handleExpansion, smsHandler,\n        keyName\n    } = props;\n\n    const { server_time } = useContext(ServerTimeContext);\n    const {\n        released_sites, prescribed_release_time,\n        sent_statuses\n    } = siteAlert;\n\n    let adjusted_data_ts = released_sites[0].data_ts;\n    adjusted_data_ts = format_ts(adjusted_data_ts);\n\n    const { sms } = sent_statuses;\n    const not_yet_sending_time = server_time !== null && moment(server_time).isBefore(prescribed_release_time);\n\n    const check_comp = (comp_row, action) => comp_row !== null && comp_row.action === action;\n    const check_status = comp_row => {\n        let action = null;\n        if (comp_row !== null) ({ action } = comp_row);\n\n        let icon;\n        if (action === \"send\") icon = <Done />;\n        else if (action === \"error\") icon = <Cancel />;\n        else if (not_yet_sending_time) {\n            if (action === \"queue\") icon = <AlarmOn />;\n            else icon = <Schedule />;\n        } else icon = \"\";\n\n        return icon;\n    };\n\n    const end_icon = check_status(sms);\n\n    const tooltip_title_maker = (ewi, comp) => {\n        let action = null;\n        if (comp !== null) ({ action } = comp);\n\n        if (action === \"send\") return `Routine EWI ${ewi} sent!`;\n\n        if (action === \"error\") return `Error sending routine EWI ${ewi}! Resend error via Chatterbox...`;\n        \n        if (not_yet_sending_time) {\n            if (action === \"queue\") return `Routine EWI ${ewi} already queued for sending`;\n            return `Queue routine EWI ${ewi} for sending`;\n        }\n\n        return `Send routine EWI ${ewi}`;\n    };\n\n    const is_sms_queued = check_comp(sms, \"queue\") ? sms : false;\n    const is_sms_sent = check_comp(sms, \"send\");\n\n    return (\n        <Accordion\n            expanded={expanded === keyName}\n            onChange={handleExpansion(keyName)}\n        >\n            <AccordionSummary\n                aria-controls={`${keyName}bh-content`}\n                id={`${keyName}bh-header`}\n                classes={{\n                    content: classes.AccordionSummaryContent,\n                    root: classes.alert0\n                }}\n            >\n                {\n                    [\"ROUTINE\", adjusted_data_ts].map((elem, i) => (\n                        <Typography\n                            key={`exp-columns-${i + 1}`}\n                            color=\"textSecondary\"\n                            variant=\"body2\"\n                        >\n                            {elem}\n                        </Typography>\n                    ))\n                }\n            </AccordionSummary>\n            <Divider style={{ marginBottom: 12 }} />\n            <AccordionDetails>\n                <Grid container spacing={1}>\n                    <Grid item xs={12} container spacing={1}>\n                        <Grid item xs={12} sm align=\"center\">\n                            <Typography component=\"span\" variant=\"body1\" color=\"textSecondary\" style={{ paddingRight: 8 }}>Data Timestamp:</Typography>\n                            <Typography component=\"span\" variant=\"body1\" color=\"textPrimary\">{adjusted_data_ts}</Typography>\n                        </Grid>\n                    </Grid>\n\n                    <Grid item xs={12} style={{ margin: \"6px 0\" }}><Divider /></Grid>\n\n                    <Grid item xs={12}>\n                        <Typography variant=\"subtitle2\" color=\"textPrimary\">ROUTINE SITES</Typography>\n                    </Grid>\n                    \n                    <Grid item xs={12} container spacing={1}>\n                        {\n                            released_sites.map((row, key) => (\n                                <Grid key={`site-${row.site_code}`} item xs={2} align=\"center\">\n                                    <Typography variant=\"body1\" color=\"textSecondary\">{row.site_code.toUpperCase()}</Typography>\n                                </Grid>\n                            ))\n                        }\n                    </Grid>\n                </Grid>\n            </AccordionDetails>\n            <Divider />\n            <AccordionActions>\n                <Tooltip \n                    arrow\n                    title={tooltip_title_maker(\"SMS\", sms)}\n                >\n                    <Button\n                        size=\"small\" color=\"primary\" \n                        startIcon={<PhoneAndroid />}\n                        onClick={smsHandler({\n                            released_sites, prescribed_release_time, sent_statuses,\n                            not_yet_sending_time, is_sms_queued, is_sms_sent\n                        })}\n                        endIcon={end_icon}\n                        className={check_comp(sms, \"error\") ? classes.dyna_error : \"\"}\n                    >\n                        EWI SMS\n                    </Button>\n                </Tooltip>\n            </AccordionActions>\n        </Accordion>\n    );\n}\n\nfunction MonitoringTables (props) {\n    const {\n        candidateAlertsData, alertsFromDbData,\n        releaseFormOpenHandler, history\n    } = props;\n\n    const classes = useStyles();\n    const [expanded, setExpanded] = useState(false);\n    const [isShowingValidation, setIsShowingValidation] = useState(false);\n    const [validation_details, setValidationDetails] = useState({});\n    const { isShowing: isShowingSendEWI, toggle: toggleSendEWI } = useModal();\n    const { isShowing: isShowingSendRoutineEWI, toggle: toggleSendRoutineEWI } = useModal();\n    const [chosenReleaseDetail, setChosenReleaseDetail] = useState({});\n    const [isOpenBulletinModal, setIsOpenBulletinModal] = useState(false);\n    const [routine_data, setRoutineData] = useState({});\n    \n    const handleExpansion = panel => (event, isExpanded) => {\n        setExpanded(isExpanded ? panel : false);\n    };\n\n    const [ewi_message, setEWIMessage] = useState(null);\n    const smsHandler = release => elem_event => {\n        setChosenReleaseDetail(release);\n        toggleSendEWI();\n\n        const { release_id } = release;\n        getEWIMessage(release_id, data => {\n            setEWIMessage(data);\n        });\n    };\n\n    const wrapToggleSendEWI = () => {\n        toggleSendEWI();\n        setEWIMessage(null);\n    };\n\n    const routineSmsHandler = routine_details => () => {\n        getRoutineEWIMessage(data => {\n            setRoutineData(routine_details);\n            setEWIMessage(data);\n            toggleSendRoutineEWI();\n        });\n    };\n\n    const toggleValidation = (bool, data) => () => {\n        setValidationDetails(data);\n        setIsShowingValidation(bool);\n    };\n\n    const bulletinHandler = release => elem_event => {\n        setChosenReleaseDetail(release);\n        setIsOpenBulletinModal(true);\n    };\n\n    let latest_db_alerts = [];\n    let extended_db_alerts = [];\n    let overdue_db_alerts = [];\n    let routine_db_alerts = [];\n    if (alertsFromDbData !== null) {\n        const { latest, extended, overdue, routine } = alertsFromDbData;\n        latest_db_alerts = latest;\n        extended_db_alerts = extended;\n        overdue_db_alerts = overdue;\n        routine_db_alerts = routine;\n    }\n\n    return (\n        <div className={classes.root}>\n            <Grid container className={classes.sectionHeadContainer}>\n                <Grid item xs={12}>\n                    <Typography className={classes.sectionHead} variant=\"h5\">Candidate Alerts</Typography>\n                </Grid>\n\n                <Grid item xs={12} style={{ marginBottom: 22 }}>\n                    {\n                        // eslint-disable-next-line no-nested-ternary\n                        candidateAlertsData === null ? (\n                            <MyLoader />\n                        ) : (\n                            candidateAlertsData.length !== 0 ? (\n                                candidateAlertsData.map((row, index) => (\n                                    <CandidateAlertsAccordion\n                                        key={`exp-${index + 1}`}\n                                        classes={classes}\n                                        alertData={row}\n                                        expanded={expanded}\n                                        handleExpansion={handleExpansion}\n                                        releaseFormOpenHandler={releaseFormOpenHandler}\n                                        index={index}\n                                        isShowingValidation={isShowingValidation}\n                                        toggleValidation={toggleValidation}\n                                        validationDetails={validation_details}\n                                        candidateAlertsData={candidateAlertsData}\n                                    />\n                                ))\n                            ) : (\n                                <Typography variant=\"body1\" align=\"center\">\n                                    No candidate alerts\n                                </Typography>\n                            )\n                        )\n                    }\n                </Grid>\n\n                <Grid item xs={12}>\n                    <Typography className={classes.sectionHead} variant=\"h5\">Event Monitoring</Typography>\n                </Grid>\n\n                <Grid item xs={12} style={{ marginBottom: 22 }}>\n                    {\n                        // eslint-disable-next-line no-nested-ternary\n                        alertsFromDbData === null ? (\n                            <MyLoader />\n                        ) : (\n                            latest_db_alerts.length > 0 ? (\n                                latest_db_alerts.map((row, index) => (\n                                    <LatestSiteAlertsAccordion\n                                        key={`latest-${index + 1}`}\n                                        keyName={`latest-${index + 1}`}\n                                        classes={classes}\n                                        siteAlert={row}\n                                        expanded={expanded}\n                                        handleExpansion={handleExpansion}\n                                        smsHandler={smsHandler}\n                                        bulletinHandler={bulletinHandler}\n                                        type=\"latest\"\n                                        history={history}\n                                    />\n                                ))\n                            ) : (\n                                <Typography variant=\"body1\" align=\"center\">\n                                    No active alerts on database\n                                </Typography>\n                            )\n                        )\n                    }\n                </Grid>\n\n                <Grid item xs={12}>\n                    <Typography className={classes.sectionHead} variant=\"h5\" component={Grid} container alignItems=\"center\">\n                        Overdue Event Monitoring\n                        \n                        <Tooltip\n                            title=\"This section shows all monitoring events that are beyond their validities. Possible causes of not updated validity: no latest release, wrong internal alert to extend validity (for cases like ND).\"\n                            style={{ marginLeft: 8 }}\n                            arrow\n                        >\n                            <Help color=\"primary\" />\n                        </Tooltip>\n                    </Typography>\n                </Grid>\n\n                <Grid item xs={12} style={{ marginBottom: 22 }}>\n                    {\n                        // eslint-disable-next-line no-nested-ternary\n                        alertsFromDbData === null ? (\n                            <MyLoader />\n                        ) : (\n                            overdue_db_alerts.length > 0 ? (\n                                overdue_db_alerts.map((row, index) => (\n                                    <LatestSiteAlertsAccordion\n                                        key={`overdue-alert-${index + 1}`}\n                                        keyName={`overdue-alert-${index + 1}`}\n                                        classes={classes}\n                                        siteAlert={row}\n                                        expanded={expanded}\n                                        handleExpansion={handleExpansion}\n                                        smsHandler={smsHandler}\n                                        index={index}\n                                        bulletinHandler={bulletinHandler}\n                                        type=\"overdue\"\n                                        history={history}\n                                    />\n                                ))\n                            ) : (\n                                <Typography variant=\"body1\" align=\"center\">\n                                    No sites with monitoring events beyond their validity\n                                </Typography>\n                            )\n                        )\n                    }\n                </Grid>\n\n                <Grid item xs={12}>\n                    <Typography className={classes.sectionHead} variant=\"h5\">Extended Monitoring</Typography>\n                </Grid>\n\n                <Grid item xs={12} style={{ marginBottom: 22 }}>\n                    {\n                        // eslint-disable-next-line no-nested-ternary\n                        alertsFromDbData === null ? (\n                            <MyLoader />\n                        ) : (\n                            extended_db_alerts.length > 0 ? (\n                                extended_db_alerts.map((row, index) => (\n                                    <LatestSiteAlertsAccordion\n                                        key={`db-alert-${index + 1}`}\n                                        keyName={`db-alert-${index + 1}`}\n                                        classes={classes}\n                                        siteAlert={row}\n                                        expanded={expanded}\n                                        handleExpansion={handleExpansion}\n                                        smsHandler={smsHandler}\n                                        index={index}\n                                        bulletinHandler={bulletinHandler}\n                                        type=\"extended\"\n                                        history={history}\n                                    />\n                                ))\n                            ) : (\n                                <Typography variant=\"body1\" align=\"center\">\n                                    No sites under extended monitoring\n                                </Typography>\n                            )\n                        )\n                    }\n                </Grid>\n\n                {\n                    // eslint-disable-next-line no-nested-ternary\n                    alertsFromDbData === null ? (\n                        <MyLoader />\n                    ) : (\n                        typeof routine_db_alerts.released_sites !== \"undefined\" && routine_db_alerts.released_sites.length > 0 && (\n                            <Fragment>\n                                <Grid item xs={12}>\n                                    <Typography className={classes.sectionHead} variant=\"h5\">Routine Monitoring</Typography>\n                                </Grid>\n                                <Grid item xs={12} style={{ marginBottom: 22 }}>\n                                    <RoutineAccordion\n                                        key=\"routine-alert-panel\"\n                                        keyName=\"routine-alert-panel\"\n                                        classes={classes}\n                                        siteAlert={routine_db_alerts}\n                                        expanded={expanded}\n                                        handleExpansion={handleExpansion}\n                                        smsHandler={routineSmsHandler}\n                                        index={0}\n                                        bulletinHandler={bulletinHandler}\n                                        type=\"routine\"\n                                        history={history}\n                                    />\n                                </Grid>\n                            </Fragment>\n                        )\n                    )\n                }\n\n                <BulletinModal \n                    classes={classes}\n                    isOpenBulletinModal={isOpenBulletinModal}\n                    setIsOpenBulletinModal={setIsOpenBulletinModal}\n                    releaseDetail={chosenReleaseDetail}\n                />                \n            </Grid>\n\n            <SendEwiSmsModal\n                modalStateHandler={wrapToggleSendEWI} \n                modalState={isShowingSendEWI}\n                textboxValue={ewi_message}\n                releaseDetail={chosenReleaseDetail}\n            />\n\n            {\n                routine_data.released_sites && <SendRoutineEwiSmsModal\n                    modalStateHandler={toggleSendRoutineEWI} \n                    modalState={isShowingSendRoutineEWI}\n                    textboxValue={ewi_message}\n                    routineData={routine_data}\n                />\n            }\n        </div>\n    );\n}\n\nexport default MonitoringTables;","import axios from \"axios\";\nimport moment from \"moment\";\nimport { host } from \"../../config\";\nimport { makeGETAxiosRequest, makePOSTAxiosRequest } from \"../../UtilityFunctions\";\n\n\nexport function getEOSDetails (event_id, shift_ts_end, callback) {\n    const api_link = `${host}/api/end_of_shift/get_eos_email_details/${event_id}/${shift_ts_end}`;\n    makeGETAxiosRequest(api_link, callback);\n}\n\nexport function getShiftData (input, callback) {\n    const api_link = `${host}/api/shift_checker/get_shift_data`;\n    makePOSTAxiosRequest(api_link, input, callback);\n}\n\nexport function getEndOfShiftReports (input, callback) {\n    const {\n        shift_start\n    } = input;\n    const api_link = `${host}/api/end_of_shift/get_end_of_shift_reports/${shift_start}`;\n\n    axios.get(api_link)\n    .then(response => {\n        const { data } = response;\n        console.log(\"EOS Data\", data);\n        callback(data);\n    })\n    .catch(error => {\n        console.error(\"Problem in Axios request\");\n        console.error(error);\n    });\n}\n\nexport function getMonitoringReleases (input, callback) {\n    const {\n        shift_time, start_ts\n    } = input;\n    const time = shift_time === \"am\" ? \"08:00:00\" : \"20:00:00\"; \n\n    const moment_start_ts = moment(start_ts).format(`YYYY-MM-DD ${time}`);\n    const api_link = `${host}/api/monitoring/get_monitoring_releases_for_qa/${moment_start_ts}`;\n    axios.get(api_link)\n    .then(response => {\n        const { data } = response;\n        console.log(\"Releases\", data);\n        callback(data);\n    })\n    .catch(error => {\n        console.error(\"Problem in Axios request\");\n        console.error(error);\n    });\n    return moment_start_ts;\n}\n\nexport function getNarratives (input, callback) {\n    const {\n        include_count, limit, offset,\n        filters, search_str, order_by, order\n    } = input;\n\n    let api_link = `${host}/api/narratives/get_narratives?limit=${limit}&offset=${offset}`;\n    api_link += `&order_by=${order_by}&order=${order}`;\n\n    if (include_count) api_link += \"&include_count=true\";\n\n    if (filters.length !== 0) {\n        const filter_str = filters.map(row => {\n            const { name, data } = row;\n            return data.map(x => `&${name}=${x}`).join(\"\");\n        });\n\n        api_link += filter_str.join(\"\");\n    }\n\n    if (search_str !== \"\") api_link += `&search=${search_str}`;\n\n    axios.get(api_link)\n    .then(response => {\n        const { data } = response;\n        callback(data);\n    })\n    .catch(error => {\n        console.error(error);\n    });\n}\n\nexport function getMonitoringEvents (input, callback) {\n    const {\n        limit, offset, include_count,\n        filters, search_str\n    } = input;\n\n    let api_link = `${host}/api/monitoring/get_monitoring_events?filter_type=complete&offset=${offset}&limit=${limit}`;\n    \n    if (include_count) api_link += \"&include_count=true\";\n\n    if (filters.length > 0) {\n        const filter_str = filters.map(row => {\n            const { name, data } = row;\n            return data.map(x => `&${name}=${x}`).join(\"\");\n        });\n\n        api_link += filter_str.join(\"\");\n    }\n\n    if (search_str !== \"\") api_link += `&search=${search_str}`;\n\n    axios.get(api_link)\n    .then(response => {\n        const { data } = response;\n        callback(data);\n    })\n    .catch(error => {\n        console.log(error);\n    });    \n}\n\nexport function getEventTimelineEntries (input, callback) {\n    const {\n        event_id\n    } = input;\n\n    const api_link = `${host}/api/monitoring/get_event_timeline_data/${event_id}`;\n\n    axios.get(api_link)\n    .then(response => {\n        const { data } = response;\n        console.log(\"Event details\", data);\n        callback(data);\n    })\n    .catch(error => {\n        console.error(\"Problem in getEventTimelineEntries Axios request\");\n        console.error(error);\n    });    \n}\n\nexport function getRoutineEWIMessage (callback) {\n    const api_link = `${host}/api/chatterbox/get_routine_ewi_template`;\n\n    axios.get(api_link)\n    .then(response => {\n        const { data } = response;\n        callback(data);\n    })\n    .catch(error => {\n        console.error(error);\n    });\n}\n\nexport function getEWIMessage (release_id, callback) {\n    const api_link = `${host}/api/chatterbox/get_ewi_message/${release_id}`;\n\n    axios.get(api_link)\n    .then(response => {\n        const { data } = response;\n        callback(data);\n    })\n    .catch(error => {\n        console.error(error);\n    });\n}\n\nexport function getSites (input, callback) {\n    let api_link = `${host}/api/sites/get_sites_data`;\n    if (typeof input !== \"undefined\" && input !== \"\" && input !== null && input.length !== 0) {\n        api_link += `/${input}`;\n    }\n    makeGETAxiosRequest(api_link, callback);\n}\n\nexport function saveEOSDataAnalysis (json_data, callback) {\n    const api_link = `${host}/api/end_of_shift/save_eos_data_analysis`;\n    makePOSTAxiosRequest(api_link, json_data, callback);\n}\n\nexport function downloadEosCharts (json_data, callback) {\n    const api_link = `${host}/api/end_of_shift/download_eos_charts`;\n    axios.post(api_link, json_data, { responseType: \"blob\" })\n    .then((response) => {\n        const { data } = response;\n        callback(data);\n    })\n    .catch((error) => {\n        console.log(error);\n    });\n}\n\nexport function getBulletinEmailDetails (release_id, callback) {\n    const api_link = `${host}/api/monitoring/get_eos_subject/${release_id}`;\n    makeGETAxiosRequest(api_link, callback);\n}\n\nexport function getNarrative (input, callback) {\n    const {\n        shift_ts, event_id\n    } = input;\n\n    const api_link = `${host}/api/end_of_shift/get_narrative/${shift_ts}/${event_id}`;\n    \n    axios.get(api_link)\n    .then(response => {\n        const { data } = response;\n        callback(data);\n    })\n    .catch(error => {\n        console.log(error);\n    });    \n}\n","import React, { useState, Fragment, useContext } from \"react\";\nimport moment from \"moment\";\nimport ContentLoader from \"react-content-loader\";\nimport {\n    Card, CardContent, Typography,\n    Grid, CardActionArea,\n    Button, Dialog, DialogContent,\n    DialogTitle, DialogActions, Divider\n} from \"@material-ui/core\";\nimport { prepareSiteAddress } from \"../../../UtilityFunctions\";\nimport { GeneralContext } from \"../../contexts/GeneralContext\";\n\nfunction searchSites (site_code, sites) {\n    let site_details = null;\n    for (let index = 0; index < sites.length; index += 1) {\n        if (sites[index].site_code === site_code) {\n            site_details = sites[index];\n            break;\n        }\n    }\n    return site_details;\n}\n\nfunction formatTS (ts) {\n    return moment(ts).format(\"D MMMM YYYY, H:mm\");\n}\n\n// eslint-disable-next-line max-params\nfunction getAlertDialog (chosen_site, open, handleClose, sites) {\n    const {\n        site_code, ts, internal_alert, validity, \n        current_trigger_alerts, event_triggers\n    } = chosen_site;\n\n    const site_details = searchSites(site_code, sites);\n    const timestamp = formatTS(ts);\n    const address = prepareSiteAddress(site_details);\n    const rel_trigger_divs = [];\n    let rel_subsurface = null;\n\n    current_trigger_alerts.forEach((trigger) => {\n        const { type, details } = trigger;\n\n        if (type === \"subsurface\") {\n            rel_subsurface = details.trigger_details;\n        } else {\n            const { alert_level, alert_symbol } = details;\n            const rain_gauge = type === \"rainfall\" && alert_level > 0 ? ` (${details.rain_gauge})` : \"\";\n\n            rel_trigger_divs.push(\n                <Grid item xs={12} sm key={type}>\n                    <Typography variant=\"body1\" color=\"textSecondary\" align=\"center\">\n                        {type.charAt(0).toUpperCase() + type.slice(1)} Alert\n                    </Typography>\n                    <Typography variant=\"body1\" color=\"textPrimary\" align=\"center\">\n                        {alert_symbol} \n                        <Typography component=\"span\" variant=\"body2\" color=\"textPrimary\" align=\"center\">\n                            {rain_gauge}\n                        </Typography>\n                    </Typography>\n                </Grid>\n            );\n        }\n    });\n\n    return (\n        <Dialog\n            fullWidth\n            open={open}\n            onClose={handleClose}\n            aria-labelledby=\"alert-dialog-title\"\n            aria-describedby=\"alert-dialog-description\"\n        >\n            <DialogTitle id=\"alert-dialog-title\">\n                <div>{address}</div>\n                <Typography variant=\"body1\" color=\"textSecondary\">\n                    {timestamp}\n                </Typography>\n            </DialogTitle>\n            <DialogContent>\n                <Grid container spacing={1}>\n                    <Grid item xs align=\"center\">\n                        <Typography variant=\"body1\" color=\"textSecondary\">Internal Alert Level</Typography>\n                        <Typography variant=\"body1\" color=\"textPrimary\">\n                            {internal_alert}\n                        </Typography>\n                    </Grid>\n                    {\n                        validity !== \"\" && (\n                            <Grid item xs align=\"center\">\n                                <Typography variant=\"body1\" color=\"textSecondary\">Validity</Typography>\n                                <Typography variant=\"body1\" color=\"textPrimary\">\n                                    {formatTS(validity)}\n                                </Typography>\n                            </Grid>\n                        )\n                    }\n\n                    <Grid item xs={12}><Divider /></Grid>\n\n                    <Grid item xs={12} align=\"center\">\n                        <Typography variant=\"caption\" color=\"textPrimary\">\n                            <strong>OPERATIONAL ALERT STATUS</strong>\n                        </Typography>\n                    </Grid>\n\n                    {\n                        rel_trigger_divs.map(div => div)\n                    }\n\n                    <Grid item xs={12} align=\"center\">\n                        <Typography variant=\"body2\" color=\"textPrimary\">Subsurface Column Status</Typography>\n                    </Grid>\n\n                    {\n                        rel_subsurface.length > 0\n                            ? rel_subsurface.map((trigger) => {\n                                const { alert_symbol, tsm_name, ts: ts_sub_data } = trigger;\n                                return (\n                                    <Grid item xs={12} sm key={tsm_name} align=\"center\">\n                                        <Typography variant=\"body1\" color=\"textSecondary\">{tsm_name.toUpperCase()}</Typography>\n                                        <Typography variant=\"body1\" color=\"textPrimary\">{formatTS(ts_sub_data)}</Typography>\n                                        <Typography variant=\"body1\" color=\"textPrimary\">{alert_symbol}</Typography>\n                                    </Grid>\n                                );\n                            })\n                            : <Grid item xs={12} align=\"center\">\n                                <Typography variant=\"body1\" color=\"textSecondary\">No subsurface sensors available</Typography>\n                            </Grid>\n                    }\n\n                    <Grid item xs={12}><Divider /></Grid>\n\n                    {\n                        event_triggers.length > 0 && (\n                            <Grid item xs={12} align=\"center\">\n                                <Typography variant=\"caption\" color=\"textPrimary\"><strong>EVENT TRIGGERS</strong></Typography>\n                            </Grid>\n                        )\n                    }\n\n                    {\n                        event_triggers.map(trigger => {\n                            const { ts_updated, alert, tech_info, invalid, invalid_details } = trigger;\n                            const formatted_ts = formatTS(ts_updated);\n\n                            return (\n                                <Grid item xs={12} container spacing={1} key={alert}>\n                                    <Grid item xs align=\"center\">\n                                        <Typography variant=\"body1\" color=\"textPrimary\"><strong>Trigger | {alert}</strong></Typography>\n                                    </Grid>\n                                    <Grid item xs align=\"center\">\n                                        <Typography variant=\"body1\" color=\"textPrimary\">{formatted_ts}</Typography>\n                                    </Grid>\n                                    <Grid item xs={12} align=\"center\">\n                                        <Typography variant=\"body2\" color=\"textSecondary\">{tech_info}</Typography>\n                                    </Grid>\n\n                                    {\n                                        typeof invalid !== \"undefined\" && invalid === true && (\n                                            <Fragment>\n                                                <Grid item xs={12} align=\"center\">\n                                                    <Typography variant=\"body1\" color=\"textPrimary\"><strong>INVALIDATED ALERT</strong></Typography>\n                                                </Grid>\n                                                <Grid item xs align=\"center\">\n                                                    <Typography variant=\"body1\" color=\"textPrimary\">\n                                                        { `${invalid_details.user.first_name} ${invalid_details.user.last_name}`}\n                                                    </Typography>\n                                                </Grid>\n                                                <Grid item xs align=\"center\">\n                                                    <Typography variant=\"body1\" color=\"textPrimary\">\n                                                        {formatTS(invalid_details.ts_ack)}\n                                                    </Typography>\n                                                </Grid>\n                                                <Grid item xs={12} align=\"center\">\n                                                    <Typography variant=\"body2\" color=\"textSecondary\">{invalid_details.remarks}</Typography>\n                                                </Grid>\n                                            </Fragment>\n                                        )\n                                    }\n                                    <Grid item xs={12}><Divider /></Grid>\n                                </Grid>\n                            );\n                        })\n                    }\n                </Grid>\n            </DialogContent>\n\n            <DialogActions>\n                <Button onClick={handleClose} color=\"primary\" autoFocus>\n                    Close\n                </Button>\n            </DialogActions>\n        </Dialog>\n    );\n}\n\n// eslint-disable-next-line max-params\nfunction createCard (alert_detail, index, handleClickOpen, handleClickClose) {\n    const { ts, site_code, internal_alert } = alert_detail;\n    const timestamp = formatTS(ts);\n\n    return (\n        <Grid item xs={6} sm={4} lg={3} key={index}>\n            <Card className=\"alert-card\">\n                <CardActionArea onClick={handleClickOpen(index)}>\n                    <CardContent style={{ paddingBottom: 16 }}>\n                        <Typography variant=\"body2\" color=\"textSecondary\" gutterBottom>\n                            {timestamp}\n                        </Typography>\n                        <div style={{ display: \"flex\", alignItems: \"baseline\", alignContent: \"flex-end\", justifyContent: \"space-between\" }}>\n                            <Typography variant=\"h5\" component=\"h2\">\n                                {site_code.toUpperCase()}\n                            </Typography>\n                            <Typography className=\"card-internal-alert\" color=\"textSecondary\">\n                                {internal_alert}\n                            </Typography>\n                        </div>\n                    </CardContent>\n                </CardActionArea>\n            </Card>\n        </Grid>\n    );\n}\n\nconst MyLoader = () => (\n    <ContentLoader \n        height={300}\n        width={684}\n        speed={1}\n        foregroundColor=\"#f3f3f3\"\n        backgroundColor=\"#ecebeb\"\n        style={{ width: \"100%\" }}\n    >\n        <rect x=\"8\" y=\"1\" rx=\"0\" ry=\"0\" width=\"206\" height=\"116\" /> \n        <rect x=\"238\" y=\"1\" rx=\"0\" ry=\"0\" width=\"206\" height=\"116\" /> \n        <rect x=\"469\" y=\"0\" rx=\"0\" ry=\"0\" width=\"206\" height=\"116\" /> \n        <rect x=\"8\" y=\"140\" rx=\"0\" ry=\"0\" width=\"206\" height=\"116\" /> \n        <rect x=\"238\" y=\"140\" rx=\"0\" ry=\"0\" width=\"206\" height=\"116\" /> \n        <rect x=\"469\" y=\"140\" rx=\"0\" ry=\"0\" width=\"206\" height=\"116\" />\n    </ContentLoader>\n);\n  \n\nfunction GeneratedAlerts (props) {\n    const [open, setOpen] = useState(false);\n    const [key, setKey] = useState(0);\n\n    const handleClickOpen = i => event => {\n        setOpen(true);\n        setKey(i);\n    };\n    const handleClose = () => {\n        setOpen(false);\n    };\n\n    let dialog = \"\";\n    const { generatedAlertsData } = props;\n    const { sites } = useContext(GeneralContext);\n\n    if (generatedAlertsData !== null) {\n        if (generatedAlertsData.length > 0) {\n            const chosen_site = generatedAlertsData[key];\n            dialog = getAlertDialog(chosen_site, open, handleClose, sites);\n        }\n    }\n\n    return (\n        <Fragment>\n            <Grid container spacing={2}>\n                {\n                    generatedAlertsData === null ? (\n                        <MyLoader />\n                    ) : (\n                        generatedAlertsData.map((alert_detail, index) => (\n                            createCard(alert_detail, index, handleClickOpen, handleClose)\n                        ))\n                    )\n                   \n                }\n                {dialog}\n            </Grid>\n        </Fragment>\n    );\n}\n\nexport default GeneratedAlerts;","import React, { createContext, useReducer } from \"react\";\nimport moment from \"moment\";\nimport cloneDeep from \"lodash/cloneDeep\";\n\nimport { getCurrentUser } from \"../../sessions/auth\";\n\nexport const Store = createContext();\n\nconst initial_state = {\n    data_ts: null,\n    release_time: moment(),\n    site: \"\",\n    iomp_mt: \"\",\n    iomp_ct: \"\",\n    subsurface: {\n        value: \"\",\n        triggers: {\n            \"2\": { checked: false, ts: null, tech_info: \"\" },\n            \"3\": { checked: false, ts: null, tech_info: \"\" },\n        }\n    },\n    surficial: {\n        value: \"\",\n        triggers: {\n            \"2\": { checked: false, ts: null, tech_info: \"\" },\n            \"3\": { checked: false, ts: null, tech_info: \"\" },\n        }\n    },\n    moms: {\n        value: \"-1\",\n        triggers: {\n            \"2\": { checked: false, ts: null, tech_info: \"\" },\n            \"3\": { checked: false, ts: null, tech_info: \"\" },\n        }\n    },\n    rainfall: {\n        value: \"\",\n        trigger: { ts: null, tech_info: \"\" }\n    },\n    \"on demand\": {\n        value: \"-1\",\n        trigger: { ts: null, tech_info: \"\" }\n    },\n    earthquake: {\n        value: \"\",\n        trigger: {\n            ts: null, tech_info: \"\", magnitude: \"\",\n            latitude: \"\", longitude: \"\"\n        }\n    },\n    comments: \"\",\n    validation: {},\n    previous_release: null,\n    post_computation: null,\n    non_triggering_moms: [],\n    manually_lower_alert: false,\n    preview: null\n};\n\nfunction reducer (state, action) {\n    const { type, payload } = action;\n    const { validation: temp_validation } = state;\n\n    const temp_state = cloneDeep(state);\n\n    switch (type) {\n        case \"UPDATE_DATA_TS\": {\n            let helper_text = \"\";\n            if (payload === null) helper_text = \"Required field\";\n            else if (!payload.isValid()) helper_text = \"Invalid date/time format\";\n            const validation = {\n                ...temp_validation,\n                data_ts: helper_text\n            };\n            return {\n                ...state,\n                data_ts: payload,\n                validation\n            };\n        }\n\n        case \"UPDATE_RELEASE_TIME\": {\n            let helper_text = \"\";\n            if (payload === null) helper_text = \"Required field\";\n            else if (!payload.isValid()) helper_text = \"Invalid time format\";\n            const validation = {\n                ...temp_validation,\n                release_time: helper_text\n            };\n            return {\n                ...state,\n                release_time: payload,\n                validation\n            };\n        }\n        \n        case \"UPDATE_SITE\": {\n            const validation = {\n                ...temp_validation,\n                site: payload ? \"\" : \"Required field\"\n            };\n            return {\n                ...state,\n                site: payload,\n                validation\n            };\n        }\n        \n        case \"UPDATE_CT_PERSONNEL\": {\n            const validation = {\n                ...temp_validation,\n                iomp_ct: payload ? \"\" : \"Required field\"\n            };\n            return {\n                ...state,\n                iomp_ct: payload,\n                validation\n            };\n        }\n\n        case \"UPDATE_SUBSURFACE_PRESENCE\": {\n            const { subsurface } = state;\n            return {\n                ...state,\n                subsurface: {\n                    ...subsurface,\n                    value: payload\n                }\n            };\n        }\n\n        case \"UPDATE_SUBSURFACE_TRIGGER\": {\n            const { key, value } = payload;\n\n            const { subsurface: { triggers } } = temp_state;\n            const trigger = triggers[key]; \n\n            temp_state.subsurface.triggers[key] = {\n                ...trigger, checked: value\n            };\n\n            return temp_state;\n        }\n\n        case \"UPDATE_SUBSURFACE_TRIGGER_DETAILS\": {\n            const { key, value, attr } = payload;\n\n            const { subsurface: { triggers } } = temp_state;\n            const trigger = triggers[key];\n            temp_state.subsurface.triggers[key] = {\n                ...trigger, [attr]: value\n            };\n            return temp_state;\n        }\n\n        case \"UPDATE_SURFICIAL_PRESENCE\": {\n            const { surficial } = state;\n            return {\n                ...state,\n                surficial: {\n                    ...surficial,\n                    value: payload\n                }\n            };\n        }\n\n        case \"UPDATE_SURFICIAL_TRIGGER\": {\n            const { key, value } = payload;\n\n            const { surficial: { triggers } } = temp_state;\n            const trigger = triggers[key];\n            temp_state.surficial.triggers[key] = {\n                ...trigger, checked: value\n            };\n            return temp_state;\n        }\n\n        case \"UPDATE_SURFICIAL_TRIGGER_DETAILS\": {\n            const { key, value, attr } = payload;\n\n            const { surficial: { triggers } } = temp_state;\n            const trigger = triggers[key];\n            temp_state.surficial.triggers[key] = {\n                ...trigger, [attr]: value\n            };\n            return temp_state;\n        }\n\n        case \"UPDATE_RAINFALL_PRESENCE\": {\n            const { rainfall } = state;\n            return {\n                ...state,\n                rainfall: {\n                    ...rainfall,\n                    value: payload\n                }\n            };\n        }\n\n        case \"UPDATE_RAINFALL_TRIGGER_DETAILS\": {\n            const { value, attr } = payload;\n\n            const { rainfall: { trigger } } = temp_state;\n            temp_state.rainfall.trigger = {\n                ...trigger, [attr]: value\n            };\n            return temp_state;\n        }\n\n        case \"UPDATE_EARTHQUAKE_PRESENCE\": {\n            const { earthquake } = state;\n            return {\n                ...state,\n                earthquake: {\n                    ...earthquake,\n                    value: payload\n                }\n            };\n        }\n\n        case \"UPDATE_EARTHQUAKE_TRIGGER_DETAILS\": {\n            const { value, attr } = payload;\n\n            const { earthquake: { trigger } } = temp_state;\n            temp_state.earthquake.trigger = {\n                ...trigger, [attr]: value\n            };\n            return temp_state;\n        }\n\n        case \"UPDATE_COMMENTS\":\n            return { ...state, comments: payload };\n\n        case \"SAVE_LATEST_SITE_EVENT_DETAIL\":\n            return { ...state, previous_release: payload };\n\n        case \"SAVE_NON_TRIGGERING_MOMS\": {\n            const { moms } = temp_state;\n            moms.value = payload.length > 0 ? \"0\" : \"-1\";\n            return {\n                ...state, non_triggering_moms: payload,\n                moms\n            };\n        }\n\n        case \"SAVE_POST_COMPUTATION_DETAILS\":\n            return { ...state, \n                post_computation: { ...payload },\n                preview: { ...payload } \n            };\n\n        case \"USE_CANDIDATE_ALERT\": {\n            const temp = insertCandidateAlertDetails(payload, state);\n            return temp;\n        }\n\n        case \"UPDATE_MANUALLY_LOWER_ALERT\": {\n            const { subsurface, surficial, moms } = state;\n            const has_no_ground_data = [subsurface, surficial, moms].every(x => x.value === \"-1\");\n            const trigger_list_str = has_no_ground_data ? \"ND\" : \"A0\";\n\n            let temp = {\n                public_alert_level: 0,\n                internal_alert: trigger_list_str,\n                trigger_list_str,\n                note: \"You are manually lowering an alert. We are encouraging you to REVIEW ALL THE INPUTS in the previous section. \" +\n                \"Also, beware that if it is not yet end-of-validity, lowering an alert will cause the whole site monitoring event to be \\\"invalid\\\".\",\n                trigger_list: [],\n                to_extend_validity: false\n            };\n            \n            if (!payload) {\n                temp = { ...state.post_computation };\n            }\n\n            return { ...state, \n                manually_lower_alert: payload,\n                preview: { ...state.preview, ...temp }\n            };\n        }\n\n        case \"RESET\":\n            return { ...initial_state };\n  \n        default:\n            return state;\n    }\n}\n\nfunction isNextButtonDisabled (step, state) {\n    switch (step) {\n        case 0: {\n            const required = [\"site\", \"data_ts\", \"release_time\", \"iomp_ct\"];\n            return required.some(key => {\n                return Boolean(state.validation[key]) || !state[key];\n            });\n        }\n        case 1: {\n            const required = [\"subsurface\", \"surficial\", \"rainfall\", \"earthquake\"];\n            return required.some(key => {\n                if (state[key].value === \"1\") {\n                    const { trigger, triggers } = state[key];\n                    const temp = [];\n                    if (typeof trigger !== \"undefined\") {\n                        temp.push({ ...trigger, checked: true });\n                    } else {\n                        temp.push(...Object.values(triggers));\n                        if (temp.every(x => !x.checked)) return true;\n                    }\n\n                    const truth = temp.map(row => {\n                        if (row.checked) {\n                            return !Object.values(row).every(x => Boolean(x));\n                        }\n                        return false;\n                    });\n\n                    return truth.some(x => x);\n                }\n\n                return Boolean(state.validation[key]) || !state[key].value;\n            });\n        }\n        case 2: {\n            return Boolean(!state.iomp_ct);\n        }\n\n        default: return true;\n    }\n}\n\nfunction insertCandidateAlertDetails (candidate_alert, current_state) {\n    const state_copy = cloneDeep(initial_state);\n\n    const source_set = new Set();\n    const temp_trig_arr = [];\n    let note = null;\n    candidate_alert.trigger_list_arr.forEach((row, i) => {\n        const { trigger_type: source, invalid } = row;\n        source_set.add(source);\n        state_copy[source].value = \"1\";\n\n        if ([\"subsurface\", \"surficial\", \"moms\"].includes(source)) {\n            state_copy[source].triggers[row.alert_level] = {\n                checked: true,\n                tech_info: row.tech_info,\n                ts: row.ts_updated\n            };\n\n            if (source === \"moms\") {\n                state_copy.moms.triggers[row.alert_level].moms_list = row.moms_list;\n            }\n        } else {\n            state_copy[source].trigger = {\n                tech_info: row.tech_info,\n                ts: row.ts_updated\n            };\n\n            if (source === \"on demand\") {\n                state_copy[source].trigger.od_details = row.od_details;\n            }\n        }\n\n        if (invalid) {\n            note = \"Above threshold triggers tagged as invalid were already removed from this release. Review them if necessary. \" +\n            \"Furthermore, validity from generated alerts might differ to actual monitoring event because of the invalid trigger.\"; \n            return;\n        }\n        temp_trig_arr.push({ \n            ...row, source, alert_symbol: row.alert[0],\n            ts: row.ts_updated\n        });\n    });\n\n    candidate_alert.current_triggers_status.forEach(row => {\n        if (!source_set.has(row.trigger_source)) {\n            state_copy[row.trigger_source].value = `${row.alert_level}`;\n        }\n\n        if (!source_set.has(\"earthquake\")) state_copy.earthquake.value = \"0\";\n    });\n\n    const temp = {\n        public_alert_level: candidate_alert.public_alert_level,\n        internal_alert: candidate_alert.internal_alert_level,\n        note,\n        trigger_list: temp_trig_arr,\n        trigger_list_str: candidate_alert.release_details.trigger_list_str,\n        to_extend_validity: candidate_alert.to_extend_validity\n    };\n\n    return {\n        ...state_copy,\n        data_ts: candidate_alert.release_details.data_ts,\n        release_time: moment(),\n        site: {\n            value: candidate_alert.site_id,\n            data: { site_code: candidate_alert.site_code }\n        },\n        previous_release: { ...candidate_alert.previous_release },\n        post_computation: temp,\n        preview: temp,\n        non_triggering_moms: candidate_alert.non_triggering_moms,\n        iomp_ct: current_state.iomp_ct\n    };\n}\n\nfunction preparePayload (state) {\n    let temp_comments = state.comments;\n    if (state.manually_lower_alert) {\n        temp_comments = `<MANUALLY LOWERED; this is added by system> ${ temp_comments}`;\n    }\n\n    return {\n        site_id: state.site.value,\n        site_code: state.site.data.site_code,\n        public_alert_level: state.preview.public_alert_level,\n        release_details: {\n            data_ts: moment(state.data_ts).format(\"YYYY-MM-DD HH:mm:00\"),\n            trigger_list_str: state.preview.trigger_list_str,\n            release_time: moment(state.release_time).format(\"HH:mm:00\"),\n            comments: temp_comments\n        },\n        publisher_details: {\n            publisher_mt_id: state.iomp_mt,\n            publisher_ct_id: state.iomp_ct\n        },\n        to_extend_validity: state.preview.to_extend_validity,\n        trigger_list_arr: state.preview.trigger_list,\n        non_triggering_moms: state.non_triggering_moms\n    };\n}\n\nexport function StoreProvider ({ children }) {\n    const { user_id } = getCurrentUser();\n    initial_state.iomp_mt = user_id;\n\n    const [state, dispatch] = useReducer(reducer, initial_state);\n    const validateIfNextIsDisabled = step => {\n        return isNextButtonDisabled(step, state);\n    };\n\n    const prepareAlertReleasePayload = pre_state => {\n        return preparePayload(pre_state);\n    };\n\n    const value = { state, dispatch, validateIfNextIsDisabled, prepareAlertReleasePayload };\n\n    return <Store.Provider value={value}>{children}</Store.Provider>;\n}","\nconst updateDataTS = ({ dispatch, payload }) => {\n    return dispatch({ type: \"UPDATE_DATA_TS\", payload });\n};\n\nconst updateReleaseTime = ({ dispatch, payload }) => {\n    dispatch({ type: \"UPDATE_RELEASE_TIME\", payload });\n};\n\nconst updateSite = ({ dispatch, payload }) => {\n    return dispatch({ type: \"UPDATE_SITE\", payload });\n};\n\nconst updateCTPersonnel = ({ dispatch, payload }) => {\n    return dispatch({ type: \"UPDATE_CT_PERSONNEL\", payload });\n};\n\nconst updateSubsurfacePresence = ({ dispatch, payload }) => {\n    return dispatch({ type: \"UPDATE_SUBSURFACE_PRESENCE\", payload });\n};\n\nconst updateSubsurfaceTrigger = ({ dispatch, payload }) => {\n    return dispatch({ type: \"UPDATE_SUBSURFACE_TRIGGER\", payload });\n};\n\nconst updateSubsurfaceTriggerDetails = ({ dispatch, payload }) => {\n    return dispatch({ type: \"UPDATE_SUBSURFACE_TRIGGER_DETAILS\", payload });\n};\n\nconst updateSurficialPresence = ({ dispatch, payload }) => {\n    return dispatch({ type: \"UPDATE_SURFICIAL_PRESENCE\", payload });\n};\n\nconst updateSurficialTrigger = ({ dispatch, payload }) => {\n    return dispatch({ type: \"UPDATE_SURFICIAL_TRIGGER\", payload });\n};\n\nconst updateSurficialTriggerDetails = ({ dispatch, payload }) => {\n    return dispatch({ type: \"UPDATE_SURFICIAL_TRIGGER_DETAILS\", payload });\n};\n\nconst updateRainfallPresence = ({ dispatch, payload }) => {\n    return dispatch({ type: \"UPDATE_RAINFALL_PRESENCE\", payload });\n};\n\nconst updateRainfallTriggerDetails = ({ dispatch, payload }) => {\n    return dispatch({ type: \"UPDATE_RAINFALL_TRIGGER_DETAILS\", payload });\n};\n\nconst updateEarthquakePresence = ({ dispatch, payload }) => {\n    return dispatch({ type: \"UPDATE_EARTHQUAKE_PRESENCE\", payload });\n};\n\nconst updateEarthquakeTriggerDetails = ({ dispatch, payload }) => {\n    return dispatch({ type: \"UPDATE_EARTHQUAKE_TRIGGER_DETAILS\", payload });\n};\n\nconst updateComments = ({ dispatch, payload }) => {\n    return dispatch({ type: \"UPDATE_COMMENTS\", payload });\n};\n\n\nconst saveLatestSiteEventDetail = ({ dispatch, payload }) => {\n    return dispatch({ type: \"SAVE_LATEST_SITE_EVENT_DETAIL\", payload });\n};\n\nconst saveNonTriggeringMoms = ({ dispatch, payload }) => {\n    return dispatch({ type: \"SAVE_NON_TRIGGERING_MOMS\", payload });\n};\n\nconst savePostComputationDetails = ({ dispatch, payload }) => {\n    return dispatch({ type: \"SAVE_POST_COMPUTATION_DETAILS\", payload });\n};\n\nconst useCandidateAlert = ({ dispatch, payload }) => {\n    return dispatch({ type: \"USE_CANDIDATE_ALERT\", payload });\n};\n\nconst updateManuallyLowerAlert = ({ dispatch, payload }) => {\n    return dispatch({ type: \"UPDATE_MANUALLY_LOWER_ALERT\", payload });\n};\n\nconst reset = ({ dispatch }) => {\n    return dispatch({ type: \"RESET\" });\n};\n\nexport default {\n    updateDataTS,\n    updateReleaseTime,\n    updateSite,\n    updateCTPersonnel,\n    updateSubsurfacePresence,\n    updateSubsurfaceTrigger,\n    updateSubsurfaceTriggerDetails,\n    updateSurficialPresence,\n    updateSurficialTrigger,\n    updateSurficialTriggerDetails,\n    updateRainfallPresence,\n    updateRainfallTriggerDetails,\n    updateEarthquakePresence,\n    updateEarthquakeTriggerDetails,\n    updateComments,\n    saveLatestSiteEventDetail,\n    saveNonTriggeringMoms,\n    savePostComputationDetails,\n    useCandidateAlert,\n    updateManuallyLowerAlert,\n    reset\n};","import React, { Component } from \"react\";\nimport ReactDOM from \"react-dom\";\nimport {\n    FormControl, InputLabel, Select,\n    MenuItem, withStyles, OutlinedInput\n} from \"@material-ui/core\";\n\nconst styles = theme => ({\n    formControl: {\n        minWidth: 120\n    }\n});\n\nclass OutlinedSelectInputForm extends Component {\n    state = {\n        labelWidth: 0\n    }\n\n    componentDidMount () {\n        this.setState({\n            labelWidth: ReactDOM.findDOMNode(this.InputLabelRef).offsetWidth,\n        });\n    }\n\n    render () {\n        const {\n            classes, list, mapping,\n            label, div_id,\n            changeHandler, value, css\n        } = this.props;\n        const { labelWidth } = this.state;\n\n        return (\n            <FormControl required variant=\"outlined\" className={`${classes.formControl} ${css}`}>\n                <InputLabel\n                    ref={ref => {\n                        this.InputLabelRef = ref;\n                    }} \n                    htmlFor={div_id}\n                >\n                    {label}\n                </InputLabel>\n                <Select\n                    value={value}\n                    onChange={changeHandler}\n                    name={div_id}\n                    input={\n                        <OutlinedInput\n                            labelWidth={labelWidth}\n                            id={div_id}\n                        />\n                    }\n                    fullWidth\n                >\n                    <MenuItem value=\"\">\n                        <em>---</em>\n                    </MenuItem>\n                    {\n                        list.map((item, i) => (\n                            <MenuItem value={item[mapping.id]} key={i}>{item[mapping.label]}</MenuItem>\n                        ))\n                    }\n                </Select>\n            </FormControl>\n        );\n    }    \n}\n\nexport default withStyles(styles)(OutlinedSelectInputForm);\n","import React, {\n    Fragment, useState, useEffect,\n    useContext\n} from \"react\";\nimport axios from \"axios\";\nimport SelectInputForm from \"./SelectInputForm\";\nimport OutlinedSelectInputForm from \"./OutlinedSelectInputForm\";\nimport { host } from \"../../config\";\nimport { GeneralContext } from \"../contexts/GeneralContext\";\n\nconst mapping = { id: \"user_id\", label: \"name\" };\n\nfunction prepareUsersArray (arr) {\n    return arr.map(({ user_id, first_name, last_name }) => ({ user_id, name: `${last_name}, ${first_name}` }));\n}\n\nfunction DynaslopeUserSelectInputForm (props) {\n    const {\n        variant, label, div_id,\n        changeHandler, value, css,\n        disabled, returnFullNameCallback,\n        isCommunityStaff, required, error,\n        helperText, site_code\n    } = props;\n\n    const [users, setUsers] = useState([]);\n    const { users: saved_users } = useContext(GeneralContext);\n\n    useEffect(() => {\n        const cancel_token = axios.CancelToken;\n        const source = cancel_token.source();\n        if (isCommunityStaff) {\n            const api_link = `${host}/api/users/get_community_users_by_site/${site_code}`;\n\n            axios.get(api_link, { cancelToken: source.token })\n            .then(response => {\n                const arr = prepareUsersArray(response.data);\n                setUsers(arr);\n            })\n            .catch(error => {\n                console.log(error);\n            });\n        } else {\n            const arr = prepareUsersArray(saved_users);\n            setUsers(arr);\n        }\n\n        return () => {\n            source.cancel();\n        };\n    }, [saved_users, site_code]);\n    \n    const callback = typeof returnFullNameCallback === \"undefined\" ? false : returnFullNameCallback;\n\n    if (callback) {\n        const user = users.find(o => o.user_id === value);\n        if (typeof user !== \"undefined\") returnFullNameCallback(user.name);\n    }\n\n    let final_label = label;\n    if (required) final_label += \" *\";\n\n    return (\n        <Fragment>\n            {\n                variant === \"standard\" && (\n                    <SelectInputForm\n                        label={final_label}\n                        div_id={div_id}\n                        changeHandler={changeHandler}\n                        value={users.length === 0 ? \"\" : value}\n                        list={users}\n                        mapping={mapping}\n                        css={css}\n                        disabled={disabled}\n                        error={error}\n                        helperText={helperText}\n                    />\n                )\n            }\n            {\n                variant === \"outlined\" && (\n                    <OutlinedSelectInputForm\n                        label={label}\n                        div_id={div_id}\n                        changeHandler={changeHandler}\n                        value={users.length === 0 ? \"\" : value}\n                        list={users}\n                        mapping={mapping}\n                        css={css}\n                        error={error}\n                        helperText={helperText}\n                    />\n                )\n            }\n        </Fragment>\n    );\n}\n\nexport default DynaslopeUserSelectInputForm;\n\n","import React, {\n    Fragment, useContext, useEffect, useState\n} from \"react\";\n\nimport {\n    Grid, Typography, TextField, Checkbox,\n    CircularProgress, Divider, capitalize,\n    FormControlLabel, Switch, FormControl,\n    FormLabel, Radio\n} from \"@material-ui/core\";\nimport {\n    MuiPickersUtilsProvider, KeyboardDateTimePicker,\n    KeyboardTimePicker\n} from \"@material-ui/pickers\";\n\nimport MomentUtils from \"@date-io/moment\";\nimport moment from \"moment\";\n\nimport { Store } from \"./store\";\nimport Actions from \"./actions\";\n\nimport DynaslopeSiteSelectInputForm from \"../../reusables/DynaslopeSiteSelectInputForm\";\nimport DynaslopeUserSelectInputForm from \"../../reusables/DynaslopeUserSelectInputForm\";\nimport { ServerTimeContext } from \"../../contexts/ServerTimeContext\";\nimport { is_sandbox } from \"../../../config\";\n\n\nfunction LoadingComponent (props) {\n    const { message } = props;\n\n    return <Fragment>\n        <Grid item xs={12} container justify=\"center\">\n            <CircularProgress />\n        </Grid>\n\n        <Grid item xs={12}>\n            <Typography variant=\"body1\" align=\"center\">\n                { message }\n            </Typography>\n        </Grid>\n    </Fragment>; \n}\n\nfunction FirstStep (props) {\n    const { state, dispatch } = useContext(Store);\n    const { server_time } = useContext(ServerTimeContext);\n    const [server_time_of_release, setServerTimeOfRelease] = useState(null);\n    useEffect(() => {\n        if (is_sandbox) {\n            setServerTimeOfRelease(server_time);\n        }\n    }, [server_time]);\n    return (\n        <Fragment>\n            <Grid item xs={12} md={6}>\n                <DynaslopeSiteSelectInputForm\n                    value={state.site}\n                    changeHandler={value => Actions.updateSite({ dispatch, payload: value })}\n                    required\n                    helperText={state.validation.site || \"\"}\n                    error={Boolean(state.validation.site)}\n                />                \n            </Grid>\n\n            <Grid item xs={12} sm={6} md={4}>\n                <KeyboardDateTimePicker\n                    required\n                    autoOk\n                    fullWidth\n                    label=\"Data Timestamp\"\n                    value={state.data_ts}\n                    onChange={e => Actions.updateDataTS({ dispatch, payload: e })}\n                    ampm={false}\n                    placeholder=\"2010/01/01 00:00\"\n                    format=\"YYYY/MM/DD HH:mm\"\n                    mask=\"____/__/__ __:__\"\n                    clearable\n                    disableFuture\n                    helperText={state.validation.data_ts || \"\"}\n                    error={Boolean(state.validation.data_ts)}\n                />\n            </Grid>\n\n            <Grid item xs={12} sm={6} md={2}>\n                <KeyboardTimePicker\n                    required\n                    autoOk\n                    fullWidth\n                    ampm={false}\n                    label=\"Time of Release\"\n                    mask=\"__:__\"\n                    placeholder=\"00:00\"\n                    value={is_sandbox ? server_time_of_release : state.release_time}\n                    onChange={e => Actions.updateReleaseTime({ dispatch, payload: e })}\n                    clearable\n                    helperText={state.validation.release_time || \"\"}\n                    error={Boolean(state.validation.release_time)}\n                />\n            </Grid>\n\n            <Grid item xs={12} sm={6}>\n                <DynaslopeUserSelectInputForm\n                    variant=\"standard\"\n                    label=\"MT Personnel\"\n                    div_id=\"reporter_id_mt\"\n                    value={state.iomp_mt}\n                    disabled\n                    required\n                />\n            </Grid>\n\n            <Grid item xs={12} sm={6}>\n                <DynaslopeUserSelectInputForm\n                    variant=\"standard\"\n                    label=\"CT Personnel\"\n                    div_id=\"reporter_id_ct\"\n                    value={state.iomp_ct}\n                    changeHandler={e => Actions.updateCTPersonnel({ dispatch, payload: e.target.value })}\n                    required\n                    helperText={state.validation.iomp_ct || \"\"}\n                    error={Boolean(state.validation.iomp_ct)}\n                />\n            </Grid>\n        </Fragment>\n    );\n}\n\nfunction SecondStep (props) {\n    const { isLoading } = props;\n\n    return <Fragment>\n        {\n            isLoading\n                ? <LoadingComponent message=\"Fetching current site alert...\" /> \n                : <Fragment>\n                    <LatestSiteDetailsSection />\n                    <SubsurfaceSection />\n                    <SurficialSection/>\n                    <RainfallSection />\n                    <EarthquakeSection />\n                    <Grid item xs={12}>\n                        <Divider />\n                    </Grid>\n                    <MOMsSection />\n                    <OnDemandSection />\n                </Fragment>\n        }\n    </Fragment>;\n}\n\nfunction LatestSiteDetailsSection (props) {\n    const { state } = useContext(Store);\n    const { previous_release } = state;\n    const { internal_alert, event_alert, data_ts } = previous_release;\n    const { alert_level } = event_alert.public_alert_symbol;\n\n    let warning_text = null;\n    if (moment(data_ts).isAfter(state.data_ts)) {\n        warning_text = `You entered a data timestamp (${state.data_ts.format(\"YYYY/MM/DD HH:mm\")}) ` +\n        \"that is prior to the last site alert release.\\nReview your data timestamp entry.\";\n    } else if (moment(data_ts).isSame(state.data_ts)) {\n        warning_text = \"Note: You entered the same data timestamp from the last site alert release. \" +\n        \"Ignore this note if you want to overwrite the last alert release.\";\n    }\n\n    return <Fragment>\n        <Grid item xs={12} container spacing={1}>\n            <Typography variant=\"h6\" component={Grid} item xs={12} align=\"center\">\n                Last Site Release Details: { event_alert.event.site.site_code.toUpperCase() }\n            </Typography>\n\n            <Grid item xs={12} container spacing={0} justify=\"center\">\n                <Typography \n                    variant=\"body1\" component={Grid}\n                    item xs={12} sm={6} align=\"center\"\n                >\n                    <strong>Internal Alert:</strong> {internal_alert}\n                </Typography>\n\n                <Typography \n                    variant=\"body1\" component={Grid}\n                    item xs={12} sm={6} align=\"center\"\n                >\n                    <strong>Data Timestamp:</strong> {data_ts}\n                </Typography>\n\n                { alert_level !== 0 && <Typography \n                    variant=\"body1\" component={Grid}\n                    item xs={12} sm={6} align=\"center\"\n                >\n                    <strong>Validity:</strong> {event_alert.event.validity}\n                </Typography> }\n\n                <Typography \n                    variant=\"body1\" component={Grid}\n                    item xs={12} sm={6} align=\"center\"\n                >\n                    <strong>Release Time:</strong> {previous_release.release_time}\n                </Typography>\n            </Grid>\n        </Grid>\n\n        { warning_text && <Grid item xs={12}>\n            <Typography\n                variant=\"body1\" component=\"p\" color=\"error\"\n                align=\"center\" style={{ whiteSpace: \"pre-line\" }}\n                display=\"block\"\n            >\n                { warning_text }\n            </Typography>\n        </Grid>}\n\n        <Grid item xs={12}>\n            <Divider />\n        </Grid>\n    </Fragment>;\n}\n\nfunction DataPresenceRadioInput (props) {\n    const { form, value, changeHandler } = props;\n\n    return (\n        <FormControl component=\"fieldset\" style={{ width: \"100%\" }}>\n            <FormLabel component=\"legend\">Choose the appropriate data situation for the release period.</FormLabel>\n            <Grid container spacing={0}>\n                {\n                    form.map(x => (\n                        <Grid item xs={12} sm={6} key={x.value} container justify=\"center\">\n                            <FormControlLabel\n                                value={x.value} label={x.label}\n                                control={<Radio \n                                    checked={value === x.value}\n                                    onChange={changeHandler}\n                                    size=\"small\"\n                                />}\n                            />\n                        </Grid>\n                    ))\n                }\n            </Grid>\n        </FormControl>\n    );\n}\n\nfunction TriggerTimestampAndTechInfoCombo (props) {\n    const {\n        triggerHandler, labelFor, trigger\n    } = props;\n\n    return (\n        <Fragment>\n            <Grid item xs={12} sm={6}>\n                <KeyboardDateTimePicker\n                    required\n                    autoOk\n                    label={`Trigger Timestamp (${labelFor})`}\n                    value={trigger.ts}\n                    onChange={e => triggerHandler(\"ts\", e)}\n                    ampm={false}\n                    placeholder=\"2010/01/01 00:00\"\n                    format=\"YYYY/MM/DD HH:mm\"\n                    mask=\"____/__/__ __:__\"\n                    clearable\n                    disableFuture\n                    fullWidth\n                />\n            </Grid>\n\n            <Grid item xs={12} sm={6}>\n                <TextField\n                    required\n                    label={`Technical Information (${labelFor})`}\n                    multiline\n                    rowsMax=\"2\"\n                    placeholder={`Enter technical info for \"${labelFor}\" trigger`}\n                    value={trigger.tech_info}\n                    onChange={e => triggerHandler(\"tech_info\", e.target.value)}\n                    fullWidth\n                />\n            </Grid>\n        </Fragment>\n    );\n}\n\nfunction SubsurfaceSection (props) {\n    const { state, dispatch } = useContext(Store);\n    const { subsurface: { value, triggers } } = state;\n\n    const form = [\n        { value: \"1\", label: \"ABOVE threshold at a certain time (s2/s3)\" },\n        { value: \"0\", label: \"BELOW threshold all throughout (s)\" },\n        { value: \"-1\", label: \"No data all throughout (s0)\" }\n    ];\n\n    const valueChangeHandler = e => {\n        const temp = e.target.value;\n        Actions.updateSubsurfacePresence({ dispatch, payload: temp });\n    };\n\n    const triggersCboxHandler = alert_level => e => {\n        Actions.updateSubsurfaceTrigger({ dispatch, payload: {\n            value: e.target.checked, key: alert_level \n        } });\n    };\n\n    const triggerDetailsHandler = alert_level => (attr, val) => {\n        Actions.updateSubsurfaceTriggerDetails({ dispatch, payload: {\n            value: val, key: alert_level, attr\n        } });\n    };\n\n    const TriggersComponents = Object.keys(triggers).map(x => {\n        const alert_level = parseInt(x, 10);\n        const trigger = triggers[x];\n        const { checked } = trigger;\n        const key = `s${alert_level}`;\n\n        return <Grid item xs={12} container key={key}>\n            <Grid item xs={checked ? 4 : 12} sm={checked ? 3 : 12} justify=\"center\" container>\n                <FormControlLabel\n                    value={alert_level}\n                    control={<Checkbox \n                        color=\"primary\"\n                        checked={checked}\n                        onClick={triggersCboxHandler(alert_level)}\n                    />}\n                    label={`Trigger ${key}`}\n                />\n            </Grid>\n\n            {\n                checked && <Grid item xs={8} sm={9} container justify=\"space-evenly\"\n                    alignItems=\"center\"\n                    spacing={2}\n                >\n                    <TriggerTimestampAndTechInfoCombo\n                        labelFor={key}\n                        trigger={trigger}\n                        triggerHandler={triggerDetailsHandler(alert_level)}\n                    />\n                </Grid>\n            }\n        </Grid>;\n    });\n\n    return (\n        <Fragment>\n            <Grid item xs={12}>\n                <Typography variant=\"h6\">Subsurface (S/s)</Typography>\n            </Grid>\n\n            <Grid item xs={12}>\n                <DataPresenceRadioInput form={form} value={value} changeHandler={valueChangeHandler} />\n            </Grid>\n\n            {\n                value === \"1\" && <Grid item xs={12} container spacing={1}>\n                    { TriggersComponents }\n                </Grid>\n            }\n        </Fragment>\n    );\n}\n\nfunction SurficialSection (props) {\n    const { state, dispatch } = useContext(Store);\n    const { surficial: { value, triggers } } = state;\n\n    const form = [\n        { value: \"1\", label: \"ABOVE threshold at a certain time (g2/g3)\" },\n        { value: \"0\", label: \"BELOW threshold all throughout (g)\" },\n        { value: \"-1\", label: \"No data all throughout (g0)\" }\n    ];\n\n    const valueChangeHandler = e => {\n        const temp = e.target.value;\n        Actions.updateSurficialPresence({ dispatch, payload: temp });\n    };\n\n    const triggersCboxHandler = alert_level => e => {\n        Actions.updateSurficialTrigger({ dispatch, payload: {\n            value: e.target.checked, key: alert_level \n        } });\n    };\n\n    const triggerDetailsHandler = alert_level => (attr, val) => {\n        Actions.updateSurficialTriggerDetails({ dispatch, payload: {\n            value: val, key: alert_level, attr\n        } });\n    };\n\n    const TriggersComponents = Object.keys(triggers).map(x => {\n        const alert_level = parseInt(x, 10);\n        const trigger = triggers[x];\n        const { checked } = trigger;\n        const key = `g${alert_level}`;\n\n        return <Grid item xs={12} container key={key}>\n            <Grid item xs={checked ? 4 : 12} sm={checked ? 3 : 12} justify=\"center\" container>\n                <FormControlLabel\n                    value={alert_level}\n                    control={<Checkbox \n                        color=\"primary\"\n                        checked={checked}\n                        onClick={triggersCboxHandler(alert_level)}\n                    />}\n                    label={`Trigger ${key}`}\n                />\n            </Grid>\n\n            {\n                checked && <Grid item xs={8} sm={9} container justify=\"space-evenly\"\n                    alignItems=\"center\"\n                    spacing={2}\n                >\n                    <TriggerTimestampAndTechInfoCombo\n                        labelFor={key}\n                        trigger={trigger}\n                        triggerHandler={triggerDetailsHandler(alert_level)}\n                    />\n                </Grid>\n            }\n        </Grid>;\n    });\n\n    return (\n        <Fragment>\n            <Grid item xs={12}>\n                <Typography variant=\"h6\">Surficial (G/g)</Typography>\n            </Grid>\n\n            <Grid item xs={12}>\n                <DataPresenceRadioInput form={form} value={value} changeHandler={valueChangeHandler} />\n            </Grid>\n\n            {\n                value === \"1\" && <Grid item xs={12} container spacing={1}>\n                    { TriggersComponents }\n                </Grid>\n            }\n        </Fragment>\n    );\n}\n\nfunction MOMsSection (props) {\n    const { state } = useContext(Store);\n    const {\n        moms: { value, triggers },\n        non_triggering_moms\n    } = state;\n\n    return (\n        <Fragment>\n            <Grid item xs={12}>\n                <Typography variant=\"h6\">MOMS (M/m)</Typography>\n                <Typography variant=\"caption\">\n                    Note: MOMs triggers are inserted via MOMs Form.\n                    If you inserted a MOMs trigger for this site, wait for the trigger\n                    to be included on the site&apos;s candidate alert then release it.\n                </Typography>\n            </Grid>\n\n            {\n                value === \"1\" && <Fragment> {\n                    Object.keys(triggers).map(key => {\n                        const { checked, ts, tech_info, moms_list } = triggers[key];\n                        const preview = [\n                            { label: \"Alert\", value: `m${key}` },\n                            { label: \"Trigger Timestamp\", value: moment(ts).format(\"YYYY-MM-DD HH:mm\") },\n                            { label: \"Technical Information\", value: tech_info }\n                        ];\n                            \n                        if (checked) {\n                            const initial = preview.map(x => <Grid item xs={12} \n                                sm={x.label === \"Technical Information\" ? 6 : 3 }\n                                key={x.label}>\n                                { PreviewComp(x) }\n                            </Grid>);\n\n                            const intro = <Typography\n                                variant=\"body2\" align=\"center\"\n                                component={Grid} item xs={12}\n                            >\n                                <strong>MOMs List</strong>\n                            </Typography>;\n\n                            const list = MomsListFormatter(moms_list);\n\n                            return <Fragment key={key}>{initial}{intro}{list}</Fragment>;\n                        }\n                    })\n                } </Fragment>\n            }\n\n            {\n                value === \"0\" && <Typography\n                    variant=\"body1\" align=\"center\"\n                    component={Grid} item xs={12}\n                >\n                    This release HAS non-triggering MOMs data within release period (m).\n                </Typography>\n            }\n\n            {\n                non_triggering_moms && <Fragment>\n                    <Typography\n                        variant=\"body2\" align=\"center\"\n                        component={Grid} item xs={12}\n                    >\n                        <strong>Non-triggering MOMs</strong>\n                    </Typography>\n\n                    { MomsListFormatter(non_triggering_moms) }\n                </Fragment>\n            }\n\n            {\n                value === \"-1\" && <Typography\n                    variant=\"body1\" align=\"center\"\n                    component={Grid} item xs={12}\n                >\n                    No MOMs entry present for this release period (m0).\n                </Typography>\n            }\n        </Fragment>\n    );\n}\n\nfunction MomsListFormatter (moms_list) {\n    return moms_list.map(x => {\n        const {\n            moms_instance: { feature: f, feature_name },\n            remarks, observance_ts\n        } = x;\n        const temp = { label: \"Feature\", value: `${capitalize(f.feature_type)} ${feature_name}` };\n        const ts_comp = { label: \"Observance Timestamp\", value: observance_ts };\n        const rem = { label: \"Remarks\", value: remarks };\n\n        return <Grid item xs={12} key={x.moms_id}>\n            <Grid container item xs={12}>\n                <Grid item xs={3}>{ PreviewComp(temp) }</Grid>\n                <Grid item xs={3}>{ PreviewComp(ts_comp) }</Grid>\n                <Grid item xs={6}>{ PreviewComp(rem) }</Grid>\n            </Grid>\n        </Grid>; \n    });\n}\n\nfunction RainfallSection (props) {\n    const { state, dispatch } = useContext(Store);\n    const { rainfall: { value, trigger } } = state;\n\n    const form = [\n        { value: \"1\", label: \"ABOVE threshold at a certain time (r1)\" },\n        { value: \"0\", label: \"BELOW threshold all throughout (r)\" },\n        { value: \"-2\", label: \"Currently BELOW threshold BUT above 75% (rx)\" },\n        { value: \"-1\", label: \"No data all throughout (r0)\" }\n    ];\n\n    const valueChangeHandler = e => {\n        const temp = e.target.value;\n        Actions.updateRainfallPresence({ dispatch, payload: temp });\n    };\n\n    const triggerDetailsHandler = (attr, val) => {\n        Actions.updateRainfallTriggerDetails({ dispatch, payload: {\n            value: val, attr\n        } });\n    };\n\n    return (\n        <Fragment>\n            <Grid item xs={12}>\n                <Typography variant=\"h6\">Rainfall (R)</Typography>\n            </Grid>\n\n            <Grid item xs={12}>\n                <DataPresenceRadioInput form={form} value={value} changeHandler={valueChangeHandler} />\n            </Grid>\n\n            {\n                value === \"1\" && <TriggerTimestampAndTechInfoCombo\n                    labelFor=\"r1\"\n                    trigger={trigger}\n                    triggerHandler={triggerDetailsHandler}\n                />\n            }\n        </Fragment>\n    );\n}\n\nfunction EarthquakeSection (props) {\n    const { state, dispatch } = useContext(Store);\n    const { earthquake: { value, trigger } } = state;\n    const { magnitude, latitude, longitude } = trigger;\n\n    const form = [\n        { value: \"1\", label: \"Recent trigger occured\" },\n        { value: \"0\", label: \"No recent trigger\" }\n    ];\n\n    const valueChangeHandler = e => {\n        const temp = e.target.value;\n        Actions.updateEarthquakePresence({ dispatch, payload: temp });\n    };\n\n    const triggerDetailsHandler = (attr, val) => {\n        Actions.updateEarthquakeTriggerDetails({ dispatch, payload: {\n            value: val, attr\n        } });\n    };\n\n    return (\n        <Fragment>\n            <Grid item xs={12}>\n                <Typography variant=\"h6\">Earthquake (E)</Typography>\n            </Grid>\n\n            <Grid item xs={12}>\n                <DataPresenceRadioInput form={form} value={value} changeHandler={valueChangeHandler} />\n            </Grid>\n\n            {\n                value === \"1\" && <Fragment>\n                    <TriggerTimestampAndTechInfoCombo\n                        labelFor=\"e1\"\n                        trigger={trigger}\n                        triggerHandler={triggerDetailsHandler}\n                    />\n                    \n                    <Grid item xs={12} sm={4}>\n                        <TextField\n                            required\n                            id=\"magnitude\"\n                            label=\"Magnitude\"\n                            value={magnitude}\n                            onChange={e => triggerDetailsHandler(\"magnitude\", e.target.value)}\n                            type=\"number\"\n                        />\n                    </Grid>\n\n                    <Grid item xs={12} sm={4}>\n                        <TextField\n                            required\n                            id=\"latitude\"\n                            label=\"Latitude\"\n                            value={latitude}\n                            onChange={e => triggerDetailsHandler(\"latitude\", e.target.value)}\n                            type=\"number\"\n                        />\n                    </Grid>\n\n                    <Grid item xs={12} sm={4}>\n                        <TextField\n                            required\n                            id=\"longitude\"\n                            label=\"Longitude\"\n                            value={longitude}\n                            onChange={e => triggerDetailsHandler(\"longitude\", e.target.value)}\n                            type=\"number\"\n                        />\n                    </Grid>\n                </Fragment>\n            }\n        </Fragment>\n    );\n}\n\nfunction OnDemandSection (props) {\n    const { state } = useContext(Store);\n    const { \"on demand\": { value, trigger } } = state;\n\n    let preview = [];\n    if (value === \"1\") {\n        const { ts, tech_info } = trigger;\n        preview = [\n            { label: \"Alert\", value: \"d1\" },\n            { label: \"Trigger Timestamp\", value: moment(ts).format(\"YYYY-MM-DD HH:mm\") },\n            { label: \"Technical Information\", value: tech_info }\n        ];\n    }\n\n    return (\n        <Fragment>\n            <Grid item xs={12}>\n                <Typography variant=\"h6\">On-Demand (D)</Typography>\n                <Typography variant=\"caption\">\n                    Note: On-demand triggers are inserted via On-Demand Trigger Form.\n                    If you inserted a On-Demand trigger for this site, wait for the trigger\n                    to be included on the site&apos;s candidate alert then release it.\n                </Typography>\n            </Grid>\n\n            {\n                value === \"1\" && <Fragment> {    \n                    preview.map(x => <Grid item xs={12} \n                        sm={x.label === \"Technical Information\" ? 6 : 3 }\n                        key={x.label}>\n                        { PreviewComp(x) }\n                    </Grid>)\n                } </Fragment>\n            }\n\n            {\n                value === \"0\" && <Grid item xs={12}>\n                    <Typography\n                        variant=\"body1\" align=\"center\" gutterBottom\n                    >\n                        This release has data request to end on-demand monitoring (d)\n                        OR the monitoring event has other positive triggers*.\n                    </Typography>\n\n                    <Typography\n                        variant=\"caption\" align=\"center\"\n                    >\n                        *If there is other released positive threshold aside form on-demand trigger, \n                        data presence for this trigger is not observed (default to d).\n                    </Typography>\n                </Grid>\n            }\n\n            {\n                value === \"-1\" && <Typography\n                    variant=\"body1\" align=\"center\"\n                    component={Grid} item xs={12}\n                >\n                    No on-demand entry present for this release period (d0).\n                </Typography>\n            }\n        </Fragment>\n    );\n}\n\nconst PreviewComp = x => (\n    <Fragment>\n        <Typography variant=\"body2\" color=\"textSecondary\" align=\"center\">{x.label}</Typography>\n        <Typography variant=\"body1\" color=\"textPrimary\" align=\"center\">\n            {x.value}\n        </Typography>\n    </Fragment>\n);\n\nfunction ThirdStep (props) {\n    const { isLoading } = props;\n    const { state, dispatch } = useContext(Store);\n\n    let internal_alert = \"---\";\n    let note = null;\n    const release_triggers = [];\n    if (state.preview) {\n        const { internal_alert: temp, note: n, trigger_list } = state.preview;\n        internal_alert = temp;\n        note = n;\n\n        release_triggers.push(...trigger_list);\n    }\n\n    const preview = [\n        { label: \"Site\", value: state.site.data.site_code.toUpperCase() },\n        { label: \"Internal Alert\", value: internal_alert },\n        { label: \"Data Timestamp\", value: moment(state.data_ts).format(\"YYYY-MM-DD HH:mm\") },\n        { label: \"Release Time\", value: state.release_time.format(\"HH:mm\") }\n    ];\n\n    const ReleaseTriggersSummary = rt => {\n        return <Fragment>\n            { rt.length !== 0 && <Grid item xs={12} container>\n                <Typography \n                    variant=\"body1\" \n                    component={Grid} item xs={12}\n                    align=\"center\"\n                >\n                    <strong>Release Triggers</strong>\n                </Typography>\n\n                {\n                    rt.map(x => {\n                        const alert_sym = `${x.alert_symbol}${x.alert_level}`;\n                        const preview_2 = [\n                            { label: \"Source\", value: `${capitalize(x.source)} (${alert_sym})` },\n                            { label: \"Trigger Timestamp\", value: moment(x.ts).format(\"YYYY-MM-DD HH:mm:00\") },\n                            { label: \"Technical Information\", value: x.tech_info }\n                        ];\n                    \n                        return <Grid item xs={12} container key={alert_sym} spacing={1} style={{ margin: \"1em 0\" }}>\n                            {\n                                preview_2.map(y => \n                                    <Grid item xs={12} \n                                        sm={y.label === \"Technical Information\" ? 6 : 3 } \n                                        key={y.label}>\n                                        { PreviewComp(y)}\n                                    </Grid>\n                                )\n                            }\n                        </Grid>; \n                    } )\n                }\n            </Grid> }\n        </Fragment>;\n    };\n\n    return <Fragment>\n        {\n            isLoading ? <LoadingComponent message=\"Calculating internal alert...\" />\n                : <Fragment>\n                    <Typography \n                        variant=\"h6\"\n                        component={Grid} item xs={12}\n                        align=\"center\"\n                    >\n                        Alert Release Summary\n                    </Typography>\n\n                    {\n                        note && <Typography \n                            variant=\"body1\" color=\"error\"\n                            component={Grid} item xs={12}\n                            align=\"center\"\n                        >\n                            { note }\n                        </Typography>\n                    }\n\n                    {\n                        preview.map(x => <Grid item xs={6} sm={3} key={x.label}>\n                            { PreviewComp(x) }\n                        </Grid>)\n                    }\n\n                    { ReleaseTriggersSummary(release_triggers) }\n\n                    {\n                        state.previous_release.event_alert.public_alert_symbol.alert_level \n                        > 0 && <Grid item xs={12}>\n                            <FormControlLabel\n                                control={<Switch\n                                    checked={state.manually_lower_alert}\n                                    onChange={e => Actions.updateManuallyLowerAlert({\n                                        dispatch, payload: e.target.checked\n                                    })}\n                                    value=\"lower_to_a0\"\n                                />}\n                                label=\"Manually Lower to Alert 0\"\n                            />\n                        </Grid>\n                    }\n\n                    <Grid item xs={12} sm={6}>\n                        <DynaslopeUserSelectInputForm\n                            variant=\"standard\"\n                            label=\"MT Personnel\"\n                            div_id=\"reporter_id_mt\"\n                            value={state.iomp_mt}\n                            disabled\n                            required\n                        />\n                    </Grid>\n            \n                    <Grid item xs={12} sm={6}>\n                        <DynaslopeUserSelectInputForm\n                            variant=\"standard\"\n                            label=\"CT Personnel\"\n                            div_id=\"reporter_id_ct\"\n                            value={state.iomp_ct}\n                            changeHandler={e => Actions.updateCTPersonnel({ dispatch, payload: e.target.value })}\n                            required\n                            helperText={state.validation.iomp_ct || \"\"}\n                            error={Boolean(state.validation.iomp_ct)}\n                        />\n                    </Grid>\n\n                    <Grid item xs={12}>\n                        <TextField\n                            label=\"Comments\"\n                            multiline\n                            rowsMax=\"2\"\n                            placeholder=\"Enter additional comments necessary\"\n                            value={state.comments}\n                            onChange={e => Actions.updateComments({ dispatch, payload: e.target.value })}\n                            fullWidth\n                        />\n                    </Grid>\n                </Fragment>\n        }\n    </Fragment>;\n}\n\nfunction AlertReleaseForm (props) {\n    const { activeStep, isLoading } = props;\n\n    return (\n        <MuiPickersUtilsProvider utils={MomentUtils}>\n            <Grid\n                container\n                justify=\"space-evenly\"\n                alignItems=\"center\"\n                spacing={2}\n            >\n                {\n                    activeStep === 0 && <FirstStep />\n                }\n                {\n                    activeStep === 1 && <SecondStep isLoading={isLoading} />\n                }\n                {\n                    activeStep === 2 && <ThirdStep isLoading={isLoading} />\n                }\n            </Grid>\n        </MuiPickersUtilsProvider>\n    );\n}\n\nexport default AlertReleaseForm;","import React, {\n    createContext, useState,\n    useEffect\n} from \"react\";\n\nimport moment from \"moment\";\n\nimport { \n    getMonitoringShifts, receiveMonitoringShiftData, \n    removeReceiveMonitoringShiftData\n} from \"../../websocket/misc_ws\";\nimport { getUserByNickname } from \"./ajax\";\n\nexport const MonitoringShiftsContext = createContext();\n\nfunction getCurrentShift (monitoring_shifts) {\n    const now = moment();\n\n    const result = monitoring_shifts.find(row => {\n        const shift_start = moment(row.ts).add(30, \"minutes\");\n        const shift_end = moment(row.ts).add(12, \"hours\");\n\n        if (shift_start <= now && now < shift_end) {\n            return row;\n        }\n\n        return false;\n    });\n\n    return result;\n}\n\nexport const MonitoringShiftsProvider = ({ children }) => {\n    const [monitoring_shifts, setMonitoringShifts] = useState([]);\n    const [current_ct, setCurrentCT] = useState(\"\");\n\n    useEffect(() => {\n        getMonitoringShifts();\n        receiveMonitoringShiftData(shift_data => {\n            setMonitoringShifts(shift_data);\n            const current_shift = getCurrentShift(shift_data);\n\n            if (current_shift) {\n                const { iompct } = current_shift;\n                getUserByNickname(iompct, data => {\n                    setCurrentCT(data);\n                });\n            }\n        });\n\n        return function cleanup () {\n            removeReceiveMonitoringShiftData();\n        };\n    }, []);\n\n    const return_obj = { monitoring_shifts, current_ct };\n\n    return (\n        <MonitoringShiftsContext.Provider value={return_obj}>\n            {children}\n        </MonitoringShiftsContext.Provider>\n    );\n};","import React, {\n    useContext, useEffect, useState,\n    Fragment\n} from \"react\";\n\nimport {\n    Dialog, DialogTitle, DialogContent,\n    DialogContentText, DialogActions,\n    Button, withMobileDialog, makeStyles,\n    Stepper, Step, StepLabel, Grid\n} from \"@material-ui/core\";\n\nimport moment from \"moment\";\nimport { useSnackbar } from \"notistack\";\nimport { sendWSMessage } from \"../../../websocket/monitoring_ws\";\n\nimport AlertReleaseForm from \"./AlertReleaseForm\";\nimport { getLatestSiteEventDetails, processReleaseInternalAlert } from \"./ajax\";\nimport { MonitoringShiftsContext } from \"../../contexts/MonitoringShiftsContext\";\n\nimport { Store } from \"./store\";\nimport Actions from \"./actions\";\n\n\nconst useStyles = makeStyles(() => {\n    return {\n        stepper: {\n            padding: \"12px 0 36px\"\n        }\n    };\n});\n\nfunction AlertReleaseFormModal (props) {\n    const {\n        fullScreen, isOpen, closeHandler,\n        chosenCandidateAlert, setChosenCandidateAlert,\n        setIsOpenRoutineModal, generatedAlerts\n    } = props;\n    const classes = useStyles();\n\n    const { current_ct } = useContext(MonitoringShiftsContext);\n    const { enqueueSnackbar } = useSnackbar();\n\n    const { \n        state, dispatch, validateIfNextIsDisabled,\n        prepareAlertReleasePayload\n    } = useContext(Store);\n    useEffect(() => {\n        if (isOpen) {\n            const payload = moment();\n            Actions.updateReleaseTime({ dispatch, payload });\n\n            if (current_ct) {\n                Actions.updateCTPersonnel({ dispatch, payload: current_ct.user_id });\n            }\n        }\n    }, [isOpen, dispatch, current_ct]);\n\n    useEffect(() => {\n        if (chosenCandidateAlert && chosenCandidateAlert.general_status !== \"routine\") {\n            setActiveStep(2);\n            Actions.useCandidateAlert({ dispatch, payload: chosenCandidateAlert });\n        }\n    }, [chosenCandidateAlert, dispatch]);\n\n    const [active_step, setActiveStep] = useState(0);\n    const steps = [\n        \"General monitoring alert details\",\n        \"Site alert data and triggers\",\n        \"Alert release preview and comments\"\n    ];\n\n    const [is_next_btn_disabled, isNextButtonDisabled] = useState(true);\n    useEffect(() => {\n        const temp = validateIfNextIsDisabled(active_step);\n        isNextButtonDisabled(temp);\n    }, [state, active_step, validateIfNextIsDisabled]);\n\n    const [is_loading, setIsLoading] = useState(false);\n    const handleNext = () => {\n        if (active_step === 0) {\n            setIsLoading(true);\n            getLatestSiteEventDetails(state.site.value, result => {\n                Actions.saveLatestSiteEventDetail({ dispatch, payload: result });\n\n                // Check if has MOMS manually (m only) if it's manual release\n                // Just in case it's raised manually and MOMS is only ground \n                // data presence needed for lowering\n                if (!chosenCandidateAlert) {\n                    const site_row = generatedAlerts.find(x => x.site_id === state.site.value);\n\n                    if (site_row) {\n                        const { unreleased_moms_list } = site_row;\n                        const m_list = unreleased_moms_list.filter(x => x.op_trigger === 0);\n                        Actions.saveNonTriggeringMoms({ dispatch, payload: m_list });\n                    }\n                }\n\n                setIsLoading(false);\n            });\n        } else if (active_step === 1) {\n            setIsLoading(true);\n            processReleaseInternalAlert(state, result => {\n                Actions.savePostComputationDetails({ dispatch, payload: result });\n                setIsLoading(false);\n            });\n        } else {\n            const snackbar_key = enqueueSnackbar(\n                \"Inserting EWI release...\",\n                {\n                    variant: \"warning\",\n                    persist: true\n                }\n            );\n\n            const payload = prepareAlertReleasePayload(state);\n            payload.snackbar_key = snackbar_key;\n            console.log(payload);\n            sendWSMessage(\"insert_ewi\", payload);\n            closeHandler();\n            handleReset();\n            return;\n        }\n\n        setActiveStep(active_step + 1);\n    };\n    \n    const handleReset = () => {\n        Actions.reset({ dispatch });\n        setActiveStep(0);\n        setChosenCandidateAlert(null);\n        setIsLoading(false);\n    };\n\n    return (\n        <Dialog\n            fullWidth\n            maxWidth=\"md\"\n            fullScreen={fullScreen}\n            open={isOpen}\n            aria-labelledby=\"form-dialog-title\"\n        >\n            <DialogTitle id=\"form-dialog-title\">Monitoring Alert Release Form</DialogTitle>\n            <DialogContent>\n                <DialogContentText>                    \n                    Fill out the form and read the instructions carefully.\n                </DialogContentText>\n\n                <Stepper activeStep={active_step} alternativeLabel className={classes.stepper}>\n                    { steps.map(label => (<Step key={label}>\n                        <StepLabel>{label}</StepLabel>\n                    </Step>)) }\n                </Stepper>\n\n                <AlertReleaseForm \n                    activeStep={active_step}\n                    isLoading={is_loading}\n                />\n            </DialogContent>\n            <DialogActions>\n                <Grid item xs style={{ \n                    display: active_step === 0 && \n                    chosenCandidateAlert === null ? \"flex\" : \"none\" \n                }}>\n                    <Button onClick={setIsOpenRoutineModal} color=\"secondary\">\n                        Release Routine Manually\n                    </Button>\n                </Grid>\n                                \n                <Grid item xs align=\"right\">\n                    {\n                        active_step < 3 && <Button \n                            onClick={handleReset}\n                            color=\"primary\"\n                        >\n                            Reset\n                        </Button>\n                    }\n                    <Button \n                        onClick={closeHandler}\n                        color=\"primary\"\n                    >\n                        Close\n                    </Button>\n                    {\n                        active_step < 3 && <Fragment>\n                            <Button\n                                disabled={active_step === 0} \n                                onClick={() => setActiveStep(active_step - 1)}\n                            >\n                                Back\n                            </Button>\n\n                            <Button\n                                color=\"primary\"\n                                onClick={handleNext}\n                                disabled={is_next_btn_disabled}\n                            >\n                                {active_step === steps.length - 1 ? \"Submit\" : \"Next\"}\n                            </Button>\n                        </Fragment>\n                    }\n                </Grid>\n            </DialogActions>\n        </Dialog>\n    );\n}\n\nexport default withMobileDialog()(AlertReleaseFormModal);\n","\nimport { host } from \"../../../config\";\nimport { makePOSTAxiosRequest, makeGETAxiosRequest } from \"../../../UtilityFunctions\";\n\nexport function handleDelete (json_data, callback) {\n    const api_link = `${host}/api/issues_and_reminders/delete_narratives_from_db`;\n    makePOSTAxiosRequest(api_link, json_data, callback);\n}\n\nexport function getLatestSiteEventDetails (site_id, callback) {\n    const api_link = `${host}/api/monitoring/get_latest_site_event_details/${site_id}`;\n    makeGETAxiosRequest(api_link, callback);\n}\n\nexport function processReleaseInternalAlert (json_data, callback) {\n    const api_link = `${host}/api/monitoring/process_release_internal_alert`;\n    makePOSTAxiosRequest(api_link, json_data, callback);\n}\n\nexport function getUnreleasedRoutineSites (data_timestamp, callback) {\n    const api_link = `${host}/api/monitoring/get_unreleased_routine_sites/${data_timestamp}`;\n    makeGETAxiosRequest(api_link, callback);\n}\n","import React, { useState, useEffect } from \"react\";\nimport MomentUtils from \"@date-io/moment\";\nimport moment from \"moment\";\nimport {\n    Grid, Divider, makeStyles\n} from \"@material-ui/core\";\nimport {\n    MuiPickersUtilsProvider,\n    KeyboardDateTimePicker, KeyboardTimePicker\n} from \"@material-ui/pickers\";\nimport List from \"@material-ui/core/List\";\nimport Card from \"@material-ui/core/Card\";\nimport CardHeader from \"@material-ui/core/CardHeader\";\nimport ListItem from \"@material-ui/core/ListItem\";\nimport ListItemText from \"@material-ui/core/ListItemText\";\nimport ListItemIcon from \"@material-ui/core/ListItemIcon\";\nimport Checkbox from \"@material-ui/core/Checkbox\";\nimport Button from \"@material-ui/core/Button\";\n\nimport DynaslopeUserSelectInputForm from \"../../reusables/DynaslopeUserSelectInputForm\";\n\nconst useStyles = makeStyles(theme => ({\n    inputGridContainer: {\n        marginTop: 6,\n        marginBottom: 6\n    },\n    checkboxGridContainer: {\n        marginTop: 12,\n        marginBottom: 6\n    },\n    selectInput: {\n        width: \"auto\",\n        [theme.breakpoints.down(\"xs\")]: {\n            width: \"250px\"\n        }\n    },\n    root: {\n        margin: \"auto\",\n    },\n    cardHeader: {\n        padding: theme.spacing(1, 2),\n    },\n    list: {\n        width: 200,\n        height: 230,\n        backgroundColor: theme.palette.background.paper,\n        overflow: \"auto\",\n    },\n    button: {\n        margin: theme.spacing(0.5, 0),\n    },\n}));\n\nfunction not (a, b) {\n    return a.filter(row => !b.some(x => x.value === row.value));\n}\n  \nfunction intersection (a, b) {\n    return a.filter(row => b.some(x => x.value === row.value));\n}\n  \nfunction union (a, b) {\n    return [...a, ...not(b, a)];\n}\n\nfunction RoutineReleaseForm (comp_props) {\n    const {\n        routineData, setRoutineData,\n        a0SiteList, setA0SiteList,\n        NDSiteList, setNDSiteList,\n        dataTimestamp, setDataTimestamp\n    } = comp_props;\n    const classes = useStyles();\n    const [form_release_time, setFormReleaseTime] = useState(null);\n\n    useEffect(() => {\n        setFormReleaseTime(routineData.release_time);\n    }, [routineData]);\n\n    const { reporter_id_mt } = routineData;\n\n    const handleDateTime = key => value => {\n        const temp = { ...routineData, [key]: value };\n        setRoutineData(temp);\n\n        if (key === \"data_ts\") setDataTimestamp(moment(value).format(\"YYYY-MM-DD HH:mm:00\"));\n    };\n    \n    const [checked, setChecked] = React.useState([]);\n\n    const leftChecked = intersection(checked, a0SiteList.site_id_list);\n    const rightChecked = intersection(checked, NDSiteList.site_id_list);\n\n    const handleToggle = (value, list) => () => {\n        const currentIndex = checked.findIndex(row => row.value === value);\n        const newChecked = [...checked];\n\n        if (currentIndex === -1) {\n            const site = list.find(row => row.value === value);\n            newChecked.push(site);\n        } else {\n            newChecked.splice(currentIndex, 1);\n        }\n\n        setChecked(newChecked);\n    };\n\n    const numberOfChecked = items => intersection(checked, items).length;\n\n    const handleToggleAll = items => () => {\n        if (numberOfChecked(items) === items.length) {\n            setChecked(not(checked, items));\n        } else {\n            setChecked(union(checked, items));\n        }\n    };\n\n    const handleCheckedRight = () => {\n        setNDSiteList({\n            ...NDSiteList,\n            site_id_list: NDSiteList.site_id_list.concat(leftChecked)\n        });\n        setA0SiteList({\n            ...a0SiteList,\n            site_id_list: not(a0SiteList.site_id_list, leftChecked)\n        });\n        setChecked(not(checked, leftChecked));\n    };\n\n    const handleCheckedLeft = () => {\n        setA0SiteList({\n            ...a0SiteList,\n            site_id_list: a0SiteList.site_id_list.concat(rightChecked)\n        });\n        setNDSiteList({\n            ...NDSiteList,\n            site_id_list: not(NDSiteList.site_id_list, rightChecked)\n        });\n        setChecked(not(checked, rightChecked));\n    };\n\n    const customList = (title, items) => {\n        const { site_id_list } = items;\n        return (\n            <Card>\n                <CardHeader\n                    className={classes.cardHeader}\n                    avatar={\n                        <Checkbox\n                            onClick={handleToggleAll(site_id_list)}\n                            checked={numberOfChecked(site_id_list) === site_id_list.length && site_id_list.length !== 0}\n                            indeterminate={numberOfChecked(site_id_list) !== site_id_list.length && numberOfChecked(site_id_list) !== 0}\n                            disabled={site_id_list.length === 0}\n                            inputProps={{ \"aria-label\": \"all site_id_list selected\" }}\n                        />\n                    }\n                    title={title}\n                    // subheader={`${numberOfChecked(site_id_list)}/${site_id_list.length} selected`}\n                />\n                <Divider />\n                <List className={classes.list} dense component=\"div\" role=\"list\">\n                    {site_id_list.map(value => {\n                        const { value: site_id, label } = value;\n                        const labelId = `transfer-list-all-item-${site_id}-label`;\n\n                        return (\n                            <ListItem key={site_id} role=\"listitem\" button onClick={handleToggle(site_id, site_id_list)}>\n                                <ListItemIcon>\n                                    <Checkbox\n                                        checked={checked.some(row => row.value === site_id)}\n                                        tabIndex={-1}\n                                        disableRipple\n                                        inputProps={{ \"aria-labelledby\": labelId }}\n                                    />\n                                </ListItemIcon>\n                                <ListItemText id={labelId} primary={label} />\n                            </ListItem>\n                        );\n                    })}\n                    <ListItem />\n                </List>\n            </Card>\n        );\n    };\n\n    return (\n        <MuiPickersUtilsProvider utils={MomentUtils}>\n            <Grid\n                container\n                justify=\"space-evenly\"\n                alignItems=\"center\"\n                spacing={1}\n            >\n\n                <Grid item xs={12} sm={6} className={classes.inputGridContainer}>\n                    <KeyboardDateTimePicker\n                        required\n                        autoOk\n                        label=\"Data timestamp\"\n                        value={dataTimestamp}\n                        onChange={handleDateTime(\"data_ts\")}\n                        ampm={false}\n                        placeholder=\"2010/01/01 00:00\"\n                        format=\"YYYY/MM/DD HH:mm\"\n                        mask=\"____/__/__ __:__\"\n                        clearable\n                        disableFuture\n                        error={dataTimestamp === null}\n                    />\n                </Grid>\n\n                <Grid item xs={12} sm={6} className={classes.inputGridContainer}>\n                    <KeyboardTimePicker\n                        required\n                        autoOk\n                        ampm={false}\n                        label=\"Time of release\"\n                        mask=\"__:__\"\n                        placeholder=\"00:00\"\n                        value={form_release_time}\n                        onChange={handleDateTime(\"release_time\")}\n                        clearable\n                    />\n                </Grid>\n\n                {/* TRANSFER LIST GOES HERE */}\n                <Grid container spacing={2} justify=\"center\" alignItems=\"center\" className={classes.root}>\n                    <Grid item>{customList(\"A0 Sites\", a0SiteList)}</Grid>\n                    <Grid item>\n                        <Grid container direction=\"column\" alignItems=\"center\">\n                            <Button\n                                variant=\"outlined\"\n                                size=\"small\"\n                                className={classes.button}\n                                onClick={handleCheckedRight}\n                                disabled={leftChecked.length === 0}\n                                aria-label=\"move selected NDSiteList\"\n                            >\n                                &gt;\n                            </Button>\n                            <Button\n                                variant=\"outlined\"\n                                size=\"small\"\n                                className={classes.button}\n                                onClick={handleCheckedLeft}\n                                disabled={rightChecked.length === 0}\n                                aria-label=\"move selected a0SiteList\"\n                            >\n                                &lt;\n                            </Button>\n                        </Grid>\n                    </Grid>\n                    <Grid item>{customList(\"ND Sites\", NDSiteList)}</Grid>\n                </Grid>\n\n                <Grid item xs={12} sm={6} className={classes.inputGridContainer}>\n                    <DynaslopeUserSelectInputForm\n                        variant=\"standard\"\n                        label=\"MT Personnel\"\n                        div_id=\"reporter_id_mt\"\n                        value={reporter_id_mt}\n                        disabled\n                    />\n                </Grid>\n\n                <Grid item xs={12} sm={6} className={classes.inputGridContainer}>\n                    <DynaslopeUserSelectInputForm\n                        variant=\"standard\"\n                        label=\"CT Personnel\"\n                        div_id=\"reporter_id_ct\"\n                        value={routineData.reporter_id_ct}\n                        changeHandler={e => setRoutineData({ ...routineData, reporter_id_ct: e.target.value })}\n                    />\n                </Grid>\n            </Grid>\n        </MuiPickersUtilsProvider>\n    );\n\n}\n\nexport default RoutineReleaseForm;\n","import React, { useState, useEffect, useContext } from \"react\";\nimport moment from \"moment\";\nimport {\n    Dialog, DialogTitle, DialogContent,\n    DialogContentText, DialogActions,\n    Button, withMobileDialog,\n} from \"@material-ui/core\";\n\nimport { useSnackbar } from \"notistack\";\nimport RoutineReleaseForm from \"./RoutineReleaseForm\";\nimport { sendWSMessage } from \"../../../websocket/monitoring_ws\";\nimport { getCurrentUser } from \"../../sessions/auth\";\nimport { GeneralContext } from \"../../contexts/GeneralContext\";\nimport { getUnreleasedRoutineSites } from \"./ajax\";\n\n\nfunction prepareSitesOption (arr) {\n    let temp = [];\n    if (arr.length > 0) {\n        temp = arr.map(site => {\n            const { \n                site_code, site_id\n            } = site;\n    \n            const s_code = site_code.toUpperCase();\n            return { state: true, value: site_id, label: s_code, is_disabled: false };\n        });\n    }\n    \n    return temp.sort((a, b) => a.site_id > b.site_id);\n}\n\n\nfunction RoutineReleaseFormModal (props) {\n    const {\n        fullScreen, isOpen,\n        closeHandler, chosenCandidateAlert,\n        setChosenCandidateAlert\n    } = props;\n    const { user_id: reporter_id_mt } = getCurrentUser();\n    const { sites } = useContext(GeneralContext);\n\n    const [ewiPayload, setEwiPayload] = useState({});\n    const { enqueueSnackbar } = useSnackbar();\n\n    const initial_routine_data = {\n        public_alert_symbol: \"A0\",\n        public_alert_level: 0,\n        data_ts: null,\n        release_time: moment(),\n        general_status: \"routine\",\n        reporter_id_ct: \"\",\n        reporter_id_mt,\n        non_triggering_moms: {}\n    };\n\n    const a0_list = {\n        site_id_list: [],\n        internal_alert_level: \"A0\",\n        trigger_list_str: null\n    };\n    const nd_list = {\n        site_id_list: [],\n        internal_alert_level: \"ND\",\n        trigger_list_str: null\n    };\n\n    const [routineData, setRoutineData] = useState({ ...initial_routine_data });\n    const [a0SiteList, setA0SiteList] = useState({ ...a0_list });\n    const [NDSiteList, setNDSiteList] = useState({ ...nd_list });\n    const [site_options, setSiteOptions] = useState([]);\n    const [dataTimestamp, setDataTimestamp] = useState(null);\n\n    const [disabled, setDisabled] = useState(true);\n\n    useEffect(() => {\n        setDisabled((a0SiteList.site_id_list.length === 0 && NDSiteList.site_id_list.length === 0) || routineData.reporter_id_ct === \"\");\n    }, [a0SiteList.site_id_list, NDSiteList.site_id_list, routineData.reporter_id_ct]);\n\n    useEffect(() => {\n        setRoutineData({ ...initial_routine_data });\n        const temp = prepareSitesOption(sites);\n        setSiteOptions(temp);\n    }, [sites]);\n\n    useEffect(() => {\n        if (chosenCandidateAlert === null) {\n            if (dataTimestamp !== null) {\n                getUnreleasedRoutineSites(dataTimestamp, data => {\n                    const { unreleased_sites } = data;\n                    const temp = prepareSitesOption(unreleased_sites);\n                    setA0SiteList({\n                        ...a0SiteList,\n                        site_id_list: temp\n                    });\n                });\n            } else {\n                setA0SiteList({\n                    ...a0SiteList,\n                    site_id_list: []\n                });\n                setNDSiteList({\n                    ...NDSiteList,\n                    site_id_list: []\n                });\n            }\n        }\n    }, [dataTimestamp, chosenCandidateAlert]);\n\n    useEffect(() => {\n        if (typeof chosenCandidateAlert !== \"undefined\" && chosenCandidateAlert !== null && chosenCandidateAlert.general_status === \"routine\") {\n            const copy = { ...chosenCandidateAlert };\n            delete copy.routine_details;\n\n            const temp = {\n                ...initial_routine_data,\n                ...copy\n            };\n\n            setRoutineData(temp);\n            setDataTimestamp(copy.data_ts);\n\n            const { routine_details: rd } = { ...chosenCandidateAlert };\n            rd.forEach(row => {\n                const { site_id_list, internal_alert_level } = row;\n                const site_list = site_options.filter(s => site_id_list.includes(s.value));\n\n                const a_temp = {\n                    ...row,\n                    site_id_list: site_list\n                };\n\n                if (internal_alert_level === \"A0\") {\n                    setA0SiteList(a_temp);\n                } else {\n                    setNDSiteList(a_temp);\n                }\n            });\n\n            setEwiPayload({ ...ewiPayload });\n        }\n    }, [chosenCandidateAlert, site_options]);\n\n    const handleSubmit = () => {\n        const f_data_ts = moment(routineData.data_ts).format(\"YYYY-MM-DD HH:mm:00\");\n        const f_rel_time = moment(routineData.release_time).format(\"HH:mm:ss\");\n        const snackbar_key = enqueueSnackbar(\n            \"Inserting Routine EWI release...\",\n            {\n                variant: \"warning\",\n                persist: true\n            }\n        );\n\n        const temp_payload = {\n            ...routineData,\n            data_timestamp: f_data_ts,\n            release_time: f_rel_time,\n            routine_details: [\n                { ...a0SiteList },\n                { ...NDSiteList }\n            ],\n            snackbar_key\n        };\n        \n        console.log(\"Submitting data...\", temp_payload);\n        sendWSMessage(\"insert_ewi\", temp_payload);\n        closeHandler();\n    };\n\n    const handleClose = () => {\n        closeHandler();\n        setChosenCandidateAlert(null);\n        setDataTimestamp(null);\n    };\n\n    return (\n        <Dialog\n            fullWidth\n            fullScreen={fullScreen}\n            open={isOpen}\n            aria-labelledby=\"form-dialog-title\"\n        >\n            <DialogTitle id=\"form-dialog-title\">Routine Release Form</DialogTitle>\n            <DialogContent>\n                <DialogContentText>\n                    Transfer site codes to their respective list if needed. Put sites with ground data on A0 Sites list\n                    while put sites without ground data on ND Sites. \n                </DialogContentText>\n                    \n                <RoutineReleaseForm\n                    routineData={routineData}\n                    setRoutineData={setRoutineData}\n                    a0SiteList={a0SiteList}\n                    setA0SiteList={setA0SiteList}\n                    NDSiteList={NDSiteList}\n                    setNDSiteList={setNDSiteList}\n                    dataTimestamp={dataTimestamp}\n                    setDataTimestamp={setDataTimestamp}\n                />\n            </DialogContent>\n            <DialogActions>\n                <Button onClick={handleClose} color=\"primary\">\n                    Cancel\n                </Button>\n                <Button\n                    variant=\"contained\"\n                    color=\"primary\"\n                    onClick={handleSubmit}\n                    disabled={disabled}\n                >\n                    Submit\n                </Button>\n            </DialogActions>\n        </Dialog>\n    );\n}\n\nexport default withMobileDialog()(RoutineReleaseFormModal);\n","import axios from \"axios\";\nimport moment from \"moment\";\nimport { host } from \"../../../config\";\nimport { sendWSMessage } from \"../../../websocket/monitoring_ws\";\n// Session Stuff\nimport { getCurrentUser } from \"../../sessions/auth\";\n\nfunction makeAxiosRequest (json_data, api_link, callback = null) {\n    axios.post(api_link, json_data)\n    .then((response) => {\n        const { data } = response; \n        if (callback !== null) {\n            callback(data);\n        } \n    })\n    .catch((error) => {\n        console.log(error);\n    });\n\n}\n\nexport function handleIssuesAndReminders (json_data) {\n    const temp = json_data;\n    const { ts_posted, ts_expiration, site_id_list } = json_data;\n    const temp_list = [];\n    if (site_id_list !== null) {\n        site_id_list.forEach(({ value }) => {\n            // Value is site_id\n            temp_list.push(value);\n        });\n    }\n    temp.user_id = getCurrentUser().user_id;\n    temp.ts_posted = moment(ts_posted).format(\"YYYY-MM-DD HH:mm:ss\");\n    if (ts_expiration !== \"Invalid date\") temp.ts_expiration = moment(ts_expiration).format(\"YYYY-MM-DD HH:mm:ss\");\n    temp.site_id_list = temp_list;\n\n    return temp;\n}\n\nexport function insertIssuesAndRemindersViaWS (json_data) {\n    const data = handleIssuesAndReminders(json_data);\n    sendWSMessage(\"write_issues_and_reminders\", data);\n}\n\nexport function insertIssuesAndRemindersViaPost (json_data, callback) {\n    const data = handleIssuesAndReminders(json_data);\n    const api_link = `${host}/api/issues_and_reminders/write_issue_reminder_to_db`;\n    makeAxiosRequest(data, api_link, callback);\n\n}\n\n\n// eslint-disable-next-line import/prefer-default-export\nexport function getIssuesAndReminders (input, callback) {\n    const {\n        include_count, limit, offset,\n        filters, search_str, include_expired\n    } = input;\n\n    let api_link = `${host}/api/issues_and_reminders/get_issues_and_reminders`;\n    api_link += `?include_expired=${include_expired}`;\n\n    if (limit !== null || offset !== null) {\n        api_link += `&limit=${limit}&offset=${offset}`;\n\n        if (include_count) api_link += \"&include_count=true\";\n        if (filters.length !== 0) {\n            const filter_str = filters.map(row => {\n                const { name, data } = row;\n                return data.map(x => `&${name}=${x}`).join(\"\");\n            });\n    \n            api_link += filter_str.join(\"\");\n        }    \n        if (search_str !== \"\") api_link += `&search=${search_str}`;    \n    }\n\n    axios.get(api_link)\n    .then(response => {\n        const { data } = response;\n        callback(data);\n    })\n    .catch(error => {\n        console.error(error);\n    });\n\n}\n","export const sites = [\n    {\n        active: true, \n        barangay: \"Agbatuan\", \n        municipality: \"Dumarao\", \n        province: \"Capiz\", \n        psgc: 61904001, \n        purok: null, \n        region: \"VI\", \n        season: 1, \n        site_code: \"agb\", \n        site_id: 1, \n        sitio: null,\n        latitude: 11.281370,\n        longitude: 122.831100\n    }, \n    {\n        active: true, \n        barangay: \"Poblacion\", \n        municipality: \"Bakun\", \n        province: \"Benguet\", \n        psgc: 141103009, \n        purok: null, \n        region: \"CAR\", \n        season: 2, \n        site_code: \"bak\", \n        site_id: 2, \n        sitio: null,\n        latitude: 16.790700,\n        longitude: 120.661600\n    }, \n    {\n        active: true, \n        barangay: \"Banlasan\", \n        municipality: \"Calape\", \n        province: \"Bohol\", \n        psgc: 71210003, \n        purok: null, \n        region: \"VI\", \n        season: 1, \n        site_code: \"ban\", \n        site_id: 3, \n        sitio: null,\n        latitude: 9.888559,\n        longitude: 123.948800\n    }, \n    {\n        active: true, \n        barangay: \"Baras\", \n        municipality: \"Tarangnan\", \n        province: \"Samar\", \n        psgc: 86020008, \n        purok: null, \n        region: \"VIII\", \n        season: 1, \n        site_code: \"bar\", \n        site_id: 4, \n        sitio: null,\n        latitude: 11.902080,\n        longitude: 124.656600\n    }, \n    {\n        active: true, \n        barangay: \"Bayabas\", \n        municipality: \"Labo\", \n        province: \"Camarines Norte\", \n        psgc: 51606009, \n        purok: null, \n        region: \"V\", \n        season: 1, \n        site_code: \"bay\", \n        site_id: 5, \n        sitio: null,\n        latitude: 14.187970,\n        longitude: 122.467500\n    }, \n    {\n        active: true, \n        barangay: \"Boloc\", \n        municipality: \"Tubungan\", \n        province: \"Iloilo\", \n        psgc: 63046016, \n        purok: null, \n        region: \"VI\", \n        season: 2, \n        site_code: \"blc\", \n        site_id: 6, \n        sitio: null,\n        latitude: 10.826650,\n        longitude: 122.310800\n    }, \n    {\n        active: true, \n        barangay: \"Bolodbolod\", \n        municipality: \"St. Bernard\", \n        province: \"Southern Leyte\", \n        psgc: 86412004, \n        purok: \"3 & 4\", \n        region: \"VIII\", \n        season: 1, \n        site_code: \"bol\", \n        site_id: 7, \n        sitio: null,\n        latitude: 10.301990,\n        longitude: 125.127900\n    }, \n    {\n        active: true, \n        barangay: \"Bato\", \n        municipality: \"Sibonga\", \n        province: \"Cebu\", \n        psgc: 72246007, \n        purok: null, \n        region: \"VI\", \n        season: 1, \n        site_code: \"bto\", \n        site_id: 8, \n        sitio: null,\n        latitude: 10.013790,\n        longitude: 123.577600\n    }, \n    {\n        active: true, \n        barangay: \"San Carlos\", \n        municipality: \"Dapa\", \n        province: \"Surigao del Norte\", \n        psgc: 166707025, \n        purok: null, \n        region: \"XIII\", \n        season: 1, \n        site_code: \"car\", \n        site_id: 9, \n        sitio: null,\n        latitude: 9.719629,\n        longitude: 125.973700\n    }, \n    {\n        active: true, \n        barangay: \"Cudog\", \n        municipality: \"Lagawe\", \n        province: \"Ifugao\", \n        psgc: 142704010, \n        purok: null, \n        region: \"CAR\", \n        season: 2, \n        site_code: \"cud\", \n        site_id: 10, \n        sitio: \"Natuwolan at Wadwad\",\n        latitude: 16.809310,\n        longitude: 121.104700\n    }, \n    {\n        active: true, \n        barangay: \"Dadong\", \n        municipality: \"Tarragona\", \n        province: \"Davao Oriental\", \n        psgc: 112511003, \n        purok: null, \n        region: \"XI\", \n        season: 1, \n        site_code: \"dad\", \n        site_id: 11, \n        sitio: \"Sagasa\",\n        latitude: 7.137310,\n        longitude: 126.450900\n    }, \n    {\n        active: true, \n        barangay: \"Gaas\", \n        municipality: \"Balamban\", \n        province: \"Cebu\", \n        psgc: 72208014, \n        purok: null, \n        region: \"VII\", \n        season: 1, \n        site_code: \"gaa\", \n        site_id: 12, \n        sitio: null,\n        latitude: 10.423520,\n        longitude: 123.785100\n    }, \n    {\n        active: true, \n        barangay: \"Gamut\", \n        municipality: \"Tago\", \n        province: \"Surigao del Sur\", \n        psgc: 166818012, \n        purok: null, \n        region: \"XIII\", \n        season: 1, \n        site_code: \"gam\", \n        site_id: 13, \n        sitio: null,\n        latitude: 9.010100,\n        longitude: 126.167600\n    }, \n    {\n        active: true, \n        barangay: \"1 & 2\", \n        municipality: \"Hinabangan\", \n        province: \"Samar\", \n        psgc: 86008012, \n        purok: null, \n        region: \"VIII\", \n        season: 1, \n        site_code: \"hin\", \n        site_id: 14, \n        sitio: null,\n        latitude: 11.700640,\n        longitude: 125.069100\n    }, \n    {\n        active: true, \n        barangay: \"Humayhumay\", \n        municipality: \"Guihulngan City\", \n        province: \"Negros Oriental\", \n        psgc: 184611013, \n        purok: null, \n        region: \"VII\", \n        season: 1, \n        site_code: \"hum\", \n        site_id: 15, \n        sitio: null,\n        latitude: 10.183920,\n        longitude: 123.250300\n    }, \n    {\n        active: true, \n        barangay: \"Imelda\", \n        municipality: \"Tarangnan\", \n        province: \"Samar\", \n        psgc: 86020024, \n        purok: null, \n        region: \"VIII\", \n        season: 1, \n        site_code: \"ime\", \n        site_id: 16, \n        sitio: null,\n        latitude: 11.903830,\n        longitude: 124.752600\n    }, \n    {\n        active: true, \n        barangay: \"Immuli\", \n        municipality: \"Pidigan\", \n        province: \"Abra\", \n        psgc: 140118005, \n        purok: null, \n        region: \"CAR\", \n        season: 2, \n        site_code: \"imu\", \n        site_id: 17, \n        sitio: null,\n        latitude: 17.523080,\n        longitude: 120.604600\n    }, \n    {\n        active: true, \n        barangay: \"Inabasan\", \n        municipality: \"Maasin\", \n        province: \"Iloilo\", \n        psgc: 63029025, \n        purok: null, \n        region: \"VI\", \n        season: 2, \n        site_code: \"ina\", \n        site_id: 18, \n        sitio: \"Sambag\",\n        latitude: 10.869910,\n        longitude: 122.436200\n    }, \n    {\n        active: true, \n        barangay: \"Poblacion 1\", \n        municipality: \"San Jorge\", \n        province: \"Samar\", \n        psgc: 86025024, \n        purok: null, \n        region: \"VIII\", \n        season: 1, \n        site_code: \"jor\", \n        site_id: 19, \n        sitio: null,\n        latitude: 11.977790,\n        longitude: 124.824900\n    }, \n    {\n        active: true, \n        barangay: \"Ambuklao\", \n        municipality: \"Bokod\", \n        province: \"Benguet\", \n        psgc: 141104001, \n        purok: null, \n        region: \"CAR\", \n        season: 2, \n        site_code: \"lab\", \n        site_id: 20, \n        sitio: \"Labey\",\n        latitude: 16.470320,\n        longitude: 120.705400\n    }, \n    {\n        active: true, \n        barangay: \"Laygayon\", \n        municipality: \"Pinabacdao\", \n        province: \"Samar\", \n        psgc: 86013013, \n        purok: null, \n        region: \"VIII\", \n        season: 1, \n        site_code: \"lay\", \n        site_id: 21, \n        sitio: null,\n        latitude: 11.512700,\n        longitude: 125.025700\n    }, \n    {\n        active: true, \n        barangay: \"Lipanto\", \n        municipality: \"St. Bernard\", \n        province: \"Southern Leyte\", \n        psgc: 86412016, \n        purok: \"1\", \n        region: \"VIII\", \n        season: 1, \n        site_code: \"lip\", \n        site_id: 22, \n        sitio: null,\n        latitude: 10.227670,\n        longitude: 125.126600\n    }, \n    {\n        active: true, \n        barangay: \"Looc\", \n        municipality: \"Villanueva\", \n        province: \"Misamis Oriental\", \n        psgc: 104326011, \n        purok: null, \n        region: \"X\", \n        season: 1, \n        site_code: \"loo\", \n        site_id: 23, \n        sitio: null,\n        latitude: 8.597964,\n        longitude: 124.777500\n    }, \n    {\n        active: true, \n        barangay: \"Lipata\", \n        municipality: \"Paranas\", \n        province: \"Samar\", \n        psgc: 86022016, \n        purok: null, \n        region: \"VIII\", \n        season: 1, \n        site_code: \"lpa\", \n        site_id: 24, \n        sitio: null,\n        latitude: 11.786250,\n        longitude: 125.019600\n    }, \n    {\n        active: true, \n        barangay: \"Literon\", \n        municipality: \"Calbiga\", \n        province: \"Samar\", \n        psgc: 86004017, \n        purok: null, \n        region: \"VIII\", \n        season: 1, \n        site_code: \"lte\", \n        site_id: 25, \n        sitio: null,\n        latitude: 11.590370,\n        longitude: 125.090300\n    }, \n    {\n        active: true, \n        barangay: \"Lunas\", \n        municipality: \"Maasin City\", \n        province: \"Southern Leyte\", \n        psgc: 86407034, \n        purok: null, \n        region: \"VIII\", \n        season: 1, \n        site_code: \"lun\", \n        site_id: 26, \n        sitio: \"Caianuhan\",\n        latitude: 10.258190,\n        longitude: 124.877000\n    }, \n    {\n        active: true, \n        barangay: \"Magsaysay\", \n        municipality: \"Kibawe\", \n        province: \"Bukidnon\", \n        psgc: 101308016, \n        purok: \"1, 2 & 3\", \n        region: \"X\", \n        season: 1, \n        site_code: \"mag\", \n        site_id: 27, \n        sitio: null,\n        latitude: 7.519230,\n        longitude: 125.059800\n    }, \n    {\n        active: true, \n        barangay: \"Ambassador\", \n        municipality: \"Tublay\", \n        province: \"Benguet\", \n        psgc: 141114001, \n        purok: null, \n        region: \"CAR\", \n        season: 2, \n        site_code: \"mam\", \n        site_id: 28, \n        sitio: \"Mamuyod\",\n        latitude: 16.488300,\n        longitude: 120.689000\n    }, \n    {\n        active: true, \n        barangay: \"Marirong\", \n        municipality: \"Leon\", \n        province: \"Iloilo\", \n        psgc: 63028059, \n        purok: null, \n        region: \"VI\", \n        season: 2, \n        site_code: \"mar\", \n        site_id: 29, \n        sitio: null,\n        latitude: 10.827459,\n        longitude: 122.321555\n    }, \n    {\n        active: true, \n        barangay: \"Mac-Arthur\", \n        municipality: \"Esperanza\", \n        province: \"Agusan del Sur\", \n        psgc: 160303010, \n        purok: null, \n        region: \"XIII\", \n        season: 1, \n        site_code: \"mca\", \n        site_id: 30, \n        sitio: null,\n        latitude: 8.585430,\n        longitude: 125.741000\n    }, \n    {\n        active: true, \n        barangay: \"Manghulyawon\", \n        municipality: \"La Libertad\", \n        province: \"Negros Oriental\", \n        psgc: 184613013, \n        purok: null, \n        region: \"VII\", \n        season: 1, \n        site_code: \"mng\", \n        site_id: 31, \n        sitio: \"Dao\",\n        latitude: 10.047930,\n        longitude: 123.206200\n    }, \n    {\n        active: true, \n        barangay: \"Sto. Nino\", \n        municipality: \"Talaingod\", \n        province: \"Davao del Norte\", \n        psgc: 112322003, \n        purok: null, \n        region: \"XI\", \n        season: 1, \n        site_code: \"msl\", \n        site_id: 32, \n        sitio: \"Lower Mesolong\",\n        latitude: 7.629616,\n        longitude: 125.544500\n    }, \n    {\n        active: true, \n        barangay: \"Sto. Nino\", \n        municipality: \"Talaingod\", \n        province: \"Davao del Norte\", \n        psgc: 112322003, \n        purok: null, \n        region: \"XI\", \n        season: 1, \n        site_code: \"msu\", \n        site_id: 33, \n        sitio: \"Upper Mesolong\",\n        latitude: 7.628743,\n        longitude: 125.540300\n    }, \n    {\n        active: true, \n        barangay: \"Nagyubuyuban\", \n        municipality: \"San Fernando City\", \n        province: \"La Union\", \n        psgc: 13314034, \n        purok: \"5\", \n        region: \"I\", \n        season: 2, \n        site_code: \"nag\", \n        site_id: 34, \n        sitio: null,\n        latitude: 16.626780,\n        longitude: 120.417600\n    }, \n    {\n        active: true, \n        barangay: \"Nurcia\", \n        municipality: \"Lanuza\", \n        province: \"Surigao del Sur\", \n        psgc: 166810011, \n        purok: null, \n        region: \"XIII\", \n        season: 1, \n        site_code: \"nur\", \n        site_id: 35, \n        sitio: null,\n        latitude: 9.269702,\n        longitude: 126.138400\n    }, \n    {\n        active: true, \n        barangay: \"Oslao\", \n        municipality: \"San Francisco\", \n        province: \"Surigao del Norte\", \n        psgc: 166719010, \n        purok: null, \n        region: \"XIII\", \n        season: 1, \n        site_code: \"osl\", \n        site_id: 36, \n        sitio: null,\n        latitude: 9.757190,\n        longitude: 125.401400\n    }, \n    {\n        active: true, \n        barangay: \"Parasanon\", \n        municipality: \"Pinabacdao\", \n        province: \"Samar\", \n        psgc: 86013022, \n        purok: null, \n        region: \"VIII\", \n        season: 1, \n        site_code: \"par\", \n        site_id: 37, \n        sitio: null,\n        latitude: 11.514870,\n        longitude: 125.025500\n    }, \n    {\n        active: true, \n        barangay: \"Pepe\", \n        municipality: \"Leon\", \n        province: \"Iloilo\", \n        psgc: 63028070, \n        purok: null, \n        region: \"VI\", \n        season: 2, \n        site_code: \"pep\", \n        site_id: 38, \n        sitio: \"Bangi\",\n        latitude: 10.787880,\n        longitude: 122.333600\n    }, \n    {\n        active: true, \n        barangay: \"Pinagkamaligan\", \n        municipality: \"Calauag\", \n        province: \"Quezon\", \n        psgc: 45607060, \n        purok: null, \n        region: \"IVB\", \n        season: 1, \n        site_code: \"pin\", \n        site_id: 39, \n        sitio: null,\n        latitude: 13.953600,\n        longitude: 122.285500\n    }, \n    {\n        active: true, \n        barangay: \"Planas\", \n        municipality: \"Guihulngan City\", \n        province: \"Negros Oriental\", \n        psgc: 184611027, \n        purok: null, \n        region: \"VII\", \n        season: 1, \n        site_code: \"pla\", \n        site_id: 40, \n        sitio: \"Mambog\",\n        latitude: 10.159840,\n        longitude: 123.245900\n    }, \n    {\n        active: true, \n        barangay: \"Pange\", \n        municipality: \"Matnog\", \n        province: \"Sorsogon\", \n        psgc: 56212032, \n        purok: null, \n        region: \"V\", \n        season: 1, \n        site_code: \"png\", \n        site_id: 41, \n        sitio: null,\n        latitude: 12.630630,\n        longitude: 124.018300\n    }, \n    {\n        active: true, \n        barangay: \"Puguis\", \n        municipality: \"La Trinidad\", \n        province: \"Benguet\", \n        psgc: 141110013, \n        purok: null, \n        region: \"CAR\", \n        season: 2, \n        site_code: \"pug\", \n        site_id: 42, \n        sitio: \"Longlong\",\n        latitude: 16.446550,\n        longitude: 120.570600\n    }, \n    {\n        active: true, \n        barangay: \"Antadao\", \n        municipality: \"Sagada\", \n        province: \"Mt. Province\", \n        psgc: 144409005, \n        purok: null, \n        region: \"CAR\", \n        season: 2, \n        site_code: \"sag\", \n        site_id: 43, \n        sitio: null,\n        latitude: 17.082630,\n        longitude: 120.924800\n    }, \n    {\n        active: true, \n        barangay: \"Sibajay\", \n        municipality: \"Boston\", \n        province: \"Davao Oriental\", \n        psgc: 112503006, \n        purok: null, \n        region: \"XI\", \n        season: 1, \n        site_code: \"sib\", \n        site_id: 44, \n        sitio: null,\n        latitude: 7.825670,\n        longitude: 126.383400\n    }, \n    {\n        active: true, \n        barangay: \"Amgaleyguey\", \n        municipality: \"Buguias\", \n        province: \"Benguet\", \n        psgc: 141105002, \n        purok: null, \n        region: \"CAR\", \n        season: 2, \n        site_code: \"sin\", \n        site_id: 45, \n        sitio: \"Sinipsip\",\n        latitude: 16.723400,\n        longitude: 120.781500\n    }, \n    {\n        active: true, \n        barangay: \"Sumalsag\", \n        municipality: \"Malitbog\", \n        province: \"Bukidnon\", \n        psgc: 101313011, \n        purok: null, \n        region: \"X\", \n        season: 1, \n        site_code: \"sum\", \n        site_id: 46, \n        sitio: null,\n        latitude: 8.545110,\n        longitude: 124.859700\n    }, \n    {\n        active: true, \n        barangay: \"Talahid\", \n        municipality: \"Almeria\", \n        province: \"Biliran\", \n        psgc: 87801012, \n        purok: null, \n        region: \"VIII\", \n        season: 1, \n        site_code: \"tal\", \n        site_id: 47, \n        sitio: null,\n        latitude: 11.637420,\n        longitude: 124.366500\n    }, \n    {\n        active: true, \n        barangay: \"Taga\", \n        municipality: \"Pinukpuk\", \n        province: \"Kalinga\", \n        psgc: 143209022, \n        purok: null, \n        region: \"CAR\", \n        season: 2, \n        site_code: \"tga\", \n        site_id: 48, \n        sitio: null,\n        latitude: 17.573470,\n        longitude: 121.383400\n    }, \n    {\n        active: true, \n        barangay: \"Tue\", \n        municipality: \"Tadian\", \n        province: \"Mt. Province\", \n        psgc: 144410019, \n        purok: null, \n        region: \"CAR\", \n        season: 2, \n        site_code: \"tue\", \n        site_id: 49, \n        sitio: null,\n        latitude: 16.972290,\n        longitude: 120.828600\n    }, \n    {\n        active: true, \n        barangay: \"Umingan\", \n        municipality: \"Alimodian\", \n        province: \"Iloilo\", \n        psgc: 63002053, \n        purok: null, \n        region: \"VI\", \n        season: 2, \n        site_code: \"umi\", \n        site_id: 50, \n        sitio: null,\n        latitude: 10.908070,\n        longitude: 122.327800\n    }\n];\n\nexport const organizations = [\n    \"lewc\", \"blgu\", \"mlgu\", \"plgu\",\n    \"phivolcs\", \"dost\", \"mgb\", \"pdrrmc\",\n    \"pnp\", \"ngo\", \"region 8\", \"none\"\n];\n\nexport const sample_messages = [\n    {\n        id: 0,\n        name: {\n            first: \"Lenore\",\n            last: \"Cervantes\"\n        },\n        ts_received: \"2019-05-10 12:00:45\",\n        phone: \"+63 (916) 415-3837\",\n        message: \"Ipsum laborum mollit sit nulla duis magna ipsum pariatur ex do in. Consectetur do incididunt incididunt reprehenderit consectetur incididunt duis consectetur occaecat aute.\",\n        sender: \"PLGU Lenore Cervantes\"\n    },\n    {\n        id: 1,\n        name: {\n            first: \"Eaton\",\n            last: \"Cole\"\n        },\n        ts_received: \"2019-05-10 09:49:16\",\n        phone: \"+63 (840) 414-3654\",\n        message: \"Laboris in do et mollit reprehenderit velit. Esse aliquip proident occaecat nulla reprehenderit laboris consectetur laboris exercitation.\",\n        sender: \"PLGU Eaton Cole\"\n    },\n    {\n        id: 2, \n        name: {\n            first: \"Etta\",\n            last: \"Pittman\"\n        },\n        ts_received: \"2019-02-23 01:36:54\",\n        phone: \"+63 (893) 424-3942\",\n        message: \"Pariatur ut dolor minim nostrud occaecat aliquip est tempor nostrud ullamco mollit mollit consequat minim. Do irure id exercitation reprehenderit ex enim esse eu commodo aliqua quis quis qui amet.\",\n        sender: \"MLGU Etta Pittman\"\n    },\n    {\n        id: 3,\n        name: {\n            first: \"Ruth\",\n            last: \"Mullen\"\n        },\n        ts_received: \"2019-02-07 17:50:23\",\n        phone: \"+63 (833) 437-2661\",\n        message: \"Officia aute ipsum ea commodo elit excepteur labore fugiat aliqua labore excepteur nulla proident est. Proident duis veniam ipsum nisi deserunt proident laboris dolor aliquip Lorem enim amet.\",\n        sender: \"LEWC Ruth Mullen\"\n    },\n    {\n        id: 4, \n        name: {\n            first: \"Palmer\",\n            last: \"Gomez\"\n        },\n        ts_received: \"2019-04-21 03:15:49\",\n        phone: \"+63 (880) 497-2123\",\n        message: \"Adipisicing commodo proident aliqua excepteur minim ad sunt officia. Dolor dolor ut in occaecat et proident laboris esse nisi id dolore anim reprehenderit pariatur.\",\n        sender: \"LEWC Palmer Gomez\"\n    },\n    {\n        id: 5, \n        name: {\n            first: \"Melanie\",\n            last: \"Miranda\"\n        },\n        ts_received: \"2019-02-15 18:30:08\",\n        phone: \"+63 (889) 488-3851\",\n        message: \"Cillum eu id veniam esse magna velit. Deserunt reprehenderit id reprehenderit est aliqua anim.\",\n        sender: \"LEWC Melanie Miranda\"\n    },\n    {\n        id: 6, \n        name: {\n            first: \"Maggie\",\n            last: \"George\"\n        },\n        ts_received: \"2019-02-10 06:24:13\",\n        phone: \"+63 (962) 587-3677\",\n        message: \"Ex ex nostrud et enim minim fugiat esse labore Lorem. Amet sunt excepteur eu id reprehenderit adipisicing in.\",\n        sender: \"MLGU Maggie George\"\n    },\n    {\n        id: 7, \n        name: {\n            first: \"Matthews\",\n            last: \"Acosta\"\n        },\n        ts_received: \"2019-03-18 20:26:52\",\n        phone: \"+63 (880) 581-2315\",\n        message: \"Nulla id incididunt sint irure nulla magna ullamco Lorem excepteur ut. Irure sunt enim ut adipisicing.\",\n        sender: \"MLGU Matthews Acosta\"\n    },\n    {\n        id: 8, \n        name: {\n            first: \"Roach\",\n            last: \"Lowery\"\n        },\n        ts_received: \"2019-03-03 00:19:18\",\n        phone: \"+63 (811) 496-3731\",\n        message: \"Elit aliqua in id excepteur sunt deserunt aliquip sunt sit. Nisi laboris ad eiusmod reprehenderit amet eiusmod cupidatat nulla adipisicing deserunt occaecat enim amet ea.\",\n        sender: \"PLGU Roach Lowery\"\n    },\n    {\n        id: 9,\n        name: {\n            first: \"Nikki\",\n            last: \"Ruiz\"\n        },\n        ts_received: \"2019-04-04 01:47:52\",\n        phone: \"+63 (918) 530-3617\",\n        message: \"Amet elit aute veniam culpa nulla. Elit occaecat incididunt cupidatat consectetur laboris sint voluptate do enim aliquip.\",\n        sender: \"PLGU Nikki Ruiz\"\n    },\n    {\n        id: 100, \n        name: {\n            first: \"Melanie\",\n            last: \"Miranda\"\n        },\n        ts_received: \"2019-02-15 18:30:08\",\n        phone: \"+63 (889) 488-3851\",\n        message: \"Cillum eu id veniam esse magna velit. Deserunt reprehenderit id reprehenderit est aliqua anim.\",\n        sender: \"LEWC Melanie Miranda\"\n    },\n    {\n        id: 101, \n        name: {\n            first: \"Maggie\",\n            last: \"George\"\n        },\n        ts_received: \"2019-02-10 06:24:13\",\n        phone: \"+63 (962) 587-3677\",\n        message: \"Ex ex nostrud et enim minim fugiat esse labore Lorem. Amet sunt excepteur eu id reprehenderit adipisicing in.\",\n        sender: \"MLGU Maggie George\"\n    },\n    {\n        id: 102, \n        name: {\n            first: \"Matthews\",\n            last: \"Acosta\"\n        },\n        ts_received: \"2019-03-18 20:26:52\",\n        phone: \"+63 (880) 581-2315\",\n        message: \"Nulla id incididunt sint irure nulla magna ullamco Lorem excepteur ut. Irure sunt enim ut adipisicing.\",\n        sender: \"MLGU Matthews Acosta\"\n    }\n];\n\nexport const sample_messages_2 = [\n    {\n        id: 11,\n        name: {\n            first: \"Jacobs\",\n            last: \"Figueroa\"\n        },\n        ts_received: \"2019-03-28 10:57:12\",\n        phone: \"+63 (896) 505-3692\",\n        message: \"Fugiat dolore sint sint anim irure id mollit et aliquip elit nulla. Reprehenderit ut est dolore aliqua dolor adipisicing ipsum enim deserunt aliquip laborum ullamco.\",\n        sender: \"BLGU Jacobs Figueroa\"\n    },\n    {\n        id: 12,\n        name: {\n            first: \"Belinda\",\n            last: \"Dixon\"\n        },\n        ts_received: \"2019-05-08 13:37:35\",\n        phone: \"+63 (956) 565-2821\",\n        message: \"Anim anim sit commodo cillum eiusmod cillum qui est irure ex ex anim tempor do. Aliquip id sunt pariatur consequat amet exercitation.\",\n        sender: \"LEWC Belinda Dixon\"\n    },\n    {\n        id: 13,\n        name: {\n            first: \"Alisa\",\n            last: \"Hammond\"\n        },\n        ts_received: \"2019-02-18 18:09:34\",\n        phone: \"+63 (955) 517-2985\",\n        message: \"Enim mollit laboris do id. Reprehenderit incididunt laborum laborum esse reprehenderit occaecat elit magna occaecat magna nostrud.\",\n        sender: \"MLGU Alisa Hammond\"\n    },\n    {\n        id: 14,\n        name: {\n            first: \"Dickerson\",\n            last: \"Valenzuela\"\n        },\n        ts_received: \"2019-05-06 06:11:48\",\n        phone: \"+63 (875) 553-2832\",\n        message: \"Id non consectetur duis aliqua consectetur. Velit est veniam sit pariatur sunt officia.\",\n        sender: \"PLGU Dickerson Valenzuela\"\n    },\n    {\n        id: 15,\n        name: {\n            first: \"Rochelle\",\n            last: \"Dawson\"\n        },\n        ts_received: \"2019-02-20 06:53:03\",\n        phone: \"+63 (863) 592-3635\",\n        message: \"Non aliqua ipsum laboris qui consectetur proident aute. Anim amet velit nulla esse deserunt incididunt mollit proident non enim anim consectetur et.\",\n        sender: \"PLGU Rochelle Dawson\"\n    }\n];\n\nexport const sample_messages_3 = [\n    {\n        id: 21,\n        name: {\n            first: \"Copeland\",\n            last: \"Farley\"\n        },\n        ts_received: \"2019-03-05 10:23:48\",\n        phone: \"+63 (884) 517-2548\",\n        message: \"Id anim amet aute ullamco pariatur. Lorem minim nostrud id quis excepteur culpa voluptate dolore officia adipisicing sint eu eu incididunt.\",\n        sender: \"LEWC Copeland Farley\"\n    },\n    {\n        id: 22,\n        name: {\n            first: \"Monique\",\n            last: \"Miranda\"\n        },\n        ts_received: \"2019-04-04 20:38:54\",\n        phone: \"+63 (839) 575-2123\",\n        message: \"Proident labore magna nisi nulla excepteur Lorem cillum non sunt sunt. Proident nisi nisi nisi exercitation cupidatat officia quis magna aliqua voluptate mollit sunt.\",\n        sender: \"BLGU Monique Miranda\"\n    },\n    {\n        id: 23,\n        name: {\n            first: \"Bush\",\n            last: \"Snow\"\n        },\n        ts_received: \"2019-03-18 09:25:24\",\n        phone: \"+63 (946) 543-3478\",\n        message: \"Reprehenderit nisi occaecat pariatur occaecat. Fugiat aute dolore enim esse mollit ullamco.\",\n        sender: \"PLGU Bush Snow\"\n    },\n    {\n        id: 24,\n        name: {\n            first: \"Candice\",\n            last: \"Crane\"\n        },\n        ts_received: \"2019-04-29 15:13:43\",\n        phone: \"+63 (935) 581-3747\",\n        message: \"Nulla aliqua nisi sint duis ullamco sint exercitation. Aute anim aute veniam aliqua aute ex labore laborum quis et laboris tempor est.\",\n        sender: \"BLGU Candice Crane\"\n    },\n    {\n        id: 25,\n        name: {\n            first: \"Mooney\",\n            last: \"Moore\"\n        },\n        ts_received: \"2019-04-03 04:34:09\",\n        phone: \"+63 (871) 427-2638\",\n        message: \"Commodo id incididunt mollit dolor ex. Adipisicing Lorem culpa commodo mollit duis pariatur proident nulla quis consequat eu et pariatur ad.\",\n        sender: \"PLGU Mooney Moore\"\n    }\n];\n\nexport const sample_single_convo = {  \n    full_name: \"BTO MLGU - OFQUERIA, DAMIANO\",\n    recipients: [\n        {\n            first_name: \"Damiano\", \n            last_name: \"Ofqueria\", \n            middle_name: \"NA\", \n            mobile_numbers: [\n                {\n                    gsm_id: 3, \n                    mobile_id: 75, \n                    mobile_status: 1, \n                    priority: 1, \n                    sim_num: \"639327788115\"\n                }\n            ], \n            nickname: \"NA\", \n            organizations: [\n                {\n                    org_id: 18, \n                    org_name: \"MLGU\", \n                    scope: 2, \n                    site: {\n                        active: true, \n                        barangay: \"Bato\", \n                        municipality: \"Sibonga\", \n                        province: \"Cebu\", \n                        psgc: 72246007, \n                        purok: null, \n                        region: \"VI\", \n                        season: 1, \n                        site_code: \"bto\", \n                        site_id: 8, \n                        sitio: null\n                    }\n                }\n            ], \n            salutation: \"Sir\", \n            sex: \"M\", \n            status: 1, \n            user_hierarchy: [], \n            user_id: 117\n        }\n    ],\n    type: \"loadSmsConversation\",\n    data: [  \n        {  \n            convo_id: \"49102\",\n            mobile_id: \"75\",\n            ts_received: \"2019-05-20 08:20:01\",\n            ts_written: null,\n            ts_sent: null,\n            sms_msg: \"copy\",\n            read_status: \"1\",\n            web_status: null,\n            gsm_id: \"3\",\n            send_status: null,\n            timestamp: \"2019-05-20 08:20:01\",\n            user: \"BTO MLGU - OFQUERIA, DAMIANO\",\n            tags: []\n        },\n        {  \n            convo_id: \"264205\",\n            mobile_id: \"75\",\n            ts_received: null,\n            ts_written: \"2019-05-20 08:17:56\",\n            ts_sent: \"2019-05-20 08:18:07\",\n            sms_msg: \"Magandang umaga po.\\n\\nAlert 0 ang alert level sa Bato, Sibonga, Cebu ngayong May 20, 2019 8:00 AM.\\nInaasahan namin ang pagpapadala ng LEWC ng ground data bukas bago mag-11:30 AM para sa unang araw ng 3-day extended monitoring.\\n\\nSalamat. - Anne Marionne from PHIVOLCS-DYNASLOPE\",\n            read_status: null,\n            web_status: \"0\",\n            gsm_id: \"3\",\n            send_status: \"5\",\n            timestamp: \"2019-05-20 08:17:56\",\n            user: \"You\",\n            tags: []\n        },\n        {  \n            convo_id: \"264189\",\n            mobile_id: \"75\",\n            ts_received: null,\n            ts_written: \"2019-05-20 04:20:32\",\n            ts_sent: \"2019-05-20 04:20:55\",\n            sms_msg: \"Magandang umaga po.\\n\\nAlert 1 ang alert level sa Bato, Sibonga, Cebu ngayong May 20, 2019 4:00 AM.\\nMaaaring magkaroon ng landslide dahil sa nakaraan o kasalukuyang ulan. Ang recommended response ay PREPARE TO ASSIST THE HOUSEHOLDS AT RISK IN RESPONDING TO A HIGHER ALERT. Inaasahan namin ang pagpapadala ng LEWC ng ground data mamaya bago mag-7:30 AM. Ang susunod na Early Warning Information ay mamayang 8:00 AM.\\n\\nSalamat. - Anne Marionne from PHIVOLCS-DYNASLOPE - Anne Marionne from PHIVOLCS-DYNASLOPE\",\n            read_status: null,\n            web_status: \"0\",\n            gsm_id: \"3\",\n            send_status: \"5\",\n            timestamp: \"2019-05-20 04:20:32\",\n            user: \"You\",\n            tags: []\n        },\n        {  \n            convo_id: \"264181\",\n            mobile_id: \"75\",\n            ts_received: null,\n            ts_written: \"2019-05-20 00:04:53\",\n            ts_sent: \"2019-05-20 00:12:22\",\n            sms_msg: \"Magandang gabi po.\\n\\nAlert 1 ang alert level sa Bato, Sibonga, Cebu ngayong May 20, 2019 12:00 MN.\\nMaaaring magkaroon ng landslide dahil sa nakaraan o kasalukuyang ulan. Ang recommended response ay PREPARE TO ASSIST THE HOUSEHOLDS AT RISK IN RESPONDING TO A HIGHER ALERT. Inaasahan namin ang pagpapadala ng LEWC ng ground data mamaya bago mag-7:30 AM. Ang susunod na Early Warning Information ay mamayang 4:00 AM.\\n\\nSalamat. - Anne Marionne from PHIVOLCS-DYNASLOPE\",\n            read_status: null,\n            web_status: \"0\",\n            gsm_id: \"3\",\n            send_status: \"5\",\n            timestamp: \"2019-05-20 00:04:53\",\n            user: \"You\",\n            tags: []\n        },\n        {  \n            convo_id: \"49098\",\n            mobile_id: \"75\",\n            ts_received: \"2019-05-19 20:03:56\",\n            ts_written: null,\n            ts_sent: null,\n            sms_msg: \"copy\",\n            read_status: \"1\",\n            web_status: null,\n            gsm_id: \"3\",\n            send_status: null,\n            timestamp: \"2019-05-19 20:03:56\",\n            user: \"BTO MLGU - OFQUERIA, DAMIANO\",\n            tags: []\n        },\n        {  \n            convo_id: \"264173\",\n            mobile_id: \"75\",\n            ts_received: null,\n            ts_written: \"2019-05-19 20:01:20\",\n            ts_sent: \"2019-05-19 20:01:40\",\n            sms_msg: \"Magandang gabi po.\\n\\nAlert 1 ang alert level sa Bato, Sibonga, Cebu ngayong May 19, 2019 8:00 PM.\\nMaaaring magkaroon ng landslide dahil sa nakaraan o kasalukuyang ulan. Ang recommended response ay PREPARE TO ASSIST THE HOUSEHOLDS AT RISK IN RESPONDING TO A HIGHER ALERT. Inaasahan namin ang pagpapadala ng LEWC ng ground data bukas bago mag-7:30 AM. Ang susunod na Early Warning Information ay mamayang 12:00 MN.\\n\\nSalamat. - Camille Princess from PHIVOLCS-DYNASLOPE\",\n            read_status: null,\n            web_status: \"0\",\n            gsm_id: \"3\",\n            send_status: \"5\",\n            timestamp: \"2019-05-19 20:01:20\",\n            user: \"You\",\n            tags: []\n        },\n        {  \n            convo_id: \"264162\",\n            mobile_id: \"75\",\n            ts_received: null,\n            ts_written: \"2019-05-19 16:02:52\",\n            ts_sent: \"2019-05-19 16:03:14\",\n            sms_msg: \"Magandang hapon po.\\n\\nAlert 1 ang alert level sa Bato, Sibonga, Cebu ngayong May 19, 2019 4:00 PM.\\nMaaaring magkaroon ng landslide dahil sa nakaraan o kasalukuyang ulan. Ang recommended response ay PREPARE TO ASSIST THE HOUSEHOLDS AT RISK IN RESPONDING TO A HIGHER ALERT. Inaasahan namin ang pagpapadala ng LEWC ng ground data bukas bago mag-7:30 AM. Ang susunod na Early Warning Information ay mamayang 8:00 PM.\\n\\nSalamat. - Camille Princess from PHIVOLCS-DYNASLOPE\",\n            read_status: null,\n            web_status: \"0\",\n            gsm_id: \"3\",\n            send_status: \"5\",\n            timestamp: \"2019-05-19 16:02:52\",\n            user: \"You\",\n            tags: []\n        },\n        {  \n            convo_id: \"264136\",\n            mobile_id: \"75\",\n            ts_received: null,\n            ts_written: \"2019-05-19 12:02:12\",\n            ts_sent: \"2019-05-19 12:02:34\",\n            sms_msg: \"Magandang tanghali po.\\n\\nAlert 1 ang alert level sa Bato, Sibonga, Cebu ngayong May 19, 2019 12:00 NN.\\nMaaaring magkaroon ng landslide dahil sa nakaraan o kasalukuyang ulan. Ang recommended response ay PREPARE TO ASSIST THE HOUSEHOLDS AT RISK IN RESPONDING TO A HIGHER ALERT. Inaasahan namin ang pagpapadala ng LEWC ng ground data mamaya bago mag-3:30 PM. Ang susunod na Early Warning Information ay mamayang 4:00 PM.\\n\\nSalamat. - Camille Princess from PHIVOLCS-DYNASLOPE\",\n            read_status: null,\n            web_status: \"0\",\n            gsm_id: \"3\",\n            send_status: \"5\",\n            timestamp: \"2019-05-19 12:02:12\",\n            user: \"You\",\n            tags: []\n        },\n        {  \n            convo_id: \"264104\",\n            mobile_id: \"75\",\n            ts_received: null,\n            ts_written: \"2019-05-19 08:02:49\",\n            ts_sent: \"2019-05-19 08:03:08\",\n            sms_msg: \"Magandang umaga po.\\n\\nAlert 1 ang alert level sa Bato, Sibonga, Cebu ngayong May 19, 2019 8:00 AM.\\nMaaaring magkaroon ng landslide dahil sa nakaraan o kasalukuyang ulan. Ang recommended response ay PREPARE TO ASSIST THE HOUSEHOLDS AT RISK IN RESPONDING TO A HIGHER ALERT. Inaasahan namin ang pagpapadala ng LEWC ng ground data mamaya bago mag-11:30 AM. Ang susunod na Early Warning Information ay mamayang 12:00 NN.\\n\\nSalamat. - Morgan from PHIVOLCS-DYNASLOPE\",\n            read_status: null,\n            web_status: \"0\",\n            gsm_id: \"3\",\n            send_status: \"5\",\n            timestamp: \"2019-05-19 08:02:49\",\n            user: \"You\",\n            tags: []\n        },\n        {  \n            convo_id: \"264078\",\n            mobile_id: \"75\",\n            ts_received: null,\n            ts_written: \"2019-05-19 04:01:31\",\n            ts_sent: \"2019-05-19 04:01:59\",\n            sms_msg: \"Magandang umaga po.\\n\\nAlert 1 ang alert level sa Bato, Sibonga, Cebu ngayong May 19, 2019 4:00 AM.\\nMaaaring magkaroon ng landslide dahil sa nakaraan o kasalukuyang ulan. Ang recommended response ay PREPARE TO ASSIST THE HOUSEHOLDS AT RISK IN RESPONDING TO A HIGHER ALERT. Inaasahan namin ang pagpapadala ng LEWC ng ground data mamaya bago mag-7:30 AM. Ang susunod na Early Warning Information ay mamayang 8:00 AM.\\n\\nSalamat. - Morgan from PHIVOLCS-DYNASLOPE\",\n            read_status: null,\n            web_status: \"0\",\n            gsm_id: \"3\",\n            send_status: \"5\",\n            timestamp: \"2019-05-19 04:01:31\",\n            user: \"You\",\n            tags: []\n        },\n        {  \n            convo_id: \"264063\",\n            mobile_id: \"75\",\n            ts_received: null,\n            ts_written: \"2019-05-19 00:09:30\",\n            ts_sent: \"2019-05-19 00:10:03\",\n            sms_msg: \"Magandang gabi po.\\n\\nAlert 1 ang alert level sa Bato, Sibonga, Cebu ngayong May 19, 2019 12:00 MN.\\nMaaaring magkaroon ng landslide dahil sa nakaraan o kasalukuyang ulan. Ang recommended response ay PREPARE TO ASSIST THE HOUSEHOLDS AT RISK IN RESPONDING TO A HIGHER ALERT. Inaasahan namin ang pagpapadala ng LEWC ng ground data mamaya bago mag-7:30 AM. Ang susunod na Early Warning Information ay mamayang 4:00 AM.\\n\\nSalamat. - Morgan from PHIVOLCS-DYNASLOPE\",\n            read_status: null,\n            web_status: \"0\",\n            gsm_id: \"3\",\n            send_status: \"5\",\n            timestamp: \"2019-05-19 00:09:30\",\n            user: \"You\",\n            tags: []\n        },\n        {  \n            convo_id: \"264048\",\n            mobile_id: \"75\",\n            ts_received: null,\n            ts_written: \"2019-05-18 20:01:55\",\n            ts_sent: \"2019-05-18 22:02:57\",\n            sms_msg: \"Magandang gabi po.\\n\\nAlert 1 ang alert level sa Bato, Sibonga, Cebu ngayong May 18, 2019 8:00 PM.\\nMaaaring magkaroon ng landslide dahil sa nakaraan o kasalukuyang ulan. Ang recommended response ay PREPARE TO ASSIST THE HOUSEHOLDS AT RISK IN RESPONDING TO A HIGHER ALERT. Inaasahan namin ang pagpapadala ng LEWC ng ground data bukas bago mag-7:30 AM. Ang susunod na Early Warning Information ay mamayang 12:00 MN.\\n\\nSalamat. - Kenneth from PHIVOLCS-DYNASLOPE\",\n            read_status: null,\n            web_status: \"0\",\n            gsm_id: \"3\",\n            send_status: \"5\",\n            timestamp: \"2019-05-18 20:01:55\",\n            user: \"You\",\n            tags: []\n        },\n        {  \n            convo_id: \"264033\",\n            mobile_id: \"75\",\n            ts_received: null,\n            ts_written: \"2019-05-18 16:01:32\",\n            ts_sent: \"2019-05-18 16:01:49\",\n            sms_msg: \"Magandang hapon po.\\n\\nAlert 1 ang alert level sa Bato, Sibonga, Cebu ngayong May 18, 2019 4:00 PM.\\nMaaaring magkaroon ng landslide dahil sa nakaraan o kasalukuyang ulan. Ang recommended response ay PREPARE TO ASSIST THE HOUSEHOLDS AT RISK IN RESPONDING TO A HIGHER ALERT. Inaasahan namin ang pagpapadala ng LEWC ng ground data bukas bago mag-7:30 AM. Ang susunod na Early Warning Information ay mamayang 8:00 PM.\\n\\nSalamat. - Kenneth from PHIVOLCS-DYNASLOPE\",\n            read_status: null,\n            web_status: \"0\",\n            gsm_id: \"3\",\n            send_status: \"5\",\n            timestamp: \"2019-05-18 16:01:32\",\n            user: \"You\",\n            tags: []\n        },\n        {  \n            convo_id: \"263994\",\n            mobile_id: \"75\",\n            ts_received: null,\n            ts_written: \"2019-05-18 12:01:24\",\n            ts_sent: \"2019-05-18 12:01:44\",\n            sms_msg: \"Magandang tanghali po.\\n\\nAlert 1 ang alert level sa Bato, Sibonga, Cebu ngayong May 18, 2019 12:00 NN.\\nMaaaring magkaroon ng landslide dahil sa nakaraan o kasalukuyang ulan. Ang recommended response ay PREPARE TO ASSIST THE HOUSEHOLDS AT RISK IN RESPONDING TO A HIGHER ALERT. Inaasahan namin ang pagpapadala ng LEWC ng ground data mamaya bago mag-3:30 PM. Ang susunod na Early Warning Information ay mamayang 4:00 PM.\\n\\nSalamat. - Kenneth from PHIVOLCS-DYNASLOPE\",\n            read_status: null,\n            web_status: \"0\",\n            gsm_id: \"3\",\n            send_status: \"5\",\n            timestamp: \"2019-05-18 12:01:24\",\n            user: \"You\",\n            tags: []\n        },\n        {  \n            convo_id: \"263957\",\n            mobile_id: \"75\",\n            ts_received: null,\n            ts_written: \"2019-05-18 08:05:19\",\n            ts_sent: \"2019-05-18 08:05:36\",\n            sms_msg: \"Magandang umaga po.\\n\\nAlert 1 ang alert level sa Bato, Sibonga, Cebu ngayong May 18, 2019 8:00 AM.\\nMaaaring magkaroon ng landslide dahil sa nakaraan o kasalukuyang ulan. Ang recommended response ay PREPARE TO ASSIST THE HOUSEHOLDS AT RISK IN RESPONDING TO A HIGHER ALERT. Inaasahan namin ang pagpapadala ng LEWC ng ground data mamaya bago mag-11:30 AM. Ang susunod na Early Warning Information ay mamayang 12:00 NN.\\n\\nSalamat. - Reynante from PHIVOLCS-DYNASLOPE\",\n            read_status: null,\n            web_status: \"0\",\n            gsm_id: \"3\",\n            send_status: \"5\",\n            timestamp: \"2019-05-18 08:05:19\",\n            user: \"You\",\n            tags: []\n        },\n        {  \n            convo_id: \"263933\",\n            mobile_id: \"75\",\n            ts_received: null,\n            ts_written: \"2019-05-18 04:01:08\",\n            ts_sent: \"2019-05-18 04:01:26\",\n            sms_msg: \"Magandang umaga po.\\n\\nAlert 1 ang alert level sa Bato, Sibonga, Cebu ngayong May 18, 2019 4:00 AM.\\nMaaaring magkaroon ng landslide dahil sa nakaraan o kasalukuyang ulan. Ang recommended response ay PREPARE TO ASSIST THE HOUSEHOLDS AT RISK IN RESPONDING TO A HIGHER ALERT. Inaasahan namin ang pagpapadala ng LEWC ng ground data mamaya bago mag-7:30 AM. Ang susunod na Early Warning Information ay mamayang 8:00 AM.\\n\\nSalamat. - Reynante from PHIVOLCS-DYNASLOPE\",\n            read_status: null,\n            web_status: \"0\",\n            gsm_id: \"3\",\n            send_status: \"5\",\n            timestamp: \"2019-05-18 04:01:08\",\n            user: \"You\",\n            tags: []\n        },\n        {  \n            convo_id: \"263918\",\n            mobile_id: \"75\",\n            ts_received: null,\n            ts_written: \"2019-05-18 00:09:48\",\n            ts_sent: \"2019-05-18 00:10:06\",\n            sms_msg: \"Magandang gabi po.\\n\\nAlert 1 ang alert level sa Bato, Sibonga, Cebu ngayong May 18, 2019 12:00 MN.\\nMaaaring magkaroon ng landslide dahil sa nakaraan o kasalukuyang ulan. Ang recommended response ay PREPARE TO ASSIST THE HOUSEHOLDS AT RISK IN RESPONDING TO A HIGHER ALERT. Inaasahan namin ang pagpapadala ng LEWC ng ground data mamaya bago mag-7:30 AM. Ang susunod na Early Warning Information ay mamayang 4:00 AM.\\n\\nSalamat. - Reynante from PHIVOLCS-DYNASLOPE\",\n            read_status: null,\n            web_status: \"0\",\n            gsm_id: \"3\",\n            send_status: \"5\",\n            timestamp: \"2019-05-18 00:09:48\",\n            user: \"You\",\n            tags: []\n        },\n        {  \n            convo_id: \"263903\",\n            mobile_id: \"75\",\n            ts_received: null,\n            ts_written: \"2019-05-17 19:59:21\",\n            ts_sent: \"2019-05-17 20:00:09\",\n            sms_msg: \"Magandang gabi po.\\n\\nAlert 1 ang alert level sa Bato, Sibonga, Cebu ngayong May 17, 2019 8:00 PM.\\nMaaaring magkaroon ng landslide dahil sa nakaraan o kasalukuyang ulan. Ang recommended response ay PREPARE TO ASSIST THE HOUSEHOLDS AT RISK IN RESPONDING TO A HIGHER ALERT. Inaasahan namin ang pagpapadala ng LEWC ng ground data bukas bago mag-7:30 AM. Ang susunod na Early Warning Information ay mamayang 12:00 MN.\\n\\nSalamat. - John Webster from PHIVOLCS-DYNASLOPE\",\n            read_status: null,\n            web_status: \"0\",\n            gsm_id: \"3\",\n            send_status: \"5\",\n            timestamp: \"2019-05-17 19:59:21\",\n            user: \"You\",\n            tags: [\"ewi_message\"]\n        },\n        {  \n            convo_id: \"263888\",\n            mobile_id: \"75\",\n            ts_received: null,\n            ts_written: \"2019-05-17 16:05:02\",\n            ts_sent: \"2019-05-17 16:05:44\",\n            sms_msg: \"Magandang hapon po.\\n\\nAlert 1 ang alert level sa Bato, Sibonga, Cebu ngayong May 17, 2019 4:00 PM.\\nMaaaring magkaroon ng landslide dahil sa nakaraan o kasalukuyang ulan. Ang recommended response ay PREPARE TO ASSIST THE HOUSEHOLDS AT RISK IN RESPONDING TO A HIGHER ALERT. Inaasahan namin ang pagpapadala ng LEWC ng ground data bukas bago mag-7:30 AM. Ang susunod na Early Warning Information ay mamayang 8:00 PM.\\n\\nSalamat. - John Webster from PHIVOLCS-DYNASLOPE\",\n            read_status: null,\n            web_status: \"0\",\n            gsm_id: \"3\",\n            send_status: \"5\",\n            timestamp: \"2019-05-17 16:05:02\",\n            user: \"You\",\n            tags: [\"ewi_message\"]\n        },\n        {  \n            convo_id: \"263778\",\n            mobile_id: \"75\",\n            ts_received: null,\n            ts_written: \"2019-05-17 12:07:03\",\n            ts_sent: \"2019-05-17 12:07:46\",\n            sms_msg: \"Magandang tanghali po.\\n\\nAlert 1 ang alert level sa Bato, Sibonga, Cebu ngayong May 17, 2019 12:00 NN.\\nMaaaring magkaroon ng landslide dahil sa nakaraan o kasalukuyang ulan. Ang recommended response ay PREPARE TO ASSIST THE HOUSEHOLDS AT RISK IN RESPONDING TO A HIGHER ALERT. Inaasahan namin ang pagpapadala ng LEWC ng ground data mamaya bago mag-3:30 PM. Ang susunod na Early Warning Information ay mamayang 4:00 PM.\\n\\nSalamat. - John Webster from PHIVOLCS-DYNASLOPE\",\n            read_status: null,\n            web_status: \"0\",\n            gsm_id: \"3\",\n            send_status: \"5\",\n            timestamp: \"2019-05-17 12:07:03\",\n            user: \"You\",\n            tags: [\"ewi_message\"]\n        },\n        {  \n            convo_id: \"263780\",\n            mobile_id: \"75\",\n            ts_received: null,\n            ts_written: \"2019-05-17 12:07:03\",\n            ts_sent: \"2019-05-17 12:07:46\",\n            sms_msg: \"Magandang tanghali po.\",\n            read_status: null,\n            web_status: \"0\",\n            gsm_id: \"3\",\n            send_status: \"5\",\n            timestamp: \"2019-05-17 12:07:03\",\n            user: \"You\",\n            tags: []\n        }\n    ]\n};\n\nexport const data_presence_rain_gauges = [\n    {\n        presence: 0, \n        ts_updated: \"2019-06-07T07:55:26+00:00\", \n        last_data: \"2019-01-15T23:32:22+00:00\", \n        rain_gauge: {\n            gauge_name: \"agbta\", \n            data_source: \"senslope\", \n            longitude: \"122.8311000000\", \n            latitude: \"11.2813700000\", \n            rain_id: 1, \n            date_deactivated: null\n        }, \n        diff_days: 142\n    }, \n    {\n        presence: 1, \n        ts_updated: \"2019-06-07T07:55:26+00:00\", \n        last_data: \"2018-08-13T12:30:04+00:00\", \n        rain_gauge: {\n            gauge_name: \"bakg\", \n            data_source: \"senslope\", \n            longitude: \"120.6609030000\", \n            latitude: \"16.7896310000\", \n            rain_id: 2, \n            date_deactivated: null\n        }, \n        diff_days: 0\n    }, \n    {\n        presence: 0, \n        ts_updated: \"2019-06-07T07:55:26+00:00\", \n        last_data: \"2019-01-15T23:30:54+00:00\", \n        rain_gauge: {\n            gauge_name: \"bantb\", \n            data_source: \"senslope\", \n            longitude: \"123.9488000000\", \n            latitude: \"9.8885830000\", \n            rain_id: 3, \n            date_deactivated: null\n        }, \n        diff_days: 142\n    }, \n    {\n        presence: 1, \n        ts_updated: \"2019-06-07T07:55:26+00:00\", \n        last_data: \"2019-01-15T23:30:55+00:00\", \n        rain_gauge: {\n            gauge_name: \"bartb\", \n            data_source: \"senslope\", \n            longitude: \"124.6566000000\", \n            latitude: \"11.9027800000\", \n            rain_id: 4, \n            date_deactivated: null\n        }, \n        diff_days: 0\n    }, \n    {\n        presence: 0, \n        ts_updated: \"2019-06-07T07:55:26+00:00\", \n        last_data: \"2017-09-21T21:15:00+00:00\", \n        rain_gauge: {\n            gauge_name: \"bayg\", \n            data_source: \"senslope\", \n            longitude: \"122.4674680000\", \n            latitude: \"14.1879200000\", \n            rain_id: 5, \n            date_deactivated: null\n        }, \n        diff_days: 623\n    }, \n    {\n        presence: 0, \n        ts_updated: \"2019-06-07T07:55:26+00:00\", \n        last_data: \"2018-12-13T11:30:58+00:00\", \n        rain_gauge: {\n            gauge_name: \"bolra\", \n            data_source: \"senslope\", \n            longitude: \"125.1266190000\", \n            latitude: \"10.2988260000\", \n            rain_id: 7, \n            date_deactivated: null\n        }, \n        diff_days: 175\n    }, \n    {\n        presence: 0, \n        ts_updated: \"2019-06-07T07:55:26+00:00\", \n        last_data: \"2018-12-10T21:45:04+00:00\", \n        rain_gauge: {\n            gauge_name: \"btog\", \n            data_source: \"senslope\", \n            longitude: \"123.5783710000\", \n            latitude: \"10.0139400000\", \n            rain_id: 8, \n            date_deactivated: null\n        }, \n        diff_days: 178\n    }, \n    {\n        presence: 0, \n        ts_updated: \"2019-06-07T07:55:26+00:00\", \n        last_data: \"2018-12-04T00:30:59+00:00\", \n        rain_gauge: {\n            gauge_name: \"carta\", \n            data_source: \"senslope\", \n            longitude: \"125.9738000000\", \n            latitude: \"9.7197260000\", \n            rain_id: 9, \n            date_deactivated: null\n        }, \n        diff_days: 185\n    }, \n    {\n        presence: 0, \n        ts_updated: \"2019-06-07T07:55:26+00:00\", \n        last_data: \"2019-01-15T23:31:06+00:00\", \n        rain_gauge: {\n            gauge_name: \"cudta\", \n            data_source: \"senslope\", \n            longitude: \"121.1047000000\", \n            latitude: \"16.8093100000\", \n            rain_id: 10, \n            date_deactivated: null\n        }, \n        diff_days: 142\n    }, \n    {\n        presence: 0, \n        ts_updated: \"2019-06-07T07:55:26+00:00\", \n        last_data: \"2018-09-29T04:30:59+00:00\", \n        rain_gauge: {\n            gauge_name: \"dadtb\", \n            data_source: \"senslope\", \n            longitude: \"126.4514000000\", \n            latitude: \"7.1373530000\", \n            rain_id: 11, \n            date_deactivated: null\n        }, \n        diff_days: 251\n    }, \n    {\n        presence: 0, \n        ts_updated: \"2019-06-07T07:55:26+00:00\", \n        last_data: \"2019-01-15T23:31:08+00:00\", \n        rain_gauge: {\n            gauge_name: \"hinsb\", \n            data_source: \"senslope\", \n            longitude: \"125.0691000000\", \n            latitude: \"11.7006400000\", \n            rain_id: 13, \n            date_deactivated: null\n        }, \n        diff_days: 142\n    }, \n    {\n        presence: 0, \n        ts_updated: \"2019-06-07T07:55:26+00:00\", \n        last_data: \"2017-07-01T20:00:00+00:00\", \n        rain_gauge: {\n            gauge_name: \"humb\", \n            data_source: \"senslope\", \n            longitude: \"123.2514000000\", \n            latitude: \"10.1810200000\", \n            rain_id: 14, \n            date_deactivated: null\n        }, \n        diff_days: 705\n    }, \n    {\n        presence: 1, \n        ts_updated: \"2019-06-07T07:55:26+00:00\", \n        last_data: \"2019-01-15T23:30:04+00:00\", \n        rain_gauge: {\n            gauge_name: \"imug\", \n            data_source: \"senslope\", \n            longitude: \"120.6046100000\", \n            latitude: \"17.5234700000\", \n            rain_id: 16, \n            date_deactivated: null\n        }, \n        diff_days: 0\n    }, \n    {\n        presence: 0, \n        ts_updated: \"2019-06-07T07:55:26+00:00\", \n        last_data: \"2019-01-15T23:30:59+00:00\", \n        rain_gauge: {\n            gauge_name: \"jorta\", \n            data_source: \"senslope\", \n            longitude: \"124.8249000000\", \n            latitude: \"11.9777900000\", \n            rain_id: 18, \n            date_deactivated: null\n        }, \n        diff_days: 142\n    }, \n    {\n        presence: 0, \n        ts_updated: \"2019-06-07T07:55:26+00:00\", \n        last_data: \"2019-01-15T23:31:29+00:00\", \n        rain_gauge: {\n            gauge_name: \"laysa\", \n            data_source: \"senslope\", \n            longitude: \"125.0257000000\", \n            latitude: \"11.5127000000\", \n            rain_id: 20, \n            date_deactivated: null\n        }, \n        diff_days: 142\n    }, \n    {\n        presence: true, \n        ts_updated: \"2019-06-07T07:55:26+00:00\", \n        last_data: \"2019-01-05T15:00:59+00:00\", \n        rain_gauge: {\n            gauge_name: \"lipra\", \n            data_source: \"senslope\", \n            longitude: \"125.1275590000\", \n            latitude: \"10.2263180000\", \n            rain_id: 21, \n            date_deactivated: null\n        }, \n        diff_days: 0\n    }, \n    {\n        presence: 0, \n        ts_updated: \"2019-06-07T07:55:26+00:00\", \n        last_data: \"2019-01-15T23:31:42+00:00\", \n        rain_gauge: {\n            gauge_name: \"loota\", \n            data_source: \"senslope\", \n            longitude: \"124.7775000000\", \n            latitude: \"8.5979640000\", \n            rain_id: 23, \n            date_deactivated: null\n        }, \n        diff_days: 142\n    }, \n    {\n        presence: 0, \n        ts_updated: \"2019-06-07T07:55:26+00:00\", \n        last_data: \"2019-01-15T23:31:29+00:00\", \n        rain_gauge: {\n            gauge_name: \"lpasb\", \n            data_source: \"senslope\", \n            longitude: \"125.0193000000\", \n            latitude: \"11.7860700000\", \n            rain_id: 24, \n            date_deactivated: null\n        }, \n        diff_days: 142\n    }, \n    {\n        presence: true, \n        ts_updated: \"2019-06-07T07:55:26+00:00\", \n        last_data: \"2018-09-10T01:15:04+00:00\", \n        rain_gauge: {\n            gauge_name: \"lteg\", \n            data_source: \"senslope\", \n            longitude: \"125.0914500000\", \n            latitude: \"11.5902400000\", \n            rain_id: 25, \n            date_deactivated: null\n        }, \n        diff_days: 0\n    }, \n    {\n        presence: true, \n        ts_updated: \"2019-06-07T07:55:26+00:00\", \n        last_data: \"2019-01-15T23:30:05+00:00\", \n        rain_gauge: {\n            gauge_name: \"lung\", \n            data_source: \"senslope\", \n            longitude: \"124.8794300000\", \n            latitude: \"10.2579900000\", \n            rain_id: 26, \n            date_deactivated: null\n        }, \n        diff_days: 0\n    }, \n    {\n        presence: 0, \n        ts_updated: \"2019-06-07T07:55:26+00:00\", \n        last_data: \"2017-09-23T09:45:00+00:00\", \n        rain_gauge: {\n            gauge_name: \"magg\", \n            data_source: \"senslope\", \n            longitude: \"125.0583760000\", \n            latitude: \"7.5175480000\", \n            rain_id: 27, \n            date_deactivated: null\n        }, \n        diff_days: 621\n    }, \n    {\n        presence: true, \n        ts_updated: \"2019-06-07T07:55:26+00:00\", \n        last_data: \"2017-07-31T23:01:00+00:00\", \n        rain_gauge: {\n            gauge_name: \"mamta\", \n            data_source: \"senslope\", \n            longitude: \"120.6890000000\", \n            latitude: \"16.4883000000\", \n            rain_id: 28, \n            date_deactivated: null\n        }, \n        diff_days: 0\n    }, \n    {\n        presence: 0, \n        ts_updated: \"2019-06-07T07:55:26+00:00\", \n        last_data: \"2019-01-15T23:30:05+00:00\", \n        rain_gauge: {\n            gauge_name: \"marg\", \n            data_source: \"senslope\", \n            longitude: \"122.3235860000\", \n            latitude: \"10.8218430000\", \n            rain_id: 29, \n            date_deactivated: null\n        }, \n        diff_days: 142\n    }, \n    {\n        presence: 0, \n        ts_updated: \"2019-06-07T07:55:26+00:00\", \n        last_data: \"2019-01-15T23:31:15+00:00\", \n        rain_gauge: {\n            gauge_name: \"mcata\", \n            data_source: \"senslope\", \n            longitude: \"125.7410000000\", \n            latitude: \"8.5854300000\", \n            rain_id: 30, \n            date_deactivated: null\n        }, \n        diff_days: 142\n    }, \n    {\n        presence: 0, \n        ts_updated: \"2019-06-07T07:55:26+00:00\", \n        last_data: \"2019-01-15T23:34:01+00:00\", \n        rain_gauge: {\n            gauge_name: \"mngsa\", \n            data_source: \"senslope\", \n            longitude: \"123.2062000000\", \n            latitude: \"10.0479300000\", \n            rain_id: 32, \n            date_deactivated: null\n        }, \n        diff_days: 142\n    }, \n    {\n        presence: 0, \n        ts_updated: \"2019-06-07T07:55:26+00:00\", \n        last_data: \"2018-04-15T22:32:00+00:00\", \n        rain_gauge: {\n            gauge_name: \"msuta\", \n            data_source: \"senslope\", \n            longitude: \"125.5403000000\", \n            latitude: \"7.6287430000\", \n            rain_id: 33, \n            date_deactivated: null\n        }, \n        diff_days: 417\n    }, \n    {\n        presence: 0, \n        ts_updated: \"2019-06-07T07:55:26+00:00\", \n        last_data: \"2019-01-15T23:31:42+00:00\", \n        rain_gauge: {\n            gauge_name: \"nagtb\", \n            data_source: \"senslope\", \n            longitude: \"120.4172000000\", \n            latitude: \"16.6267600000\", \n            rain_id: 34, \n            date_deactivated: null\n        }, \n        diff_days: 142\n    }, \n    {\n        presence: 0, \n        ts_updated: \"2019-06-07T07:55:26+00:00\", \n        last_data: \"2017-05-07T18:01:00+00:00\", \n        rain_gauge: {\n            gauge_name: \"oslb\", \n            data_source: \"senslope\", \n            longitude: \"125.4014000000\", \n            latitude: \"9.7572600000\", \n            rain_id: 36, \n            date_deactivated: null\n        }, \n        diff_days: 760\n    }, \n    {\n        presence: 0, \n        ts_updated: \"2019-06-07T07:55:26+00:00\", \n        last_data: \"2019-01-15T23:30:59+00:00\", \n        rain_gauge: {\n            gauge_name: \"parta\", \n            data_source: \"senslope\", \n            longitude: \"125.0255000000\", \n            latitude: \"11.5148700000\", \n            rain_id: 37, \n            date_deactivated: null\n        }, \n        diff_days: 142\n    }, \n    {\n        presence: 0, \n        ts_updated: \"2019-06-07T07:55:26+00:00\", \n        last_data: \"2018-10-31T17:30:06+00:00\", \n        rain_gauge: {\n            gauge_name: \"pepg\", \n            data_source: \"senslope\", \n            longitude: \"122.3341400000\", \n            latitude: \"10.7873510000\", \n            rain_id: 38, \n            date_deactivated: null\n        }, \n        diff_days: 218\n    }, \n    {\n        presence: 0, \n        ts_updated: \"2019-06-07T07:55:26+00:00\", \n        last_data: \"2019-01-15T23:06:53+00:00\", \n        rain_gauge: {\n            gauge_name: \"plat\", \n            data_source: \"senslope\", \n            longitude: \"123.2452000000\", \n            latitude: \"10.1598400000\", \n            rain_id: 40, \n            date_deactivated: null\n        }, \n        diff_days: 142\n    }, \n    {\n        presence: 0, \n        ts_updated: \"2019-06-07T07:55:26+00:00\", \n        last_data: \"2019-01-15T23:31:50+00:00\", \n        rain_gauge: {\n            gauge_name: \"pngta\", \n            data_source: \"senslope\", \n            longitude: \"124.0183000000\", \n            latitude: \"12.6306300000\", \n            rain_id: 41, \n            date_deactivated: null\n        }, \n        diff_days: 142\n    }, \n    {\n        presence: 0, \n        ts_updated: \"2019-06-07T07:55:26+00:00\", \n        last_data: \"2018-11-22T08:31:28+00:00\", \n        rain_gauge: {\n            gauge_name: \"sagta\", \n            data_source: \"senslope\", \n            longitude: \"120.9248000000\", \n            latitude: \"17.0826300000\", \n            rain_id: 43, \n            date_deactivated: null\n        }, \n        diff_days: 196\n    }, \n    {\n        presence: 0, \n        ts_updated: \"2019-06-07T07:55:26+00:00\", \n        last_data: \"2018-02-25T19:00:00+00:00\", \n        rain_gauge: {\n            gauge_name: \"sibta\", \n            data_source: \"senslope\", \n            longitude: \"126.3834000000\", \n            latitude: \"7.8256700000\", \n            rain_id: 44, \n            date_deactivated: null\n        }, \n        diff_days: 466\n    }, \n    {\n        presence: 0, \n        ts_updated: \"2019-06-07T07:55:26+00:00\", \n        last_data: \"2019-01-15T23:32:04+00:00\", \n        rain_gauge: {\n            gauge_name: \"sintb\", \n            data_source: \"senslope\", \n            longitude: \"120.7813000000\", \n            latitude: \"16.7234000000\", \n            rain_id: 45, \n            date_deactivated: null\n        }, \n        diff_days: 142\n    }, \n    {\n        presence: 0, \n        ts_updated: \"2019-06-07T07:55:26+00:00\", \n        last_data: \"2018-11-03T00:00:59+00:00\", \n        rain_gauge: {\n            gauge_name: \"sumta\", \n            data_source: \"senslope\", \n            longitude: \"124.8597000000\", \n            latitude: \"8.5451100000\", \n            rain_id: 46, \n            date_deactivated: null\n        }, \n        diff_days: 216\n    }, \n    {\n        presence: 0, \n        ts_updated: \"2019-06-07T07:55:26+00:00\", \n        last_data: \"2019-01-15T23:30:42+00:00\", \n        rain_gauge: {\n            gauge_name: \"talsa\", \n            data_source: \"senslope\", \n            longitude: \"124.3665000000\", \n            latitude: \"11.6374200000\", \n            rain_id: 47, \n            date_deactivated: null\n        }, \n        diff_days: 142\n    }, \n    {\n        presence: 0, \n        ts_updated: \"2019-06-07T07:55:26+00:00\", \n        last_data: \"2019-01-15T23:30:23+00:00\", \n        rain_gauge: {\n            gauge_name: \"tgatb\", \n            data_source: \"senslope\", \n            longitude: \"121.3834000000\", \n            latitude: \"17.5734700000\", \n            rain_id: 48, \n            date_deactivated: null\n        }, \n        diff_days: 142\n    }, \n    {\n        presence: 0, \n        ts_updated: \"2019-06-07T07:55:26+00:00\", \n        last_data: \"2019-01-15T23:30:59+00:00\", \n        rain_gauge: {\n            gauge_name: \"tuetb\", \n            data_source: \"senslope\", \n            longitude: \"120.8287000000\", \n            latitude: \"16.9701500000\", \n            rain_id: 49, \n            date_deactivated: null\n        }, \n        diff_days: 142\n    }, \n    {\n        presence: 0, \n        ts_updated: \"2019-06-07T07:55:26+00:00\", \n        last_data: \"2017-12-15T01:30:00+00:00\", \n        rain_gauge: {\n            gauge_name: \"umig\", \n            data_source: \"senslope\", \n            longitude: \"122.3283400000\", \n            latitude: \"10.9083610000\", \n            rain_id: 50, \n            date_deactivated: null\n        }, \n        diff_days: 539\n    }, \n    {\n        presence: 0, \n        ts_updated: \"2019-06-07T07:55:26+00:00\", \n        last_data: \"2019-01-15T23:30:04+00:00\", \n        rain_gauge: {\n            gauge_name: \"inag\", \n            data_source: \"senslope\", \n            longitude: \"122.4371000000\", \n            latitude: \"10.8688200000\", \n            rain_id: 1151, \n            date_deactivated: null\n        }, \n        diff_days: 142\n    }, \n    {\n        presence: 0, \n        ts_updated: \"2019-06-07T07:55:26+00:00\", \n        last_data: \"2019-01-15T23:31:16+00:00\", \n        rain_gauge: {\n            gauge_name: \"labt\", \n            data_source: \"senslope\", \n            longitude: \"120.7055000000\", \n            latitude: \"16.4704100000\", \n            rain_id: 1152, \n            date_deactivated: null\n        }, \n        diff_days: 142\n    }, \n    {\n        presence: 0, \n        ts_updated: \"2019-06-07T07:55:26+00:00\", \n        last_data: \"2019-01-15T23:30:56+00:00\", \n        rain_gauge: {\n            gauge_name: \"nurtb\", \n            data_source: \"senslope\", \n            longitude: \"126.1384000000\", \n            latitude: \"9.2697580000\", \n            rain_id: 1153, \n            date_deactivated: null\n        }, \n        diff_days: 142\n    }, \n    {\n        presence: 0, \n        ts_updated: \"2019-06-07T07:55:26+00:00\", \n        last_data: \"2018-11-23T00:01:00+00:00\", \n        rain_gauge: {\n            gauge_name: \"gaatc\", \n            data_source: \"senslope\", \n            longitude: \"123.7854000000\", \n            latitude: \"10.4232300000\", \n            rain_id: 1189, \n            date_deactivated: null\n        }, \n        diff_days: 196\n    }, \n    {\n        presence: 0, \n        ts_updated: \"2019-06-07T07:55:26+00:00\", \n        last_data: \"2019-01-15T23:31:34+00:00\", \n        rain_gauge: {\n            gauge_name: \"blcsb\", \n            data_source: \"senslope\", \n            longitude: \"122.3108000000\", \n            latitude: \"10.8266200000\", \n            rain_id: 1190, \n            date_deactivated: null\n        }, \n        diff_days: 142\n    }, \n    {\n        presence: 0, \n        ts_updated: \"2019-06-07T07:55:26+00:00\", \n        last_data: \"2019-01-15T23:30:59+00:00\", \n        rain_gauge: {\n            gauge_name: \"imera\", \n            data_source: \"senslope\", \n            longitude: \"124.7525000000\", \n            latitude: \"11.9046200000\", \n            rain_id: 1201, \n            date_deactivated: null\n        }, \n        diff_days: 142\n    }, \n    {\n        presence: 0, \n        ts_updated: \"2019-06-07T07:55:26+00:00\", \n        last_data: \"2019-01-15T23:31:25+00:00\", \n        rain_gauge: {\n            gauge_name: \"pugra\", \n            data_source: \"senslope\", \n            longitude: \"120.5706000000\", \n            latitude: \"16.4465500000\", \n            rain_id: 1205, \n            date_deactivated: null\n        }, \n        diff_days: 142\n    }, \n    {\n        presence: 0, \n        ts_updated: \"2019-06-07T07:55:26+00:00\", \n        last_data: \"2018-12-22T01:45:59+00:00\", \n        rain_gauge: {\n            gauge_name: \"gamra\", \n            data_source: \"senslope\", \n            longitude: \"126.1676000000\", \n            latitude: \"9.0101000000\", \n            rain_id: 1224, \n            date_deactivated: null\n        }, \n        diff_days: 167\n    }, \n    {\n        presence: 0, \n        ts_updated: \"2019-06-07T07:55:26+00:00\", \n        last_data: \"2019-01-02T18:30:58+00:00\", \n        rain_gauge: {\n            gauge_name: \"pngtc\", \n            data_source: \"senslope\", \n            longitude: \"124.0194000000\", \n            latitude: \"12.6299200000\", \n            rain_id: 1288, \n            date_deactivated: null\n        }, \n        diff_days: 155\n    }\n];\n\nexport const data_presence_tsm = [\n    {\n        presence: 0, \n        ts_updated: \"2019-06-07T07:55:25+00:00\", \n        diff_days: 142, \n        last_data: \"2019-01-15T23:34:00+00:00\", \n        tsm_sensor: {\n            date_deactivated: null, \n            number_of_segments: 20, \n            date_activated: \"2015-07-15\", \n            logger: {\n                latitude: 11.28082, \n                logger_model: 3, \n                date_deactivated: null, \n                date_activated: \"2015-08-31\", \n                longitude: 122.8313, \n                logger_id: 1, \n                logger_name: \"agbsb\"\n            }, \n            version: 2, \n            tsm_id: 1, \n            segment_length: 0.75\n        }\n    }, \n    {\n        presence: 0, \n        ts_updated: \"2019-06-07T07:55:25+00:00\", \n        diff_days: 142, \n        last_data: \"2019-01-15T23:32:00+00:00\", \n        tsm_sensor: {\n            date_deactivated: null, \n            number_of_segments: 12, \n            date_activated: \"2015-07-19\", \n            logger: {\n                latitude: 11.28137, \n                logger_model: 6, \n                date_deactivated: null, \n                date_activated: \"2015-08-31\", \n                longitude: 122.8311, \n                logger_id: 2, \n                logger_name: \"agbta\"\n            }, \n            version: 2, \n            tsm_id: 2, \n            segment_length: 1.0\n        }\n    }, \n    {\n        presence: 0, \n        ts_updated: \"2019-06-07T07:55:25+00:00\", \n        diff_days: 202, \n        last_data: \"2018-11-16T16:00:00+00:00\", \n        tsm_sensor: {\n            date_deactivated: null, \n            number_of_segments: 20, \n            date_activated: \"2016-05-13\", \n            logger: {\n                latitude: 16.7907, \n                logger_model: 10, \n                date_deactivated: null, \n                date_activated: \"2016-05-13\", \n                longitude: 120.6616, \n                logger_id: 4, \n                logger_name: \"bakta\"\n            }, \n            version: 3, \n            tsm_id: 3, \n            segment_length: 1.0\n        }\n    }, \n    {\n        presence: 0, \n        ts_updated: \"2019-06-07T07:55:25+00:00\", \n        diff_days: 299, \n        last_data: \"2018-08-11T15:00:00+00:00\", \n        tsm_sensor: {\n            date_deactivated: null, \n            number_of_segments: 27, \n            date_activated: \"2016-04-24\", \n            logger: {\n                latitude: 16.79103, \n                logger_model: 10, \n                date_deactivated: null, \n                date_activated: \"2016-04-24\", \n                longitude: 120.6613, \n                logger_id: 5, \n                logger_name: \"baktb\"\n            }, \n            version: 3, \n            tsm_id: 4, \n            segment_length: 1.0\n        }\n    }, \n    {\n        presence: 0, \n        ts_updated: \"2019-06-07T07:55:25+00:00\", \n        diff_days: 302, \n        last_data: \"2018-08-08T19:00:00+00:00\", \n        tsm_sensor: {\n            date_deactivated: null, \n            number_of_segments: 27, \n            date_activated: \"2016-05-04\", \n            logger: {\n                latitude: 16.79031, \n                logger_model: 10, \n                date_deactivated: null, \n                date_activated: \"2016-05-04\", \n                longitude: 120.6605, \n                logger_id: 6, \n                logger_name: \"baktc\"\n            }, \n            version: 3, \n            tsm_id: 5, \n            segment_length: 1.0\n        }\n    }, \n    {\n        presence: 0, \n        ts_updated: \"2019-06-07T07:55:25+00:00\", \n        diff_days: 142, \n        last_data: \"2019-01-15T23:31:00+00:00\", \n        tsm_sensor: {\n            date_deactivated: null, \n            number_of_segments: 14, \n            date_activated: \"2016-02-03\", \n            logger: {\n                latitude: 9.888559, \n                logger_model: 2, \n                date_deactivated: null, \n                date_activated: \"2016-02-03\", \n                longitude: 123.9488, \n                logger_id: 7, \n                logger_name: \"banta\"\n            }, \n            version: 3, \n            tsm_id: 6, \n            segment_length: 1.0\n        }\n    }, \n    {\n        presence: 0, \n        ts_updated: \"2019-06-07T07:55:25+00:00\", \n        diff_days: 142, \n        last_data: \"2019-01-15T23:30:00+00:00\", \n        tsm_sensor: {\n            date_deactivated: null, \n            number_of_segments: 14, \n            date_activated: \"2016-02-03\", \n            logger: {\n                latitude: 9.888583, \n                logger_model: 6, \n                date_deactivated: null, \n                date_activated: \"2016-02-03\", \n                longitude: 123.9488, \n                logger_id: 8, \n                logger_name: \"bantb\"\n            }, \n            version: 3, \n            tsm_id: 7, \n            segment_length: 1.0\n        }\n    }, \n    {\n        presence: 0, \n        ts_updated: \"2019-06-07T07:55:25+00:00\", \n        diff_days: 142, \n        last_data: \"2019-01-15T23:31:00+00:00\", \n        tsm_sensor: {\n            date_deactivated: null, \n            number_of_segments: 15, \n            date_activated: \"2016-01-23\", \n            logger: {\n                latitude: 11.90206, \n                logger_model: 3, \n                date_deactivated: null, \n                date_activated: \"2016-01-23\", \n                longitude: 124.6547, \n                logger_id: 9, \n                logger_name: \"barsc\"\n            }, \n            version: 3, \n            tsm_id: 8, \n            segment_length: 1.0\n        }\n    }, \n    {\n        presence: 0, \n        ts_updated: \"2019-06-07T07:55:25+00:00\", \n        diff_days: 142, \n        last_data: \"2019-01-15T23:30:00+00:00\", \n        tsm_sensor: {\n            date_deactivated: null, \n            number_of_segments: 15, \n            date_activated: \"2016-02-03\", \n            logger: {\n                latitude: 11.90278, \n                logger_model: 2, \n                date_deactivated: null, \n                date_activated: \"2016-02-03\", \n                longitude: 124.6566, \n                logger_id: 10, \n                logger_name: \"barta\"\n            }, \n            version: 3, \n            tsm_id: 9, \n            segment_length: 1.0\n        }\n    }, \n    {\n        presence: 0, \n        ts_updated: \"2019-06-07T07:55:25+00:00\", \n        diff_days: 142, \n        last_data: \"2019-01-15T23:30:00+00:00\", \n        tsm_sensor: {\n            date_deactivated: null, \n            number_of_segments: 15, \n            date_activated: \"2016-01-23\", \n            logger: {\n                latitude: 11.90278, \n                logger_model: 6, \n                date_deactivated: null, \n                date_activated: \"2016-01-23\", \n                longitude: 124.6566, \n                logger_id: 11, \n                logger_name: \"bartb\"\n            }, \n            version: 3, \n            tsm_id: 10, \n            segment_length: 1.0\n        }\n    }, \n    {\n        presence: 0, \n        ts_updated: \"2019-06-07T07:55:25+00:00\", \n        diff_days: 643, \n        last_data: \"2017-09-02T03:30:00+00:00\", \n        tsm_sensor: {\n            date_deactivated: null, \n            number_of_segments: 20, \n            date_activated: \"2015-01-28\", \n            logger: {\n                latitude: 14.18756, \n                logger_model: 3, \n                date_deactivated: null, \n                date_activated: \"2015-01-27\", \n                longitude: 122.4679, \n                logger_id: 12, \n                logger_name: \"baysb\"\n            }, \n            version: 2, \n            tsm_id: 11, \n            segment_length: 0.75\n        }\n    }, \n    {\n        presence: 0, \n        ts_updated: \"2019-06-07T07:55:25+00:00\", \n        diff_days: 624, \n        last_data: \"2017-09-20T18:15:00+00:00\", \n        tsm_sensor: {\n            date_deactivated: null, \n            number_of_segments: 15, \n            date_activated: \"2015-01-22\", \n            logger: {\n                latitude: 14.18797, \n                logger_model: 2, \n                date_deactivated: null, \n                date_activated: \"2015-01-23\", \n                longitude: 122.4675, \n                logger_id: 13, \n                logger_name: \"bayta\"\n            }, \n            version: 2, \n            tsm_id: 12, \n            segment_length: 1.0\n        }\n    }, \n    {\n        presence: 0, \n        ts_updated: \"2019-06-07T07:55:25+00:00\", \n        diff_days: 624, \n        last_data: \"2017-09-20T18:15:00+00:00\", \n        tsm_sensor: {\n            date_deactivated: null, \n            number_of_segments: 13, \n            date_activated: \"2015-01-28\", \n            logger: {\n                latitude: 14.18832, \n                logger_model: 6, \n                date_deactivated: \"2017-04-26\", \n                date_activated: \"2015-01-28\", \n                longitude: 122.4676, \n                logger_id: 14, \n                logger_name: \"baytc\"\n            }, \n            version: 2, \n            tsm_id: 13, \n            segment_length: 1.0\n        }\n    }, \n    {\n        presence: 0, \n        ts_updated: \"2019-06-07T07:55:25+00:00\", \n        diff_days: 142, \n        last_data: \"2019-01-15T23:30:00+00:00\", \n        tsm_sensor: {\n            date_deactivated: null, \n            number_of_segments: 20, \n            date_activated: \"2013-04-06\", \n            logger: {\n                latitude: 10.82662, \n                logger_model: 3, \n                date_deactivated: null, \n                date_activated: null, \n                longitude: 122.3108, \n                logger_id: 17, \n                logger_name: \"blcsb\"\n            }, \n            version: 3, \n            tsm_id: 16, \n            segment_length: 1.0\n        }\n    }, \n    {\n        presence: 0, \n        ts_updated: \"2019-06-07T07:55:25+00:00\", \n        diff_days: 178, \n        last_data: \"2018-12-10T21:30:00+00:00\", \n        tsm_sensor: {\n            date_deactivated: null, \n            number_of_segments: 15, \n            date_activated: \"2016-04-27\", \n            logger: {\n                latitude: 10.01379, \n                logger_model: 10, \n                date_deactivated: null, \n                date_activated: \"2016-04-27\", \n                longitude: 123.5776, \n                logger_id: 21, \n                logger_name: \"btota\"\n            }, \n            version: 2, \n            tsm_id: 19, \n            segment_length: 1.0\n        }\n    }, \n    {\n        presence: 0, \n        ts_updated: \"2019-06-07T07:55:25+00:00\", \n        diff_days: 212, \n        last_data: \"2018-11-06T21:33:00+00:00\", \n        tsm_sensor: {\n            date_deactivated: null, \n            number_of_segments: 15, \n            date_activated: \"2016-04-27\", \n            logger: {\n                latitude: 10.01384, \n                logger_model: 10, \n                date_deactivated: null, \n                date_activated: \"2016-04-27\", \n                longitude: 123.5786, \n                logger_id: 22, \n                logger_name: \"btotb\"\n            }, \n            version: 2, \n            tsm_id: 20, \n            segment_length: 1.0\n        }\n    }, \n    {\n        presence: 0, \n        ts_updated: \"2019-06-07T07:55:25+00:00\", \n        diff_days: 183, \n        last_data: \"2018-12-05T22:01:00+00:00\", \n        tsm_sensor: {\n            date_deactivated: null, \n            number_of_segments: 17, \n            date_activated: \"2014-12-12\", \n            logger: {\n                latitude: 16.80931, \n                logger_model: 6, \n                date_deactivated: null, \n                date_activated: \"2014-12-15\", \n                longitude: 121.1047, \n                logger_id: 25, \n                logger_name: \"cudta\"\n            }, \n            version: 2, \n            tsm_id: 23, \n            segment_length: 1.0\n        }\n    }, \n    {\n        presence: 0, \n        ts_updated: \"2019-06-07T07:55:25+00:00\", \n        diff_days: 142, \n        last_data: \"2019-01-15T23:31:00+00:00\", \n        tsm_sensor: {\n            date_deactivated: null, \n            number_of_segments: 17, \n            date_activated: \"2015-03-01\", \n            logger: {\n                latitude: 16.80884, \n                logger_model: 2, \n                date_deactivated: null, \n                date_activated: \"2015-03-29\", \n                longitude: 121.1047, \n                logger_id: 26, \n                logger_name: \"cudtb\"\n            }, \n            version: 2, \n            tsm_id: 24, \n            segment_length: 1.0\n        }\n    }, \n    {\n        presence: 0, \n        ts_updated: \"2019-06-07T07:55:25+00:00\", \n        diff_days: 391, \n        last_data: \"2018-05-11T17:02:00+00:00\", \n        tsm_sensor: {\n            date_deactivated: null, \n            number_of_segments: 20, \n            date_activated: \"2015-05-01\", \n            logger: {\n                latitude: 7.13731, \n                logger_model: 2, \n                date_deactivated: null, \n                date_activated: \"2015-10-13\", \n                longitude: 126.4509, \n                logger_id: 27, \n                logger_name: \"dadta\"\n            }, \n            version: 2, \n            tsm_id: 25, \n            segment_length: 1.0\n        }\n    }, \n    {\n        presence: 0, \n        ts_updated: \"2019-06-07T07:55:25+00:00\", \n        diff_days: 257, \n        last_data: \"2018-09-22T17:32:00+00:00\", \n        tsm_sensor: {\n            date_deactivated: null, \n            number_of_segments: 24, \n            date_activated: \"2015-05-02\", \n            logger: {\n                latitude: 7.137353, \n                logger_model: 6, \n                date_deactivated: null, \n                date_activated: \"2015-10-13\", \n                longitude: 126.4514, \n                logger_id: 28, \n                logger_name: \"dadtb\"\n            }, \n            version: 2, \n            tsm_id: 26, \n            segment_length: 1.0\n        }\n    }, \n    {\n        presence: 0, \n        ts_updated: \"2019-06-07T07:55:25+00:00\", \n        diff_days: 146, \n        last_data: \"2019-01-12T04:32:00+00:00\", \n        tsm_sensor: {\n            date_deactivated: null, \n            number_of_segments: 15, \n            date_activated: \"2016-02-03\", \n            logger: {\n                latitude: 10.42352, \n                logger_model: 3, \n                date_deactivated: null, \n                date_activated: \"2016-02-03\", \n                longitude: 123.7851, \n                logger_id: 29, \n                logger_name: \"gaasa\"\n            }, \n            version: 3, \n            tsm_id: 27, \n            segment_length: 1.0\n        }\n    }, \n    {\n        presence: 0, \n        ts_updated: \"2019-06-07T07:55:25+00:00\", \n        diff_days: 142, \n        last_data: \"2019-01-15T23:32:00+00:00\", \n        tsm_sensor: {\n            date_deactivated: null, \n            number_of_segments: 15, \n            date_activated: \"2016-03-04\", \n            logger: {\n                latitude: 11.70064, \n                logger_model: 3, \n                date_deactivated: null, \n                date_activated: \"2016-03-04\", \n                longitude: 125.0691, \n                logger_id: 33, \n                logger_name: \"hinsa\"\n            }, \n            version: 3, \n            tsm_id: 31, \n            segment_length: 1.0\n        }\n    }, \n    {\n        presence: 0, \n        ts_updated: \"2019-06-07T07:55:25+00:00\", \n        diff_days: 142, \n        last_data: \"2019-01-15T23:30:00+00:00\", \n        tsm_sensor: {\n            date_deactivated: null, \n            number_of_segments: 12, \n            date_activated: \"2016-03-04\", \n            logger: {\n                latitude: 11.70064, \n                logger_model: 7, \n                date_deactivated: null, \n                date_activated: \"2016-03-04\", \n                longitude: 125.0691, \n                logger_id: 34, \n                logger_name: \"hinsb\"\n            }, \n            version: 3, \n            tsm_id: 32, \n            segment_length: 0.5\n        }\n    }, \n    {\n        presence: 0, \n        ts_updated: \"2019-06-07T07:55:25+00:00\", \n        diff_days: 720, \n        last_data: \"2017-06-16T23:34:00+00:00\", \n        tsm_sensor: {\n            date_deactivated: null, \n            number_of_segments: 26, \n            date_activated: \"2013-04-08\", \n            logger: {\n                latitude: 10.18392, \n                logger_model: 5, \n                date_deactivated: null, \n                date_activated: \"2013-04-11\", \n                longitude: 123.2503, \n                logger_id: 35, \n                logger_name: \"humb\"\n            }, \n            version: 1, \n            tsm_id: 33, \n            segment_length: 1.0\n        }\n    }, \n    {\n        presence: 0, \n        ts_updated: \"2019-06-07T07:55:25+00:00\", \n        diff_days: 288, \n        last_data: \"2018-08-23T02:30:00+00:00\", \n        tsm_sensor: {\n            date_deactivated: null, \n            number_of_segments: 22, \n            date_activated: \"2013-04-06\", \n            logger: {\n                latitude: 10.18102, \n                logger_model: 9, \n                date_deactivated: null, \n                date_activated: \"2013-04-09\", \n                longitude: 123.2514, \n                logger_id: 36, \n                logger_name: \"humt\"\n            }, \n            version: 1, \n            tsm_id: 34, \n            segment_length: 1.0\n        }\n    }, \n    {\n        presence: 0, \n        ts_updated: \"2019-06-07T07:55:25+00:00\", \n        diff_days: 170, \n        last_data: \"2018-12-18T23:00:00+00:00\", \n        tsm_sensor: {\n            date_deactivated: null, \n            number_of_segments: 20, \n            date_activated: \"2015-11-08\", \n            logger: {\n                latitude: 11.90462, \n                logger_model: 3, \n                date_deactivated: null, \n                date_activated: \"2015-11-10\", \n                longitude: 124.7525, \n                logger_id: 37, \n                logger_name: \"imesb\"\n            }, \n            version: 3, \n            tsm_id: 35, \n            segment_length: 0.5\n        }\n    }, \n    {\n        presence: 0, \n        ts_updated: \"2019-06-07T07:55:25+00:00\", \n        diff_days: 169, \n        last_data: \"2018-12-20T01:00:00+00:00\", \n        tsm_sensor: {\n            date_deactivated: null, \n            number_of_segments: 12, \n            date_activated: \"2015-11-13\", \n            logger: {\n                latitude: 11.90383, \n                logger_model: 2, \n                date_deactivated: null, \n                date_activated: \"2015-11-13\", \n                longitude: 124.7526, \n                logger_id: 38, \n                logger_name: \"imeta\"\n            }, \n            version: 3, \n            tsm_id: 36, \n            segment_length: 1.0\n        }\n    }, \n    {\n        presence: 0, \n        ts_updated: \"2019-06-07T07:55:25+00:00\", \n        diff_days: 647, \n        last_data: \"2017-08-28T14:58:00+00:00\", \n        tsm_sensor: {\n            date_deactivated: null, \n            number_of_segments: 25, \n            date_activated: \"2016-06-29\", \n            logger: {\n                latitude: 17.52308, \n                logger_model: 10, \n                date_deactivated: null, \n                date_activated: \"2016-07-19\", \n                longitude: 120.6046, \n                logger_id: 41, \n                logger_name: \"imuta\"\n            }, \n            version: 3, \n            tsm_id: 38, \n            segment_length: 1.0\n        }\n    }, \n    {\n        presence: 0, \n        ts_updated: \"2019-06-07T07:55:25+00:00\", \n        diff_days: 142, \n        last_data: \"2019-01-15T23:30:00+00:00\", \n        tsm_sensor: {\n            date_deactivated: null, \n            number_of_segments: 18, \n            date_activated: \"2015-10-29\", \n            logger: {\n                latitude: 10.86991, \n                logger_model: 2, \n                date_deactivated: null, \n                date_activated: \"2015-10-29\", \n                longitude: 122.4362, \n                logger_id: 43, \n                logger_name: \"inata\"\n            }, \n            version: 3, \n            tsm_id: 40, \n            segment_length: 1.0\n        }\n    }, \n    {\n        presence: 0, \n        ts_updated: \"2019-06-07T07:55:25+00:00\", \n        diff_days: 215, \n        last_data: \"2018-11-04T03:00:00+00:00\", \n        tsm_sensor: {\n            date_deactivated: null, \n            number_of_segments: 15, \n            date_activated: \"2015-10-13\", \n            logger: {\n                latitude: 10.86893, \n                logger_model: 6, \n                date_deactivated: \"2017-11-14\", \n                date_activated: \"2015-10-13\", \n                longitude: 122.4367, \n                logger_id: 44, \n                logger_name: \"inatb\"\n            }, \n            version: 3, \n            tsm_id: 41, \n            segment_length: 1.0\n        }\n    }, \n    {\n        presence: 0, \n        ts_updated: \"2019-06-07T07:55:25+00:00\", \n        diff_days: 215, \n        last_data: \"2018-11-04T03:00:00+00:00\", \n        tsm_sensor: {\n            date_deactivated: null, \n            number_of_segments: 14, \n            date_activated: \"2015-10-27\", \n            logger: {\n                latitude: 10.86882, \n                logger_model: 2, \n                date_deactivated: \"2017-11-14\", \n                date_activated: \"2015-10-27\", \n                longitude: 122.4371, \n                logger_id: 45, \n                logger_name: \"inatc\"\n            }, \n            version: 3, \n            tsm_id: 42, \n            segment_length: 1.0\n        }\n    }, \n    {\n        presence: 0, \n        ts_updated: \"2019-06-07T07:55:25+00:00\", \n        diff_days: 168, \n        last_data: \"2018-12-21T04:31:00+00:00\", \n        tsm_sensor: {\n            date_deactivated: null, \n            number_of_segments: 24, \n            date_activated: \"2016-03-18\", \n            logger: {\n                latitude: 11.97779, \n                logger_model: 6, \n                date_deactivated: null, \n                date_activated: \"2016-03-18\", \n                longitude: 124.8249, \n                logger_id: 46, \n                logger_name: \"jorta\"\n            }, \n            version: 3, \n            tsm_id: 43, \n            segment_length: 1.0\n        }\n    }, \n    {\n        presence: 0, \n        ts_updated: \"2019-06-07T07:55:25+00:00\", \n        diff_days: 188, \n        last_data: \"2018-11-30T15:03:00+00:00\", \n        tsm_sensor: {\n            date_deactivated: null, \n            number_of_segments: 25, \n            date_activated: \"2012-11-13\", \n            logger: {\n                latitude: 16.47032, \n                logger_model: 3, \n                date_deactivated: null, \n                date_activated: \"2013-03-06\", \n                longitude: 120.7054, \n                logger_id: 47, \n                logger_name: \"labb\"\n            }, \n            version: 1, \n            tsm_id: 44, \n            segment_length: 1.0\n        }\n    }, \n    {\n        presence: 0, \n        ts_updated: \"2019-06-07T07:55:25+00:00\", \n        diff_days: 142, \n        last_data: \"2019-01-15T23:31:00+00:00\", \n        tsm_sensor: {\n            date_deactivated: null, \n            number_of_segments: 39, \n            date_activated: \"2012-11-01\", \n            logger: {\n                latitude: 16.47041, \n                logger_model: 7, \n                date_deactivated: null, \n                date_activated: \"2013-03-06\", \n                longitude: 120.7055, \n                logger_id: 48, \n                logger_name: \"labt\"\n            }, \n            version: 1, \n            tsm_id: 45, \n            segment_length: 1.0\n        }\n    }, \n    {\n        presence: 0, \n        ts_updated: \"2019-06-07T07:55:25+00:00\", \n        diff_days: 142, \n        last_data: \"2019-01-15T23:30:00+00:00\", \n        tsm_sensor: {\n            date_deactivated: null, \n            number_of_segments: 10, \n            date_activated: \"2015-11-25\", \n            logger: {\n                latitude: 11.5127, \n                logger_model: 7, \n                date_deactivated: null, \n                date_activated: \"2015-11-26\", \n                longitude: 125.0257, \n                logger_id: 49, \n                logger_name: \"laysa\"\n            }, \n            version: 3, \n            tsm_id: 46, \n            segment_length: 1.0\n        }\n    }, \n    {\n        presence: 0, \n        ts_updated: \"2019-06-07T07:55:25+00:00\", \n        diff_days: 142, \n        last_data: \"2019-01-15T23:30:00+00:00\", \n        tsm_sensor: {\n            date_deactivated: null, \n            number_of_segments: 10, \n            date_activated: \"2015-11-24\", \n            logger: {\n                latitude: 11.5304, \n                logger_model: 3, \n                date_deactivated: null, \n                date_activated: \"2015-11-26\", \n                longitude: 125.0269, \n                logger_id: 50, \n                logger_name: \"laysb\"\n            }, \n            version: 3, \n            tsm_id: 47, \n            segment_length: 1.0\n        }\n    }, \n    {\n        presence: 0, \n        ts_updated: \"2019-06-07T07:55:25+00:00\", \n        diff_days: 379, \n        last_data: \"2018-05-23T20:12:00+00:00\", \n        tsm_sensor: {\n            date_deactivated: null, \n            number_of_segments: 30, \n            date_activated: \"2012-06-24\", \n            logger: {\n                latitude: 10.22767, \n                logger_model: 3, \n                date_deactivated: null, \n                date_activated: \"2012-05-29\", \n                longitude: 125.1266, \n                logger_id: 51, \n                logger_name: \"lipb\"\n            }, \n            version: 1, \n            tsm_id: 48, \n            segment_length: 0.5\n        }\n    }, \n    {\n        presence: 0, \n        ts_updated: \"2019-06-07T07:55:25+00:00\", \n        diff_days: 178, \n        last_data: \"2018-12-10T17:32:00+00:00\", \n        tsm_sensor: {\n            date_deactivated: null, \n            number_of_segments: 29, \n            date_activated: \"2012-06-21\", \n            logger: {\n                latitude: 10.22764, \n                logger_model: 7, \n                date_deactivated: null, \n                date_activated: \"2012-05-29\", \n                longitude: 125.1269, \n                logger_id: 52, \n                logger_name: \"lipt\"\n            }, \n            version: 1, \n            tsm_id: 49, \n            segment_length: 0.5\n        }\n    }, \n    {\n        presence: 0, \n        ts_updated: \"2019-06-07T07:55:25+00:00\", \n        diff_days: 142, \n        last_data: \"2019-01-15T23:31:00+00:00\", \n        tsm_sensor: {\n            date_deactivated: null, \n            number_of_segments: 23, \n            date_activated: \"2016-10-17\", \n            logger: {\n                latitude: 8.597964, \n                logger_model: 23, \n                date_deactivated: null, \n                date_activated: \"2016-10-17\", \n                longitude: 124.7775, \n                logger_id: 53, \n                logger_name: \"loota\"\n            }, \n            version: 3, \n            tsm_id: 50, \n            segment_length: 1.0\n        }\n    }, \n    {\n        presence: 0, \n        ts_updated: \"2019-06-07T07:55:25+00:00\", \n        diff_days: 142, \n        last_data: \"2019-01-15T23:31:00+00:00\", \n        tsm_sensor: {\n            date_deactivated: null, \n            number_of_segments: 30, \n            date_activated: \"2016-09-01\", \n            logger: {\n                latitude: 8.597222, \n                logger_model: 21, \n                date_deactivated: null, \n                date_activated: \"2016-09-01\", \n                longitude: 124.7769, \n                logger_id: 54, \n                logger_name: \"lootb\"\n            }, \n            version: 3, \n            tsm_id: 51, \n            segment_length: 0.5\n        }\n    }, \n    {\n        presence: 0, \n        ts_updated: \"2019-06-07T07:55:25+00:00\", \n        diff_days: 142, \n        last_data: \"2019-01-15T23:32:00+00:00\", \n        tsm_sensor: {\n            date_deactivated: null, \n            number_of_segments: 15, \n            date_activated: \"2015-11-08\", \n            logger: {\n                latitude: 11.78625, \n                logger_model: 3, \n                date_deactivated: null, \n                date_activated: \"2015-11-09\", \n                longitude: 125.0196, \n                logger_id: 55, \n                logger_name: \"lpasa\"\n            }, \n            version: 3, \n            tsm_id: 52, \n            segment_length: 1.0\n        }\n    }, \n    {\n        presence: 0, \n        ts_updated: \"2019-06-07T07:55:25+00:00\", \n        diff_days: 142, \n        last_data: \"2019-01-15T23:30:00+00:00\", \n        tsm_sensor: {\n            date_deactivated: null, \n            number_of_segments: 16, \n            date_activated: \"2015-11-13\", \n            logger: {\n                latitude: 11.78607, \n                logger_model: 7, \n                date_deactivated: null, \n                date_activated: \"2015-11-14\", \n                longitude: 125.0193, \n                logger_id: 56, \n                logger_name: \"lpasb\"\n            }, \n            version: 3, \n            tsm_id: 53, \n            segment_length: 1.0\n        }\n    }, \n    {\n        presence: 0, \n        ts_updated: \"2019-06-07T07:55:25+00:00\", \n        diff_days: 284, \n        last_data: \"2018-08-26T13:00:00+00:00\", \n        tsm_sensor: {\n            date_deactivated: null, \n            number_of_segments: 14, \n            date_activated: \"2016-08-09\", \n            logger: {\n                latitude: 11.59037, \n                logger_model: 12, \n                date_deactivated: null, \n                date_activated: \"2016-08-23\", \n                longitude: 125.0903, \n                logger_id: 58, \n                logger_name: \"ltesa\"\n            }, \n            version: 3, \n            tsm_id: 54, \n            segment_length: 1.0\n        }\n    }, \n    {\n        presence: 1, \n        ts_updated: \"2019-06-07T07:55:25+00:00\", \n        diff_days: -6477, \n        last_data: \"2037-02-28T12:00:00+00:00\", \n        tsm_sensor: {\n            date_deactivated: null, \n            number_of_segments: 14, \n            date_activated: \"2016-08-09\", \n            logger: {\n                latitude: 11.5899, \n                logger_model: 11, \n                date_deactivated: null, \n                date_activated: \"2016-08-23\", \n                longitude: 125.0905, \n                logger_id: 59, \n                logger_name: \"ltetb\"\n            }, \n            version: 3, \n            tsm_id: 55, \n            segment_length: 1.0\n        }\n    }, \n    {\n        presence: 0, \n        ts_updated: \"2019-06-07T07:55:25+00:00\", \n        diff_days: 142, \n        last_data: \"2019-01-15T23:31:00+00:00\", \n        tsm_sensor: {\n            date_deactivated: null, \n            number_of_segments: 20, \n            date_activated: \"2015-06-16\", \n            logger: {\n                latitude: 10.25819, \n                logger_model: 10, \n                date_deactivated: null, \n                date_activated: \"2016-03-17\", \n                longitude: 124.877, \n                logger_id: 63, \n                logger_name: \"luntc\"\n            }, \n            version: 2, \n            tsm_id: 58, \n            segment_length: 1.0\n        }\n    }, \n    {\n        presence: 0, \n        ts_updated: \"2019-06-07T07:55:25+00:00\", \n        diff_days: 142, \n        last_data: \"2019-01-15T23:30:00+00:00\", \n        tsm_sensor: {\n            date_deactivated: null, \n            number_of_segments: 30, \n            date_activated: \"2016-11-22\", \n            logger: {\n                latitude: 10.25819, \n                logger_model: 10, \n                date_deactivated: null, \n                date_activated: \"2016-11-23\", \n                longitude: 124.877, \n                logger_id: 64, \n                logger_name: \"luntd\"\n            }, \n            version: 3, \n            tsm_id: 59, \n            segment_length: 0.5\n        }\n    }, \n    {\n        presence: 0, \n        ts_updated: \"2019-06-07T07:55:25+00:00\", \n        diff_days: 621, \n        last_data: \"2017-09-23T09:01:00+00:00\", \n        tsm_sensor: {\n            date_deactivated: null, \n            number_of_segments: 25, \n            date_activated: \"2015-03-21\", \n            logger: {\n                latitude: 7.51923, \n                logger_model: 10, \n                date_deactivated: null, \n                date_activated: \"2016-02-23\", \n                longitude: 125.0598, \n                logger_id: 66, \n                logger_name: \"magta\"\n            }, \n            version: 2, \n            tsm_id: 60, \n            segment_length: 1.0\n        }\n    }, \n    {\n        presence: 0, \n        ts_updated: \"2019-06-07T07:55:25+00:00\", \n        diff_days: 729, \n        last_data: \"2017-06-07T15:30:00+00:00\", \n        tsm_sensor: {\n            date_deactivated: null, \n            number_of_segments: 23, \n            date_activated: \"2015-03-27\", \n            logger: {\n                latitude: 7.51953, \n                logger_model: 10, \n                date_deactivated: null, \n                date_activated: \"2016-02-23\", \n                longitude: 125.0591, \n                logger_id: 67, \n                logger_name: \"magtb\"\n            }, \n            version: 2, \n            tsm_id: 61, \n            segment_length: 1.0\n        }\n    }, \n    {\n        presence: 0, \n        ts_updated: \"2019-06-07T07:55:25+00:00\", \n        diff_days: 142, \n        last_data: \"2019-01-15T23:31:00+00:00\", \n        tsm_sensor: {\n            date_deactivated: null, \n            number_of_segments: 29, \n            date_activated: \"2016-12-01\", \n            logger: {\n                latitude: 16.4883, \n                logger_model: 6, \n                date_deactivated: null, \n                date_activated: \"2016-12-03\", \n                longitude: 120.689, \n                logger_id: 72, \n                logger_name: \"mamta\"\n            }, \n            version: 3, \n            tsm_id: 66, \n            segment_length: 1.0\n        }\n    }, \n    {\n        presence: 0, \n        ts_updated: \"2019-06-07T07:55:25+00:00\", \n        diff_days: 142, \n        last_data: \"2019-01-15T23:31:00+00:00\", \n        tsm_sensor: {\n            date_deactivated: null, \n            number_of_segments: 27, \n            date_activated: \"2016-11-07\", \n            logger: {\n                latitude: 16.48857, \n                logger_model: 4, \n                date_deactivated: null, \n                date_activated: \"2016-11-07\", \n                longitude: 120.6916, \n                logger_id: 73, \n                logger_name: \"mamtb\"\n            }, \n            version: 3, \n            tsm_id: 67, \n            segment_length: 1.0\n        }\n    }, \n    {\n        presence: 0, \n        ts_updated: \"2019-06-07T07:55:25+00:00\", \n        diff_days: 142, \n        last_data: \"2019-01-15T23:01:00+00:00\", \n        tsm_sensor: {\n            date_deactivated: null, \n            number_of_segments: 20, \n            date_activated: \"2015-11-13\", \n            logger: {\n                latitude: 10.827459, \n                logger_model: 10, \n                date_deactivated: null, \n                date_activated: \"2016-01-30\", \n                longitude: 122.321555, \n                logger_id: 74, \n                logger_name: \"marta\"\n            }, \n            version: 3, \n            tsm_id: 68, \n            segment_length: 1.0\n        }\n    }, \n    {\n        presence: 0, \n        ts_updated: \"2019-06-07T07:55:25+00:00\", \n        diff_days: 142, \n        last_data: \"2019-01-15T22:32:00+00:00\", \n        tsm_sensor: {\n            date_deactivated: null, \n            number_of_segments: 20, \n            date_activated: \"2015-11-24\", \n            logger: {\n                latitude: 10.82726, \n                logger_model: 10, \n                date_deactivated: null, \n                date_activated: \"2015-11-26\", \n                longitude: 122.3227, \n                logger_id: 75, \n                logger_name: \"martb\"\n            }, \n            version: 3, \n            tsm_id: 69, \n            segment_length: 1.0\n        }\n    }, \n    {\n        presence: 0, \n        ts_updated: \"2019-06-07T07:55:25+00:00\", \n        diff_days: 142, \n        last_data: \"2019-01-15T23:31:00+00:00\", \n        tsm_sensor: {\n            date_deactivated: null, \n            number_of_segments: 20, \n            date_activated: \"2015-04-14\", \n            logger: {\n                latitude: 8.585882, \n                logger_model: 3, \n                date_deactivated: null, \n                date_activated: \"2016-02-26\", \n                longitude: 125.7409, \n                logger_id: 77, \n                logger_name: \"mcasb\"\n            }, \n            version: 2, \n            tsm_id: 70, \n            segment_length: 1.0\n        }\n    }, \n    {\n        presence: 0, \n        ts_updated: \"2019-06-07T07:55:25+00:00\", \n        diff_days: 143, \n        last_data: \"2019-01-14T21:31:00+00:00\", \n        tsm_sensor: {\n            date_deactivated: null, \n            number_of_segments: 20, \n            date_activated: \"2015-03-29\", \n            logger: {\n                latitude: 8.58543, \n                logger_model: 6, \n                date_deactivated: null, \n                date_activated: \"2016-02-24\", \n                longitude: 125.741, \n                logger_id: 78, \n                logger_name: \"mcata\"\n            }, \n            version: 2, \n            tsm_id: 71, \n            segment_length: 0.75\n        }\n    }, \n    {\n        presence: 0, \n        ts_updated: \"2019-06-07T07:55:25+00:00\", \n        diff_days: 807, \n        last_data: \"2017-03-21T21:05:00+00:00\", \n        tsm_sensor: {\n            date_deactivated: null, \n            number_of_segments: 13, \n            date_activated: \"2015-08-26\", \n            logger: {\n                latitude: 7.628743, \n                logger_model: 6, \n                date_deactivated: null, \n                date_activated: \"2015-09-21\", \n                longitude: 125.5403, \n                logger_id: 80, \n                logger_name: \"mesta\"\n            }, \n            version: 2, \n            tsm_id: 73, \n            segment_length: 1.0\n        }\n    }, \n    {\n        presence: 0, \n        ts_updated: \"2019-06-07T07:55:25+00:00\", \n        diff_days: 142, \n        last_data: \"2019-01-15T23:33:00+00:00\", \n        tsm_sensor: {\n            date_deactivated: null, \n            number_of_segments: 18, \n            date_activated: \"2016-01-20\", \n            logger: {\n                latitude: 10.04793, \n                logger_model: 7, \n                date_deactivated: null, \n                date_activated: \"2016-01-21\", \n                longitude: 123.2062, \n                logger_id: 81, \n                logger_name: \"mngsa\"\n            }, \n            version: 3, \n            tsm_id: 74, \n            segment_length: 1.0\n        }\n    }, \n    {\n        presence: 0, \n        ts_updated: \"2019-06-07T07:55:25+00:00\", \n        diff_days: 142, \n        last_data: \"2019-01-15T23:30:00+00:00\", \n        tsm_sensor: {\n            date_deactivated: null, \n            number_of_segments: 17, \n            date_activated: \"2016-01-28\", \n            logger: {\n                latitude: 10.04781, \n                logger_model: 2, \n                date_deactivated: null, \n                date_activated: \"2016-01-30\", \n                longitude: 123.2062, \n                logger_id: 82, \n                logger_name: \"mngtb\"\n            }, \n            version: 3, \n            tsm_id: 75, \n            segment_length: 1.0\n        }\n    }, \n    {\n        presence: 0, \n        ts_updated: \"2019-06-07T07:55:25+00:00\", \n        diff_days: 804, \n        last_data: \"2017-03-24T08:30:00+00:00\", \n        tsm_sensor: {\n            date_deactivated: null, \n            number_of_segments: 15, \n            date_activated: \"2016-11-03\", \n            logger: {\n                latitude: 7.629616, \n                logger_model: 10, \n                date_deactivated: null, \n                date_activated: null, \n                longitude: 125.5445, \n                logger_id: 83, \n                logger_name: \"mslta\"\n            }, \n            version: 3, \n            tsm_id: 76, \n            segment_length: 1.0\n        }\n    }, \n    {\n        presence: 0, \n        ts_updated: \"2019-06-07T07:55:25+00:00\", \n        diff_days: 296, \n        last_data: \"2018-08-14T19:02:00+00:00\", \n        tsm_sensor: {\n            date_deactivated: null, \n            number_of_segments: 13, \n            date_activated: \"2015-08-26\", \n            logger: {\n                latitude: 7.628743, \n                logger_model: 6, \n                date_deactivated: null, \n                date_activated: \"2015-09-21\", \n                longitude: 125.5403, \n                logger_id: 84, \n                logger_name: \"msuta\"\n            }, \n            version: 2, \n            tsm_id: 77, \n            segment_length: 1.0\n        }\n    }, \n    {\n        presence: 0, \n        ts_updated: \"2019-06-07T07:55:25+00:00\", \n        diff_days: 278, \n        last_data: \"2018-09-01T19:32:00+00:00\", \n        tsm_sensor: {\n            date_deactivated: null, \n            number_of_segments: 20, \n            date_activated: \"2015-01-10\", \n            logger: {\n                latitude: 16.62678, \n                logger_model: 3, \n                date_deactivated: null, \n                date_activated: \"2015-07-14\", \n                longitude: 120.4176, \n                logger_id: 85, \n                logger_name: \"nagsa\"\n            }, \n            version: 2, \n            tsm_id: 78, \n            segment_length: 0.75\n        }\n    }, \n    {\n        presence: 0, \n        ts_updated: \"2019-06-07T07:55:25+00:00\", \n        diff_days: 142, \n        last_data: \"2019-01-15T23:31:00+00:00\", \n        tsm_sensor: {\n            date_deactivated: null, \n            number_of_segments: 30, \n            date_activated: \"2014-12-22\", \n            logger: {\n                latitude: 16.62676, \n                logger_model: 6, \n                date_deactivated: null, \n                date_activated: \"2015-01-09\", \n                longitude: 120.4172, \n                logger_id: 86, \n                logger_name: \"nagtb\"\n            }, \n            version: 2, \n            tsm_id: 79, \n            segment_length: 1.0\n        }\n    }, \n    {\n        presence: 0, \n        ts_updated: \"2019-06-07T07:55:25+00:00\", \n        diff_days: 142, \n        last_data: \"2019-01-15T23:31:00+00:00\", \n        tsm_sensor: {\n            date_deactivated: null, \n            number_of_segments: 30, \n            date_activated: \"2015-07-06\", \n            logger: {\n                latitude: 9.269702, \n                logger_model: 2, \n                date_deactivated: null, \n                date_activated: \"2015-09-25\", \n                longitude: 126.1384, \n                logger_id: 87, \n                logger_name: \"nurta\"\n            }, \n            version: 2, \n            tsm_id: 80, \n            segment_length: 0.5\n        }\n    }, \n    {\n        presence: 0, \n        ts_updated: \"2019-06-07T07:55:25+00:00\", \n        diff_days: 142, \n        last_data: \"2019-01-15T23:30:00+00:00\", \n        tsm_sensor: {\n            date_deactivated: null, \n            number_of_segments: 24, \n            date_activated: \"2015-07-09\", \n            logger: {\n                latitude: 9.269758, \n                logger_model: 6, \n                date_deactivated: null, \n                date_activated: \"2015-09-25\", \n                longitude: 126.1384, \n                logger_id: 88, \n                logger_name: \"nurtb\"\n            }, \n            version: 2, \n            tsm_id: 81, \n            segment_length: 0.5\n        }\n    }, \n    {\n        presence: 0, \n        ts_updated: \"2019-06-07T07:55:25+00:00\", \n        diff_days: 322, \n        last_data: \"2018-07-19T20:01:00+00:00\", \n        tsm_sensor: {\n            date_deactivated: null, \n            number_of_segments: 23, \n            date_activated: \"2012-11-30\", \n            logger: {\n                latitude: 9.75719, \n                logger_model: 3, \n                date_deactivated: null, \n                date_activated: \"2013-05-23\", \n                longitude: 125.4014, \n                logger_id: 89, \n                logger_name: \"oslb\"\n            }, \n            version: 1, \n            tsm_id: 82, \n            segment_length: 1.0\n        }\n    }, \n    {\n        presence: 0, \n        ts_updated: \"2019-06-07T07:55:25+00:00\", \n        diff_days: 170, \n        last_data: \"2018-12-18T16:01:00+00:00\", \n        tsm_sensor: {\n            date_deactivated: null, \n            number_of_segments: 31, \n            date_activated: \"2015-12-12\", \n            logger: {\n                latitude: 11.51487, \n                logger_model: 6, \n                date_deactivated: null, \n                date_activated: \"2015-12-12\", \n                longitude: 125.0255, \n                logger_id: 92, \n                logger_name: \"parta\"\n            }, \n            version: 3, \n            tsm_id: 85, \n            segment_length: 0.5\n        }\n    }, \n    {\n        presence: 0, \n        ts_updated: \"2019-06-07T07:55:25+00:00\", \n        diff_days: 142, \n        last_data: \"2019-01-15T23:31:00+00:00\", \n        tsm_sensor: {\n            date_deactivated: null, \n            number_of_segments: 20, \n            date_activated: \"2015-12-10\", \n            logger: {\n                latitude: 11.51502, \n                logger_model: 2, \n                date_deactivated: null, \n                date_activated: \"2015-12-10\", \n                longitude: 125.0256, \n                logger_id: 93, \n                logger_name: \"partb\"\n            }, \n            version: 3, \n            tsm_id: 86, \n            segment_length: 0.5\n        }\n    }, \n    {\n        presence: 0, \n        ts_updated: \"2019-06-07T07:55:25+00:00\", \n        diff_days: 218, \n        last_data: \"2018-10-31T17:00:00+00:00\", \n        tsm_sensor: {\n            date_deactivated: null, \n            number_of_segments: 13, \n            date_activated: \"2015-08-05\", \n            logger: {\n                latitude: 10.78865, \n                logger_model: 10, \n                date_deactivated: null, \n                date_activated: \"2015-08-28\", \n                longitude: 122.3333, \n                logger_id: 97, \n                logger_name: \"peptc\"\n            }, \n            version: 2, \n            tsm_id: 89, \n            segment_length: 1.0\n        }\n    }, \n    {\n        presence: 0, \n        ts_updated: \"2019-06-07T07:55:25+00:00\", \n        diff_days: 281, \n        last_data: \"2018-08-29T19:04:00+00:00\", \n        tsm_sensor: {\n            date_deactivated: null, \n            number_of_segments: 40, \n            date_activated: \"2013-03-20\", \n            logger: {\n                latitude: 10.15984, \n                logger_model: 3, \n                date_deactivated: null, \n                date_activated: \"2013-03-23\", \n                longitude: 123.2459, \n                logger_id: 99, \n                logger_name: \"plab\"\n            }, \n            version: 1, \n            tsm_id: 91, \n            segment_length: 0.5\n        }\n    }, \n    {\n        presence: 0, \n        ts_updated: \"2019-06-07T07:55:25+00:00\", \n        diff_days: 142, \n        last_data: \"2019-01-15T23:31:00+00:00\", \n        tsm_sensor: {\n            date_deactivated: null, \n            number_of_segments: 24, \n            date_activated: \"2016-03-29\", \n            logger: {\n                latitude: 12.63063, \n                logger_model: 6, \n                date_deactivated: null, \n                date_activated: \"2016-03-30\", \n                longitude: 124.0183, \n                logger_id: 101, \n                logger_name: \"pngta\"\n            }, \n            version: 3, \n            tsm_id: 93, \n            segment_length: 1.0\n        }\n    }, \n    {\n        presence: 0, \n        ts_updated: \"2019-06-07T07:55:25+00:00\", \n        diff_days: 142, \n        last_data: \"2019-01-15T23:31:00+00:00\", \n        tsm_sensor: {\n            date_deactivated: null, \n            number_of_segments: 29, \n            date_activated: \"2016-04-06\", \n            logger: {\n                latitude: 12.63063, \n                logger_model: 2, \n                date_deactivated: null, \n                date_activated: \"2016-04-06\", \n                longitude: 124.0183, \n                logger_id: 102, \n                logger_name: \"pngtb\"\n            }, \n            version: 3, \n            tsm_id: 94, \n            segment_length: 1.0\n        }\n    }, \n    {\n        presence: 0, \n        ts_updated: \"2019-06-07T07:55:25+00:00\", \n        diff_days: 163, \n        last_data: \"2018-12-25T08:30:00+00:00\", \n        tsm_sensor: {\n            date_deactivated: null, \n            number_of_segments: 19, \n            date_activated: \"2016-04-06\", \n            logger: {\n                latitude: 12.62992, \n                logger_model: 2, \n                date_deactivated: null, \n                date_activated: \"2016-04-06\", \n                longitude: 124.0194, \n                logger_id: 103, \n                logger_name: \"pngtc\"\n            }, \n            version: 3, \n            tsm_id: 95, \n            segment_length: 1.0\n        }\n    }, \n    {\n        presence: 0, \n        ts_updated: \"2019-06-07T07:55:25+00:00\", \n        diff_days: 196, \n        last_data: \"2018-11-22T08:31:00+00:00\", \n        tsm_sensor: {\n            date_deactivated: null, \n            number_of_segments: 19, \n            date_activated: \"2015-03-03\", \n            logger: {\n                latitude: 17.08263, \n                logger_model: 6, \n                date_deactivated: null, \n                date_activated: \"2015-06-28\", \n                longitude: 120.9248, \n                logger_id: 106, \n                logger_name: \"sagta\"\n            }, \n            version: 2, \n            tsm_id: 98, \n            segment_length: 0.5\n        }\n    }, \n    {\n        presence: 0, \n        ts_updated: \"2019-06-07T07:55:25+00:00\", \n        diff_days: 142, \n        last_data: \"2019-01-15T23:31:00+00:00\", \n        tsm_sensor: {\n            date_deactivated: null, \n            number_of_segments: 20, \n            date_activated: \"2015-03-07\", \n            logger: {\n                latitude: 17.08339, \n                logger_model: 2, \n                date_deactivated: null, \n                date_activated: \"2015-06-28\", \n                longitude: 120.9249, \n                logger_id: 107, \n                logger_name: \"sagtb\"\n            }, \n            version: 2, \n            tsm_id: 99, \n            segment_length: 0.5\n        }\n    }, \n    {\n        presence: 0, \n        ts_updated: \"2019-06-07T07:55:25+00:00\", \n        diff_days: 484, \n        last_data: \"2018-02-07T18:32:00+00:00\", \n        tsm_sensor: {\n            date_deactivated: null, \n            number_of_segments: 10, \n            date_activated: \"2015-05-11\", \n            logger: {\n                latitude: 7.82567, \n                logger_model: 6, \n                date_deactivated: null, \n                date_activated: \"2015-10-15\", \n                longitude: 126.3834, \n                logger_id: 108, \n                logger_name: \"sibta\"\n            }, \n            version: 2, \n            tsm_id: 100, \n            segment_length: 1.0\n        }\n    }, \n    {\n        presence: 0, \n        ts_updated: \"2019-06-07T07:55:25+00:00\", \n        diff_days: 142, \n        last_data: \"2019-01-15T23:30:00+00:00\", \n        tsm_sensor: {\n            date_deactivated: null, \n            number_of_segments: 30, \n            date_activated: \"2016-08-31\", \n            logger: {\n                latitude: 16.7234, \n                logger_model: 22, \n                date_deactivated: null, \n                date_activated: \"2016-09-26\", \n                longitude: 120.7815, \n                logger_id: 111, \n                logger_name: \"sinsa\"\n            }, \n            version: 3, \n            tsm_id: 103, \n            segment_length: 1.0\n        }\n    }, \n    {\n        presence: 0, \n        ts_updated: \"2019-06-07T07:55:25+00:00\", \n        diff_days: 142, \n        last_data: \"2019-01-15T23:31:00+00:00\", \n        tsm_sensor: {\n            date_deactivated: null, \n            number_of_segments: 25, \n            date_activated: \"2016-09-01\", \n            logger: {\n                latitude: 16.7234, \n                logger_model: 23, \n                date_deactivated: null, \n                date_activated: \"2016-09-01\", \n                longitude: 120.7813, \n                logger_id: 113, \n                logger_name: \"sintb\"\n            }, \n            version: 3, \n            tsm_id: 105, \n            segment_length: 1.0\n        }\n    }, \n    {\n        presence: 0, \n        ts_updated: \"2019-06-07T07:55:25+00:00\", \n        diff_days: 229, \n        last_data: \"2018-10-21T04:01:00+00:00\", \n        tsm_sensor: {\n            date_deactivated: null, \n            number_of_segments: 15, \n            date_activated: \"2015-02-05\", \n            logger: {\n                latitude: 8.54511, \n                logger_model: 6, \n                date_deactivated: null, \n                date_activated: \"2015-10-17\", \n                longitude: 124.8597, \n                logger_id: 115, \n                logger_name: \"sumta\"\n            }, \n            version: 2, \n            tsm_id: 107, \n            segment_length: 1.0\n        }\n    }, \n    {\n        presence: 0, \n        ts_updated: \"2019-06-07T07:55:25+00:00\", \n        diff_days: 142, \n        last_data: \"2019-01-15T23:32:00+00:00\", \n        tsm_sensor: {\n            date_deactivated: null, \n            number_of_segments: 39, \n            date_activated: \"2016-10-22\", \n            logger: {\n                latitude: 8.54565, \n                logger_model: 2, \n                date_deactivated: null, \n                date_activated: \"2016-10-23\", \n                longitude: 124.8591, \n                logger_id: 117, \n                logger_name: \"sumtc\"\n            }, \n            version: 3, \n            tsm_id: 109, \n            segment_length: 0.5\n        }\n    }, \n    {\n        presence: 0, \n        ts_updated: \"2019-06-07T07:55:25+00:00\", \n        diff_days: 142, \n        last_data: \"2019-01-15T23:31:00+00:00\", \n        tsm_sensor: {\n            date_deactivated: null, \n            number_of_segments: 30, \n            date_activated: \"2016-03-07\", \n            logger: {\n                latitude: 11.63742, \n                logger_model: 2, \n                date_deactivated: null, \n                date_activated: \"2016-03-07\", \n                longitude: 124.3665, \n                logger_id: 119, \n                logger_name: \"taltb\"\n            }, \n            version: 3, \n            tsm_id: 111, \n            segment_length: 0.5\n        }\n    }, \n    {\n        presence: 0, \n        ts_updated: \"2019-06-07T07:55:25+00:00\", \n        diff_days: 599, \n        last_data: \"2017-10-15T22:36:00+00:00\", \n        tsm_sensor: {\n            date_deactivated: null, \n            number_of_segments: 30, \n            date_activated: \"2016-06-11\", \n            logger: {\n                latitude: 17.57347, \n                logger_model: 2, \n                date_deactivated: null, \n                date_activated: \"2016-06-11\", \n                longitude: 121.3834, \n                logger_id: 120, \n                logger_name: \"tgata\"\n            }, \n            version: 3, \n            tsm_id: 112, \n            segment_length: 1.0\n        }\n    }, \n    {\n        presence: 0, \n        ts_updated: \"2019-06-07T07:55:25+00:00\", \n        diff_days: 265, \n        last_data: \"2018-09-14T09:31:00+00:00\", \n        tsm_sensor: {\n            date_deactivated: null, \n            number_of_segments: 30, \n            date_activated: \"2016-06-01\", \n            logger: {\n                latitude: 17.57347, \n                logger_model: 6, \n                date_deactivated: null, \n                date_activated: \"2016-06-01\", \n                longitude: 121.3834, \n                logger_id: 121, \n                logger_name: \"tgatb\"\n            }, \n            version: 3, \n            tsm_id: 113, \n            segment_length: 1.0\n        }\n    }, \n    {\n        presence: 0, \n        ts_updated: \"2019-06-07T07:55:25+00:00\", \n        diff_days: 142, \n        last_data: \"2019-01-15T23:31:00+00:00\", \n        tsm_sensor: {\n            date_deactivated: null, \n            number_of_segments: 32, \n            date_activated: \"2016-10-17\", \n            logger: {\n                latitude: 16.97229, \n                logger_model: 2, \n                date_deactivated: \"2016-02-26\", \n                date_activated: \"2015-07-02\", \n                longitude: 120.8286, \n                logger_id: 122, \n                logger_name: \"tueta\"\n            }, \n            version: 3, \n            tsm_id: 115, \n            segment_length: 1.0\n        }\n    }, \n    {\n        presence: 0, \n        ts_updated: \"2019-06-07T07:55:25+00:00\", \n        diff_days: 164, \n        last_data: \"2018-12-24T18:31:00+00:00\", \n        tsm_sensor: {\n            date_deactivated: null, \n            number_of_segments: 32, \n            date_activated: \"2015-02-18\", \n            logger: {\n                latitude: 16.97015, \n                logger_model: 6, \n                date_deactivated: null, \n                date_activated: \"2015-02-18\", \n                longitude: 120.8287, \n                logger_id: 124, \n                logger_name: \"tuetb\"\n            }, \n            version: 2, \n            tsm_id: 116, \n            segment_length: 1.0\n        }\n    }, \n    {\n        presence: 0, \n        ts_updated: \"2019-06-07T07:55:25+00:00\", \n        diff_days: 569, \n        last_data: \"2017-11-14T18:00:00+00:00\", \n        tsm_sensor: {\n            date_deactivated: null, \n            number_of_segments: 20, \n            date_activated: \"2015-04-15\", \n            logger: {\n                latitude: 10.90807, \n                logger_model: 10, \n                date_deactivated: null, \n                date_activated: \"2016-05-12\", \n                longitude: 122.3278, \n                logger_id: 126, \n                logger_name: \"umita\"\n            }, \n            version: 2, \n            tsm_id: 117, \n            segment_length: 1.0\n        }\n    }, \n    {\n        presence: 0, \n        ts_updated: \"2019-06-07T07:55:25+00:00\", \n        diff_days: 142, \n        last_data: \"2019-01-15T23:31:00+00:00\", \n        tsm_sensor: {\n            date_deactivated: null, \n            number_of_segments: 30, \n            date_activated: \"2017-02-09\", \n            logger: {\n                latitude: 10.82815, \n                logger_model: 2, \n                date_deactivated: null, \n                date_activated: \"2017-02-08\", \n                longitude: 122.3115, \n                logger_id: 134, \n                logger_name: \"blcta\"\n            }, \n            version: 3, \n            tsm_id: 118, \n            segment_length: 1.0\n        }\n    }, \n    {\n        presence: 0, \n        ts_updated: \"2019-06-07T07:55:25+00:00\", \n        diff_days: 218, \n        last_data: \"2018-10-31T17:30:00+00:00\", \n        tsm_sensor: {\n            date_deactivated: null, \n            number_of_segments: 30, \n            date_activated: null, \n            logger: {\n                latitude: 10.78788, \n                logger_model: 13, \n                date_deactivated: null, \n                date_activated: \"2015-08-27\", \n                longitude: 122.3336, \n                logger_id: 95, \n                logger_name: \"pepsb\"\n            }, \n            version: 3, \n            tsm_id: 119, \n            segment_length: 0.5\n        }\n    }, \n    {\n        presence: 0, \n        ts_updated: \"2019-06-07T07:55:25+00:00\", \n        diff_days: 204, \n        last_data: \"2018-11-14T11:30:00+00:00\", \n        tsm_sensor: {\n            date_deactivated: null, \n            number_of_segments: 40, \n            date_activated: \"2018-04-05\", \n            logger: {\n                latitude: 10.82662, \n                logger_model: 36, \n                date_deactivated: null, \n                date_activated: \"2017-09-12\", \n                longitude: 122.31132, \n                logger_id: 135, \n                logger_name: \"blcpz\"\n            }, \n            version: 3, \n            tsm_id: 121, \n            segment_length: 0.5\n        }\n    }, \n    {\n        presence: 0, \n        ts_updated: \"2019-06-07T07:55:25+00:00\", \n        diff_days: 142, \n        last_data: \"2019-01-15T23:31:00+00:00\", \n        tsm_sensor: {\n            date_deactivated: null, \n            number_of_segments: 30, \n            date_activated: \"2017-02-20\", \n            logger: {\n                latitude: 10.30199, \n                logger_model: 2, \n                date_deactivated: null, \n                date_activated: \"2017-02-21\", \n                longitude: 125.1279, \n                logger_id: 142, \n                logger_name: \"bolta\"\n            }, \n            version: 3, \n            tsm_id: 124, \n            segment_length: 0.5\n        }\n    }\n];\n\nexport const data_presence_loggers = [\n    {\n        presence: 0, \n        ts_updated: \"2019-06-07T07:55:35+00:00\", \n        last_data: \"2019-01-15T23:35:15+00:00\", \n        logger_id: 1, \n        diff_days: 142, \n        logger: {\n            longitude: 122.8313, \n            date_activated: \"2015-08-31\", \n            logger_name: \"agbsb\", \n            latitude: 11.28082, \n            site: 1, \n            model_id: 3, \n            logger_id: 1, \n            date_deactivated: null\n        }\n    }, \n    {\n        presence: 0, \n        ts_updated: \"2019-06-07T07:55:35+00:00\", \n        last_data: \"2019-01-15T23:32:22+00:00\", \n        logger_id: 2, \n        diff_days: 142, \n        logger: {\n            longitude: 122.8311, \n            date_activated: \"2015-08-31\", \n            logger_name: \"agbta\", \n            latitude: 11.28137, \n            site: 1, \n            model_id: 6, \n            logger_id: 2, \n            date_deactivated: null\n        }\n    }, \n    {\n        presence: 0, \n        ts_updated: \"2019-06-07T07:55:35+00:00\", \n        last_data: \"2018-08-13T12:30:04+00:00\", \n        logger_id: 3, \n        diff_days: 297, \n        logger: {\n            longitude: 120.660903, \n            date_activated: \"2016-08-09\", \n            logger_name: \"bakg\", \n            latitude: 16.789631, \n            site: 2, \n            model_id: 31, \n            logger_id: 3, \n            date_deactivated: null\n        }\n    }, \n    {\n        presence: 1, \n        ts_updated: \"2019-06-07T07:55:35+00:00\", \n        last_data: null, \n        logger_id: 4, \n        diff_days: 0, \n        logger: {\n            longitude: 120.6616, \n            date_activated: \"2016-05-13\", \n            logger_name: \"bakta\", \n            latitude: 16.7907, \n            site: 2, \n            model_id: 10, \n            logger_id: 4, \n            date_deactivated: null\n        }\n    }, \n    {\n        presence: 0, \n        ts_updated: \"2019-06-07T07:55:35+00:00\", \n        last_data: \"2019-01-15T23:31:41+00:00\", \n        logger_id: 7, \n        diff_days: 142, \n        logger: {\n            longitude: 123.9488, \n            date_activated: \"2016-02-03\", \n            logger_name: \"banta\", \n            latitude: 9.888559, \n            site: 3, \n            model_id: 2, \n            logger_id: 7, \n            date_deactivated: null\n        }\n    }, \n    {\n        presence: 0, \n        ts_updated: \"2019-06-07T07:55:35+00:00\", \n        last_data: \"2019-01-15T23:30:54+00:00\", \n        logger_id: 8, \n        diff_days: 142, \n        logger: {\n            longitude: 123.9488, \n            date_activated: \"2016-02-03\", \n            logger_name: \"bantb\", \n            latitude: 9.888583, \n            site: 3, \n            model_id: 6, \n            logger_id: 8, \n            date_deactivated: null\n        }\n    }, \n    {\n        presence: 0, \n        ts_updated: \"2019-06-07T07:55:35+00:00\", \n        last_data: \"2019-01-15T23:32:16+00:00\", \n        logger_id: 9, \n        diff_days: 142, \n        logger: {\n            longitude: 124.6547, \n            date_activated: \"2016-01-23\", \n            logger_name: \"barsc\", \n            latitude: 11.90206, \n            site: 4, \n            model_id: 3, \n            logger_id: 9, \n            date_deactivated: null\n        }\n    }, \n    {\n        presence: 0, \n        ts_updated: \"2019-06-07T07:55:35+00:00\", \n        last_data: \"2019-01-15T23:30:55+00:00\", \n        logger_id: 10, \n        diff_days: 142, \n        logger: {\n            longitude: 124.6566, \n            date_activated: \"2016-02-03\", \n            logger_name: \"barta\", \n            latitude: 11.90278, \n            site: 4, \n            model_id: 2, \n            logger_id: 10, \n            date_deactivated: null\n        }\n    }, \n    {\n        presence: 0, \n        ts_updated: \"2019-06-07T07:55:35+00:00\", \n        last_data: \"2019-01-15T23:30:55+00:00\", \n        logger_id: 11, \n        diff_days: 142, \n        logger: {\n            longitude: 124.6566, \n            date_activated: \"2016-01-23\", \n            logger_name: \"bartb\", \n            latitude: 11.90278, \n            site: 4, \n            model_id: 6, \n            logger_id: 11, \n            date_deactivated: null\n        }\n    }, \n    {\n        presence: 0, \n        ts_updated: \"2019-06-07T07:55:35+00:00\", \n        last_data: \"2018-01-23T20:01:00+00:00\", \n        logger_id: 12, \n        diff_days: 499, \n        logger: {\n            longitude: 122.4679, \n            date_activated: \"2015-01-27\", \n            logger_name: \"baysb\", \n            latitude: 14.18756, \n            site: 5, \n            model_id: 3, \n            logger_id: 12, \n            date_deactivated: null\n        }\n    }, \n    {\n        presence: 0, \n        ts_updated: \"2019-06-07T07:55:35+00:00\", \n        last_data: \"2017-04-23T23:01:00+00:00\", \n        logger_id: 13, \n        diff_days: 774, \n        logger: {\n            longitude: 122.4675, \n            date_activated: \"2015-01-23\", \n            logger_name: \"bayta\", \n            latitude: 14.18797, \n            site: 5, \n            model_id: 2, \n            logger_id: 13, \n            date_deactivated: null\n        }\n    }, \n    {\n        presence: 0, \n        ts_updated: \"2019-06-07T07:55:35+00:00\", \n        last_data: \"2019-01-15T23:31:34+00:00\", \n        logger_id: 17, \n        diff_days: 142, \n        logger: {\n            longitude: 122.3108, \n            date_activated: null, \n            logger_name: \"blcsb\", \n            latitude: 10.82662, \n            site: 6, \n            model_id: 3, \n            logger_id: 17, \n            date_deactivated: null\n        }\n    }, \n    {\n        presence: 0, \n        ts_updated: \"2019-06-07T07:55:35+00:00\", \n        last_data: \"2018-12-10T21:45:04+00:00\", \n        logger_id: 20, \n        diff_days: 178, \n        logger: {\n            longitude: 123.578371, \n            date_activated: \"2014-04-27\", \n            logger_name: \"btog\", \n            latitude: 10.01394, \n            site: 8, \n            model_id: 31, \n            logger_id: 20, \n            date_deactivated: null\n        }\n    }, \n    {\n        presence: 0, \n        ts_updated: \"2019-06-07T07:55:35+00:00\", \n        last_data: \"2019-01-15T23:31:06+00:00\", \n        logger_id: 25, \n        diff_days: 142, \n        logger: {\n            longitude: 121.1047, \n            date_activated: \"2014-12-15\", \n            logger_name: \"cudta\", \n            latitude: 16.80931, \n            site: 10, \n            model_id: 6, \n            logger_id: 25, \n            date_deactivated: null\n        }\n    }, \n    {\n        presence: 0, \n        ts_updated: \"2019-06-07T07:55:35+00:00\", \n        last_data: \"2019-01-15T23:31:29+00:00\", \n        logger_id: 26, \n        diff_days: 142, \n        logger: {\n            longitude: 121.1047, \n            date_activated: \"2015-03-29\", \n            logger_name: \"cudtb\", \n            latitude: 16.80884, \n            site: 10, \n            model_id: 2, \n            logger_id: 26, \n            date_deactivated: null\n        }\n    }, \n    {\n        presence: 0, \n        ts_updated: \"2019-06-07T07:55:35+00:00\", \n        last_data: \"2018-07-03T02:30:59+00:00\", \n        logger_id: 27, \n        diff_days: 339, \n        logger: {\n            longitude: 126.4509, \n            date_activated: \"2015-10-13\", \n            logger_name: \"dadta\", \n            latitude: 7.13731, \n            site: 11, \n            model_id: 2, \n            logger_id: 27, \n            date_deactivated: null\n        }\n    }, \n    {\n        presence: 0, \n        ts_updated: \"2019-06-07T07:55:35+00:00\", \n        last_data: \"2018-09-29T04:30:59+00:00\", \n        logger_id: 28, \n        diff_days: 251, \n        logger: {\n            longitude: 126.4514, \n            date_activated: \"2015-10-13\", \n            logger_name: \"dadtb\", \n            latitude: 7.137353, \n            site: 11, \n            model_id: 6, \n            logger_id: 28, \n            date_deactivated: null\n        }\n    }, \n    {\n        presence: 0, \n        ts_updated: \"2019-06-07T07:55:35+00:00\", \n        last_data: \"2019-01-15T23:30:58+00:00\", \n        logger_id: 29, \n        diff_days: 142, \n        logger: {\n            longitude: 123.7851, \n            date_activated: \"2016-02-03\", \n            logger_name: \"gaasa\", \n            latitude: 10.42352, \n            site: 12, \n            model_id: 3, \n            logger_id: 29, \n            date_deactivated: null\n        }\n    }, \n    {\n        presence: 0, \n        ts_updated: \"2019-06-07T07:55:35+00:00\", \n        last_data: \"2018-11-23T00:01:00+00:00\", \n        logger_id: 30, \n        diff_days: 196, \n        logger: {\n            longitude: 123.7854, \n            date_activated: \"2018-02-22\", \n            logger_name: \"gaatc\", \n            latitude: 10.42323, \n            site: 12, \n            model_id: 7, \n            logger_id: 30, \n            date_deactivated: null\n        }\n    }, \n    {\n        presence: 0, \n        ts_updated: \"2019-06-07T07:55:35+00:00\", \n        last_data: \"2017-08-01T17:00:00+00:00\", \n        logger_id: 31, \n        diff_days: 674, \n        logger: {\n            longitude: 126.1676, \n            date_activated: \"2013-05-04\", \n            logger_name: \"gamb\", \n            latitude: 9.0101, \n            site: 13, \n            model_id: 3, \n            logger_id: 31, \n            date_deactivated: null\n        }\n    }, \n    {\n        presence: 0, \n        ts_updated: \"2019-06-07T07:55:35+00:00\", \n        last_data: \"2019-01-15T23:32:41+00:00\", \n        logger_id: 33, \n        diff_days: 142, \n        logger: {\n            longitude: 125.0691, \n            date_activated: \"2016-03-04\", \n            logger_name: \"hinsa\", \n            latitude: 11.70064, \n            site: 14, \n            model_id: 3, \n            logger_id: 33, \n            date_deactivated: null\n        }\n    }, \n    {\n        presence: 0, \n        ts_updated: \"2019-06-07T07:55:35+00:00\", \n        last_data: \"2019-01-15T23:31:08+00:00\", \n        logger_id: 34, \n        diff_days: 142, \n        logger: {\n            longitude: 125.0691, \n            date_activated: \"2016-03-04\", \n            logger_name: \"hinsb\", \n            latitude: 11.70064, \n            site: 14, \n            model_id: 7, \n            logger_id: 34, \n            date_deactivated: null\n        }\n    }, \n    {\n        presence: 0, \n        ts_updated: \"2019-06-07T07:55:35+00:00\", \n        last_data: \"2017-07-01T20:00:00+00:00\", \n        logger_id: 35, \n        diff_days: 705, \n        logger: {\n            longitude: 123.2503, \n            date_activated: \"2013-04-11\", \n            logger_name: \"humb\", \n            latitude: 10.18392, \n            site: 15, \n            model_id: 5, \n            logger_id: 35, \n            date_deactivated: null\n        }\n    }, \n    {\n        presence: 0, \n        ts_updated: \"2019-06-07T07:55:35+00:00\", \n        last_data: \"2018-12-13T07:04:46+00:00\", \n        logger_id: 36, \n        diff_days: 176, \n        logger: {\n            longitude: 123.2514, \n            date_activated: \"2013-04-09\", \n            logger_name: \"humt\", \n            latitude: 10.18102, \n            site: 15, \n            model_id: 9, \n            logger_id: 36, \n            date_deactivated: null\n        }\n    }, \n    {\n        presence: 0, \n        ts_updated: \"2019-06-07T07:55:35+00:00\", \n        last_data: \"2018-12-18T22:30:59+00:00\", \n        logger_id: 37, \n        diff_days: 170, \n        logger: {\n            longitude: 124.7525, \n            date_activated: \"2015-11-10\", \n            logger_name: \"imesb\", \n            latitude: 11.90462, \n            site: 16, \n            model_id: 3, \n            logger_id: 37, \n            date_deactivated: null\n        }\n    }, \n    {\n        presence: 0, \n        ts_updated: \"2019-06-07T07:55:35+00:00\", \n        last_data: \"2018-12-23T17:30:59+00:00\", \n        logger_id: 38, \n        diff_days: 165, \n        logger: {\n            longitude: 124.7526, \n            date_activated: \"2015-11-13\", \n            logger_name: \"imeta\", \n            latitude: 11.90383, \n            site: 16, \n            model_id: 2, \n            logger_id: 38, \n            date_deactivated: null\n        }\n    }, \n    {\n        presence: 0, \n        ts_updated: \"2019-06-07T07:55:35+00:00\", \n        last_data: \"2019-01-15T23:30:04+00:00\", \n        logger_id: 39, \n        diff_days: 142, \n        logger: {\n            longitude: 120.60461, \n            date_activated: \"2016-07-19\", \n            logger_name: \"imug\", \n            latitude: 17.52347, \n            site: 17, \n            model_id: 31, \n            logger_id: 39, \n            date_deactivated: null\n        }\n    }, \n    {\n        presence: 0, \n        ts_updated: \"2019-06-07T07:55:35+00:00\", \n        last_data: \"2019-01-15T23:30:55+00:00\", \n        logger_id: 43, \n        diff_days: 142, \n        logger: {\n            longitude: 122.4362, \n            date_activated: \"2015-10-29\", \n            logger_name: \"inata\", \n            latitude: 10.86991, \n            site: 18, \n            model_id: 2, \n            logger_id: 43, \n            date_deactivated: null\n        }\n    }, \n    {\n        presence: 0, \n        ts_updated: \"2019-06-07T07:55:35+00:00\", \n        last_data: \"2019-01-15T23:30:59+00:00\", \n        logger_id: 46, \n        diff_days: 142, \n        logger: {\n            longitude: 124.8249, \n            date_activated: \"2016-03-18\", \n            logger_name: \"jorta\", \n            latitude: 11.97779, \n            site: 19, \n            model_id: 6, \n            logger_id: 46, \n            date_deactivated: null\n        }\n    }, \n    {\n        presence: 0, \n        ts_updated: \"2019-06-07T07:55:35+00:00\", \n        last_data: \"2018-11-30T15:03:08+00:00\", \n        logger_id: 47, \n        diff_days: 188, \n        logger: {\n            longitude: 120.7054, \n            date_activated: \"2013-03-06\", \n            logger_name: \"labb\", \n            latitude: 16.47032, \n            site: 20, \n            model_id: 3, \n            logger_id: 47, \n            date_deactivated: null\n        }\n    }, \n    {\n        presence: 0, \n        ts_updated: \"2019-06-07T07:55:35+00:00\", \n        last_data: \"2019-01-15T23:31:16+00:00\", \n        logger_id: 48, \n        diff_days: 142, \n        logger: {\n            longitude: 120.7055, \n            date_activated: \"2013-03-06\", \n            logger_name: \"labt\", \n            latitude: 16.47041, \n            site: 20, \n            model_id: 7, \n            logger_id: 48, \n            date_deactivated: null\n        }\n    }, \n    {\n        presence: 0, \n        ts_updated: \"2019-06-07T07:55:35+00:00\", \n        last_data: \"2019-01-15T23:31:29+00:00\", \n        logger_id: 49, \n        diff_days: 142, \n        logger: {\n            longitude: 125.0257, \n            date_activated: \"2015-11-26\", \n            logger_name: \"laysa\", \n            latitude: 11.5127, \n            site: 21, \n            model_id: 7, \n            logger_id: 49, \n            date_deactivated: null\n        }\n    }, \n    {\n        presence: 0, \n        ts_updated: \"2019-06-07T07:55:35+00:00\", \n        last_data: \"2019-01-15T23:31:11+00:00\", \n        logger_id: 50, \n        diff_days: 142, \n        logger: {\n            longitude: 125.0269, \n            date_activated: \"2015-11-26\", \n            logger_name: \"laysb\", \n            latitude: 11.5304, \n            site: 21, \n            model_id: 3, \n            logger_id: 50, \n            date_deactivated: null\n        }\n    }, \n    {\n        presence: 0, \n        ts_updated: \"2019-06-07T07:55:35+00:00\", \n        last_data: \"2018-06-18T11:30:58+00:00\", \n        logger_id: 51, \n        diff_days: 353, \n        logger: {\n            longitude: 125.1266, \n            date_activated: \"2012-05-29\", \n            logger_name: \"lipb\", \n            latitude: 10.22767, \n            site: 22, \n            model_id: 3, \n            logger_id: 51, \n            date_deactivated: null\n        }\n    }, \n    {\n        presence: 0, \n        ts_updated: \"2019-06-07T07:55:35+00:00\", \n        last_data: \"2019-01-15T23:33:02+00:00\", \n        logger_id: 52, \n        diff_days: 142, \n        logger: {\n            longitude: 125.1269, \n            date_activated: \"2012-05-29\", \n            logger_name: \"lipt\", \n            latitude: 10.22764, \n            site: 22, \n            model_id: 7, \n            logger_id: 52, \n            date_deactivated: null\n        }\n    }, \n    {\n        presence: 0, \n        ts_updated: \"2019-06-07T07:55:35+00:00\", \n        last_data: \"2019-01-15T23:31:42+00:00\", \n        logger_id: 53, \n        diff_days: 142, \n        logger: {\n            longitude: 124.7775, \n            date_activated: \"2016-10-17\", \n            logger_name: \"loota\", \n            latitude: 8.597964, \n            site: 23, \n            model_id: 23, \n            logger_id: 53, \n            date_deactivated: null\n        }\n    }, \n    {\n        presence: 0, \n        ts_updated: \"2019-06-07T07:55:35+00:00\", \n        last_data: \"2019-01-15T23:32:55+00:00\", \n        logger_id: 55, \n        diff_days: 142, \n        logger: {\n            longitude: 125.0196, \n            date_activated: \"2015-11-09\", \n            logger_name: \"lpasa\", \n            latitude: 11.78625, \n            site: 24, \n            model_id: 3, \n            logger_id: 55, \n            date_deactivated: null\n        }\n    }, \n    {\n        presence: 0, \n        ts_updated: \"2019-06-07T07:55:35+00:00\", \n        last_data: \"2019-01-15T23:31:29+00:00\", \n        logger_id: 56, \n        diff_days: 142, \n        logger: {\n            longitude: 125.0193, \n            date_activated: \"2015-11-14\", \n            logger_name: \"lpasb\", \n            latitude: 11.78607, \n            site: 24, \n            model_id: 7, \n            logger_id: 56, \n            date_deactivated: null\n        }\n    }, \n    {\n        presence: 0, \n        ts_updated: \"2019-06-07T07:55:35+00:00\", \n        last_data: \"2018-09-10T01:15:04+00:00\", \n        logger_id: 57, \n        diff_days: 270, \n        logger: {\n            longitude: 125.09145, \n            date_activated: \"2016-08-23\", \n            logger_name: \"lteg\", \n            latitude: 11.59024, \n            site: 25, \n            model_id: 31, \n            logger_id: 57, \n            date_deactivated: null\n        }\n    }, \n    {\n        presence: 0, \n        ts_updated: \"2019-06-07T07:55:35+00:00\", \n        last_data: \"2019-01-15T23:30:05+00:00\", \n        logger_id: 60, \n        diff_days: 142, \n        logger: {\n            longitude: 124.87943, \n            date_activated: \"2016-03-17\", \n            logger_name: \"lung\", \n            latitude: 10.25799, \n            site: 26, \n            model_id: 31, \n            logger_id: 60, \n            date_deactivated: null\n        }\n    }, \n    {\n        presence: 0, \n        ts_updated: \"2019-06-07T07:55:35+00:00\", \n        last_data: \"2017-09-23T09:45:00+00:00\", \n        logger_id: 65, \n        diff_days: 621, \n        logger: {\n            longitude: 125.058376, \n            date_activated: \"2016-02-23\", \n            logger_name: \"magg\", \n            latitude: 7.517548, \n            site: 27, \n            model_id: 31, \n            logger_id: 65, \n            date_deactivated: null\n        }\n    }, \n    {\n        presence: 0, \n        ts_updated: \"2019-06-07T07:55:35+00:00\", \n        last_data: \"2017-07-31T23:01:00+00:00\", \n        logger_id: 72, \n        diff_days: 675, \n        logger: {\n            longitude: 120.689, \n            date_activated: \"2016-12-03\", \n            logger_name: \"mamta\", \n            latitude: 16.4883, \n            site: 28, \n            model_id: 6, \n            logger_id: 72, \n            date_deactivated: null\n        }\n    }, \n    {\n        presence: 0, \n        ts_updated: \"2019-06-07T07:55:35+00:00\", \n        last_data: \"2019-01-15T23:31:45+00:00\", \n        logger_id: 73, \n        diff_days: 142, \n        logger: {\n            longitude: 120.6916, \n            date_activated: \"2016-11-07\", \n            logger_name: \"mamtb\", \n            latitude: 16.48857, \n            site: 28, \n            model_id: 4, \n            logger_id: 73, \n            date_deactivated: null\n        }\n    }, \n    {\n        presence: 0, \n        ts_updated: \"2019-06-07T07:55:35+00:00\", \n        last_data: \"2019-01-15T23:30:05+00:00\", \n        logger_id: 76, \n        diff_days: 142, \n        logger: {\n            longitude: 122.323586, \n            date_activated: \"2016-01-30\", \n            logger_name: \"marg\", \n            latitude: 10.821843, \n            site: 29, \n            model_id: 31, \n            logger_id: 76, \n            date_deactivated: null\n        }\n    }, \n    {\n        presence: 0, \n        ts_updated: \"2019-06-07T07:55:35+00:00\", \n        last_data: \"2019-01-15T23:31:34+00:00\", \n        logger_id: 77, \n        diff_days: 142, \n        logger: {\n            longitude: 125.7409, \n            date_activated: \"2016-02-26\", \n            logger_name: \"mcasb\", \n            latitude: 8.585882, \n            site: 30, \n            model_id: 3, \n            logger_id: 77, \n            date_deactivated: null\n        }\n    }, \n    {\n        presence: 0, \n        ts_updated: \"2019-06-07T07:55:35+00:00\", \n        last_data: \"2019-01-15T23:31:15+00:00\", \n        logger_id: 78, \n        diff_days: 142, \n        logger: {\n            longitude: 125.741, \n            date_activated: \"2016-02-24\", \n            logger_name: \"mcata\", \n            latitude: 8.58543, \n            site: 30, \n            model_id: 6, \n            logger_id: 78, \n            date_deactivated: null\n        }\n    }, \n    {\n        presence: 0, \n        ts_updated: \"2019-06-07T07:55:35+00:00\", \n        last_data: \"2018-08-14T16:33:13+00:00\", \n        logger_id: 80, \n        diff_days: 296, \n        logger: {\n            longitude: 125.5403, \n            date_activated: \"2015-09-21\", \n            logger_name: \"mesta\", \n            latitude: 7.628743, \n            site: 51, \n            model_id: 6, \n            logger_id: 80, \n            date_deactivated: null\n        }\n    }, \n    {\n        presence: 0, \n        ts_updated: \"2019-06-07T07:55:35+00:00\", \n        last_data: \"2019-01-15T23:34:01+00:00\", \n        logger_id: 81, \n        diff_days: 142, \n        logger: {\n            longitude: 123.2062, \n            date_activated: \"2016-01-21\", \n            logger_name: \"mngsa\", \n            latitude: 10.04793, \n            site: 31, \n            model_id: 7, \n            logger_id: 81, \n            date_deactivated: null\n        }\n    }, \n    {\n        presence: 0, \n        ts_updated: \"2019-06-07T07:55:35+00:00\", \n        last_data: \"2019-01-15T23:30:54+00:00\", \n        logger_id: 82, \n        diff_days: 142, \n        logger: {\n            longitude: 123.2062, \n            date_activated: \"2016-01-30\", \n            logger_name: \"mngtb\", \n            latitude: 10.04781, \n            site: 31, \n            model_id: 2, \n            logger_id: 82, \n            date_deactivated: null\n        }\n    }, \n    {\n        presence: 0, \n        ts_updated: \"2019-06-07T07:55:35+00:00\", \n        last_data: \"2018-04-15T22:32:00+00:00\", \n        logger_id: 84, \n        diff_days: 417, \n        logger: {\n            longitude: 125.5403, \n            date_activated: \"2015-09-21\", \n            logger_name: \"msuta\", \n            latitude: 7.628743, \n            site: 33, \n            model_id: 6, \n            logger_id: 84, \n            date_deactivated: null\n        }\n    }, \n    {\n        presence: 0, \n        ts_updated: \"2019-06-07T07:55:35+00:00\", \n        last_data: \"2019-01-15T23:31:55+00:00\", \n        logger_id: 85, \n        diff_days: 142, \n        logger: {\n            longitude: 120.4176, \n            date_activated: \"2015-07-14\", \n            logger_name: \"nagsa\", \n            latitude: 16.62678, \n            site: 34, \n            model_id: 3, \n            logger_id: 85, \n            date_deactivated: null\n        }\n    }, \n    {\n        presence: 0, \n        ts_updated: \"2019-06-07T07:55:35+00:00\", \n        last_data: \"2019-01-15T23:31:42+00:00\", \n        logger_id: 86, \n        diff_days: 142, \n        logger: {\n            longitude: 120.4172, \n            date_activated: \"2015-01-09\", \n            logger_name: \"nagtb\", \n            latitude: 16.62676, \n            site: 34, \n            model_id: 6, \n            logger_id: 86, \n            date_deactivated: null\n        }\n    }, \n    {\n        presence: 0, \n        ts_updated: \"2019-06-07T07:55:35+00:00\", \n        last_data: \"2019-01-15T23:31:17+00:00\", \n        logger_id: 87, \n        diff_days: 142, \n        logger: {\n            longitude: 126.1384, \n            date_activated: \"2015-09-25\", \n            logger_name: \"nurta\", \n            latitude: 9.269702, \n            site: 35, \n            model_id: 2, \n            logger_id: 87, \n            date_deactivated: null\n        }\n    }, \n    {\n        presence: 0, \n        ts_updated: \"2019-06-07T07:55:35+00:00\", \n        last_data: \"2019-01-15T23:30:56+00:00\", \n        logger_id: 88, \n        diff_days: 142, \n        logger: {\n            longitude: 126.1384, \n            date_activated: \"2015-09-25\", \n            logger_name: \"nurtb\", \n            latitude: 9.269758, \n            site: 35, \n            model_id: 6, \n            logger_id: 88, \n            date_deactivated: null\n        }\n    }, \n    {\n        presence: 0, \n        ts_updated: \"2019-06-07T07:55:35+00:00\", \n        last_data: \"2017-05-07T18:01:00+00:00\", \n        logger_id: 89, \n        diff_days: 760, \n        logger: {\n            longitude: 125.4014, \n            date_activated: \"2013-05-23\", \n            logger_name: \"oslb\", \n            latitude: 9.75719, \n            site: 36, \n            model_id: 3, \n            logger_id: 89, \n            date_deactivated: null\n        }\n    }, \n    {\n        presence: 0, \n        ts_updated: \"2019-06-07T07:55:35+00:00\", \n        last_data: \"2019-01-15T23:30:59+00:00\", \n        logger_id: 92, \n        diff_days: 142, \n        logger: {\n            longitude: 125.0255, \n            date_activated: \"2015-12-12\", \n            logger_name: \"parta\", \n            latitude: 11.51487, \n            site: 37, \n            model_id: 6, \n            logger_id: 92, \n            date_deactivated: null\n        }\n    }, \n    {\n        presence: 0, \n        ts_updated: \"2019-06-07T07:55:35+00:00\", \n        last_data: \"2019-01-15T23:31:59+00:00\", \n        logger_id: 93, \n        diff_days: 142, \n        logger: {\n            longitude: 125.0256, \n            date_activated: \"2015-12-10\", \n            logger_name: \"partb\", \n            latitude: 11.51502, \n            site: 37, \n            model_id: 2, \n            logger_id: 93, \n            date_deactivated: null\n        }\n    }, \n    {\n        presence: 0, \n        ts_updated: \"2019-06-07T07:55:35+00:00\", \n        last_data: \"2018-10-31T17:30:06+00:00\", \n        logger_id: 94, \n        diff_days: 218, \n        logger: {\n            longitude: 122.33414, \n            date_activated: \"2016-03-09\", \n            logger_name: \"pepg\", \n            latitude: 10.787351, \n            site: 38, \n            model_id: 31, \n            logger_id: 94, \n            date_deactivated: null\n        }\n    }, \n    {\n        presence: 1, \n        ts_updated: \"2019-06-07T07:55:35+00:00\", \n        last_data: null, \n        logger_id: 95, \n        diff_days: 0, \n        logger: {\n            longitude: 122.3336, \n            date_activated: \"2015-08-27\", \n            logger_name: \"pepsb\", \n            latitude: 10.78788, \n            site: 38, \n            model_id: 13, \n            logger_id: 95, \n            date_deactivated: null\n        }\n    }, \n    {\n        presence: 1, \n        ts_updated: \"2019-06-07T07:55:35+00:00\", \n        last_data: null, \n        logger_id: 97, \n        diff_days: 0, \n        logger: {\n            longitude: 122.3333, \n            date_activated: \"2015-08-28\", \n            logger_name: \"peptc\", \n            latitude: 10.78865, \n            site: 38, \n            model_id: 10, \n            logger_id: 97, \n            date_deactivated: null\n        }\n    }, \n    {\n        presence: 0, \n        ts_updated: \"2019-06-07T07:55:35+00:00\", \n        last_data: \"2018-10-01T01:36:52+00:00\", \n        logger_id: 99, \n        diff_days: 249, \n        logger: {\n            longitude: 123.2459, \n            date_activated: \"2013-03-23\", \n            logger_name: \"plab\", \n            latitude: 10.15984, \n            site: 40, \n            model_id: 3, \n            logger_id: 99, \n            date_deactivated: null\n        }\n    }, \n    {\n        presence: 0, \n        ts_updated: \"2019-06-07T07:55:35+00:00\", \n        last_data: \"2019-01-15T23:31:50+00:00\", \n        logger_id: 101, \n        diff_days: 142, \n        logger: {\n            longitude: 124.0183, \n            date_activated: \"2016-03-30\", \n            logger_name: \"pngta\", \n            latitude: 12.63063, \n            site: 41, \n            model_id: 6, \n            logger_id: 101, \n            date_deactivated: null\n        }\n    }, \n    {\n        presence: 0, \n        ts_updated: \"2019-06-07T07:55:35+00:00\", \n        last_data: \"2019-01-15T23:31:36+00:00\", \n        logger_id: 102, \n        diff_days: 142, \n        logger: {\n            longitude: 124.0183, \n            date_activated: \"2016-04-06\", \n            logger_name: \"pngtb\", \n            latitude: 12.63063, \n            site: 41, \n            model_id: 2, \n            logger_id: 102, \n            date_deactivated: null\n        }\n    }, \n    {\n        presence: 0, \n        ts_updated: \"2019-06-07T07:55:35+00:00\", \n        last_data: \"2019-01-02T18:30:58+00:00\", \n        logger_id: 103, \n        diff_days: 155, \n        logger: {\n            longitude: 124.0194, \n            date_activated: \"2016-04-06\", \n            logger_name: \"pngtc\", \n            latitude: 12.62992, \n            site: 41, \n            model_id: 2, \n            logger_id: 103, \n            date_deactivated: null\n        }\n    }, \n    {\n        presence: 0, \n        ts_updated: \"2019-06-07T07:55:35+00:00\", \n        last_data: \"2018-11-22T08:31:28+00:00\", \n        logger_id: 106, \n        diff_days: 196, \n        logger: {\n            longitude: 120.9248, \n            date_activated: \"2015-06-28\", \n            logger_name: \"sagta\", \n            latitude: 17.08263, \n            site: 43, \n            model_id: 6, \n            logger_id: 106, \n            date_deactivated: null\n        }\n    }, \n    {\n        presence: 0, \n        ts_updated: \"2019-06-07T07:55:35+00:00\", \n        last_data: \"2019-01-15T23:31:29+00:00\", \n        logger_id: 107, \n        diff_days: 142, \n        logger: {\n            longitude: 120.9249, \n            date_activated: \"2015-06-28\", \n            logger_name: \"sagtb\", \n            latitude: 17.08339, \n            site: 43, \n            model_id: 2, \n            logger_id: 107, \n            date_deactivated: null\n        }\n    }, \n    {\n        presence: 0, \n        ts_updated: \"2019-06-07T07:55:35+00:00\", \n        last_data: \"2018-02-25T19:00:00+00:00\", \n        logger_id: 108, \n        diff_days: 466, \n        logger: {\n            longitude: 126.3834, \n            date_activated: \"2015-10-15\", \n            logger_name: \"sibta\", \n            latitude: 7.82567, \n            site: 44, \n            model_id: 6, \n            logger_id: 108, \n            date_deactivated: null\n        }\n    }, \n    {\n        presence: 1, \n        ts_updated: \"2019-06-07T07:55:35+00:00\", \n        last_data: null, \n        logger_id: 111, \n        diff_days: 0, \n        logger: {\n            longitude: 120.7815, \n            date_activated: \"2016-09-26\", \n            logger_name: \"sinsa\", \n            latitude: 16.7234, \n            site: 45, \n            model_id: 22, \n            logger_id: 111, \n            date_deactivated: null\n        }\n    }, \n    {\n        presence: 0, \n        ts_updated: \"2019-06-07T07:55:35+00:00\", \n        last_data: \"2019-01-15T23:32:04+00:00\", \n        logger_id: 113, \n        diff_days: 142, \n        logger: {\n            longitude: 120.7813, \n            date_activated: \"2016-09-01\", \n            logger_name: \"sintb\", \n            latitude: 16.7234, \n            site: 45, \n            model_id: 23, \n            logger_id: 113, \n            date_deactivated: null\n        }\n    }, \n    {\n        presence: 0, \n        ts_updated: \"2019-06-07T07:55:35+00:00\", \n        last_data: \"2018-11-03T00:00:59+00:00\", \n        logger_id: 115, \n        diff_days: 216, \n        logger: {\n            longitude: 124.8597, \n            date_activated: \"2015-10-17\", \n            logger_name: \"sumta\", \n            latitude: 8.54511, \n            site: 46, \n            model_id: 6, \n            logger_id: 115, \n            date_deactivated: null\n        }\n    }, \n    {\n        presence: 0, \n        ts_updated: \"2019-06-07T07:55:35+00:00\", \n        last_data: \"2019-01-15T23:32:59+00:00\", \n        logger_id: 117, \n        diff_days: 142, \n        logger: {\n            longitude: 124.8591, \n            date_activated: \"2016-10-23\", \n            logger_name: \"sumtc\", \n            latitude: 8.54565, \n            site: 46, \n            model_id: 2, \n            logger_id: 117, \n            date_deactivated: null\n        }\n    }, \n    {\n        presence: 0, \n        ts_updated: \"2019-06-07T07:55:35+00:00\", \n        last_data: \"2019-01-15T23:30:42+00:00\", \n        logger_id: 118, \n        diff_days: 142, \n        logger: {\n            longitude: 124.3665, \n            date_activated: \"2016-03-03\", \n            logger_name: \"talsa\", \n            latitude: 11.63742, \n            site: 47, \n            model_id: 7, \n            logger_id: 118, \n            date_deactivated: null\n        }\n    }, \n    {\n        presence: 0, \n        ts_updated: \"2019-06-07T07:55:35+00:00\", \n        last_data: \"2019-01-15T23:31:59+00:00\", \n        logger_id: 119, \n        diff_days: 142, \n        logger: {\n            longitude: 124.3665, \n            date_activated: \"2016-03-07\", \n            logger_name: \"taltb\", \n            latitude: 11.63742, \n            site: 47, \n            model_id: 2, \n            logger_id: 119, \n            date_deactivated: null\n        }\n    }, \n    {\n        presence: 0, \n        ts_updated: \"2019-06-07T07:55:35+00:00\", \n        last_data: \"2019-01-15T23:30:59+00:00\", \n        logger_id: 120, \n        diff_days: 142, \n        logger: {\n            longitude: 121.3834, \n            date_activated: \"2016-06-11\", \n            logger_name: \"tgata\", \n            latitude: 17.57347, \n            site: 48, \n            model_id: 2, \n            logger_id: 120, \n            date_deactivated: null\n        }\n    }, \n    {\n        presence: 0, \n        ts_updated: \"2019-06-07T07:55:35+00:00\", \n        last_data: \"2019-01-15T23:30:23+00:00\", \n        logger_id: 121, \n        diff_days: 142, \n        logger: {\n            longitude: 121.3834, \n            date_activated: \"2016-06-01\", \n            logger_name: \"tgatb\", \n            latitude: 17.57347, \n            site: 48, \n            model_id: 6, \n            logger_id: 121, \n            date_deactivated: null\n        }\n    }, \n    {\n        presence: 0, \n        ts_updated: \"2019-06-07T07:55:35+00:00\", \n        last_data: \"2019-01-15T23:31:22+00:00\", \n        logger_id: 123, \n        diff_days: 142, \n        logger: {\n            longitude: 120.8286, \n            date_activated: \"2016-02-26\", \n            logger_name: \"tueta\", \n            latitude: 16.97229, \n            site: 49, \n            model_id: 2, \n            logger_id: 123, \n            date_deactivated: null\n        }\n    }, \n    {\n        presence: 0, \n        ts_updated: \"2019-06-07T07:55:35+00:00\", \n        last_data: \"2019-01-15T23:30:59+00:00\", \n        logger_id: 124, \n        diff_days: 142, \n        logger: {\n            longitude: 120.8287, \n            date_activated: \"2015-02-18\", \n            logger_name: \"tuetb\", \n            latitude: 16.97015, \n            site: 49, \n            model_id: 6, \n            logger_id: 124, \n            date_deactivated: null\n        }\n    }, \n    {\n        presence: 0, \n        ts_updated: \"2019-06-07T07:55:35+00:00\", \n        last_data: \"2017-12-15T01:30:00+00:00\", \n        logger_id: 125, \n        diff_days: 539, \n        logger: {\n            longitude: 122.32834, \n            date_activated: \"2016-05-11\", \n            logger_name: \"umig\", \n            latitude: 10.908361, \n            site: 50, \n            model_id: 31, \n            logger_id: 125, \n            date_deactivated: null\n        }\n    }, \n    {\n        presence: 1, \n        ts_updated: \"2019-06-07T07:55:35+00:00\", \n        last_data: null, \n        logger_id: 126, \n        diff_days: 0, \n        logger: {\n            longitude: 122.3278, \n            date_activated: \"2016-05-12\", \n            logger_name: \"umita\", \n            latitude: 10.90807, \n            site: 50, \n            model_id: 10, \n            logger_id: 126, \n            date_deactivated: null\n        }\n    }, \n    {\n        presence: 0, \n        ts_updated: \"2019-06-07T07:55:35+00:00\", \n        last_data: \"2019-01-05T15:00:59+00:00\", \n        logger_id: 128, \n        diff_days: 152, \n        logger: {\n            longitude: 125.127559, \n            date_activated: \"2017-04-26\", \n            logger_name: \"lipra\", \n            latitude: 10.226318, \n            site: 22, \n            model_id: 35, \n            logger_id: 128, \n            date_deactivated: null\n        }\n    }, \n    {\n        presence: 0, \n        ts_updated: \"2019-06-07T07:55:35+00:00\", \n        last_data: \"2018-12-13T11:30:58+00:00\", \n        logger_id: 129, \n        diff_days: 175, \n        logger: {\n            longitude: 125.126619, \n            date_activated: \"2017-04-26\", \n            logger_name: \"bolra\", \n            latitude: 10.298826, \n            site: 7, \n            model_id: 35, \n            logger_id: 129, \n            date_deactivated: null\n        }\n    }, \n    {\n        presence: 0, \n        ts_updated: \"2019-06-07T07:55:35+00:00\", \n        last_data: \"2017-09-21T21:15:00+00:00\", \n        logger_id: 130, \n        diff_days: 623, \n        logger: {\n            longitude: 122.467468, \n            date_activated: \"2017-04-26\", \n            logger_name: \"bayg\", \n            latitude: 14.18792, \n            site: 5, \n            model_id: 31, \n            logger_id: 130, \n            date_deactivated: null\n        }\n    },\n    {\n        presence: 0, \n        ts_updated: \"2019-06-07T07:55:35+00:00\", \n        last_data: \"2018-09-26T21:33:02+00:00\", \n        logger_id: 133, \n        diff_days: 253, \n        logger: {\n            longitude: 122.4676, \n            date_activated: \"2017-04-26\", \n            logger_name: \"baytc\", \n            latitude: 14.18832, \n            site: 5, \n            model_id: 10, \n            logger_id: 133, \n            date_deactivated: null\n        }\n    }, \n    {\n        presence: 0, \n        ts_updated: \"2019-06-07T07:55:35+00:00\", \n        last_data: \"2019-01-15T23:32:07+00:00\", \n        logger_id: 134, \n        diff_days: 142, \n        logger: {\n            longitude: 122.3115, \n            date_activated: \"2017-02-08\", \n            logger_name: \"blcta\", \n            latitude: 10.82815, \n            site: 6, \n            model_id: 2, \n            logger_id: 134, \n            date_deactivated: null\n        }\n    }, \n    {\n        presence: 0, \n        ts_updated: \"2019-06-07T07:55:35+00:00\", \n        last_data: \"2019-01-15T23:30:19+00:00\", \n        logger_id: 135, \n        diff_days: 142, \n        logger: {\n            longitude: 122.31132, \n            date_activated: \"2017-09-12\", \n            logger_name: \"blcpz\", \n            latitude: 10.82662, \n            site: 6, \n            model_id: 36, \n            logger_id: 135, \n            date_deactivated: null\n        }\n    }, \n    {\n        presence: 0, \n        ts_updated: \"2019-06-07T07:55:35+00:00\", \n        last_data: \"2019-01-15T23:30:04+00:00\", \n        logger_id: 138, \n        diff_days: 142, \n        logger: {\n            longitude: 122.4371, \n            date_activated: \"2017-11-15\", \n            logger_name: \"inag\", \n            latitude: 10.86882, \n            site: 18, \n            model_id: 31, \n            logger_id: 138, \n            date_deactivated: null\n        }\n    }, \n    {\n        presence: 0, \n        ts_updated: \"2019-06-07T07:55:35+00:00\", \n        last_data: \"2018-09-25T22:33:58+00:00\", \n        logger_id: 139, \n        diff_days: 254, \n        logger: {\n            longitude: 122.4362, \n            date_activated: \"2017-11-15\", \n            logger_name: \"inatb\", \n            latitude: 10.86991, \n            site: 18, \n            model_id: 10, \n            logger_id: 139, \n            date_deactivated: null\n        }\n    }, \n    {\n        presence: 0, \n        ts_updated: \"2019-06-07T07:55:35+00:00\", \n        last_data: \"2018-09-26T00:33:49+00:00\", \n        logger_id: 140, \n        diff_days: 254, \n        logger: {\n            longitude: 122.4371, \n            date_activated: \"2017-11-15\", \n            logger_name: \"inatc\", \n            latitude: 10.86882, \n            site: 18, \n            model_id: 10, \n            logger_id: 140, \n            date_deactivated: null\n        }\n    }, \n    {\n        presence: 0, \n        ts_updated: \"2019-06-07T07:55:35+00:00\", \n        last_data: \"2019-01-15T23:32:12+00:00\", \n        logger_id: 142, \n        diff_days: 142, \n        logger: {\n            longitude: 125.1279, \n            date_activated: \"2017-02-21\", \n            logger_name: \"bolta\", \n            latitude: 10.30199, \n            site: 7, \n            model_id: 2, \n            logger_id: 142, \n            date_deactivated: null\n        }\n    }, \n    {\n        presence: 0, \n        ts_updated: \"2019-06-07T07:55:35+00:00\", \n        last_data: \"2019-01-15T23:30:04+00:00\", \n        logger_id: 146, \n        diff_days: 142, \n        logger: {\n            longitude: 121.061436, \n            date_activated: \"2017-04-26\", \n            logger_name: \"phig\", \n            latitude: 14.650118, \n            site: 52, \n            model_id: 31, \n            logger_id: 146, \n            date_deactivated: null\n        }\n    },\n    {\n        presence: 0, \n        ts_updated: \"2019-06-07T07:55:35+00:00\", \n        last_data: \"2019-01-15T23:31:25+00:00\", \n        logger_id: 151, \n        diff_days: 142, \n        logger: {\n            longitude: 120.5706, \n            date_activated: \"2018-11-16\", \n            logger_name: \"pugra\", \n            latitude: 16.44655, \n            site: 42, \n            model_id: 35, \n            logger_id: 151, \n            date_deactivated: null\n        }\n    }, \n    {\n        presence: 0, \n        ts_updated: \"2019-06-07T07:55:35+00:00\", \n        last_data: \"2018-12-22T01:45:59+00:00\", \n        logger_id: 152, \n        diff_days: 167, \n        logger: {\n            longitude: 126.1676, \n            date_activated: \"2017-05-16\", \n            logger_name: \"gamra\", \n            latitude: 9.0101, \n            site: 13, \n            model_id: 35, \n            logger_id: 152, \n            date_deactivated: null\n        }\n    }, \n    {\n        presence: 0, \n        ts_updated: \"2019-06-07T07:55:35+00:00\", \n        last_data: \"2019-01-15T23:30:59+00:00\", \n        logger_id: 154, \n        diff_days: 142, \n        logger: {\n            longitude: 124.7526, \n            date_activated: \"2017-08-09\", \n            logger_name: \"imera\", \n            latitude: 11.90383, \n            site: 16, \n            model_id: 35, \n            logger_id: 154, \n            date_deactivated: null\n        }\n    }\n];\n","import React, { useState, useEffect, Fragment } from \"react\";\nimport {\n    TextField, Grid, makeStyles, Divider\n} from \"@material-ui/core\";\n\n// Form Related Imports\nimport MomentUtils from \"@date-io/moment\";\nimport { MuiPickersUtilsProvider, KeyboardDateTimePicker } from \"@material-ui/pickers\";\n\nimport FormControlLabel from \"@material-ui/core/FormControlLabel\";\nimport Radio from \"@material-ui/core/Radio\";\nimport RadioGroup from \"@material-ui/core/RadioGroup\";\nimport Checkbox from \"@material-ui/core/Checkbox\";\nimport Tooltip from \"@material-ui/core/Tooltip\";\n\nimport DynaslopeSiteSelectInputForm, { prepareSitesOption } from \"../../reusables/DynaslopeSiteSelectInputForm\";\nimport { sites } from \"../../../store\";\n\nconst sites_option = prepareSitesOption(sites);\n\nconst useStyles = makeStyles(theme => ({\n    inputGridContainer: {\n        marginTop: 6,\n        marginBottom: 6\n    },\n    checkboxGridContainer: {\n        marginTop: 12,\n        marginBottom: 6\n    },\n    selectInput: {\n        width: \"auto\",\n        [theme.breakpoints.down(\"xs\")]: {\n            width: \"250px\"\n        }\n    },\n    root: {\n        width: \"90%\",\n    },\n    backButton: {\n        marginRight: 1\n    },\n    instructions: {\n        marginTop: 1,\n        marginBottom: 1,\n    },\n    formControl: {\n        width: \"-webkit-fill-available\"\n    },\n    formLabel: {\n        display: \"flex\",\n        alignItems: \"center\",\n        justifyContent: \"space-between\",\n        width: \"100%\"\n    },\n    justify: {\n        display: \"flex\",\n        justifyContent: \"space-evenly\"\n    }\n}));\n\n\nfunction IssuesAndReminderForm (props) {\n    const {\n        issueReminderData,\n        setIssueReminderData, fullScreen,\n        toResolve\n    } = props;\n\n    const classes = useStyles();\n\n    const {\n        iar_id, detail, ts_expiration,\n        resolution, is_event_entry, site_id_list\n    } = issueReminderData; \n    const [default_radio_value, set_default_radio_value] = useState(\"general\");\n    const [radio_value, setRadioValue] = useState(default_radio_value);\n    const [is_general_iar, setIsGeneralIar] = useState(radio_value);\n    const [is_event_checked, setIsEventChecked] = useState(false);\n    const [is_persistent_checked, setIsPersistentChecked] = useState(false);\n\n    useEffect(() => {\n        setIsEventChecked(is_event_entry);\n\n        if (iar_id !== \"\" && typeof iar_id !== \"undefined\") {\n            const site_choices = site_id_list.map(site_id => {\n                return sites_option.filter(number => number.value === site_id).pop();\n            });\n\n            setIssueReminderData({\n                ...issueReminderData,\n                site_id_list: site_choices\n            });\n        }\n        \n        if (site_id_list !== null && typeof site_id_list !== \"undefined\" ) {\n            if (site_id_list.length > 0) {\n                set_default_radio_value(\"site\");\n                setRadioValue(\"site\");\n                setIsGeneralIar(\"site\");    \n            }           \n        }\n        \n        if (ts_expiration === null) {\n            setIsPersistentChecked(true);\n        }\n    }, []);\n\n    const handleRadioChange = event => {\n        const { target: { value } } = event;\n        setRadioValue(value);\n        setIsGeneralIar(value);\n    };\n\n    const handleDateTime = key => value => {\n        setIssueReminderData({\n            ...issueReminderData,\n            [key]: value  \n        });\n    };\n\n    const update_site_value = (value) => setIssueReminderData({\n        ...issueReminderData,\n        site_id_list: value  \n    });\n\n    const handleEventChange = key => event => {\n        const { value } = event.target;\n\n        setIssueReminderData({\n            ...issueReminderData,\n            [key]: value  \n        });\n    };\n\n    const switchHandler = event => {\n        const { value, checked } = event.target;\n\n        switch (value) {\n            case \"is_event_entry\": \n                setIsEventChecked(checked);\n                if (!checked) setIsPersistentChecked(false);\n                setIssueReminderData({\n                    ...issueReminderData,\n                    is_event_entry: checked\n                });\n                break;\n            case \"is_persistent\":\n                setIsPersistentChecked(checked);\n                setIssueReminderData({\n                    ...issueReminderData,\n                    is_persistent: checked\n                });\n                break;\n            default:\n                break;\n        }\n    };\n\n    return (\n        <MuiPickersUtilsProvider utils={MomentUtils}>\n            {\n                !toResolve ? (\n                    <Grid\n                        container\n                        spacing={1}\n                    >\n                        <Grid item xs={12}>\n                            <RadioGroup\n                                aria-label=\"position\"\n                                name=\"position\"\n                                value={radio_value}\n                                onChange={handleRadioChange}\n                                row\n                                className={fullScreen ? \"\" : classes.justify}\n                            >\n                                <FormControlLabel\n                                    value=\"general\"\n                                    control={<Radio color=\"primary\" />}\n                                    label=\"General issue/reminder\"\n                                    labelPlacement=\"end\"\n                               \n                                />\n                                <FormControlLabel\n                                    value=\"site\"\n                                    control={<Radio color=\"primary\" />}\n                                    label=\"Site-specific issue/reminder\"\n                                    labelPlacement=\"end\"\n                                          \n                                />\n                            </RadioGroup>\n                        </Grid>\n\n                        <Grid item xs={12}>\n                            <Divider style={{ marginBottom: 8 }} />\n                        </Grid>\n\n                        {\n                            is_general_iar === \"site\" && (\n                                <Fragment>\n                                    <Grid item xs={12}>\n                                        <DynaslopeSiteSelectInputForm \n                                            value={site_id_list}\n                                            changeHandler={update_site_value}\n                                            isMulti\n                                            includeAddressOnOptions={false}\n                                        />\n                                    </Grid>\n                                    <Grid item xs={12}>\n                                        <FormControlLabel\n                                            key=\"is_event_entry\"\n                                            control={\n                                                <Checkbox\n                                                    checked={is_event_checked}\n                                                    onChange={switchHandler}\n                                                    value=\"is_event_entry\"\n                                                    className={classes.checkboxes}\n                                                />\n                                            }\n                                            label={\n                                                <div>\n                                                    Related to current monitoring event <Tooltip\n                                                        title=\"Checking this will make the issue/reminder expire at the end of site(s) current monitoring event validity\"><strong>[?]</strong></Tooltip>\n                                                </div>\n                                            }\n                                            className=\"primary\"\n                                        />\n                                    </Grid>\n                                </Fragment>\n                            )\n                        }\n                        \n                        {\n                            (is_general_iar || !is_event_checked) && (\n                                <Fragment>\n                                    <Grid item xs={12} md={6} container justify=\"center\">\n                                        <FormControlLabel\n                                            key=\"is_persistent\"\n                                            control={\n                                                <Checkbox\n                                                    checked={is_persistent_checked}\n                                                    onChange={switchHandler}\n                                                    value=\"is_persistent\" \n                                                    className={classes.checkboxes}\n                                                />\n                                            }\n                                            label=\"Persistent reminder\"\n                                            className=\"primary\"\n                                        />\n                                    </Grid>\n                            \n                                    {\n                                        !is_persistent_checked ? (\n                                            <Grid item xs={12} md={6}>\n                                                <KeyboardDateTimePicker\n                                                    autoOk\n                                                    label=\"Issue/Reminder Expiration\"\n                                                    value={ts_expiration}\n                                                    onChange={handleDateTime(\"ts_expiration\")}\n                                                    ampm={false}\n                                                    format=\"YYYY-MM-DD HH:mm:ss\"\n                                                    mask=\"____-__-__ __:__:__\"\n                                                    clearable\n                                                />\n                                            </Grid>\n                                        ) : (\n                                            <Grid item md={6} />\n                                        )\n                                    }\n                                </Fragment>\n                            )\n                        }\n                    \n                        <Grid item xs={12}>\n                            <Divider style={{ margin: \"8px 0\" }} />\n                        </Grid>\n\n                        <Grid item xs={12}>\n                            <TextField\n                                required\n                                label=\"Details\"\n                                value={detail}\n                                onChange={handleEventChange(\"detail\")}\n                                placeholder=\"Enter detail\"\n                                multiline\n                                rowsMax={6}\n                                fullWidth\n                                className={classes.textField}\n                            />\n                        </Grid>\n                    \n                    </Grid>\n                ) : (\n                    <Grid container spacing={1}>\n                        <Grid item xs={12}>\n                            <TextField\n                                required\n                                label=\"Resolution\"\n                                value={resolution || \"\"}\n                                onChange={handleEventChange(\"resolution\")}\n                                placeholder=\"Enter resolution\"\n                                multiline\n                                rowsMax={6}\n                                fullWidth\n                                className={classes.textField}\n                            />\n                        </Grid>                        \n                    </Grid>\n                )\n            }\n        </MuiPickersUtilsProvider>           \n    );\n}\n\n\nexport default IssuesAndReminderForm;\n","import React, { useState, useEffect } from \"react\";\n\nimport {\n    Dialog, DialogTitle, DialogContent,\n    DialogContentText, DialogActions,\n    Button, withMobileDialog\n} from \"@material-ui/core\";\n\nimport moment from \"moment\";\n\nimport { insertIssuesAndRemindersViaPost } from \"./ajax\";\nimport IssuesAndReminderForm from \"./IssuesAndRemindersForm\";\n\n// Session Stuff\nimport { getCurrentUser } from \"../../sessions/auth\";\n\nconst default_state = {\n    detail: \"\",\n    iar_id: \"\",\n    site_id_list: null,\n    user_id: \"\",\n    postings: \"\",\n    resolution: null,\n    resolved_by: null,\n    ts_resolved: null,\n    ts_posted: moment().format(\"YYYY-MM-DD HH:mm:ss\"),\n    ts_expiration: null,\n    is_event_entry: false,\n    is_persistent: false\n};\n\nfunction IssuesAndReminderModal (props) {\n    const {\n        fullScreen, isOpen,\n        closeHandler, setIsIandRUpdateNeeded,\n        chosenIssueReminder, isIandRUpdateNeeded, toResolve,\n        setToRefresh, toRefresh\n    } = props;\n    const [issue_reminder_data, setIssueReminderData] = useState({});\n    \n    useEffect(() => {\n        if (isIandRUpdateNeeded) {\n            const chosenData = chosenIssueReminder;\n            const get_site_id_list = chosenIssueReminder.postings.map(row => row.site_id);\n            const event_ids = [];\n            chosenIssueReminder.postings.forEach(row => {\n                const { event: event_id } = row;\n                if (event_id !== null) event_ids.push(event_id);\n            });\n            chosenData.site_id_list = get_site_id_list;\n            chosenData.is_event_entry = event_ids.length > 0;\n            setIssueReminderData(chosenData);\n        } else {\n            setIssueReminderData(default_state);\n        }\n    }, [isOpen, chosenIssueReminder]);\n\n    const closeHandlerAction = () => {\n        setIsIandRUpdateNeeded(false);\n        closeHandler(false);\n    };\n\n    const handleSubmit = () => {\n        const { resolution } = issue_reminder_data;\n        const ts_now = moment().format(\"YYYY-MM-DD HH:mm:ss\");\n        let temp = {\n            ...issue_reminder_data,\n            ts_posted: ts_now\n        };\n\n        if (resolution !== \"\" && resolution !== null) {\n            const resolver_user_id = getCurrentUser().user_id;\n            temp = {\n                ...issue_reminder_data,\n                ts_resolved: ts_now,\n                resolved_by: resolver_user_id\n            };   \n        }\n\n        insertIssuesAndRemindersViaPost(temp, data => {\n            if (data && typeof toRefresh !== \"undefined\") {\n                setToRefresh(!toRefresh);\n            }\n        });\n        closeHandlerAction();  \n    };\n    \n    return (\n        <Dialog\n            fullWidth\n            fullScreen={fullScreen}\n            open={isOpen}\n            aria-labelledby=\"form-dialog-title\"\n\n        >\n            <DialogTitle id=\"form-dialog-title\">Issues and Reminder Form</DialogTitle>\n            <DialogContent>\n                <DialogContentText>\n                    Provide information to the following fields.\n                </DialogContentText>\n\n                <IssuesAndReminderForm\n                    issueReminderData={issue_reminder_data}\n                    setIssueReminderData={setIssueReminderData}\n                    fullScreen={fullScreen}\n                    toResolve={toResolve}\n                />\n            </DialogContent>\n            <DialogActions>\n                <Button onClick={closeHandlerAction} color=\"primary\">\n                    Cancel\n                </Button>\n                <Button color=\"secondary\" onClick={handleSubmit} disabled={false}>\n                    Submit\n                </Button>\n            </DialogActions>\n        </Dialog>\n    );\n}\n\nexport default withMobileDialog()(IssuesAndReminderModal);\n","import React, {\n    Fragment, useState, useEffect\n} from \"react\";\n\nimport {\n    Typography, GridList, \n    GridListTile, GridListTileBar, \n    IconButton, Tooltip,\n    Dialog, DialogContent, DialogTitle,\n    DialogActions, Button, DialogContentText,\n    makeStyles\n} from \"@material-ui/core\";\nimport InfoIcon from \"@material-ui/icons/InfoOutlined\";\n\nimport moment from \"moment\";\n\nimport IssuesAndReminderModal from \"./IssuesAndReminderModal\";\nimport { receiveIssuesAndReminders } from \"../../../websocket/monitoring_ws\";\n\nconst useStyles = makeStyles(theme => ({\n    inputGridContainer: {\n        marginTop: 8,\n        marginBottom: 8\n    },\n    selectInput: {\n        width: \"auto\",\n        [theme.breakpoints.down(\"xs\")]: {\n            width: \"250px\"\n        }\n    },\n    gridList: {\n        height: \"100vh\",\n        margin: \"0 !important\",\n        boxShadow: \"0px 2px 1px -1px rgba(0,0,0,0.2), 0px 1px 1px 0px rgba(0,0,0,0.14), 0px 1px 3px 0px rgba(0,0,0,0.12)\",\n        \"&::-webkit-scrollbar\": {\n            width: 5\n        },\n        \"&::-webkit-scrollbar-track\": {\n            boxShadow: \"inset 0 0 5px grey\"\n        },\n        \"&::-webkit-scrollbar-thumb\": {\n            background: \"rgba(127, 127, 127, 0.7)\"\n        },\n        position: \"sticky\",\n        top: 148,\n        padding: 8\n    },\n    hasNoIssues: {\n        display: \"flex\",\n        justifyContent: \"center\",\n        alignItems: \"center\",\n        background: \"gainsboro\",\n        border: \"4px solid #CCCCCC\"\n    },\n    icon: {\n        color: \"rgba(255, 255, 255, 0.54)\",\n    },\n    previewText: {\n        padding: \"12px\",\n        fontSize: \"14px\",\n        minHeight: 68\n    },\n    tile: {\n        border: \"0.5px solid #b2b2b2\",\n        padding: \"0 !important\",\n        marginBottom: 6,\n        \"&:last-of-type\": {\n            marginBottom: 0\n        }\n    },\n    tileBar: {\n        background: \"#7f7f7f\",\n        height: \"50px !important\"\n    }\n}));\n\nfunction IssuesAndReminderCard (props) {\n    const { \n        isCardModalOpen, chosenIssueReminder,\n        setCardModalOpen, setIsOpenIssueReminderModal,\n        setToResolve, setIsIandRUpdateNeeded\n    } = props;\n    const { site_list, ts_posted, detail, issue_reporter } = chosenIssueReminder;\n    const { first_name, last_name } = issue_reporter;\n\n    const item_title = prepareTileTitle(site_list, false);\n    const ts = moment(ts_posted).format(\"DD MMMM YYYY, HH:mm\");\n\n    const handleEdit = () => {\n        setCardModalOpen(false);\n        setToResolve(false);\n        setIsOpenIssueReminderModal(true);\n        setIsIandRUpdateNeeded(true);\n\n    };\n    const handleResolve = () => {\n        setCardModalOpen(false);\n        setToResolve(true);\n        setIsOpenIssueReminderModal(true);\n        setIsIandRUpdateNeeded(true);\n    };\n  \n    return (\n        <Dialog open={isCardModalOpen} maxWidth=\"sm\">\n            <DialogTitle style={{ paddingBottom: 8 }}>\n                <div style={{ display: \"flex\", alignItems: \"center\" }}>\n                    <InfoIcon style={{ paddingRight: 8 }} /> {item_title}\n                </div>\n            </DialogTitle>\n            <DialogContent>\n                <DialogContentText>{ts}</DialogContentText>\n                <DialogContentText style={{ textIndent: 40 }} align=\"justify\">{detail}</DialogContentText>\n                <DialogContentText align=\"right\" style={{ marginBottom: 0 }}>{`${first_name} ${last_name}`}</DialogContentText>\n            </DialogContent>\n            <DialogActions disableSpacing>\n                <Button onClick={handleEdit} color=\"primary\">\n                    Edit\n                </Button>\n                <Button onClick={handleResolve} color=\"secondary\">\n                    Resolve\n                </Button>\n                <Button onClick={() => setCardModalOpen(false)} color=\"primary\" autoFocus>\n                    Close\n                </Button>\n            </DialogActions>\n        </Dialog>\n    );\n}\n\nfunction prepareTileData (classes, processed_i_n_r, handleInfoExpand) {\n    return processed_i_n_r.map((tile, index) => {\n        const { \n            site_list, detail, \n            issue_reporter, iar_id\n        } = tile;\n        \n        const item_title = prepareTileTitle(site_list);\n        \n        return (\n            <GridListTile\n                key={`test ${index + 1}`}\n                cols={2}\n                className={classes.tile}\n            >\n                <Typography className={classes.previewText}>\n                    {detail}\n                </Typography>\n                <GridListTileBar\n                    className={classes.tileBar}\n                    title={`${iar_id} ${item_title}`}\n                    subtitle={`${issue_reporter.first_name} ${issue_reporter.last_name}`}\n                    actionIcon={\n                        <Tooltip title=\"Expand card\">\n                            <IconButton \n                                aria-label=\"Expand\"\n                                className={classes.icon}\n                                onClick={handleInfoExpand(tile)}\n                            >\n                                <InfoIcon />\n                            </IconButton>\n                        </Tooltip>\n                    }\n                />\n            </GridListTile>\n        );\n    });\n}\n\nfunction prepareTileTitle (site_list, to_caps_general) {\n    let item_title = to_caps_general ? \"GENERAL\" : \"General\";\n    if (site_list.length !== 0) {\n        item_title = site_list.join(\", \");\n    }\n    return item_title;\n}\n\nfunction includeSiteList (issues_and_reminders) {\n    const processed_i_n_r = issues_and_reminders.map((iar, index) => {\n        const site_id_list = [];\n        const site_list = [];\n        const site_events_list = [];\n\n        const is_persistent = iar.ts_expiration === null;\n\n        iar.postings.forEach(element => {\n            const { event_id, site_id, site } = element;\n            if (site_id !== null) {\n                site_id_list.push(site_id);\n                site_list.push(site.site_code.toUpperCase());\n                site_events_list.push(event_id);\n            }\n        });\n\n        const is_event_entry = site_events_list.length !== 0;\n\n        const new_iar = {\n            ...iar, \n            site_id_list,\n            site_list,\n            site_events_list,\n            is_event_entry,\n            is_persistent\n        };\n\n        return new_iar;\n    });\n\n    return processed_i_n_r;\n}\n\nfunction IssuesAndReminderList (props) {\n    const {\n        isOpenIssueReminderModal, setIsOpenIssueReminderModal,\n        isIandRUpdateNeeded, setIsIandRUpdateNeeded\n    } = props;\n\n    const classes = useStyles();\n\n    const [tile_data, setTileData] = useState([]);\n    const [has_active_issues, setHasActiveIssues] = useState(false);\n    const [chosenIssueReminder, setChosenIssueReminder] = useState({\n        site_list: [],\n        site_id_list: null,\n        ts_posted: null,\n        detail: \"\", issue_reporter: { first_name: \"\", last_name: \"\" }\n    });\n    const [is_card_modal_open, setCardModalOpen] = useState(false);\n    const [toResolve, setToResolve] = useState(false);\n\n    useEffect(() => {\n        receiveIssuesAndReminders(issues_and_reminders => {\n            setHasActiveIssues(false);\n            let final_tile_data = (\n                <Typography component=\"div\" style={{ fontStyle: \"italic\", width: \"auto\", height: 0 }}>\n                    No active issues\n                </Typography>\n            );\n\n            if (issues_and_reminders.length !== 0) {\n                const processed_i_n_r = includeSiteList(issues_and_reminders);\n                final_tile_data = prepareTileData(classes, processed_i_n_r, handleInfoExpand);\n                setHasActiveIssues(true);\n            }\n\n            setTileData(final_tile_data);\n        });\n    }, [classes]);\n\n    const handleInfoExpand = value => event => {\n        setChosenIssueReminder(value);\n        setCardModalOpen(true);\n       \n    };\n    const closeModal = () => {\n        setIsOpenIssueReminderModal(false);\n    };\n\n    return (\n        <Fragment>\n            <GridList component=\"div\" cellHeight=\"auto\" className={`${classes.gridList} ${!has_active_issues && classes.hasNoIssues}`}>\n                {tile_data}\n            </GridList>\n            \n            <IssuesAndReminderCard \n                isCardModalOpen={is_card_modal_open}\n                setCardModalOpen={setCardModalOpen}\n                chosenIssueReminder={chosenIssueReminder}\n                setToResolve={setToResolve}\n                setIsOpenIssueReminderModal={setIsOpenIssueReminderModal}\n                setIsIandRUpdateNeeded={setIsIandRUpdateNeeded}\n            />\n            \n            <IssuesAndReminderModal\n                isOpen={isOpenIssueReminderModal}\n                isIandRUpdateNeeded={isIandRUpdateNeeded}\n                chosenIssueReminder={chosenIssueReminder}\n                setIsIandRUpdateNeeded={setIsIandRUpdateNeeded}\n                toResolve={toResolve}\n                closeHandler ={closeModal}\n            \n            />\n        </Fragment>\n    );\n}\n\nexport default IssuesAndReminderList;\n","import React, { useState, useEffect, useContext } from \"react\";\nimport { Link } from \"react-router-dom\";\n\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Accordion from \"@material-ui/core/Accordion\";\nimport AccordionDetails from \"@material-ui/core/AccordionDetails\";\nimport AccordionSummary from \"@material-ui/core/AccordionSummary\";\nimport AccordionActions from \"@material-ui/core/AccordionActions\";\nimport Typography from \"@material-ui/core/Typography\";\nimport ExpandMoreIcon from \"@material-ui/icons/ExpandMore\";\nimport Button from \"@material-ui/core/Button\";\nimport Divider from \"@material-ui/core/Divider\";\nimport TodayIcon from \"@material-ui/icons/Today\";\nimport Grid from \"@material-ui/core/Grid\";\n\nimport moment from \"moment\";\n\nimport { MonitoringShiftsContext } from \"../../contexts/MonitoringShiftsContext\";\n\nconst useStyles = makeStyles((theme) => ({\n    summary: {\n        minHeight: 24\n    },\n    summaryContent: {\n        marginBottom: 6,\n        marginTop: 6\n    },\n    icon: {\n        paddingTop: 6,\n        paddingBottom: 6\n    },\n    details: { paddingTop: 16 }\n}));\n\n// This function returns a component displaying current shift and next 2 shifts\nfunction MonitoringShiftsPanel (props) {\n    const { monitoring_shifts: shiftData } = useContext(MonitoringShiftsContext);\n    const classes = useStyles();\n    const [shifts, setShifts] = useState([]);\n\n    useEffect(() => {\n        if (shiftData !== null && typeof shiftData !== \"undefined\") {\n            const data = shiftData.filter(row => {\n                if (moment(row.ts) > moment().subtract({ hours: 12 })) {\n                    return row;\n                }\n                return null;\n            });\n            const temp = data.slice(0, 3);\n            setShifts(temp);\n        }\n    }, [shiftData]);\n\n    const getShiftStatus = (ts => {\n        const now = moment();\n        const shift_start = moment(ts);\n        const shift_end = moment(ts).add(12, \"hours\");\n\n        if (now > shift_start && shift_start <= shift_end)\n            return \"Current\";\n\n        if (now.add(12, \"hours\") > shift_start)\n            return \"Next\";\n\n        if (now.add(24, \"hours\") > shift_start)\n            return shift_start.format(\"MMMM D, A (ddd)\");\n\n        return null;\n    });\n\n    return (\n        <Accordion defaultExpanded={false}>\n            <AccordionSummary\n                expandIcon={<ExpandMoreIcon />}\n                aria-controls=\"panel1c-content\"\n                id=\"panel1c-header\"\n                className={classes.summary}\n                IconButtonProps={{ className: classes.icon }}\n                classes={{ content: classes.summaryContent }}\n            >\n                <Grid container justify=\"space-between\" alignItems=\"baseline\">\n                    <Grid item xs>\n                        <Typography variant=\"caption\">\n                            <strong>MONITORING SHIFT</strong>\n                        </Typography>\n                    </Grid>\n\n                    {\n                        shifts.length > 0 && (\n                            <Grid \n                                item xs container\n                                justify=\"space-evenly\"\n                            >\n                                <Typography variant=\"overline\">\n                                    MT - {shifts[0].iompmt}\n                                </Typography>\n\n                                <Typography variant=\"overline\">\n                                    CT - {shifts[0].iompct}\n                                </Typography>\n                            </Grid>\n                        )\n                    }\n                </Grid>\n            </AccordionSummary>\n            <Divider />\n            <AccordionDetails>\n                <Grid container justify=\"space-evenly\" className={classes.details}>\n                    {\n                        shifts.length > 0 && shifts.map(row => (\n                            <Grid item xs={6} sm={4} key={row.ts}>\n                                <Typography variant=\"subtitle2\" align=\"center\">\n                                    <strong>{getShiftStatus(row.ts)}</strong>\n                                </Typography>\n                                <Typography variant=\"body2\" align=\"center\">        \n                                    {row.iompmt} (MT)\n                                </Typography>\n                                <Typography variant=\"body2\" align=\"center\" gutterBottom>        \n                                    {row.iompct} (CT)\n                                </Typography>\n                            </Grid>\n                        ))\n                    } \n                </Grid>\n            </AccordionDetails>\n            <Divider />\n            <AccordionActions>\n                <Link to=\"monitoring/shifts_and_reports/shifts\" style={{ textDecoration: \"none\" }}>\n                    <Button size=\"small\" color=\"primary\" startIcon={<TodayIcon />}>\n                        Go to Calendar\n                    </Button>\n                </Link>\n            </AccordionActions>\n        </Accordion>\n    );\n}\n\nexport default MonitoringShiftsPanel;\n","import React, { Fragment, useState } from \"react\";\nimport {\n    Grid, TextField, Button,\n    Divider, IconButton, Typography\n} from \"@material-ui/core\";\nimport { DeleteForever as DeleteIcon } from \"@material-ui/icons\";\nimport Tooltip from \"@material-ui/core/Tooltip\";\n\nimport MomentUtils from \"@date-io/moment\";\nimport { MuiPickersUtilsProvider, KeyboardDateTimePicker } from \"@material-ui/pickers\";\n\n// Widgets\nimport DynaslopeUserSelectInputForm from \"../../reusables/DynaslopeUserSelectInputForm\";\nimport SelectMultipleWithSuggest from \"../../reusables/SelectMultipleWithSuggest\";\nimport DynaslopeSiteSelectInputForm from \"../../reusables/DynaslopeSiteSelectInputForm\";\n\nfunction MomsInputFields (props) {\n    const {\n        momsEntry: moms_entry,\n        updateField: update_field,\n        isAddingNewInstance: is_adding_new_instance,\n        setIsNoneEntrySelected,\n        location, site_code\n    } = props;\n    // console.log(props);\n    const { moms, options } = moms_entry;\n    const { feature_type } = moms;\n    const is_none_entry = feature_type !== null && feature_type.label === \"None\";\n    setIsNoneEntrySelected(is_none_entry);\n\n    return (\n        <Grid container spacing={2}>\n            <Grid item xs={12} sm={6} md={6}>\n                <SelectMultipleWithSuggest\n                    label=\"Feature Type\"\n                    options={options.feature_type}\n                    value={moms.feature_type}\n                    changeHandler={update_field(\"feature_type\")}\n                    placeholder=\"Select feature type\"\n                    renderDropdownIndicator\n                    openMenuOnClick\n                />\n            </Grid>\n            \n            {\n                !is_none_entry && (\n                    <Grid item xs={12} container spacing={1}>\n                        <Tooltip \n                            title=\"Feature names are auto-generated. To add new MOMs feature name, choose (Add new instance)\"\n                            placement=\"top\"\n                            interactive\n                        >\n                            <Grid item xs={12} sm={6} md={6}>\n                                <SelectMultipleWithSuggest\n                                    label=\"Feature Name\"\n                                    options={options.feature_name.options}\n                                    isDisabled={options.feature_name.disabled}\n                                    value={moms.feature_name}\n                                    changeHandler={update_field(\"feature_name\")}\n                                    placeholder={options.feature_name.disabled ? \"Disabled\" : \"Select feature name\"}\n                                    renderDropdownIndicator\n                                    openMenuOnClick\n                                />\n                            </Grid>\n                        </Tooltip>\n                        {\n                            is_adding_new_instance && (\n                                <Grid item xs={12} sm={6} md={6}>\n                                    <TextField\n                                        label=\"Location\"\n                                        multiline\n                                        rowsMax=\"2\"\n                                        placeholder=\"Enter location of new instance\"\n                                        value={location}\n                                        onChange={update_field(\"location\")}\n                                        fullWidth\n                                        InputLabelProps={{\n                                            shrink: true,\n                                        }}\n                                    />\n                                </Grid>\n                            )\n                        }\n                    </Grid>\n                )\n            }\n\n            <Grid item xs={12} sm={6} md={6}>\n                <SelectMultipleWithSuggest\n                    label=\"Alert Level\"\n                    options={options.alert_level.options}\n                    isDisabled={options.alert_level.disabled}\n                    value={moms.alert_level}\n                    changeHandler={update_field(\"alert_level\")}\n                    placeholder={options.alert_level.disabled ? \"Disabled\" : \"Select alert level\"}\n                    renderDropdownIndicator\n                    openMenuOnClick\n                />\n            </Grid>\n\n            <Grid item xs={12} sm={6} md={6}>\n                <KeyboardDateTimePicker\n                    required\n                    autoOk\n                    label=\"Observance Timestamp\"\n                    value={moms.observance_ts}\n                    onChange={update_field(\"observance_ts\")}\n                    ampm={false}\n                    placeholder=\"2010/01/01 00:00\"\n                    format=\"YYYY/MM/DD HH:mm\"\n                    mask=\"____/__/__ __:__\"\n                    clearable\n                    disableFuture\n                    fullWidth\n                />\n            </Grid>\n\n            <Grid item xs={12} sm={6} md={6}>\n                <TextField\n                    label=\"Narrative\"\n                    multiline\n                    rowsMax=\"2\"\n                    placeholder=\"Enter report narrative\"\n                    value={moms.narrative}\n                    onChange={update_field(\"narrative\")}\n                    fullWidth\n                    InputLabelProps={{\n                        shrink: true,\n                    }}\n                />\n            </Grid>\n\n            <Grid item xs={12} sm={6} md={6}>\n                <DynaslopeUserSelectInputForm\n                    variant=\"standard\"\n                    label=\"Reporter\"\n                    div_id=\"reporter\"\n                    changeHandler={update_field(\"reporter\")}\n                    value={moms.reporter}\n                    isCommunityStaff=\"true\"\n                    site_code={site_code}\n                />\n            </Grid>\n\n            <Grid item xs={12} sm={6} md={6}>\n                <TextField\n                    label=\"Remarks\"\n                    multiline\n                    rowsMax=\"2\"\n                    placeholder=\"Enter expert's remarks\"\n                    value={moms.remarks}\n                    onChange={update_field(\"remarks\")}\n                    fullWidth\n                    InputLabelProps={{\n                        shrink: true,\n                    }}\n                />\n            </Grid>\n\n            <Grid item xs={12} sm={6} md={6}>\n                <DynaslopeUserSelectInputForm\n                    variant=\"standard\"\n                    label=\"Validator\"\n                    div_id=\"validator\"\n                    changeHandler={update_field(\"validator\")}\n                    value={moms.validator}\n                />\n            </Grid>\n        </Grid>\n    );\n}\n\nfunction MomsForm (props) {\n    const {\n        momsEntries, setMomsEntries,\n        selectSite, site, setSite\n    } = props;\n\n    const [isAddingNewInstance, setIsAddingNewInstance] = useState(false);\n    const [isNoneEntrySelected, setIsNoneEntrySelected] = useState(false);\n\n    const addInstanceFn = () => setMomsEntries({ action: \"ADD_INSTANCE\" });\n    const updateField = key => attribute => event => {\n        const group_1 = [\"feature_type\", \"feature_name\", \"alert_level\", \"observance_ts\"];\n        const group_2 = [\"narrative\", \"remarks\", \"reporter\", \"validator\", \"location\"];\n        let value = \"\";\n\n        if (attribute === \"feature_name\") {\n            if (event.label === \"(Add new instance)\") setIsAddingNewInstance(true);\n            else setIsAddingNewInstance(false);\n        }\n\n        if (group_1.includes(attribute)) {\n            value = event;\n        } else if (group_2.includes(attribute)) {\n            const { value: v } = event.target;\n            value = v;\n        }\n\n        setMomsEntries({\n            action: \"UPDATE_DETAILS\",\n            key,\n            attribute,\n            value\n        });\n    };\n    const deleteInstanceFn = key => () => setMomsEntries({ action: \"DELETE_INSTANCE\", key });\n\n    return (\n        <Fragment>\n            {\n                selectSite && (\n                    <div style={{ marginBottom: 12 }}>\n                        <DynaslopeSiteSelectInputForm\n                            value={site}\n                            changeHandler={value => setSite(value)}\n                        />\n                    </div>\n                )\n            }\n\n            {\n                site !== null && (\n                    <Fragment>\n                        <MuiPickersUtilsProvider utils={MomentUtils}>\n                            {\n                                momsEntries.map((entry, key) => {\n                                    const is_first = key === 0;\n                                    const is_last = momsEntries.length === key + 1;\n\n                                    return (\n                                        <Fragment key={`moms_${key}`}>\n                                            <div style={{ \n                                                display: \"flex\", \n                                                justifyContent: \"space-between\", \n                                                alignItems: \"center\",\n                                                paddingBottom: is_first ? 12 : 0\n                                            }}>\n                                                <Typography variant=\"subtitle2\">Entry Number {key + 1}</Typography>\n\n                                                {\n                                                    !is_first && (\n                                                        <IconButton \n                                                            aria-label=\"delete\" \n                                                            color=\"primary\"\n                                                            onClick={deleteInstanceFn(key)}\n                                                        >\n                                                            <DeleteIcon />\n                                                        </IconButton>\n                                                    )\n                                                }\n                                            </div>\n\n                                            <MomsInputFields \n                                                momsEntry={entry}\n                                                updateField={updateField(key)}\n                                                isAddingNewInstance={isAddingNewInstance}\n                                                setIsNoneEntrySelected={setIsNoneEntrySelected}\n                                                site_code={site.data.site_code}\n                                            />\n\n                                            {\n                                                !is_last && (\n                                                    <Divider\n                                                        style={{ margin: \"24px 0 12px\" }}\n                                                        variant=\"middle\"\n                                                    />\n                                                )\n                                            }\n                                        </Fragment>\n                                    );\n                                })\n                            }\n                        </MuiPickersUtilsProvider>\n\n                        {\n                            !isNoneEntrySelected && (\n                                <div style={{ margin: \"16px 0\", textAlign: \"right\" }}>\n                                    <Button\n                                        variant=\"contained\"\n                                        color=\"primary\"\n                                        size=\"small\"\n                                        onClick={addInstanceFn}\n                                    >\n                                        Add MOMs Observation\n                                    </Button>\n                                </div>\n                            )\n                        }\n                    </Fragment>\n                )\n            }\n        </Fragment>\n    );\n}\n\nexport default MomsForm;","import { capitalizeFirstLetter } from \"../../../UtilityFunctions\";\n\nconst moms_entry = {\n    moms: {\n        feature_type: null,\n        feature_name: null,\n        alert_level: null,\n        observance_ts: null,\n        narrative: \"\",\n        reporter: \"\",\n        remarks: \"\",\n        validator: \"\",\n        location: \"\"\n    }, \n    options: {\n        feature_type: [],\n        feature_name: {\n            options: [],\n            disabled: true\n        },\n        alert_level: {\n            options: [],\n            disabled: true\n        }\n    }\n};\n\nfunction reducerFunction (state, payload) {\n    const { action, key, attribute, value } = payload;\n    const new_state = JSON.parse(JSON.stringify(state));\n\n    switch (action) {\n        case \"OVERWRITE\":\n            return [\n                ...value\n            ];\n        case \"ADD_INSTANCE\":\n            return [\n                ...state,\n                JSON.parse(JSON.stringify(moms_entry))\n            ];\n        case \"DELETE_INSTANCE\":\n            new_state.splice(key, 1);\n\n            return [...new_state];\n        case \"UPDATE_DETAILS\":\n            new_state[key].moms[attribute] = value;\n\n            if (attribute === \"feature_type\") {\n                const { instances, alerts } = value;\n\n                const instances_opt = instances.map(ins => {\n                    const { instance_id, feature_name } = ins;\n                    const cap = capitalizeFirstLetter(feature_name);\n                    return { value: instance_id, label: cap }; \n                });\n                // LOUIE ADDS Add new instance option\n                instances_opt.push({ value: 0, label: \"(Add new instance)\" });\n\n                const alerts_opt = alerts.map(al => {\n                    const { feature_alert_id, alert_level, description } = al;\n                    return { value, feature_alert_id, label: alert_level, description };\n                });\n\n                const { moms, options } = new_state[key];\n\n                new_state[key].options = {\n                    ...options,\n                    feature_name: {\n                        options: instances_opt,\n                        disabled: false\n                    },\n                    alert_level: {\n                        options: alerts_opt,\n                        disabled: false\n                    },\n                };\n\n                new_state[key].moms = {\n                    ...moms,\n                    feature_name: null,\n                    alert_level: null\n                };\n            }\n\n            return [...new_state];\n        default:\n            return state;\n    }\n}\n\nexport { moms_entry, reducerFunction };","import axios from \"axios\";\nimport { host } from \"../../../config\";\n\n\nexport function insertMomsToDB (moms_list, callback, err_callback) {\n    const api_link = `${host}/api/manifestations_of_movement/write_monitoring_moms_to_db`;\n\n    console.log(\"moms_list\", moms_list);\n\n    axios.post(api_link, moms_list)\n    .then((response) => {\n        const { data } = response; \n        if (callback !== null) {\n            console.log(\"Moms Insert result\", data);\n            callback(data);\n        } \n    })\n    .catch((error) => {\n        console.log(error);\n        if (err_callback !== null) {\n            err_callback(error);\n        }\n    });\n}\n\nexport function getMOMsFeatures (site_code, callback) {\n    const api_link = `${host}/api/manifestations_of_movement/get_moms_features/${site_code}`;\n\n    axios.get(api_link)\n    .then(response => {\n        const { data } = response;\n        console.log(\"MOMs Features\", data);\n        callback(data);\n    })\n    .catch(error => {\n        console.error(error);\n    });\n}","import React, { useState, useEffect, useReducer, useContext } from \"react\";\nimport moment from \"moment\";\nimport {\n    Dialog, DialogTitle, DialogContent,\n    DialogContentText, DialogActions,\n    Button, withMobileDialog, Typography,\n    makeStyles, Grid\n} from \"@material-ui/core\";\n\nimport { useSnackbar } from \"notistack\";\nimport MomsForm from \"./MomsForm\";\nimport { reducerFunction, moms_entry } from \"./state_handlers\";\nimport { insertMomsToDB, getMOMsFeatures } from \"./ajax\";\nimport { getCurrentUser } from \"../../sessions/auth\";\nimport { sendWSMessage } from \"../../../websocket/monitoring_ws\";\nimport { capitalizeFirstLetter } from \"../../../UtilityFunctions\";\nimport { GeneralContext } from \"../../contexts/GeneralContext\";\n\nconst useStyles = makeStyles(theme => ({\n    form_message_style: {\n        color: \"red\",\n        fontStyle: \"italic\"\n    }\n}));\n\nfunction momsFormValidation (moms_entries) {\n    let has_duplicate_feature_name = false;\n    let has_duplicate_obs_ts = false;\n    let empty_fields = new Set();\n    const feature_name_collection = [];\n    const observance_ts_collection = [];\n    let form_messsage = \"\";\n    let button_state;\n\n    moms_entries.forEach((row, index) => {\n        const { moms } = row;\n        const {\n            alert_level, feature_type, narrative,\n            observance_ts, remarks, reporter, validator\n        } = moms;\n        let { feature_name, location } = moms;\n        \n        const moment_obs_ts = moment(observance_ts).format(\"YYYY-MM-DD HH:mm:00\");\n\n        if (feature_type !== null) {\n            const { value: feature_type_value } = feature_type;\n            if (feature_type_value === 9) {\n                feature_name = \"value\";\n            }\n        }\n\n        if (feature_name !== null) {\n            const { value: feature_name_value } = feature_name;\n            if (feature_name_collection.includes(feature_name_value)) {\n                if (has_duplicate_feature_name === false) {\n                    has_duplicate_feature_name = true;\n                }\n            } else {\n                feature_name_collection.push(feature_name_value);\n            }\n            if (feature_name_value === 0) {\n                if (location === undefined) {\n                    location = \"\";\n                }\n            } else {\n                location = \"value\";\n            }\n        }\n        \n        if (has_duplicate_feature_name === true || moment_obs_ts !== \"Invalid date\") {\n            if (observance_ts_collection.includes(moment_obs_ts)) {\n                if (has_duplicate_obs_ts === false) {\n                    has_duplicate_obs_ts = true;\n                }\n            } else {\n                observance_ts_collection.push(moment_obs_ts);\n            }\n        } \n\n        if (feature_type === null) {\n            empty_fields.add(\"feature type\");\n        }\n\n        if (feature_name === null) {\n            empty_fields.add(\"feature name\");\n        }  \n\n        if (location === \"\") {\n            empty_fields.add(\"location\");\n        }\n\n        if (alert_level === null) {\n            empty_fields.add(\"alert level\");\n        }\n\n        if (observance_ts === null) {\n            empty_fields.add(\"observance timestamp\");\n        } \n        \n        if (narrative === \"\") {\n            empty_fields.add(\"narrative\");\n        }\n\n        if (reporter === \"\") {\n            empty_fields.add(\"reporter\");\n        }\n\n        if (remarks === \"\") {\n            empty_fields.add(\"remarks\");\n        }\n\n        if (validator === \"\") {\n            empty_fields.add(\"validator\");\n        }\n        \n    });\n\n    empty_fields = [...empty_fields];\n\n    if (has_duplicate_feature_name === false) has_duplicate_obs_ts = false;\n    \n    if (empty_fields.length !== 0 || has_duplicate_obs_ts === true) {\n        button_state = true;\n        form_messsage = `Please input ${empty_fields.join(\", \")} form(s). `;\n        if (has_duplicate_obs_ts) {\n            form_messsage += `Duplicate observance time for the same feature instance.`;\n        }\n    } else {\n        button_state = false;\n    }\n\n    return { button_state, form_messsage };\n}\n\nfunction MomsInsertModal (props) {\n    const {\n        fullScreen, isOpen,\n        closeHandler, match\n    } = props;\n    const classes = useStyles();\n    const { sites } = useContext(GeneralContext);\n\n    const [site, setSite] = useState(null);\n    const [site_code, setSiteCode] = useState(null);\n    const [to_select_site, setToSelectSite] = useState(true);\n    const [moms_entries, setMomsEntries] = useReducer(reducerFunction, []);\n    const [submit_button_state, setSubmitButtonState] = useState(false);\n    const [moms_form_message, setMomsFormMessage] = useState(\"\");\n\n    useEffect(() => {\n        if (typeof match !== \"undefined\") {\n            const { params: { site_code: sc } } = match;\n            setToSelectSite(false);\n            setSiteCode(sc);\n        } \n    }, [match]);\n    \n    useEffect(() => {\n        const row = sites.find(x => x.site_code === site_code);\n        if (row) setSite({ value: row.site_id, data: row });\n    }, [sites, site_code]);\n\n    const { enqueueSnackbar, closeSnackbar } = useSnackbar();\n    const snackBarActionFn = key => {\n        return (<Button\n            color=\"primary\"\n            onClick={() => { closeSnackbar(key); }}\n        >\n            Dismiss\n        </Button>);\n    };\n    \n    const [moms_feature_types, setMomsFeatureTypes] = useState([]);\n    useEffect(() => {\n        if (site !== null) {\n            getMOMsFeatures(site.data.site_code, data => {\n                const feature_types = data.map(feat => {\n                    const { feature_id, feature_type, instances, alerts } = feat;\n                    const cap = capitalizeFirstLetter(feature_type);\n                    return { value: feature_id, label: cap, instances, alerts }; \n                });\n\n                setMomsFeatureTypes({ ...moms_feature_types, feature_type: feature_types });\n\n                const moms_entry_copy = moms_entry;\n                moms_entry_copy.options.feature_type = feature_types;\n\n                const is = [moms_entry_copy];\n                setMomsEntries({ action: \"OVERWRITE\", value: is });\n            });\n        }\n    }, [site]);\n\n    useEffect(() => {\n        // console.log(moms_entries);\n        const { button_state, form_messsage } = momsFormValidation(moms_entries);\n        setSubmitButtonState(button_state);\n        setMomsFormMessage(form_messsage);\n    }, [moms_entries]);\n\n    const handleSubmit = () => {\n        console.log(\"moms_entries\", moms_entries);\n\n        const moms_list = moms_entries.map(({ moms }, index) => {\n            const {\n                alert_level, feature_name, feature_type,\n                narrative, observance_ts, remarks,\n                reporter, validator, location\n            } = moms;\n\n            const moment_obs_ts = moment(observance_ts).format(\"YYYY-MM-DD HH:mm:ss\");\n            const current_user = getCurrentUser();\n            const { label: f_type } = feature_type;\n\n            let f_name = \"None\";\n            let instance_id = null;\n            if (f_type !== \"None\") {\n                const { value: val, label } = feature_name;\n                f_name = label === \"(Add new instance)\" ? null : label;\n                instance_id = val;\n            }\n\n            return \t{\n                alert_level: alert_level.label,\n                instance_id,\n                feature_name: f_name,\n                feature_type: f_type,\n                report_narrative: narrative,\n                observance_ts: moment_obs_ts,\n                remarks,\n                reporter_id: reporter,\n                validator_id: validator,\n                location,\n                iomp: current_user.user_id\n            };\n        });\n\n        const { data: { site_code: sc } } = site;\n        const payload = {\n            moms_list,\n            site_code: sc\n        };\n\n        console.log(\"PAYLOAD\", payload);\n\n        closeHandler();\n        insertMomsToDB(payload, response => {\n            let message = \"MOMs input success!\";\n            let variant = \"success\";\n            if (response.status) {\n                sendWSMessage(\"run_alert_generation\", { site_code: sc });\n            } else {\n                const { message: msg } = response;\n                message = msg;\n                variant = \"error\";\n            }\n\n            enqueueSnackbar(\n                message, \n                {\n                    variant,\n                    autoHideDuration: 7000,\n                    action: snackBarActionFn\n                }\n            );\n        }, () => {\n            enqueueSnackbar(\n                \"Error MOMS input...\",\n                {\n                    variant: \"error\",\n                    autoHideDuration: 7000,\n                    action: snackBarActionFn\n                }\n            );\n        });\n    };\n\n    return (\n        <Dialog\n            fullWidth\n            fullScreen={fullScreen}\n            open={isOpen}\n            maxWidth=\"sm\"\n            aria-labelledby=\"form-dialog-title\"\n        >\n            <DialogTitle id=\"form-dialog-title\">Insert Manifestation of Movement Data Form</DialogTitle>\n            <DialogContent>\n                <DialogContentText>\n                    Provide manifestation of movement (MOMs) details to save information in our database.\n                </DialogContentText>\n\n                <MomsForm\n                    momsEntries={moms_entries}\n                    setMomsEntries={setMomsEntries}\n                    site={site}\n                    setSite={setSite}\n                    selectSite={to_select_site}\n                />\n            </DialogContent>\n            <DialogActions>\n                <Grid container spacing={2} justify=\"center\" alignItems=\"center\">\n                    <Grid item xs={12} sm={8} align=\"center\">\n                        <Typography\n                            variant=\"caption\"\n                            className={classes.form_message_style}\n                            gutterBottom\n                        >\n                            {moms_form_message}\n                        </Typography>\n                    </Grid>\n                    <Grid item xs={12} sm={4} align=\"right\">\n                        <Button onClick={closeHandler} color=\"primary\">\n                            Cancel\n                        </Button>\n                        <Button \n                            onClick={handleSubmit}\n                            color=\"primary\"\n                            disabled={submit_button_state}>\n                            Submit\n                        </Button>\n                    </Grid>\n                </Grid>\n            </DialogActions>\n        </Dialog>\n    );\n}\n\nexport default withMobileDialog()(MomsInsertModal);\n","import React, { Fragment, useState } from \"react\";\nimport {\n    Grid, TextField,\n    Radio, FormControl, FormLabel,\n    RadioGroup, FormControlLabel, CircularProgress\n} from \"@material-ui/core\";\n\nimport MomentUtils from \"@date-io/moment\";\nimport { MuiPickersUtilsProvider, KeyboardDateTimePicker } from \"@material-ui/pickers\";\n\n// Widgets\nimport DynaslopeUserSelectInputForm from \"../../reusables/DynaslopeUserSelectInputForm\";\nimport DynaslopeSiteSelectInputForm from \"../../reusables/DynaslopeSiteSelectInputForm\";\n\nfunction OnDemandForm (props) {\n    const {\n        selectSite, site, setSite,\n        alertLevel, setAlertLevel,\n        requestTs, setRequestTs,\n        reason, setReason,\n        reporter, setReporter,\n        techInfo, setTechInfo,\n        loading, hasOnDemand\n    } = props;\n\n    const initial_label = { label: \"Reason\", holder: \"Enter reason (will appear on timeline)\" };\n    const [reason_label, setReasonLabel] = useState(initial_label);\n    const handleChange = event => {\n        const { value } = event.target;\n        setAlertLevel(value);\n        let label = initial_label;\n        if (value === \"0\") {\n            label = { label: \"Remarks\", holder: \"Enter remarks (will appear on timeline)\" };\n            setTechInfo(\"\");\n        }\n        setReasonLabel(label);\n    };\n\n    return (\n        <Fragment>\n            {\n                selectSite && (\n                    <div style={{ marginBottom: 12 }}>\n                        <DynaslopeSiteSelectInputForm\n                            value={site}\n                            changeHandler={value => setSite(value)}\n                        />\n                    </div>\n                )\n            }\n\n            {\n                loading && <Grid container justify=\"center\"><CircularProgress /></Grid>\n            }\n\n            {\n                site !== null && !loading && (\n                    <Fragment>\n                        <FormControl component=\"fieldset\" style={{ display: \"flex\", marginTop: 16 }}>\n                            <FormLabel component=\"legend\" style={{ textAlign: \"center\", marginBottom: 8 }}>\n                                Choose alert level\n                            </FormLabel>\n\n                            <RadioGroup \n                                aria-label=\"choose_alert_level\"\n                                name=\"choose_alert_level\"\n                                value={alertLevel}\n                                onChange={handleChange}\n                                row\n                                style={{ justifyContent: \"space-around\" }}\n                            >\n                                <FormControlLabel\n                                    value=\"1\"\n                                    control={<Radio color=\"primary\"/>}\n                                    label=\"Raise/Extend (d1)\"\n                                    key=\"d1\"\n                                />\n\n                                {\n                                    hasOnDemand && <FormControlLabel\n                                        value=\"0\"\n                                        control={<Radio color=\"primary\"/>}\n                                        label=\"Lower/End (d)\"\n                                        key=\"d\"\n                                    />\n                                }\n                            </RadioGroup>\n                        </FormControl>\n\n                        <Grid container spacing={1}>\n                            <Grid item xs={12} sm={6} md={6}>\n                                <MuiPickersUtilsProvider utils={MomentUtils}>\n                                    <KeyboardDateTimePicker\n                                        required\n                                        autoOk\n                                        label=\"Timestamp\"\n                                        value={requestTs}\n                                        onChange={val => setRequestTs(val)}\n                                        ampm={false}\n                                        placeholder=\"2010/01/01 00:00\"\n                                        format=\"YYYY/MM/DD HH:mm\"\n                                        mask=\"____/__/__ __:__\"\n                                        clearable\n                                        disableFuture\n                                        fullWidth\n                                    />\n                                </MuiPickersUtilsProvider>\n                            </Grid>\n\n                            {\n                                alertLevel === \"1\" && (\n                                    <Grid item xs={12} sm={6} md={6}>\n                                        <TextField\n                                            label=\"Technical Information\"\n                                            multiline\n                                            rowsMax=\"2\"\n                                            placeholder=\"This will appear on the EWI bulletin\"\n                                            value={techInfo}\n                                            onChange={event => setTechInfo(event.target.value)}\n                                            fullWidth\n                                            required\n                                        />\n                                    </Grid>\n                                )\n                            }\n                            \n                            <Grid item xs={12} sm={6} md={6}>\n                                <TextField\n                                    label={reason_label.label}\n                                    multiline\n                                    rowsMax=\"2\"\n                                    placeholder={reason_label.holder}\n                                    value={reason}\n                                    onChange={event => setReason(event.target.value)}\n                                    fullWidth\n                                    required\n                                />\n                            </Grid>\n\n                            <Grid item xs={12} sm={6} md={6}>\n                                <DynaslopeUserSelectInputForm\n                                    variant=\"standard\"\n                                    label=\"Reporter\"\n                                    div_id=\"reporter\"\n                                    changeHandler={event => setReporter(event.target.value)}\n                                    value={reporter}\n                                    isCommunityStaff=\"true\"\n                                    site_code={site.data.site_code}\n                                />\n                            </Grid>\n                        </Grid>\n                    </Fragment>\n                )\n            }\n            \n        </Fragment>\n    );\n}\n\nexport default OnDemandForm;","import React, { useState, useEffect, useContext } from \"react\";\n\nimport {\n    Dialog, DialogTitle, DialogContent,\n    DialogContentText, DialogActions,\n    Button, withMobileDialog,\n} from \"@material-ui/core\";\n\nimport moment from \"moment\";\nimport { useSnackbar } from \"notistack\";\n\nimport OnDemandForm from \"./OnDemandForm\";\nimport { insertOnDemandToDb, checkLatestSiteEventIfHasOnDemand } from \"./ajax\";\nimport { sendWSMessage } from \"../../../websocket/monitoring_ws\";\nimport { GeneralContext } from \"../../contexts/GeneralContext\";\n\nfunction OnDemandInsertModal (props) {\n    const {\n        fullScreen, isOpen,\n        closeHandler, match\n    } = props;\n    const { sites } = useContext(GeneralContext);\n\n    const [site, setSite] = useState(null);\n    const [site_code, setSiteCode] = useState(null);\n    const [to_select_site, setToSelectSite] = useState(true);\n    const [submit_button_state, setSubmitButtonState] = useState(false);\n    const [tech_info, setTechInfo] = useState(\"\");\n    const [alert_level, setAlertLevel] = useState(\"1\");\n    const [request_ts, setRequestTs] = useState(null);\n    const [reason, setReason] = useState(\"\");\n    const [reporter_id, setReporter] = useState(\"\");\n    const [loading, setLoading] = useState(false);\n    const [has_on_demand, setHasOnDemand] = useState(false);\n\n    useEffect(() => {\n        if (typeof match !== \"undefined\") {\n            const { params: { site_code: sc } } = match;\n            setToSelectSite(false);\n            setSiteCode(sc);\n        } \n    }, [match]);\n    \n    useEffect(() => {\n        const row = sites.find(x => x.site_code === site_code);\n        if (row) setSite({ value: row.site_id, data: row });\n    }, [sites, site_code]);\n\n    useEffect(() => {\n        setReporter(\"\");\n        if (site) {\n            setLoading(true);\n            checkLatestSiteEventIfHasOnDemand(site.value, result => {\n                setHasOnDemand(result.has_on_demand);\n                setLoading(false);\n            });\n        }\n    }, [site]);\n\n    const { enqueueSnackbar, closeSnackbar } = useSnackbar();\n    const snackBarActionFn = key => {\n        return (<Button\n            color=\"primary\"\n            onClick={() => { closeSnackbar(key); }}\n        >\n            Dismiss\n        </Button>);\n    };\n\n    const clearFields = () => {\n        setSite(null);\n        setSiteCode(null);\n        setToSelectSite(true);\n        setSubmitButtonState(false);\n        setTechInfo(\"\");\n        setAlertLevel(\"1\");\n        setRequestTs(null);\n        setReason(\"\");\n        setReporter(\"\");\n    };\n\n    useEffect(() => {\n        let button_state = request_ts === null || reason === \"\" || reporter_id === \"\";\n        if (alert_level === \"1\") {\n            button_state = button_state || tech_info === \"\";\n        }\n        setSubmitButtonState(button_state);\n    }, [request_ts, reason, reporter_id, tech_info, alert_level]);\n\n    const handleSubmit = () => {\n        closeHandler();\n\n        const on_demand_data = {\n            tech_info,\n            alert_level,\n            reason,\n            reporter_id,\n            request_ts: moment(request_ts).format(\"YYYY-MM-DD HH:mm:ss\"),\n            site_id: site.value\n        };\n        \n        insertOnDemandToDb(on_demand_data, response => {\n            const { status, message } = response;\n            let variant = \"success\";\n            if (status) {\n                clearFields();\n                sendWSMessage(\"run_alert_generation\", { site_code: site.data.site_code });\n            } else {\n                variant = \"error\";\n            }\n\n            enqueueSnackbar(\n                message, \n                {\n                    variant,\n                    autoHideDuration: 4000,\n                    action: snackBarActionFn\n                }\n            );\n        });\n    };\n\n    return (\n        <Dialog\n            fullWidth\n            fullScreen={fullScreen}\n            open={isOpen}\n            maxWidth=\"sm\"\n            aria-labelledby=\"form-dialog-title\"\n        >\n            <DialogTitle id=\"form-dialog-title\">Insert On-Demand Data Form</DialogTitle>\n            <DialogContent>\n                <DialogContentText>\n                    Provide on demand details to save information in our database.\n                </DialogContentText>\n\n                <OnDemandForm\n                    site={site}\n                    setSite={setSite}\n                    selectSite={to_select_site}\n                    alertLevel={alert_level}\n                    setAlertLevel={setAlertLevel}\n                    setRequestTs={setRequestTs}\n                    setReason={setReason}\n                    setReporter={setReporter}\n                    setTechInfo={setTechInfo}\n                    reason={reason}\n                    requestTs={request_ts}\n                    reporter={reporter_id}\n                    tecchInfo={tech_info}\n                    loading={loading}\n                    hasOnDemand={has_on_demand}\n                />\n            </DialogContent>\n            <DialogActions>\n                <Button onClick={closeHandler} color=\"primary\">\n                    Cancel\n                </Button>\n                <Button \n                    onClick={handleSubmit}\n                    color=\"primary\"\n                    disabled={submit_button_state}>\n                    Submit\n                </Button>\n            </DialogActions>\n        </Dialog>\n    );\n}\n\nexport default withMobileDialog()(OnDemandInsertModal);\n","import axios from \"axios\";\nimport { host } from \"../../../config\";\nimport { makeGETAxiosRequest } from \"../../../UtilityFunctions\";\n\n// eslint-disable-next-line import/prefer-default-export\nexport function insertOnDemandToDb (on_demand_data, callback) {\n    const api_link = `${host}/api/monitoring/save_on_demand_data`;\n\n    axios.post(api_link, on_demand_data)\n    .then((response) => {\n        const { data } = response; \n        if (callback !== null) {\n            console.log(\"On Demand Insert result\", data);\n            callback(data);\n        } \n    })\n    .catch((error) => {\n        console.log(error);\n    });\n}\n\nexport function checkLatestSiteEventIfHasOnDemand (site_id, callback) {\n    const api_link = `${host}/api/monitoring/check_if_current_site_event_has_on_demand/${site_id}`;\n    makeGETAxiosRequest(api_link, callback);\n}","import React, { \n    Fragment, useEffect, \n    useState, useContext \n} from \"react\";\n\nimport withWidth, { isWidthUp } from \"@material-ui/core/withWidth\";\nimport { \n    Button, Grid, makeStyles, \n    Hidden, Accordion, AccordionSummary,\n    AccordionDetails, Divider, Typography, MenuItem,\n    Popper, Grow, Paper, ClickAwayListener, MenuList\n} from \"@material-ui/core\";\nimport { \n    AddAlert, Warning, ExpandMore,\n    Landscape, NotificationImportant, DataUsage\n} from \"@material-ui/icons\";\nimport { SpeedDial, SpeedDialAction, SpeedDialIcon } from \"@material-ui/lab\";\n\nimport { useSnackbar } from \"notistack\";\n\nimport PageTitle from \"../../reusables/PageTitle\";\nimport TabBar from \"../../reusables/TabBar\";\nimport MonitoringTables from \"./MonitoringTables\";\nimport GeneratedAlerts from \"./GeneratedAlerts\";\nimport AlertReleaseFormModal from \"../../widgets/alert_release_form/AlertReleaseFormModal\";\nimport RoutineReleaseFormModal from \"../../widgets/alert_release_form/RoutineReleaseFormModal\";\nimport IssuesAndRemindersList from \"../../widgets/issues_and_reminders_form/IssuesAndRemindersList\";\nimport MonitoringShiftsPanel from \"../../widgets/monitoring_shifts/MonitoringShiftsPanel\";\nimport GeneralStyles from \"../../../GeneralStyles\";\nimport { \n    subscribeToWebSocket, unsubscribeToWebSocket,\n    receiveGeneratedAlerts, receiveCandidateAlerts,\n    receiveAlertsFromDB, receiveEWIInsertResponse\n} from \"../../../websocket/monitoring_ws\";\nimport MomsInsertModal from \"../../widgets/moms/MomsInsertModal\";\nimport OnDemandInsertModal from \"../../widgets/on_demand/OnDemandInsertModal\";\nimport { GeneralContext } from \"../../contexts/GeneralContext\";\nimport { StoreProvider } from \"../../widgets/alert_release_form/store\";\n\n\nconst useStyles = makeStyles(theme => {\n    const gen_style = GeneralStyles(theme);\n    return {\n        ...gen_style,\n        tabBar: {\n            ...gen_style.pageContentMargin\n        },\n        tabBarContent: {\n            marginTop: 30\n        },\n        speedDial: {\n            position: \"fixed\",\n            \"&.MuiSpeedDial-directionUp\": {\n                bottom: theme.spacing(2),\n                right: theme.spacing(2),\n            }\n        }\n    };\n});\n\nconst tabs_array = [\n    { label: \"Monitoring Tables\", href: \"monitoring-tables\" },\n    { label: \"Generated Alerts\", href: \"generated-alerts\" }\n];\n\nfunction Container (props) {\n    const { width, history } = props;\n    const classes = useStyles();\n\n    const [chosenTab, setChosenTab] = useState(0);\n    const [generatedAlerts, setGeneratedAlerts] = useState(null);\n    const [candidateAlertsData, setCandidateAlertsData] = useState(null);\n    const [alertsFromDbData, setAlertsFromDbData] = useState(null);\n    const [isOpenReleaseModal, setIsOpenReleaseModal] = useState(false);\n    const [isOpenRoutineModal, setIsOpenRoutineModal] = useState(false);\n    const [chosenCandidateAlert, setChosenCandidateAlert] = useState(null);\n    const [isOpenIssueReminderModal, setIsOpenIssueReminderModal] = useState(false);\n    const [isIandRUpdateNeeded, setIsIandRUpdateNeeded] = useState(false);\n    const [is_moms_modal_open, setMomsModal] = useState(false);\n    const [is_on_demand_modal_open, setOnDemandModal] = useState(false);\n    const set_moms_modal_fn = bool => () => setMomsModal(bool);\n    const set_on_demand_modal_fn = bool => () => setOnDemandModal(bool);\n\n    const { setIsReconnecting } = useContext(GeneralContext);\n    const { enqueueSnackbar, closeSnackbar } = useSnackbar();\n    \n    useEffect(() => {\n        subscribeToWebSocket(setIsReconnecting);\n\n        receiveGeneratedAlerts(generated_alerts => setGeneratedAlerts(generated_alerts));\n        receiveCandidateAlerts(candidate_alerts => setCandidateAlertsData(candidate_alerts));\n        receiveAlertsFromDB(alerts_from_db => setAlertsFromDbData(alerts_from_db));\n        receiveEWIInsertResponse(response => {\n            const { snackbar_key, message, status } = response;\n            closeSnackbar(snackbar_key);\n            enqueueSnackbar(\n                message,\n                {\n                    variant: status ? \"success\" : \"error\",\n                    autoHideDuration: 7000\n                }\n            );\n        });\n\n        return function cleanup () {\n            unsubscribeToWebSocket();\n        };\n    }, []);\n\n    const handleTabSelected = chosen_tab => {\n        setChosenTab(chosen_tab);\n    };\n    \n    const handleBoolean = (data, bool) => () => {\n        if (data === \"is_open_release_modal\") setIsOpenReleaseModal(bool);\n        else if (data === \"is_open_issues_modal\") {\n            setIsIandRUpdateNeeded(!bool);\n            setIsOpenIssueReminderModal(bool);\n        }\n        else if (data === \"is_routine_modal_open\") setIsOpenRoutineModal(bool);\n    };\n\n    const releaseAlertHandler = (chosen_candidate, general_status) => () => {\n        setChosenCandidateAlert(chosen_candidate);\n\n        if (general_status === \"routine\") {\n            handleBoolean(\"is_routine_modal_open\", true)();\n        } else {\n            handleBoolean(\"is_open_release_modal\", true)();\n        }\n    };\n\n    const routineReleaseHandler = chosen_candidate => () => {\n        setChosenCandidateAlert(chosen_candidate);\n        handleBoolean(\"is_open_release_modal\", false)();\n        handleBoolean(\"is_routine_modal_open\", true)();\n    };\n\n    const is_desktop = isWidthUp(\"md\", width);\n\n    const [open, setOpen] = useState(false);\n    const actions = [\n        { icon: <AddAlert />, name: \"Release alert\", action: releaseAlertHandler(null) },\n        { icon: <Landscape />, name: \"Insert MOMs\", action: set_moms_modal_fn(true) },\n        { icon: <NotificationImportant />, name: \"Insert On-demand entry\", action: set_on_demand_modal_fn(true) },\n        { icon: <Warning />, name: \"Add issue/reminder\", action: handleBoolean(\"is_open_issues_modal\", true) }\n    ];\n\n    const anchorRef = React.useRef(null);\n    const [popper_open, setPopperOpen] = useState(false);\n    const custom_buttons = <span>\n        <Button\n            aria-label=\"Add issue/reminder\"\n            variant=\"contained\"\n            color=\"primary\"\n            size=\"small\"\n            style={{ marginRight: 8 }}\n            onClick={handleBoolean(\"is_open_issues_modal\", true)}\n            startIcon={<Warning />}\n        >\n            Add issue/reminder\n        </Button>\n        <Button\n            variant=\"contained\"\n            color=\"primary\"\n            size=\"small\"\n            aria-label=\"select merge strategy\"\n            aria-haspopup=\"menu\"\n            ref={anchorRef}\n            onClick={() => setPopperOpen(true)}\n            style={{ marginRight: 8 }}\n            startIcon={<DataUsage />}\n        >\n            Insert trigger data\n        </Button>\n        <Button\n            aria-label=\"Release alert\"\n            variant=\"contained\"\n            color=\"primary\"\n            size=\"small\"\n            onClick={releaseAlertHandler(null)}\n            startIcon={<AddAlert />}\n        >\n            Release Alert\n        </Button>\n    </span>;\n\n    return (\n        <Fragment>\n            <div className={classes.pageContentMargin}>\n                <PageTitle\n                    title=\"Alert Monitoring | Dashboard\"\n                    customButtons={is_desktop ? custom_buttons : false}\n                />\n            </div>\n\n            <Popper open={popper_open} anchorEl={anchorRef.current} role={undefined} transition>\n                {({ TransitionProps, placement }) => (\n                    <Grow\n                        {...TransitionProps}\n                        style={{\n                            transformOrigin: placement === \"bottom\" ? \"center top\" : \"center bottom\",\n                        }}\n                    >\n                        <Paper>\n                            <ClickAwayListener onClickAway={() => setPopperOpen(false)}>\n                                <MenuList id=\"split-button-menu\">\n                                    <MenuItem\n                                        onClick={() => {\n                                            setPopperOpen(false);\n                                            setMomsModal(true);\n                                        }}\n                                    >\n                                        Insert MOMs\n                                    </MenuItem>\n                                    <MenuItem\n                                        onClick={() => {\n                                            setPopperOpen(false);\n                                            setOnDemandModal(true);\n                                        }}\n                                    >\n                                        Insert On-Demand\n                                    </MenuItem>\n                                </MenuList>\n                            </ClickAwayListener>\n                        </Paper>\n                    </Grow>\n                )}\n            </Popper>\n\n            <div className={classes.tabBar}>\n                <Grid container spacing={3}>\n                    <Grid item xs={12} md={3}>\n                        <Hidden smDown>\n                            <IssuesAndRemindersList \n                                isOpenIssueReminderModal={isOpenIssueReminderModal}\n                                setIsOpenIssueReminderModal={setIsOpenIssueReminderModal}\n                                isIandRUpdateNeeded={isIandRUpdateNeeded}\n                                setIsIandRUpdateNeeded={setIsIandRUpdateNeeded}\n                            />\n                        </Hidden>\n\n                        <Hidden mdUp>\n                            <Accordion defaultExpanded={false}>\n                                <AccordionSummary\n                                    expandIcon={<ExpandMore />}\n                                    aria-controls=\"panel1c-content\"\n                                    id=\"panel1c-header\"\n                                >\n                                    <Grid container justify=\"space-between\" alignItems=\"baseline\">\n                                        <Typography variant=\"caption\">\n                                            <strong>ISSUES AND REMINDERS</strong>\n                                        </Typography>\n                                    </Grid>\n                                </AccordionSummary>\n                                <Divider />\n                                <AccordionDetails>\n                                    <Grid container justify=\"space-evenly\" className={classes.details}>\n                                        <IssuesAndRemindersList \n                                            isOpenIssueReminderModal={isOpenIssueReminderModal}\n                                            setIsOpenIssueReminderModal={setIsOpenIssueReminderModal}\n                                            isIandRUpdateNeeded={isIandRUpdateNeeded}\n                                            setIsIandRUpdateNeeded={setIsIandRUpdateNeeded}\n                                        />\n                                    </Grid>\n                                </AccordionDetails>\n                            </Accordion>\n                        </Hidden>\n                    </Grid>\n                    \n                    <Grid item xs={12} md={9}>\n                        <div style={{ marginBottom: 12 }}>\n                            <MonitoringShiftsPanel />\n                        </div>\n\n                        <TabBar\n                            chosenTab={chosenTab}\n                            onSelect={handleTabSelected}\n                            tabsArray={tabs_array}\n                        />\n                        <div className={classes.tabBarContent}>         \n                            {chosenTab === 0 && (\n                                <MonitoringTables\n                                    width={width}\n                                    candidateAlertsData={candidateAlertsData}\n                                    alertsFromDbData={alertsFromDbData}\n                                    releaseFormOpenHandler={releaseAlertHandler}\n                                    history={history}\n                                />\n                            )}\n                            {chosenTab === 1 && <GeneratedAlerts generatedAlertsData={generatedAlerts} />}\n                        </div>\n                    </Grid>\n                </Grid>\n            </div>\n\n            {\n                !is_desktop && (\n                    <SpeedDial\n                        ariaLabel=\"SpeedDial example\"\n                        className={classes.speedDial}\n                        FabProps={{\n                            color: \"secondary\"\n                        }}\n                        icon={<SpeedDialIcon />}\n                        onClose={() => setOpen(false)}\n                        onOpen={() => setOpen(true)}\n                        open={open}\n                    >\n                        {\n                            actions.map(item => (\n                                <SpeedDialAction\n                                    key={item.name}\n                                    icon={item.icon}\n                                    tooltipTitle={item.name}\n                                    onClick={item.action}\n                                />\n                            ))\n                        }\n                    </SpeedDial>\n                )\n            }\n\n            <StoreProvider>\n                <AlertReleaseFormModal\n                    isOpen={isOpenReleaseModal}\n                    closeHandler={handleBoolean(\"is_open_release_modal\", false)}\n                    chosenCandidateAlert={chosenCandidateAlert}\n                    setChosenCandidateAlert={setChosenCandidateAlert}\n                    setIsOpenRoutineModal={routineReleaseHandler(null)}\n                    generatedAlerts={generatedAlerts}\n                />\n            </StoreProvider>\n\n            <RoutineReleaseFormModal\n                isOpen={isOpenRoutineModal}\n                closeHandler={handleBoolean(\"is_routine_modal_open\", false)}\n                chosenCandidateAlert={chosenCandidateAlert}\n                setChosenCandidateAlert={setChosenCandidateAlert}\n            />\n\n            <MomsInsertModal\n                isOpen={is_moms_modal_open}\n                closeHandler={set_moms_modal_fn(false)}\n            />\n\n            <OnDemandInsertModal\n                isOpen={is_on_demand_modal_open}\n                closeHandler={set_on_demand_modal_fn(false)}\n            />\n        </Fragment>\n    );\n\n\n}\nexport default withWidth()(Container);\n","import React, { useState, useEffect, Fragment } from \"react\";\nimport moment from \"moment\";\nimport { Timeline, TimelineItem } from \"vertical-timeline-component-for-react\";\nimport {\n    Typography, Grid, Button,\n    Divider, makeStyles, Icon\n} from \"@material-ui/core\";\n\nimport { Description, Assessment } from \"@material-ui/icons\";\nimport { getEventTimelineEntries } from \"../ajax\";\nimport { capitalizeFirstLetter } from \"../../../UtilityFunctions\";\nimport BulletinModal from \"../../widgets/bulletin/BulletinModal\";\n\nconst useStyles = makeStyles(theme => ({\n    timeline: {\n        margin: \"0 auto\",\n        lineColor: \"#DDDDDD\",\n        paddingTop: 24\n    }\n}));\n\nfunction processTriggers (triggers) {\n    const ReturnDiv = <ul>\n        {\n            triggers.map(trigger => {\n                const {\n                    ts, info, internal_sym: { \n                        trigger_symbol: {\n                            alert_symbol,\n                            trigger_hierarchy: { trigger_source }\n                        },\n                        alert_symbol: int_alert_sym\n                    }, trigger_id\n                } = trigger;\n            \n                const source = trigger_source === \"moms\" ? \"Manifestation of Movement\"\n                    : capitalizeFirstLetter(trigger_source);\n            \n                const main = <li>{\n                    `${source} (${alert_symbol}) alert triggered on ${moment(ts).format(\"MMMM Do YYYY, hh:mm A\")}`\n                }</li>;\n                const tech_info = <ul><li>{info}</li></ul>;\n\n                const additional = [];\n                if (trigger_source === \"moms\") {\n                    const { trigger_misc: { moms_releases } } = trigger;\n\n                    moms_releases.forEach(moms_entry => {\n                        const entry = processMomsTrigger(moms_entry, int_alert_sym);\n                        additional.push(entry);\n                    });\n                } else if (trigger_source === \"on demand\") {\n                    const { trigger_misc: { on_demand } } = trigger;\n                    const { narrative: { narrative } } = on_demand;\n                    additional.push(<ul key=\"od\"><li>Reason:</li><ul><li>{narrative}</li></ul></ul>);\n                }\n\n                return <Fragment key={trigger_id}>\n                    {main}{tech_info}\n                    {additional.map(row => row)}\n                </Fragment>;\n            })\n        }\n    </ul>;\n\n    return ReturnDiv;\n}\n\nfunction processMomsTrigger (moms_entry, int_alert_sym, non_triggering = false) {\n    const {\n        moms_details: { \n            moms_instance: {\n                feature: { feature_type },\n                feature_name\n            },\n            op_trigger,\n            validator: { first_name: vfn, last_name: vln },\n            reporter: { first_name: rfn, last_name: rln },\n            narrative: { narrative },\n            remarks, moms_id\n        }\n    } = moms_entry;\n\n    const prefix = non_triggering ? \"Non-triggering \" : \"\";\n\n    const feature_set = <ul key={moms_id}>\n        <li>\n            {prefix}Feature: {capitalizeFirstLetter(feature_type)} {feature_name} ({int_alert_sym + op_trigger})\n        </li>\n        <ul>\n            <li>Narrative: {narrative}</li>\n            <li>Reporter: {`${rfn} ${rln}`}</li>\n            <li>Remarks: {remarks}</li>\n            <li>Validator: {`${vfn} ${vln}`}</li>\n        </ul>\n    </ul>;\n    \n    return feature_set;\n}\n\nfunction getReleaseHeader (release_type) {\n    let headers = \"EARLY WARNING INFORMATION\";\n    if (release_type === \"end_of_validity\") headers = \"END OF MONITORING\";\n    else if (release_type === \"overdue\") headers = \"OVERDUE\";\n    else if (release_type === \"extended\") headers = \"EXTENDED MONITORING\";\n    else if (release_type === \"routine\") headers = \"ROUTINE MONITORING\";\n\n    return headers;\n}\n\nfunction getColorBasedOnReleaseType (release_type) {\n    let color = \"#F8991D\";\n    if (release_type === \"end_of_validity\") color = \"#00B200\";\n    else if (release_type === \"overdue\") color = \"#FA4413\";\n    else if (release_type === \"extended\") color = \"#00B200\";\n    else if (release_type === \"routine\") color = \"#59081E\";\n\n    return color;\n}\n\n// eslint-disable-next-line max-params\nfunction buildTimelineElements (timelineItems, bulletinHandler, site_code, site_id) {\n    const temp = [];\n    let key = 0;\n    timelineItems.forEach(item => {\n        key += 1;\n        const {\n            item_timestamp, item_data, item_type\n        } = item;\n        let element = null;\n\n        const moment_item_timestamp = moment(item_timestamp).format(\"DD MMMM YYYY, hh:mm A\");\n\n        if (item_type === \"narrative\") {\n            element = (\n                <TimelineItem\n                    key={key}\n                    dateText={moment_item_timestamp}\n                    style={{ color: \"#969696\" }}\n                    dateComponent={(\n                        <div\n                            style={{\n                                display: \"block\",\n                                \"float\": \"right\",\n                                padding: \"10px\",\n                                marginRight: 38,\n                                background: \"rgb(150, 150, 150)\",\n                                color: \"#fff\",\n                            }}\n                        >\n                            {moment_item_timestamp}\n                        </div>\n                    )}                                            \n                >\n                    <Typography variant=\"body2\" component=\"div\">\n                        {item_data.narrative}\n                    </Typography>\n                </TimelineItem>\n            );\n        } else if (item_type === \"release\") {\n            const {\n                release_time, data_ts, release_publishers,\n                triggers, is_onset, internal_alert_level,\n                moms_releases, release_id, comments\n            } = item_data;\n\n            const { release_type } = item;\n            const card_color = getColorBasedOnReleaseType(release_type);\n            const header = getReleaseHeader(release_type);\n            \n            let moment_data_ts = moment(data_ts);\n            if (!is_onset) moment_data_ts = moment_data_ts.add(30, \"minutes\");\n            moment_data_ts = moment_data_ts.format(\"MMMM Do YYYY, h:mm A\");\n            \n            let mt = \"\";\n            let ct = \"\";\n            release_publishers.forEach(publisher => {\n                const { role, user_details } = publisher;\n                const { first_name, last_name } = user_details;\n                if (role === \"mt\") mt = `${first_name} ${last_name}`;\n                if (role === \"ct\") ct = `${first_name} ${last_name}`;\n            });\n\n            element = (\n                <TimelineItem\n                    key={key}\n                    dateText={moment_item_timestamp}\n                    style={{ color: card_color }}\n                    dateInnerStyle={{ background: card_color, lineHeight: \"48px\", textAlign: \"center\" }}\n                    bodyContainerStyle={{\n                        background: \"#EEEEEE\",\n                        padding: \"18px 20px\",\n                        borderRadius: \"8px\",\n                        boxShadow: \"0.2rem 0.2rem 0.5rem 0 rgba(0, 0, 0, 0.2)\",\n                    }}\n                >\n                    <Grid container spacing={1}>\n                        <Grid item xs={12} container alignItems=\"center\">\n                            <Icon style={{ color: card_color, height: 45, width: \"auto\", paddingRight: 8 }}>\n                                <Description style={{ height: 45, width: \"auto\" }} />\n                            </Icon>\n                            <div>\n                                <Typography\n                                    variant=\"caption\" component=\"div\"\n                                    style={{ color: card_color }}\n                                >\n                                    <strong>{header}</strong>\n                                </Typography>\n                                <Typography\n                                    variant=\"h6\" component=\"div\"\n                                    style={{ color: card_color, lineHeight: 1.2 }}\n                                >\n                                    <strong>{moment_data_ts}</strong>\n                                </Typography>\n                            </div>\n                        </Grid>\n                        <Grid item xs={12}><Divider /></Grid>\n                        <Grid item xs={12} container justify=\"space-between\">\n                            <Typography variant=\"body2\" style={{ color: card_color }}>\n                                Data Timestamp: <strong>{data_ts}</strong>\n                            </Typography>\n                            <Typography variant=\"body2\" style={{ color: card_color }}>\n                                Internal Alert Level: <strong>{internal_alert_level}</strong>\n                            </Typography>\n                        </Grid>\n                        {\n                            triggers.length > 0 && (\n                                <Fragment>\n                                    <Grid item xs={12}><Divider /></Grid>\n                                    <Grid item xs={12}>\n                                        <Typography \n                                            variant=\"body2\"\n                                            component=\"div\"\n                                            style={{ color: card_color }}\n                                        >\n                                            <strong>{processTriggers(triggers)}</strong>\n                                        </Typography>\n                                    </Grid>\n                                </Fragment>\n                            )\n                        }\n\n                        {\n                            moms_releases.length > 0 && (\n                                <Fragment>\n                                    <Grid item xs={12}><Divider /></Grid>\n                                    <Grid item xs={12}>\n                                        <Typography \n                                            variant=\"body2\"\n                                            component=\"div\"\n                                            style={{ color: card_color }}\n                                        >\n                                            <strong>\n                                                {\n                                                    moms_releases.map(row => processMomsTrigger(row, \"m\", true))\n                                                }\n                                            </strong>\n                                        </Typography>\n                                    </Grid>\n                                </Fragment>\n                            )\n                        }\n                        {\n                            comments !== \"\" && comments !== null && (\n                                <Fragment>\n                                    <Grid item xs={12}><Divider /></Grid>\n                                    <Grid item xs={12} container justify=\"space-between\">\n                                        <Typography variant=\"body2\" style={{ color: card_color }}>\n                                            Comments: <strong>{comments}</strong>\n                                        </Typography>\n                                    </Grid>\n                                </Fragment>\n                            )\n                        }\n                        <Grid item xs={12}><Divider /></Grid>\n                        <Grid item xs={12} container justify=\"space-between\" alignItems=\"center\">\n                            <Typography variant=\"body2\" style={{ color: card_color }}>\n                                {mt} | {ct}\n                            </Typography>\n                            <Button\n                                aria-label=\"Show bulletin\"\n                                variant=\"text\"\n                                color=\"primary\"\n                                size=\"small\"\n                                onClick={bulletinHandler({ release_id, site_code, site_id })}\n                            >\n                                Bulletin\n                            </Button>\n                        </Grid>\n                    </Grid>\n                </TimelineItem>\n            );\n        } else if (item_type === \"eos\") {\n            const card_color = \"#3f51b5\";\n            element = (\n                <TimelineItem\n                    key={key}\n                    dateText={moment_item_timestamp}\n                    style={{ color: card_color }}\n                    dateInnerStyle={{ background: card_color, lineHeight: \"48px\" }}\n                    bodyContainerStyle={{\n                        background: \"#EEEEEE\",\n                        padding: \"18px 20px\",\n                        borderRadius: \"8px\",\n                        boxShadow: \"0.2rem 0.2rem 0.5rem 0 rgba(0, 0, 0, 0.2)\",\n                    }}\n                >\n                    <Grid container spacing={1}>\n                        <Grid item xs={12} container alignItems=\"center\">\n                            <Icon style={{ color: card_color, height: 45, width: \"auto\", paddingRight: 8 }}>\n                                <Assessment style={{ height: 45, width: \"auto\" }} />\n                            </Icon>\n                            <div>\n                                <Typography\n                                    variant=\"caption\" component=\"div\"\n                                    style={{ color: card_color }}\n                                >\n                                    <strong>END-OF-SHIFT-ANALYSIS</strong>\n                                </Typography>\n                                <Typography\n                                    variant=\"h6\" component=\"div\"\n                                    style={{ color: card_color, lineHeight: 1.2 }}\n                                >\n                                    <strong>{moment(item_timestamp).format(\"MMMM Do YYYY, h:mm A\")}</strong>\n                                </Typography>\n                            </div>\n                        </Grid>\n                        <Grid item xs={12}><Divider /></Grid>\n                        <Grid item xs={12}>\n                            <Typography\n                                variant=\"body2\"\n                                style={{ color: card_color }}\n                                dangerouslySetInnerHTML={{ __html: item_data }}\n                            />\n                        </Grid>\n                    </Grid>\n                    {/* <h3 style={{ color: card_color }}>END-OF-SHIFT ANALYSIS</h3> */}\n                    {/* <h4>{moment_item_timestamp.toUpperCase()}</h4><br/> */}\n                    {/* HIGHLY DANGEROUS REACT CODE: */}\n                    {/* Might wanna use react-html-parser in the future  */}\n                    {/* <div dangerouslySetInnerHTML={{ __html: item_data }} /> */}\n                </TimelineItem>\n            );\n        }\n\n        temp.push(element);\n    });\n    return temp;\n}\n\nfunction MonitoringEventTimeline (props) {\n    const { match: { params: { event_id } } } = props;\n    const classes = useStyles();\n    const [eventDetails, setEventDetails] = useState({\n        event_id,\n        site_code: \"---\",\n        site_id: 1,\n        validity: moment(),\n        event_start: moment(),\n        site_address: \"\",\n        status: 1\n    });\n    const [timelineItems, setTimelineItems] = useState([]);\n    const [chosenReleaseDetail, setChosenReleaseDetail] = useState({});\n    const [isOpenBulletinModal, setIsOpenBulletinModal] = useState(false);\n\n    useEffect(() => {\n        const input = { event_id };\n        getEventTimelineEntries(input, ret => {\n            const {\n                event_details, timeline_items\n            } = ret;\n            if (Object.keys(event_details).length > 0) {\n                setEventDetails(event_details);\n                setTimelineItems(timeline_items);\n            }\n        });\n    }, []);\n\n    const monitoring_type = eventDetails.status === 1 ? \"ROUTINE\" : \"EVENT\";\n    const bulletinHandler = release => event => {\n        console.log(release);\n        const rel = { ...release, type: null };\n        setChosenReleaseDetail(rel);\n        setIsOpenBulletinModal(true);\n    };\n\n    const format_str = \"MMMM Do YYYY, hh:mm A\";\n    const start_ts = moment(eventDetails.event_start).format(format_str);\n\n    let end_ts = \"PRESENT\";\n    if (eventDetails.validity !== null) end_ts = moment(eventDetails.validity).format(format_str);\n\n    return (\n        <Grid container spacing={2}>\n            {/* <Grid item xs={12} align=\"center\">\n                <Typography variant=\"h5\">\n                    {monitoring_type} Monitoring Timeline\n                </Typography>\n            </Grid> */}\n            <Grid item xs={12}>\n                <Typography variant=\"h6\" align=\"center\">\n                    <strong>{monitoring_type} MONITORING TIMELINE</strong>\n                </Typography>\n                <Typography \n                    variant=\"h4\"\n                    align=\"center\"\n                >\n                    {eventDetails.site_address} ({eventDetails.site_code.toUpperCase()})\n                </Typography>\n                <Typography \n                    variant=\"subtitle1\"\n                    align=\"center\"\n                >\n                    { `${start_ts} to ${end_ts}` }\n                </Typography>\n            </Grid>\n\n            <Timeline className={classes.timeline} lineColor=\"#DDDDDD\">\n                {\n                    buildTimelineElements(timelineItems, bulletinHandler, eventDetails.site_code, eventDetails.site_id)\n                }\n            </Timeline>\n\n            <BulletinModal \n                classes={classes}\n                isOpenBulletinModal={isOpenBulletinModal}\n                setIsOpenBulletinModal={setIsOpenBulletinModal}\n                releaseDetail={chosenReleaseDetail}\n            />     \n        </Grid>\n    );\n}\n\nexport default MonitoringEventTimeline;\n","import React from \"react\";\nimport Grow from \"@material-ui/core/Grow\";\nimport TextField from \"@material-ui/core/TextField\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport ForwardIcon from \"@material-ui/icons/Forward\";\nimport ClearIcon from \"@material-ui/icons/Clear\";\nimport { withStyles } from \"@material-ui/core/styles\";\n\nconst defaultSearchStyles = theme => ({\n    main: {\n        display: \"flex\",\n        flex: \"1 0 auto\",\n    },\n    searchText: {\n        flex: \"0.8 0\",\n    },\n    clearIcon: {\n        \"&:hover\": {\n            color: theme.palette.error.main,\n        },\n    },\n});\n\nclass CustomSearchRender extends React.Component {\n    componentDidMount () {\n        document.addEventListener(\"keydown\", this.onKeyDown, false);\n    }\n\n    componentWillUnmount () {\n        document.removeEventListener(\"keydown\", this.onKeyDown, false);\n    }\n\nhandleTextChange = event => {\n    const { options, onSearch } = this.props;\n    const { onSearchChange } = options;\n\n    if (onSearchChange) {\n        onSearchChange(event.target.value);\n    }\n\n    onSearch(event.target.value);\n};\n\nonKeyDown = event => {\n    const { onHide, onSearchClick } = this.props;\n    if (event.keyCode === 27) {\n        onHide();\n    } else if (event.keyCode === 13) {\n        onSearchClick();\n    }\n};\n\nrender () {\n    const { classes, options, onHide, searchText, onSearchClick } = this.props;\n\n    return (\n        <Grow appear in timeout={300}>\n            <div className={classes.main} ref={el => (this.rootRef = el)}>\n                <TextField\n                    placeholder=\"Search events using YYYY-MM-DD format...\"\n                    className={classes.searchText}\n                    InputProps={{\n                        \"aria-label\": options.textLabels.toolbar.search,\n                    }}\n                    value={searchText || \"\"}\n                    onChange={this.handleTextChange}\n                    fullWidth\n                    inputRef={el => (this.searchField = el)}\n                />\n                <IconButton className={classes.clearIcon} style={{ marginLeft: 6 }} onClick={onSearchClick}>\n                    <ForwardIcon />\n                </IconButton>\n                <IconButton className={classes.clearIcon} onClick={onHide}>\n                    <ClearIcon />\n                </IconButton>\n            </div>\n        </Grow>\n    );\n}\n}\n\nexport default withStyles(defaultSearchStyles, { name: \"CustomSearchRender\" })(CustomSearchRender);","import React, { useState, useEffect, useContext, Fragment } from \"react\";\nimport moment from \"moment\";\nimport MUIDataTable from \"mui-datatables\";\nimport withWidth, { isWidthUp } from \"@material-ui/core/withWidth\";\nimport {\n    CircularProgress, Typography, Paper,\n    makeStyles\n} from \"@material-ui/core\";\nimport { createMuiTheme, MuiThemeProvider } from \"@material-ui/core/styles\";\nimport { Route, Switch, Link } from \"react-router-dom\";\n\nimport MonitoringEventTimeline from \"./EventTimeline\";\nimport CustomSearchRender from \"./CustomSearchRender\";\nimport PageTitle from \"../../reusables/PageTitle\";\nimport GeneralStyles from \"../../../GeneralStyles\";\nimport { prepareSiteAddress } from \"../../../UtilityFunctions\";\nimport { GeneralContext } from \"../../contexts/GeneralContext\";\nimport { getMonitoringEvents } from \"../ajax\";\n\nconst filter_sites_option = [];\n\nconst useStyles = makeStyles(theme => ({\n    ...GeneralStyles(theme),\n    eventTable: {\n        minWidth: \"900px\"\n    }\n}));\n\nfunction prepareEventTimelineLink (url, event_id) {\n    return (\n        <Link\n            to={`${url}/${event_id}`}\n        >\n            {event_id}\n        </Link>\n    );\n}\n\nfunction prepareEventsArray (arr, sites_dict) {\n    return arr.map(\n        (element, index) => {\n            const {\n                event_id, site_code, entry_type, \n                event_start, validity, public_alert\n            } = element;\n\n            let final_event_start = null;\n            let final_ts_end = \"ROUTINE\";\n            \n            if (event_start !== \"\" && event_start !== null) final_event_start = moment(event_start).format(\"D MMMM YYYY, HH:mm\");\n            if (validity !== \"\" && validity !== null) final_ts_end = moment(validity).format(\"D MMMM YYYY, HH:mm\");\n\n            let address = \"\";\n            if (Object.keys(sites_dict).length) {\n                const { address: add } = sites_dict[site_code.toUpperCase()];\n                address = add;\n            }\n\n            const event_entry = [\n                event_id,\n                address,\n                entry_type,\n                public_alert,\n                final_event_start,\n                final_ts_end\n            ];\n\n            return event_entry;\n        });\n}\n\nconst getMuiTheme = createMuiTheme({\n    overrides: {\n        MUIDataTableHeadCell: {\n            root: {\n                zIndex: \"0 !important\"\n            }\n        }\n    }\n});\n\nfunction MonitoringEventsTable (props) {\n    const {\n        width, location,\n        match: { url }\n    } = props;\n\n    const classes = useStyles();\n\n    const [data, setData] = useState([[\"Loading Data...\"]]);\n    const [page, setPage] = useState(0);\n    const [rowsPerPage, setRowsPerPage] = useState(10);\n    const [count, setCount] = useState(1);\n    const [isLoading, setIsLoading] = useState(false);\n    const [sites_dict, setSitesDict] = useState({});\n\n    // SEARCH AND FILTERS\n    const [filters, setFilters] = useState([]);\n    const [filter_list, setFilterList] = useState([]);\n    const [search_str, setSearchString] = useState(\"\");\n    const [on_search_open, setOnSearchOpen] = useState(false);\n\n    const { sites } = useContext(GeneralContext);\n\n    useEffect(() => {\n        const temp = {};\n        sites.forEach(site => {\n            const address = prepareSiteAddress(site, true, \"start\");\n            const site_code = site.site_code.toUpperCase();\n            filter_sites_option.push(site_code);\n            temp[site_code] = { site_id: site.site_id, address };\n        });\n        setSitesDict(temp);\n    }, [sites]);\n\n    useEffect(() => {\n        // setTotalEventCount(setCount);\n        setIsLoading(true);\n\n        const offset = page * rowsPerPage;\n        const limit = (page * rowsPerPage) + rowsPerPage;\n\n        const input = {\n            include_count: true,\n            limit, offset, filters, search_str\n        };\n        \n        getMonitoringEvents(input, ret2 => {            \n            const { events, count: total } = ret2;\n            const final_data = prepareEventsArray(events, sites_dict);\n            setData(final_data);\n            setCount(total);\n            setIsLoading(false);\n        });\n    }, [\n        page, rowsPerPage, filters,\n        search_str, url, sites_dict\n    ]);\n\n    const options = {\n        textLabels: {\n            body: {\n                noMatch: \"No data\",\n            }\n        },\n        filterType: \"multiselect\",\n        responsive: isWidthUp(width, \"xs\") ? \"standard\" : \"simple\",\n        searchText: search_str,\n        searchPlaceholder: \"Type words to search narrative column\",\n        rowsPerPageOptions: [5, 10, 15],\n        rowsPerPage,\n        count,\n        page,\n        filter: true,\n        selectableRows: \"none\",\n        print: false,\n        download: false,\n        // filterType: \"dropdown\",\n        serverSide: true,\n        onTableChange: (action, tableState) => {\n            // console.log(action, tableState);\n            // a developer could react to change on an action basis or\n            // examine the state as a whole and do whatever they want\n            if (action === \"changePage\") {\n                const { page: cur_page } = tableState;\n                setPage(cur_page);\n            } else if (action === \"changeRowsPerPage\") {\n                const { rowsPerPage: cur_rpp } = tableState;\n                if (cur_rpp !== rowsPerPage) setRowsPerPage(cur_rpp);\n            } else if (action === \"resetFilters\") {\n                setFilterList({});\n                setFilters([]);\n            } else if (action === \"onSearchOpen\") {\n                setOnSearchOpen(true);\n            }\n        },\n        onSearchChange: (search_string) => {\n            // Looking for proper async implementation\n            console.log(`Searching for ${search_string}`);\n        },\n        onFilterChange: (changedColumn, ret_filters) => {\n            const chosen_filters = [];\n            let is_empty = true;\n            ret_filters.forEach((row, index) => {\n\n                let filter_var = null;\n\n                if (row.length !== 0) {\n                    is_empty = false;\n                    const { name: column_name } = columns[index];\n                    if (column_name === \"site_name\") {\n                        const site_ids = [];\n                        const site_names = [];\n\n                        row.forEach(site => {\n                            site_ids.push(sites_dict[site].site_id);\n                            site_names.push(site);\n                        });\n\n                        chosen_filters.push({\n                            name: \"site_ids\",\n                            data: site_ids\n                        });\n\n                        filter_var = site_names;\n                    } else if (column_name === \"entry_type\") {\n                        const entry_types = [];\n                        const entry_type_ids = [];\n                        let temp;\n\n                        row.forEach(type => {\n                            if (type === \"EVENT\") { \n                                temp = 2;\n                            } else if (type === \"ROUTINE\") {\n                                temp = 1;\n                            }\n                            entry_types.push(type);\n                            entry_type_ids.push(temp);\n                        });\n\n                        chosen_filters.push({\n                            name: \"entry_types\",\n                            data: entry_type_ids\n                        });\n\n                        filter_var = entry_types;\n                    }\n                    setFilterList({ ...filter_list, [column_name]: filter_var });\n                }\n            });\n\n            if (is_empty) setFilterList({});\n            setFilters(chosen_filters);\n        },\n        customSearchRender: (searchText, handleSearch, hideSearch, rendererOptions) => {\n            let searchStr = searchText || \"\";\n\n            if (on_search_open) {\n                searchStr = search_str;\n                setOnSearchOpen(false);\n            }\n\n            const custom_on_hide_fn = () => {\n                hideSearch();\n                setOnSearchOpen(false);\n            };\n\n            return (\n                <CustomSearchRender\n                    searchText={searchText}\n                    onSearch={handleSearch}\n                    onHide={custom_on_hide_fn}\n                    options={rendererOptions}\n                    onSearchClick={() => setSearchString(searchStr)}\n                />\n            );\n        }\n    };\n\n    const columns = [\n        {\n            name: \"event_id\",\n            label: \"Event ID\",\n            options: {\n                filter: false,\n                customBodyRender: (value, { rowIndex }) => {\n                    if (value === \"Loading Data...\") return value;\n                    return prepareEventTimelineLink(url, value);\n                }\n            }\n        },\n        {\n            name: \"site_name\",\n            label: \"Site\",\n            options: {\n                filter: true,\n                filterList: typeof filter_list.site_name === \"undefined\" ? [] : filter_list.site_name, \n                filterOptions: {\n                    names: filter_sites_option\n                }\n            }\n        },\n        {\n            name: \"entry_type\",\n            label: \"Entry Type\",\n            options: {\n                filter: true,\n                filterList: typeof filter_list.entry_type === \"undefined\" ? [] : filter_list.entry_type, \n                filterOptions: {\n                    names: [\"ROUTINE\", \"EVENT\"]\n                },\n                sort: false\n            }\n        },\n        {\n            name: \"public_alert\",\n            label: \"Last Alert Level\",\n            options: {\n                filter: true,\n                sort: true\n            }\n        },\n        {\n            name: \"ts_start\",\n            label: \"Event Start\",\n            options: {\n                filter: false,\n                sort: false\n            }\n        },\n        {\n            name: \"ts_end\",\n            label: \"Event End\",\n            options: {\n                filter: false,\n                sort: false\n            }\n        }\n    ];\n\n    return (\n        <Fragment>\n            <div className={classes.pageContentMargin}>\n                <PageTitle title=\"Alert Monitoring | Events\" />\n            </div>\n            <div className={classes.pageContentMargin}>\n                <Switch location={location}>\n                    <Route exact path={url} render={\n                        props => (\n                            <Paper className={classes.paperContainer}>\n                                <MuiThemeProvider theme={getMuiTheme}>\n                                    <MUIDataTable\n                                        title={\n                                            <Typography variant=\"h5\" component=\"div\">\n                                                Monitoring Events Table\n                                                {\n                                                    isLoading &&\n                                                        <CircularProgress\n                                                            size={24}\n                                                            style={{\n                                                                marginLeft: 15,\n                                                                position: \"relative\",\n                                                                top: 4\n                                                            }}\n                                                        />\n                                                }\n                                            </Typography>\n                                        }\n                                        data={data}\n                                        columns={columns}\n                                        options={options}\n                                    />\n                                </MuiThemeProvider>                    \n                            </Paper>\n                        )\n                    }/>\n\n                    <Route path={`${url}/:event_id`} render={\n                        props => (\n                            <MonitoringEventTimeline\n                                {...props}\n                                width={width}\n                            />\n                        )\n                    }/>\n                </Switch>\n            </div>\n        </Fragment>\n    );\n}\n\nexport default withWidth()(MonitoringEventsTable);\n","import React, { useState, useEffect, Fragment } from \"react\";\nimport moment from \"moment\";\nimport { useSnackbar } from \"notistack\";\nimport Accordion from \"@material-ui/core/Accordion\";\nimport AccordionDetails from \"@material-ui/core/AccordionDetails\";\nimport AccordionSummary from \"@material-ui/core/AccordionSummary\";\nimport AccordionActions from \"@material-ui/core/AccordionActions\";\nimport Typography from \"@material-ui/core/Typography\";\nimport ExpandMoreIcon from \"@material-ui/icons/ExpandMore\";\nimport Button from \"@material-ui/core/Button\";\nimport Divider from \"@material-ui/core/Divider\";\nimport Tooltip from \"@material-ui/core/Tooltip\";\nimport { Grid, makeStyles, Chip, Paper, CircularProgress } from \"@material-ui/core\";\nimport { Refresh, SaveAlt, Send, Info, Attachment, CheckCircle } from \"@material-ui/icons\";\n\n// import CKEditor from \"@ckeditor/ckeditor5-react\";\n// import ClassicEditor from \"@ckeditor/ckeditor5-build-classic\";\n\nimport ReactQuill from \"react-quill\";\nimport \"react-quill/dist/quill.snow.css\";\n\nimport CheckboxesGroup from \"../../reusables/CheckboxGroup\";\n// import { useInterval, remapCkeditorEnterKey } from \"../../../UtilityFunctions\";\nimport { saveEOSDataAnalysis, downloadEosCharts, getNarrative } from \"../ajax\";\nimport { sendEOSEmail } from \"../../communication/mailbox/ajax\";\n\nconst modules = {\n    toolbar: [\n        [\"bold\", \"italic\", \"underline\", \"strike\", \"blockquote\"],\n        [{ list: \"ordered\" }, { list: \"bullet\" }, \n            { indent: \"-1\" }, { indent: \"+1\" }],\n        [\"link\"],\n        [\"clean\"]\n    ],\n    clipboard: {\n        // toggle to add extra line breaks when pasting HTML:\n        matchVisual: false, // originally false\n    }\n};\n\nconst formats = [\n    \"bold\", \"italic\", \"underline\", \"strike\", \"blockquote\",\n    \"list\", \"bullet\", \"indent\",\n    \"link\"\n];\n\nconst useStyles = makeStyles(theme => ({\n    root: {\n        width: \"100%\",\n    },\n    icons: {\n        fontSize: \"1.15rem\",\n        [theme.breakpoints.down(\"xs\")]: {\n            fontSize: \"1.7rem\"\n        }\n    },\n    details: {\n        alignItems: \"center\",\n    },\n    column: {\n        flexBasis: \"33.33%\",\n        display: \"flex\",\n        alignItems: \"center\"\n    },\n    helper: {\n        borderLeft: `2px solid ${theme.palette.divider}`,\n        padding: `${theme.spacing()}px ${theme.spacing(2)}px`,\n    },\n    link: {\n        color: theme.palette.primary.main,\n        textDecoration: \"none\",\n        \"&:hover\": {\n            textDecoration: \"underline\",\n        },\n    },\n    sent: { backgroundColor: \"#04d811\" }\n}));\n\nfunction extractSelectedCharts (checkboxStatus) {\n    const chart_list = Object.keys(checkboxStatus).filter(key => checkboxStatus[key] === true);\n    return chart_list;\n}\n\nfunction prepareMailBody (mail_contents) {\n    const { shiftSummary, dataAnalysis, shiftNarratives } = mail_contents;\n    const f_summary = shiftSummary.replace(/<p>/g, \"\").replace(/<\\/p>/g, \"<br/>\");\n    const f_analysis = dataAnalysis.replace(/<p>/g, \"\").replace(/<\\/p>/g, \"<br/>\");\n    const f_narratives = shiftNarratives.replace(/<p>/g, \"\").replace(/<\\/p>/g, \"<br/>\");\n    const template = `<p>${f_summary}</p><br/><p>${f_analysis}</p><br/><p>${f_narratives}</p>`;\n\n    return template;\n}\n\nfunction DetailedAccordion (props) {\n    const {\n        data: eos_report, shiftStartTs, currentUser\n    } = props;\n    const classes = useStyles();\n    const {\n        site_code, eos_head, shift_start_info,\n        shift_end_info, data_analysis, narratives,\n        event_id, validity\n    } = eos_report;\n\n    const node_shift_summary = `${eos_head}<br/>${shift_start_info}<br/><br/>${shift_end_info}`;\n    const [shiftSummary, setShiftSummary] = useState(node_shift_summary);\n    const [dataAnalysis, setDataAnalysis] = useState(data_analysis);\n    const [analysis_char_count, setAnalysisCharCount] = useState(data_analysis.length);\n    const [shiftNarratives, setShiftNarratives] = useState(narratives);\n    const { enqueueSnackbar, closeSnackbar } = useSnackbar();\n    // const [narrative_editor, setNarrativeEditor] = useState(null);\n    const [attachedFiles, setAttachedFiles] = useState([]);\n    const [is_sent, setIsSent] = useState(false);\n\n    const default_cbox = {\n        rainfall: false, surficial: false\n    };\n    const default_label = [[\"rainfall\", \"Rainfall\", false]];\n    const { has_markers, has_surficial_data, subsurface_columns } = eos_report;\n\n    let surf_label = \"Surficial\";\n    let surf_dis = false;\n    if (has_markers) {\n        if (!has_surficial_data) {\n            surf_label += \" (No data)\";\n            surf_dis = true;\n        }\n    } else {\n        surf_label += \" (No markers)\";\n        surf_dis = true;\n    }\n    default_label.push([\"surficial\", surf_label, surf_dis]);\n\n    subsurface_columns.forEach(row => {\n        const { logger: { logger_name } } = row;\n        const key = `subsurface_${logger_name}`;\n        let label = `Subsurface - ${logger_name.toUpperCase()}`;\n        default_cbox[key] = false;\n        const no_data = !row.has_data;\n        if (no_data) {\n            label += \" (No data)\";\n        }\n        default_label.push([key, label, no_data]);\n    });\n\n    const [checkboxStatus, setCheckboxStatus] = useState(default_cbox);\n\n    const choices = default_label.map(row => {\n        return { \n            state: checkboxStatus[row[0]],\n            value: row[0],\n            label: row[1],\n            is_disabled: row[2]\n        };\n    });\n\n    const [start_saving_countdown, setStartSavingCountdown] = useState(false);\n    const [interval_id, setIntervalID] = useState(null);\n    const [saving_status, setSavingStatus] = useState(null);\n\n    useEffect(() => {\n        if (start_saving_countdown) {\n            if (interval_id !== null) clearTimeout(interval_id);\n            setSavingStatus(\"typing\");\n\n            const tying_delay_id = setTimeout(() => {\n                setSavingStatus(\"saving\");\n                const saving_delay_id = setTimeout(() => {\n                    const temp = {\n                        shift_ts: shiftStartTs,\n                        event_id,\n                        dataAnalysis\n                    };\n\n                    saveEOSDataAnalysis(temp, response => {\n                        console.log(\"response\", response);\n                        setSavingStatus(\"saved\");\n                        setStartSavingCountdown(false);\n                    });\n                }, 3000);\n                setIntervalID(saving_delay_id);\n            }, 3000);\n            setIntervalID(tying_delay_id);\n        }\n    }, [dataAnalysis]);\n\n    const shift_ts_end = moment(shiftStartTs).add(12, \"hours\");\n    const moment_validity = moment(validity);\n    const ts_end = moment_validity.isBefore(shift_ts_end)\n        ? moment_validity.subtract(30, \"minutes\").format(\"YYYY-MM-DD HH:mm:ss\")\n        : moment(shift_ts_end).format(\"YYYY-MM-DD HH:mm:ss\");\n\n    const { location: { host, protocol } } = window;\n    const rendering_url = `${protocol}//${host}/chart_rendering/${site_code}/${ts_end}`;\n    const handleCheckboxEvent = value => event => {\n        const { target: { checked } } = event;\n        setCheckboxStatus({ ...checkboxStatus, [value]: checked });\n\n        if (checked) {\n            let type = value;\n            if (![\"surficial\", \"rainfall\"].includes(value)) {\n                type = value.replace(\"_\", \"/\");              \n            }\n            window.open(`${rendering_url}/${type}`, \"_blank\");\n        }\n    };\n\n    const snackBarActionFn = key => {\n        return (<Button\n            color=\"primary\"\n            onClick={() => { closeSnackbar(key); }}\n        >\n            Dismiss\n        </Button>);\n    };\n\n    const handleSendEOS = () => {\n        const loading_snackbar = enqueueSnackbar(\n            `Sending End-of-Shift Report for ${site_code.toUpperCase()}...`,\n            {\n                variant: \"warning\",\n                persist: true\n            }\n        );\n\n        const form_data = new FormData();\n        const file_name_ts = moment(ts_end).add(30, \"minutes\")\n        .format(\"YYYY-MM-DD HH:mm:ss\");\n        const charts = extractSelectedCharts(checkboxStatus);\n        charts.forEach(row => form_data.append(\"charts\", row));\n\n        attachedFiles.forEach(row => {       \n            form_data.append(\"attached_files\", row);\n        });\n\n        const input = {\n            shift_ts: shiftStartTs,\n            event_id,\n            data_analysis: dataAnalysis,\n            file_name_ts,\n            mail_body: prepareMailBody({ shiftSummary, dataAnalysis, shiftNarratives }),\n            site_code,\n            user_id: currentUser.user_id,\n        };\n\n        // eslint-disable-next-line no-restricted-syntax\n        for (const key in input) {\n            // eslint-disable-next-line no-prototype-builtins\n            if (input.hasOwnProperty(key)) form_data.append(key, input[key]);\n        }\n\n        sendEOSEmail(form_data, response=> {\n            closeSnackbar(loading_snackbar);\n            console.log(response);\n            let message = `Error sending End-of-Shift Report for ${site_code.toUpperCase()}...`;\n            let variant = \"error\";\n            if (response === \"Success\") {\n                message = `End-of-Shift Report for ${site_code.toUpperCase()} sent!`;\n                variant = \"success\";\n\n                setIsSent(true);\n            }\n\n            enqueueSnackbar(\n                message,\n                {\n                    variant,\n                    autoHideDuration: 7000,\n                    action: snackBarActionFn\n                }\n            );\n        }, () => {\n            closeSnackbar(loading_snackbar); \n            enqueueSnackbar(\n                `Error sending End-of-Shift Report for ${site_code.toUpperCase()}...`,\n                {\n                    variant: \"error\",\n                    autoHideDuration: 7000,\n                    action: snackBarActionFn\n                }\n            );\n        });\n    };\n\n    const handleDownload = () => {\n        const charts = extractSelectedCharts(checkboxStatus);\n        const input = {\n            site_code, user_id: currentUser.user_id, charts, file_name: `${site_code}_chart.pdf`\n        };\n\n        downloadEosCharts(input, response => {\n            const { status } = response;\n            if (status === false) {\n                const { file_response: { message: render_msg } } = response;\n                enqueueSnackbar(\n                    render_msg,\n                    {\n                        variant: \"error\",\n                        autoHideDuration: 7000,\n                        action: snackBarActionFn\n                    }\n                );\n            } else {\n                enqueueSnackbar(\n                    \"Download success!\",\n                    {\n                        variant: \"success\",\n                        autoHideDuration: 7000,\n                        action: snackBarActionFn\n                    }\n                );\n                const url = window.URL.createObjectURL(new Blob([response]));\n                const link = document.createElement(\"a\");\n                link.href = url;\n                link.setAttribute(\"download\", `${site_code}_chart.pdf`);\n                document.body.appendChild(link);\n                link.click();\n            }\n        });\n    };\n    \n    const handleFileChange = event => {\n        const { files } = event.target;\n        for (let i = 0; i < files.length; i += 1) {\n            const temp = files.item(i);\n            if (!attachedFiles.some(x => x.name === temp.name)) {\n                attachedFiles.push(temp);\n            }\n        }\n        setAttachedFiles([...attachedFiles]);\n    };\n\n    const handleRemoveFile = index => () => {\n        const files = attachedFiles;\n        files.splice(index, 1);\n        setAttachedFiles([...files]);\n    };\n    \n    const refreshNarratives = () => {\n        const temp = {\n            shift_ts: shiftStartTs,\n            event_id\n        };\n        getNarrative(temp, site_narrative => {\n            console.log(site_narrative);\n            setShiftNarratives(site_narrative);\n            // narrative_editor.setData(site_narrative);\n        });\n    };\n\n    // const config = {\n    //     toolbar: [\"bold\", \"italic\", \"link\", \"bulletedList\", \"numberedList\", \"blockQuote\", \"|\", \"undo\", \"redo\"]\n    // };\n\n    const editors = [\n        { \n            label: \"Shift Summary\", value: shiftSummary,\n            key: \"shift_summary\", updateFn: setShiftSummary\n        },\n        { \n            label: \"Data Analysis\", value: dataAnalysis,\n            key: \"data_analysis\", updateFn: setDataAnalysis\n        }\n    ];\n\n    const is_analysis_over_limit = analysis_char_count > 3000;\n\n    return (\n        <Accordion>\n            <AccordionSummary \n                expandIcon={<ExpandMoreIcon />}\n                className={is_sent ? classes.sent : \"\"}\n            >\n                <div className={classes.column}>\n                    <Typography variant=\"body1\">{site_code.toUpperCase()}</Typography>\n                </div>\n                <div className={classes.column}>\n                    <Typography variant=\"body1\">Shift Report</Typography>\n                </div>\n                {\n                    is_sent && <div className={classes.column} style={{ justifyContent: \"flex-end\" }}>\n                        <Chip label=\"Sent\" color=\"secondary\" />\n                    </div>\n                }\n            </AccordionSummary>\n            <Divider />\n            <AccordionDetails className={classes.details}>\n                <Grid container spacing={2}>\n                    <Grid item xs={12} style={{ marginTop: 12 }}>\n                        <Typography variant=\"body1\">\n                            <strong>Charts</strong>\n                        </Typography>\n                    </Grid>\n                    \n                    <Grid \n                        item xs={12} container\n                        spacing={1} justify=\"space-around\"\n                    >\n                        <CheckboxesGroup \n                            label=\"Data Sources\"\n                            changeHandler={handleCheckboxEvent}\n                            choices={choices}\n                            checkboxStyle=\"primary\"\n                        />\n                    </Grid>\n\n                    <Grid item xs={12} >\n                        <Typography variant=\"body1\">\n                            <strong>Attachments</strong>\n                        </Typography>\n                    </Grid>\n\n                    <Grid item xs={12} container>\n                        <Grid item xs={12}>\n                            <Paper square style={{ \n                                padding: \"8px 12px\", marginBottom: 12,\n                                background: \"gainsboro\", border: \"4px solid #CCCCCC\"\n                            }}>\n                                {\n                                    attachedFiles.length > 0 \n                                        ? attachedFiles.map((file, index) => {\n                                            return (\n                                                <Chip key={file.name} label={file.name} onDelete={handleRemoveFile(index)} color=\"primary\" />\n                                            );\n                                        })\n                                        : <Typography variant=\"body2\"><i>None</i></Typography>\n                                }\n                            </Paper>\n                        </Grid>\n                        <Grid item xs={12} container justify=\"flex-end\">\n                            <input\n                                className={classes.input}\n                                style={{ display: \"none\" }}\n                                multiple\n                                type=\"file\"\n                                onChange={handleFileChange}\n                                onClick={event => { event.target.value = null; }}\n                                id={`input-file-${site_code}`}\n                            />\n                            <label htmlFor={`input-file-${site_code}`}>\n                                <Button \n                                    startIcon={<Attachment />} \n                                    variant=\"contained\"\n                                    component=\"span\"\n                                    color=\"primary\"\n                                    size=\"small\"\n                                >\n                                    {attachedFiles.length > 0 ? \"Add more\" : \"Attach File\"}\n                                </Button>\n                            </label> \n                        </Grid>\n                    </Grid>\n\n                    {   \n                        editors.map(({ label, value, key, updateFn }) => (\n                            <Fragment key={key}>\n                                <Grid item xs={12}>\n                                    <Typography variant=\"body1\">\n                                        <strong>{label}</strong>\n                                    </Typography>\n                                </Grid>\n                                <Grid item xs={12}>\n                                    { /* \n                                        NOTE: To change textarea height of CKEditor, change .ck-editor__editable \n                                        value on index.css on react-ui/web\n                                    */ }\n                                    {/* <CKEditor\n                                        editor={ClassicEditor}\n                                        config={config}\n                                        onInit={editor => {\n                                            editor.setData(value);\n                                            remapCkeditorEnterKey(editor);\n                                        }}\n                                        onChange={(event, editor) => {\n                                            const data = editor.getData();\n                                            if (label === \"Data Analysis\") {\n                                                setAnalysisCharCount(data.length);\n                                            }\n                                            updateFn(data);\n                                        }}\n                                    /> */}\n                                    <ReactQuill \n                                        onChange={e => {\n                                            if (label === \"Data Analysis\") {\n                                                setAnalysisCharCount(e.length);\n                                                if (interval_id !== null) {\n                                                    setStartSavingCountdown(true);\n                                                } else { setIntervalID(1); }\n                                            }\n                                            updateFn(e);\n                                        }}\n                                        defaultValue={value}\n                                        modules={modules}\n                                        formats={formats}\n                                    />\n                                </Grid>\n                                {\n                                    label === \"Data Analysis\" && (\n                                        <Grid \n                                            container item xs={12}\n                                            justify=\"flex-end\" alignItems=\"center\"\n                                            style={{ color: is_analysis_over_limit ? \"red\" : \"black\" }}\n                                        >\n                                            <Tooltip \n                                                title=\"Content of text area is formatted on the background using HTML. HTML elements are included in the character count.\"\n                                                placement=\"top\"\n                                                interactive\n                                                arrow\n                                            >\n                                                <div><Info color=\"primary\" fontSize=\"small\"/>&nbsp;</div>\n                                            </Tooltip>\n                                            <Typography variant=\"caption\">\n                                                <strong>Character count (including HTML): {analysis_char_count}/3000</strong>\n                                            </Typography>\n\n                                            {\n                                                saving_status !== null && <Typography \n                                                    variant=\"caption\" component=\"div\"\n                                                    style={{\n                                                        marginLeft: 24, display: \"flex\", alignItems: \"center\",\n                                                        color: [\"typing\", \"saving\"].includes(saving_status) ? \"orange\" : \"green\"\n                                                    }}\n                                                >\n                                                    <div style={{ marginRight: 6 }}>\n                                                        <strong>{saving_status.toUpperCase()}</strong>\n                                                    </div>\n                                                    {\n\n                                                        [\"typing\", \"saving\"].includes(saving_status) ? <CircularProgress size={20}/>\n                                                            : <CheckCircle />\n                                                    }\n                                                </Typography>  \n                                            }      \n                                        </Grid>\n                                    )\n                                }\n                            </Fragment>\n                        ))\n                    }\n\n                    <Grid item xs={12}>\n                        <Typography variant=\"body1\">\n                            <strong>Shift Narratives </strong>\n                        </Typography>\n                        <Typography variant=\"body2\">\n                            <i>NOTE: It is recommended NOT to add narratives via this text box. Use Site Logs Form instead then click Refresh.</i>\n                        </Typography>\n                    </Grid>\n                    \n                    <Grid item xs={12}>\n                        {/* <CKEditor\n                            editor={ClassicEditor}\n                            config={config}\n                            onInit={editor => {\n                                editor.setData(shiftNarratives);\n                                setNarrativeEditor(editor);\n                                // editor.destroy();\n                            }}\n                            onChange={(event, editor) => {\n                                const data = editor.getData();\n                                setShiftNarratives(data);\n                            }}\n                        />  */}\n                        <ReactQuill \n                            onChange={e => setShiftNarratives(e)}\n                            value={shiftNarratives}\n                            defaultValue={shiftNarratives}\n                            modules={modules}\n                            formats={formats}\n                            bounds=\".app\"\n                        />\n                    </Grid>\n                </Grid>\n            </AccordionDetails>\n            <Divider />\n            <AccordionActions>\n                <Button\n                    size=\"small\"\n                    onClick={handleDownload}\n                    startIcon={<SaveAlt />}\n                >\n                    Download Charts\n                </Button>\n                <Button\n                    size=\"small\"\n                    startIcon={<Refresh />}\n                    onClick={refreshNarratives}\n                >\n                    Refresh Narratives\n                </Button>\n                <Button\n                    size=\"small\"\n                    color=\"primary\"\n                    startIcon={<Send />}\n                    onClick={handleSendEOS}\n                    disabled={is_analysis_over_limit}\n                >\n                    Send\n                </Button>\n            </AccordionActions>\n        </Accordion>\n    );\n}\n\nexport default DetailedAccordion;\n","import React, { useState } from \"react\";\nimport {\n    Dialog, DialogTitle, DialogContent,\n    DialogContentText, DialogActions,\n    Button, withMobileDialog, Checkbox,\n    FormControl, FormControlLabel,\n    Typography, IconButton, Grid,\n    CircularProgress, Box\n} from \"@material-ui/core\";\nimport { DoneAll } from \"@material-ui/icons\";\n\nfunction processCheckboxValues (props) {\n    const { \n        selectedSites, setSelectedSites,\n        site_code, checkAll\n    } = props;\n\n    const selected = selectedSites;\n\n    if (!selected.includes(site_code)) {\n        selected.push(site_code);\n    } else if (!checkAll) {\n        const index = selected.indexOf(site_code);\n        selected.splice(index, 1);\n    }\n\n    setSelectedSites([...selected]);\n}\n\nfunction SelectSiteModal (props) {\n    const {\n        fullScreen, isOpen,\n        closeHandler, eosData,\n        setSelectedEosData, setModalOpen,\n        setEosData\n    } = props;\n\n    const [selectedSites, setSelectedSites] = useState([]);\n    const [checkAll, setCheckAll] = useState(true);\n \n    const handleChange = site_code => event => {\n        const data = { selectedSites, setSelectedSites, site_code };\n        processCheckboxValues(data);\n    };\n\n    const handleSubmit = () => {\n        const final_eos_data = eosData.filter(row => selectedSites.includes(row.site_code));\n        setSelectedEosData(final_eos_data);\n        setModalOpen(false);\n    };\n\n    const handleCancel = () => {\n        closeHandler();\n        setEosData(null);\n    };\n\n    const handleCheckAll = () => {\n        eosData.forEach(row => {\n            const { site_code } = row;\n            const data = { selectedSites, setSelectedSites, site_code, checkAll };\n            processCheckboxValues(data);\n        });\n        setCheckAll(!checkAll);\n    };\n    \n    const no_sites = eosData !== null && eosData.length === 0;\n\n    return (\n        <div>\n            <Dialog\n                fullWidth\n                fullScreen={fullScreen}\n                open={isOpen}\n                maxWidth=\"sm\"\n                aria-labelledby=\"form-dialog-title\"\n            >\n                <DialogTitle id=\"form-dialog-title\">Generate End-of-Shift Report</DialogTitle>\n                <DialogContent>\n                    <DialogContentText>Select sites to create end-of-shift report.</DialogContentText>\n                    {\n                        eosData === null && (\n                            <Box display=\"flex\" justifyContent=\"center\">\n                                <CircularProgress />\n                            </Box>\n                        )\n                    }\n                    {\n                        no_sites === true && (\n                            <Typography variant=\"subtitle1\" align=\"center\">\n                                No site under event monitoring on this shift.\n                            </Typography>\n                        )\n                    }\n                    {\n                        eosData !== null && !no_sites && (\n                            <Grid container alignItems=\"baseline\">\n                                <IconButton onClick={handleCheckAll} style={{ marginRight: 6 }} aria-label=\"Select all\">\n                                    <DoneAll/>\n                                </IconButton>\n\n                                {\n                                    eosData.map(row => {\n                                        const { site_code, event_id } = row;\n                                        const checked = selectedSites.includes(site_code);\n                                        const site_code_label = site_code.toUpperCase();\n                                        return (\n                                            <FormControl key={event_id}>\n                                                <FormControlLabel\n                                                    control={\n                                                        <Checkbox\n                                                            key={event_id}\n                                                            onChange={handleChange(site_code)}\n                                                            value={site_code}\n                                                            color=\"primary\"\n                                                            checked={checked}\n                                                        />\n                                                    }\n                                                    label={site_code_label}\n                                                />\n                                            </FormControl>\n                                        );\n                                    })\n                                }\n                            </Grid>\n                        )\n                    }\n                </DialogContent>\n                <DialogActions>\n                    <Button onClick={handleCancel} color=\"primary\">\n                        Cancel\n                    </Button>\n                    <Button onClick={handleSubmit} color=\"primary\">\n                        Submit\n                    </Button>\n                </DialogActions>\n            </Dialog>\n        </div>\n    );\n}\n\nexport default withMobileDialog()(SelectSiteModal);\n","import React, { useState } from \"react\";\nimport ContentLoader from \"react-content-loader\";\nimport moment from \"moment\";\nimport { Grid, makeStyles, Button, withWidth, Paper } from \"@material-ui/core\";\nimport { isWidthDown } from \"@material-ui/core/withWidth\";\nimport { ArrowForwardIos } from \"@material-ui/icons\";\nimport MomentUtils from \"@date-io/moment\";\nimport { MuiPickersUtilsProvider, KeyboardDatePicker } from \"@material-ui/pickers\";\nimport DetailedExpansionPanels from \"./DetailedExpansionPanels\";\nimport SelectInputForm from \"../../reusables/SelectInputForm\";\nimport SelectSiteModal from \"./SelectSiteModal\";\n\nimport { getEndOfShiftReports } from \"../ajax\";\nimport { getCurrentUser } from \"../../sessions/auth\";\n\nconst useStyles = makeStyles(theme => ({\n    inputGridContainer: {\n        margin: \"12px 0\",\n        [theme.breakpoints.down(\"sm\")]: {\n            margin: \"0 0\"\n        }\n    },\n    AccordionsGroup: {\n        margin: \"12px 0\",\n        [theme.breakpoints.down(\"sm\")]: {\n            margin: \"24px 0\"\n        },\n        marginTop: 16\n    },\n    buttonGrid: {\n        textAlign: \"right\",\n        [theme.breakpoints.down(\"sm\")]: {\n            textAlign: \"right\"\n        }\n    },\n    button: {\n        fontSize: 16,\n        paddingLeft: 8\n    },\n    hidden: { display: \"none !important\" }\n}));\n\nconst MyLoader = () => (\n    <ContentLoader \n        height={150}\n        width={700}\n        speed={0.5}\n        foregroundColor=\"#f3f3f3\"\n        backgroundColor=\"#ecebeb\"\n        style={{ width: \"100%\" }}\n    >\n        <rect x=\"-4\" y=\"5\" rx=\"4\" ry=\"4\" width=\"700\" height=\"111\" /> \n    </ContentLoader>\n);\n\nexport function createDateTime ({ label, value, id }, handleDateTime) {\n    return (\n        <KeyboardDatePicker\n            required\n            autoOk\n            label={label}\n            value={value}\n            onChange={handleDateTime}\n            ampm={false}\n            placeholder=\"2010/01/01\"\n            format=\"YYYY/MM/DD\"\n            mask=\"____/__/__\"\n            clearable\n            disableFuture\n            variant=\"dialog\"\n            fullWidth\n            InputProps={{\n                style: { paddingRight: 0 }\n            }}\n        />\n    );\n}\n\n\n// eslint-disable-next-line max-params\nexport function prepareEOSRequest (start_ts, shift_time, setEosData) {\n    const time = shift_time === \"am\" ? \"07:30:00\" : \"19:30:00\"; \n    const moment_start_ts = moment(start_ts).format(`YYYY-MM-DD ${time}`);\n    const input = {\n        shift_start: moment_start_ts\n    };\n\n    getEndOfShiftReports(input, ret => {\n        setEosData(ret);\n    });\n    return moment_start_ts;\n}\n\nfunction EoSRNoData (props) {\n    const { isStart } = props;\n    const is_start = isStart === \"undefined\" ? false : isStart;\n    let message = \"No event report to generate\";\n    if (is_start) {\n        message = \"Generate end-of-shift reports here\";\n    }\n    return (\n        <Paper\n            style={{\n                height: \"20vh\", padding: 60, display: \"flex\",\n                justifyContent: \"center\", alignItems: \"center\",\n                background: \"gainsboro\", border: \"4px solid #CCCCCC\"\n            }}\n        >\n            <div>{message}</div>\n        </Paper>\n    );\n}\n\nfunction EndOfShiftGenerator (props) {\n    const { width, hidden } = props;\n    const classes = useStyles();\n    const datetime_now = moment();\n    const dt_hr = datetime_now.hour();\n    const [start_ts, setStartTs] = useState(datetime_now.format(\"YYYY-MM-DD\"));\n    const [shift_time, setShiftTime] = useState(dt_hr >= 10 && dt_hr <= 22 ? \"am\" : \"pm\");\n    const [isLoading, setIsLoading] = useState(false);\n    const [eosData, setEosData] = useState(null);\n    const [selectedEosData, setSelectedEosData] = useState(null);\n    const [shift_start_ts, setShiftStartTs] = useState(null);\n\n    const [is_modal_open, setModalOpen] = useState(false);\n    const set_modal_fn = bool => () => setModalOpen(bool);\n\n    const current_user = getCurrentUser();\n\n    const handleDateTime = value => {\n        setStartTs(value);\n    };\n\n    const handleClick = key => event => {\n        if (key === \"generate_report\") {\n            setModalOpen(false);\n        } else {\n            setModalOpen(true);\n            const ts = prepareEOSRequest(start_ts, shift_time, setEosData);\n            setShiftStartTs(ts);\n        }\n    };\n\n    const DisplayEOS = () => {\n        return (\n            selectedEosData.map((row, index) => (\n                <DetailedExpansionPanels\n                    data={row}\n                    key={index}\n                    shiftStartTs={shift_start_ts}\n                    currentUser={current_user}\n                />\n            ))\n        );\n    };\n\n    return (\n        <div className={ hidden ? classes.hidden : \"\" }>\n            <MuiPickersUtilsProvider utils={MomentUtils}>\n                <Grid \n                    container\n                    justify=\"space-between\"\n                    alignContent=\"center\"\n                    alignItems=\"center\"\n                    spacing={4}\n                    style={{ display: hidden ? \"none !important\" : \"\" }}\n                >\n                    {\n                        [\n                            { label: \"Shift Start\", value: start_ts, id: \"start_ts\" },\n                        ].map(row => {\n                            const { id } = row;\n\n                            return (\n                                <Grid item xs={12} sm key={id} className={classes.inputGridContainer}>\n                                    { createDateTime(row, handleDateTime) }\n                                </Grid>\n                            );\n                        })\n                    }\n\n                    <Grid item xs={12} sm>\n                        <SelectInputForm\n                            div_id=\"shift_time\"\n                            label=\"Shift Time\"\n                            changeHandler={event => setShiftTime(event.target.value)}\n                            value={shift_time}\n                            list={[{ id: \"am\", label: \"AM\" }, { id: \"pm\", label: \"PM\" }]}\n                            mapping={{ id: \"id\", label: \"label\" }}\n                            required\n                        />\n                    </Grid>\n\n                    <Grid\n                        item xs={12} sm\n                        className={`${classes.inputGridContainer} ${classes.buttonGrid}`}\n                    >\n                        <Button \n                            variant=\"contained\"\n                            color=\"secondary\"\n                            size={isWidthDown(\"sm\", width) ? \"small\" : \"medium\"}\n                            onClick={\n                                handleClick(\"site_list\")\n                            }\n                        >\n                            Generate <ArrowForwardIos className={classes.button} />\n                        </Button>\n                    </Grid>\n                </Grid>\n            </MuiPickersUtilsProvider>\n\n            <div className={classes.AccordionsGroup}>\n                {\n                    selectedEosData === null && !isLoading && (\n                        <EoSRNoData isStart />\n                    )\n                }\n\n                {\n                    isLoading ? (\n                        <MyLoader />\n                    ) : (\n                        <Paper>\n                            {\n                                selectedEosData !== null && (\n                                    selectedEosData.length > 0 ? (\n                                        <DisplayEOS/>\n                                        // selectedEosData.map((row, index) => (\n                                        //     <DetailedExpansionPanels\n                                        //         data={row}\n                                        //         key={index}\n                                        //         shiftStartTs={shift_start_ts}\n                                        //         currentUser={current_user}\n                                        //     />\n                                        // ))\n                                    ) : (\n                                        <EoSRNoData />\n                                    ) \n                                )\n                            }\n                        </Paper>\n                    )\n                }\n               \n            </div>\n            \n            <SelectSiteModal\n                isOpen={is_modal_open}\n                closeHandler={set_modal_fn(false)}\n                eosData={eosData}\n                setSelectedEosData={setSelectedEosData}\n                setModalOpen={setModalOpen}\n                setEosData={setEosData}\n            />\n        </div>\n    );\n}\n\nexport default withWidth()(EndOfShiftGenerator);\n","import React, { useState, useEffect, useContext } from \"react\";\n\nimport moment from \"moment\";\nimport { Popover, Typography } from \"@material-ui/core\";\nimport { Calendar, momentLocalizer } from \"react-big-calendar\";\nimport \"react-big-calendar/lib/css/react-big-calendar.css\";\n\nimport { MonitoringShiftsContext } from \"../../contexts/MonitoringShiftsContext\";\n\n\nfunction Event ({ event }) {\n    const [anchorEl, setAnchorEl] = useState(null);\n\n    const handleClick = e => {\n        setAnchorEl(e.currentTarget);\n    };\n    \n    const handleClose = () => {\n        setAnchorEl(null);\n    };\n\n    const open = Boolean(anchorEl);\n    const id = open ? \"simple-popover\" : undefined;\n    \n    return (\n        <div style={{ width: \"inherit\" }}>\n            <div aria-describedby={id} onClick={handleClick} role=\"button\" tabIndex=\"0\">\n                { event.title }\n            </div>\n\n            <Popover\n                id={id}\n                open={open}\n                anchorEl={anchorEl}\n                onClose={handleClose}\n                anchorOrigin={{\n                    vertical: \"bottom\",\n                    horizontal: \"center\",\n                }}\n                transformOrigin={{\n                    vertical: \"top\",\n                    horizontal: \"center\",\n                }}\n            >\n                <Typography variant=\"body1\" style={{ padding: 8 }}>{ event.title }</Typography>\n            </Popover>\n        </div>\n    );\n}\n\nfunction MonitoringShiftsCalendar (props) {\n    const { nickname } = props;\n    const has_nickname = typeof nickname !== \"undefined\"; // Return one user only\n    // used in Profiles Page\n    \n    const { monitoring_shifts: allShifts } = useContext(MonitoringShiftsContext);\n\n    const localizer = momentLocalizer(moment);\n    const [events, setEvents] = useState([]);\n\n    useEffect(() => {\n        const data = allShifts.flatMap(row => {\n            const start = moment(row.ts);\n            const end = moment(row.ts);\n            const time = start.hours() > 19 ? \"PM\" : \"AM\";\n\n            let ts_end = end.add(12, \"hours\");\n            if (time === \"PM\") {\n                ts_end = start.set({ h: 23, m: 59 }); \n            }\n\n            if (has_nickname) {\n                let name = null;\n                if (row.iompmt === nickname) name = `${nickname} (MT`;\n                if (row.iompct === nickname) name = `${nickname} (CT`;\n\n                if (name) {\n                    return [{\n                        title: `${name} - ${time})`,\n                        start,\n                        end: ts_end\n                    }];\n                }\n            } else {\n                return [{\n                    title: `${row.iompmt} (MT - ${time})`,\n                    start,\n                    end: ts_end\n                }, {\n                    title: `${row.iompct} (CT - ${time})`,\n                    start,\n                    end: ts_end\n                }];\n            }\n        });\n\n        setEvents(data);    \n    }, [allShifts, nickname]);\n\n    const now = moment();\n    const color_night = \"#053752\";\n    const color_day = \"#E5DE44\";\n    const eventStyle = (event, ts_start, ts_end) => {\n        const start = moment(ts_start);\n\n        let backgroundColor = color_day;\n        let color = \"black\";\n        if (start.hours() > 19) {\n            backgroundColor = color_night;\n            color = \"white\";\n        }\n\n        return {\n            className: \"\",\n            style: {\n                color,\n                borderRadius: 5,\n                border: \"none\",\n                fontSize: 12,\n                backgroundColor\n            }\n        };\n    };\n\n    const customDayPropGetter = date => {\n        const hr = now.hours();\n        const moment_date = moment(date);\n        const day_before = now.clone().subtract(1, \"day\");\n        const is_pm_early_morn = hr < 8 && day_before.isSame(moment_date, \"day\");\n        const is_today = hr >= 8 && moment_date.isSame(now, \"day\");\n\n        if (is_pm_early_morn || is_today) {\n            const color = (hr >= 8 && hr < 20) ? color_day : color_night;\n\n            return {\n                className: \"current-shift\",\n                style: {\n                    border: `dashed 5px ${color}`,\n                },\n            };\n        }\n        \n        return {};\n    };\n\n    return ( \n        <div style={{ height: has_nickname ? 300 : 850, width: \"-webkit-fill-available\" }}>\n            <Typography variant=\"subtitle2\" align=\"center\">\n                <i>Note: The border color of the bordered box specifies the current monitoring shift.</i>\n            </Typography>\n\n            <Calendar\n                events={events}\n                localizer={localizer}\n                defaultDate={new Date()}\n                eventPropGetter={eventStyle}\n                defaultView=\"month\"\n                dayPropGetter={customDayPropGetter}\n                views={[\"month\"]}\n                components={{\n                    event: Event\n                }}\n                popup\n            />           \n        </div> \n    );\n}\n\nexport default React.memo(MonitoringShiftsCalendar);\n","import React, { useState, useEffect } from \"react\";\n\nimport { Grid, makeStyles, Button, withWidth, Paper, Divider, Typography } from \"@material-ui/core\";\nimport { isWidthDown } from \"@material-ui/core/withWidth\";\nimport { ArrowForwardIos, Today } from \"@material-ui/icons\";\nimport MomentUtils from \"@date-io/moment\";\nimport { MuiPickersUtilsProvider, DateTimePicker } from \"@material-ui/pickers\";\nimport moment from \"moment\";\nimport { Link } from \"react-router-dom\";\nimport converter from \"number-to-words\";\n\nimport Accordion from \"@material-ui/core/Accordion\";\nimport AccordionDetails from \"@material-ui/core/AccordionDetails\";\nimport AccordionSummary from \"@material-ui/core/AccordionSummary\";\nimport ExpandMoreIcon from \"@material-ui/icons/ExpandMore\";\n\nimport GeneralStyles from \"../../../GeneralStyles\";\nimport DynaslopeUserSelectInputForm from \"../../reusables/DynaslopeUserSelectInputForm\";\nimport { getShiftData } from \"../ajax\";\nimport { capitalizeFirstLetter } from \"../../../UtilityFunctions\";\nimport MonitoringShiftsCalendar from \"../../widgets/monitoring_shifts/MonitoringShiftsCalendar\";\n\nconst useStyles = makeStyles(theme => {\n    const gen_style = GeneralStyles(theme);\n    return {\n        inputGridContainer: {\n            margin: \"12px 0\",\n            [theme.breakpoints.down(\"sm\")]: {\n                margin: \"0 0\"\n            }\n        },\n        divider: {\n            ...gen_style.pageContentMargin,\n            margin: 0\n        },\n        selects: {\n            width: \"auto\",\n            [theme.breakpoints.up(\"md\")]: {\n                width: \"-webkit-fill-available\"\n            }\n        },\n        link: {\n            textDecoration: \"none\"\n        },\n        valueFont: {\n            color: \"black\",\n            textDecoration: \"none\"\n        },\n        hidden: { display: \"none !important\" }\n    };\n});\n\nfunction prepareEventTimelineLink (classes, event_id, site_code) {\n    return (\n        <Link\n            className={classes.link}\n            to={`/monitoring/events/${event_id}`}\n            target=\"_blank\"\n        >\n            {site_code.toUpperCase()}\n        </Link>\n    );\n}\n\nfunction processShiftData (classes, raw_data) {\n    const new_data = raw_data.map((row, index1) => {\n        const { date, data, ampm, mt, ct } = row;\n\n        const word_temp = converter.toWords(data.length);\n        const alert_summary = `${capitalizeFirstLetter(word_temp)} (${data.length})`;\n        const new_stuff = data.map((second_row, index2) => {\n            const {\n                general_status, site_code, \n                public_alert_level, event_id,\n                internal_alert\n            } = second_row;\n\n            const event_link = prepareEventTimelineLink(classes, event_id, site_code);\n\n            return (\n                <Grid \n                    container justify=\"space-evenly\"\n                    direction=\"column\"\n                    item xs={4} key={`site_alert_${ index2 + 1}`}\n                >\n                    <Typography variant=\"body2\" align=\"center\">\n                        <span className={classes.valueFont}>{event_link}</span>\n                    </Typography>\n                    <Typography variant=\"body2\" align=\"center\">\n                        <span className={classes.valueFont}>Alert {public_alert_level} ({internal_alert})</span>\n                    </Typography>\n                    <Typography variant=\"body2\" color=\"textSecondary\" align=\"center\">\n                        Monitoring status: <span className={classes.valueFont}>{capitalizeFirstLetter(general_status)}</span>\n                    </Typography>\n                </Grid>\n            );\n        });\n\n        return (\n            <Accordion key={`monitoring_date_${ index1 + 1}`}>\n                <AccordionSummary\n                    expandIcon={<ExpandMoreIcon />}\n                    aria-controls=\"panel1a-content\"\n                    id=\"panel1a-header\"\n                >\n                    <Grid container>\n                        <Grid item xs={4}>\n                            <Typography color=\"textSecondary\" align=\"center\">\n                                Shift Date: <span className={classes.valueFont}>{moment(date).format(\"MMMM D, YYYY\")}</span>\n                            </Typography>\n                        </Grid>\n                        <Grid item xs={4}>\n                            <Typography color=\"textSecondary\" align=\"center\">\n                                Sites Monitored: <span className={classes.valueFont}>{alert_summary}</span>\n                            </Typography>\n                        </Grid>\n                        <Grid item xs={4}>\n                            <Typography color=\"textSecondary\" align=\"center\">\n                                Shift Schedule: <span className={classes.valueFont}>{ampm}</span>\n                            </Typography>\n                        </Grid>\n                    </Grid>\n                </AccordionSummary>\n                <Divider />\n                <AccordionDetails>\n                    <Grid container spacing={2} className={classes.def_padding}>\n                        <Grid item xs={4}>\n                            <Typography variant=\"body1\" color=\"textSecondary\" align=\"center\">\n                                Shift Schedule\n                            </Typography>\n                            <Typography variant=\"body1\" color=\"textPrimary\" align=\"center\">\n                                {ampm}\n                            </Typography>\n                        </Grid>\n                        <Grid item xs={4}>\n                            <Typography variant=\"body1\" color=\"textSecondary\" align=\"center\">\n                                MT Personnel\n                            </Typography>\n                            <Typography variant=\"body1\" color=\"textPrimary\" align=\"center\">\n                                {mt}\n                            </Typography>\n                        </Grid>\n                        <Grid item xs={4}>\n                            <Typography variant=\"body1\" color=\"textSecondary\" align=\"center\">\n                                CT Personnel\n                            </Typography>\n                            <Typography variant=\"body1\" color=\"textPrimary\" align=\"center\">\n                                {ct}\n                            </Typography>\n                        </Grid>\n                        <div style={{ paddingTop: 20, paddingBottom: 20 }}>\n                            <Divider />\n                        </div>                            \n                        {\n                            new_stuff                            \n                        }\n                    </Grid>\n                </AccordionDetails>\n                <Divider />\n            </Accordion>                         \n        );\n    });\n    \n    return new_data;\n}\n\nfunction createDateTime ({ label, value, id }, handleDateTime) {\n    return (\n        <DateTimePicker\n            required\n            autoOk\n            label={label}\n            value={value}\n            onChange={handleDateTime(id)}\n            ampm={false}\n            placeholder=\"2010/01/01 00:00\"\n            format=\"YYYY/MM/DD HH:mm\"\n            mask=\"____/__/__ __:__\"\n            clearable\n            disableFuture\n            inputVariant=\"outlined\"\n            fullWidth\n            InputProps={{\n                style: { paddingRight: 0 }\n            }}\n        />\n    );\n}\n\nfunction MonitoringShifts (props) {\n    const {\n        hidden, width,\n        defaultCalendarOpen\n    } = props;\n    const classes = useStyles();\n\n    const [ts_start, setTSStart] = useState(null);\n    const [ts_end, setTSEnd] = useState(null);\n    const [user_id, setUserID] = useState(\"\");\n\n    const [payload, setPayload] = useState({});\n    const [shift_data, setShiftData] = useState(\"\");\n\n    useEffect(() => {\n        setPayload({\n            ts_start: moment(ts_start).format(\"YYYY-MM-DD HH:mm:ss\"), \n            ts_end: moment(ts_end).format(\"YYYY-MM-DD HH:mm:ss\"), \n            user_id\n        });\n    }, [ts_start, ts_end, user_id]);\n\n    const handleDateTime = key => value => {\n        switch (key) {\n            case \"ts_start\":\n                setTSStart(value);\n                break;\n            case \"ts_end\":\n                setTSEnd(value);\n                break;\n            default:\n                break;\n        }\n    };\n\n    const handleEventChange = key => event => {\n        const { value } = event.target;\n        switch (key) {\n            case \"user_id\":\n                setUserID(value);\n                break;\n            default:\n                break;\n        }        \n    };\n\n    const handleSubmit = () => {\n        getShiftData(payload, ret => {\n            const processed_data = processShiftData(classes, ret);\n            setShiftData((\n                <Typography style={{ fontStyle: \"italic\" }}>\n                    No shift data\n                </Typography>\n            ));\n\n            if (processed_data.length > 0) setShiftData(processed_data);\n        });\n    };\n\n    return (\n        <div className={ hidden ? classes.hidden : \"\" }>\n            <Accordion defaultExpanded={defaultCalendarOpen}>\n                <AccordionSummary\n                    expandIcon={<ExpandMoreIcon />}\n                    aria-controls=\"panel1c-content\"\n                    id=\"panel1c-header\"\n                >\n                    <Typography variant=\"body1\" component={Grid} container>\n                        <Today style={{ marginRight: 8 }} /> <div><strong>MONITORING SHIFTS CALENDAR</strong></div>\n                    </Typography>\n                </AccordionSummary>\n                <Divider />\n                <AccordionDetails>\n                    <MonitoringShiftsCalendar />\n                </AccordionDetails>\n            </Accordion>\n\n            <MuiPickersUtilsProvider utils={MomentUtils}>\n                <Paper\n                    component={Grid}\n                    container spacing={2} \n                    style={{ marginTop: 16, marginBottom: 16, padding: 8 }}\n                    alignItems=\"center\"\n                >\n                    <Grid item xs={12}>\n                        <Typography variant=\"h6\">\n                            <strong>MONITORING SHIFT CHECKER</strong>\n                        </Typography>\n\n                        <Typography variant=\"subtitle2\">\n                            <i>Note: The checker currently shows event and extended releases only. Routine releases are NOT yet reflected.</i>\n                        </Typography>\n                    </Grid>\n            \n                    <Grid container spacing={2} item xs={12} sm={10}>\n                        {\n                            [\n                                { label: \"Start Timestamp\", value: ts_start, id: \"ts_start\" },\n                                { label: \"End Timestamp\", value: ts_end, id: \"ts_end\" },\n                            ].map(row => {\n                                return (\n                                    <Grid item xs={12} sm={6} md={4} key={row.id}>\n                                        {createDateTime(row, handleDateTime)}\n                                    </Grid>\n                                );\n                            })\n                        }\n\n                        <Grid item xs={12} sm={6} md={4}>\n                            <DynaslopeUserSelectInputForm\n                                label=\"Staff Name\"\n                                div_id=\"user_id\"\n                                changeHandler={handleEventChange(\"user_id\")}\n                                value={user_id}\n                                css={classes.selects}\n                                variant=\"outlined\"\n                            />\n                        </Grid>\n                    </Grid>\n\n                    <Grid item xs={12} sm container justify=\"center\">\n                        <Button variant=\"contained\" \n                            color=\"secondary\" \n                            size={isWidthDown(\"sm\", width) ? \"small\" : \"medium\"}\n                            onClick={handleSubmit}\n                            endIcon={<ArrowForwardIos />}\n                        >\n                            Generate\n                        </Button>\n                    </Grid>\n                </Paper>\n\n                <Grid item sm={12}>                                      \n                    {shift_data}\n                </Grid>\n            </MuiPickersUtilsProvider>\n        </div>\n    );\n}\n\nexport default withWidth()(MonitoringShifts);\n\n\n","import React, {\n    Fragment, useState, useEffect,\n    createContext\n} from \"react\";\nimport { matchPath } from \"react-router-dom\";\nimport { makeStyles } from \"@material-ui/core\";\nimport TabBar from \"../../reusables/TabBar\";\nimport GeneralStyles from \"../../../GeneralStyles\";\nimport PageTitle from \"../../reusables/PageTitle\";\nimport EndOfShiftGenerator from \"./EndOfShiftGenerator\";\nimport MonitoringShifts from \"./MonitoringShifts\";\n\nconst useStyles = makeStyles(theme => {\n    const gen_style = GeneralStyles(theme);\n    \n    return {\n        ...gen_style,\n        tabBar: {\n            ...gen_style.pageContentMargin,\n            margin: 0\n        },\n        tabBarContent: {\n            marginTop: 30\n        }\n    }; \n});\n\nconst tabs_array = [\n    { label: \"End-of-Shift Report Generator\", href: \"report_generator\" },\n    { label: \"Monitoring Shifts\", href: \"shifts\" }\n];\n\nexport const CalendarContext = createContext();\n\nfunction Container (props) {\n    const { history, match: { url }, location: { pathname } } = props;\n    const [chosenTab, setChosenTab] = useState(0);\n    const classes = useStyles();\n\n    const [open_calendar_on_start, setOpenCalendarOnStart] = useState(false);\n\n    useEffect(() => {\n        const match = matchPath(pathname, {\n            path: `${url}/:tab`,\n            exact: true\n        });\n    \n        if (match) {\n            const { params: { tab } } = match;\n            const index = tabs_array.findIndex(x => x.href === tab);\n            setChosenTab(index);\n            \n            if (index === 1) setOpenCalendarOnStart(true);\n        }\n    }, [url]);\n\n    const handleTabSelected = chosen_tab => {\n        setChosenTab(chosen_tab);\n        history.push(`${url}/${tabs_array[chosen_tab].href}`);\n    };\n\n    return (\n        <Fragment>\n            <div className={classes.pageContentMargin}>\n                <PageTitle title=\"Alert Monitoring | Shifts & Reports\" />\n            </div>\n\n            <div className={classes.tabBar}>\n                <TabBar \n                    chosenTab={chosenTab}\n                    onSelect={handleTabSelected}\n                    tabsArray={tabs_array}\n                />\n            </div>\n            \n            <div className={`${classes.pageContentMargin} ${classes.tabBarContent}`}>\n                <EndOfShiftGenerator hidden={chosenTab !== 0} />\n                <MonitoringShifts hidden={chosenTab !== 1} defaultCalendarOpen={open_calendar_on_start} />\n            </div>\n\n        </Fragment>\n    );\n}\n\n\nexport default Container;\n","import React from \"react\";\nimport Grow from \"@material-ui/core/Grow\";\nimport TextField from \"@material-ui/core/TextField\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport ForwardIcon from \"@material-ui/icons/Forward\";\nimport ClearIcon from \"@material-ui/icons/Clear\";\nimport { withStyles } from \"@material-ui/core/styles\";\n\nconst defaultSearchStyles = theme => ({\n    main: {\n        display: \"flex\",\n        flex: \"1 0 auto\",\n    },\n    searchText: {\n        flex: \"0.8 0\",\n    },\n    clearIcon: {\n        \"&:hover\": {\n            color: theme.palette.error.main,\n        },\n    },\n});\n\nclass CustomSearchRender extends React.Component {\n    componentDidMount () {\n        document.addEventListener(\"keydown\", this.onKeyDown, false);\n    }\n\n    componentWillUnmount () {\n        document.removeEventListener(\"keydown\", this.onKeyDown, false);\n    }\n\nhandleTextChange = event => {\n    const { onSearchChange } = this.props.options;\n\n    if (onSearchChange) {\n        onSearchChange(event.target.value);\n    }\n\n    this.props.onSearch(event.target.value);\n};\n\nonKeyDown = event => {\n    if (event.keyCode === 27) {\n        this.props.onHide();\n    } else if (event.keyCode === 13) {\n        this.props.onSearchClick();\n    }\n};\n\nrender () {\n    const { classes, options, onHide, searchText, onSearchClick } = this.props;\n\n    return (\n        <Grow appear in timeout={300}>\n            <div className={classes.main} ref={el => (this.rootRef = el)}>\n                <TextField\n                    placeholder=\"Type words to search narrative column\"\n                    className={classes.searchText}\n                    InputProps={{\n                        \"aria-label\": options.textLabels.toolbar.search,\n                    }}\n                    value={searchText || \"\"}\n                    onChange={this.handleTextChange}\n                    fullWidth\n                    inputRef={el => (this.searchField = el)}\n                />\n                <IconButton className={classes.clearIcon} style={{ marginLeft: 6 }} onClick={onSearchClick}>\n                    <ForwardIcon />\n                </IconButton>\n                <IconButton className={classes.clearIcon} onClick={onHide}>\n                    <ClearIcon />\n                </IconButton>\n            </div>\n        </Grow>\n    );\n}\n}\n\nexport default withStyles(defaultSearchStyles, { name: \"CustomSearchRender\" })(CustomSearchRender);","import axios from \"axios\";\nimport { host } from \"../../../config\";\n\nfunction makeAxiosRequest (json_data, api_link, callback = null) {\n    axios.post(api_link, json_data)\n    .then((response) => {\n        const { data } = response; \n        if (callback !== null) {\n            callback(data);\n        } \n    })\n    .catch((error) => {\n        console.log(error);\n    });\n}\n\nexport function handleDelete (json_data, callback) {\n    const api_link = `${host}/api/narratives/delete_narratives_from_db`;\n    makeAxiosRequest(json_data, api_link, callback);\n}\n\n\nexport function handleNarratives (json_data, callback) {\n    const api_link = `${host}/api/narratives/write_narratives_to_db`;\n    makeAxiosRequest(json_data, api_link, callback);\n}\n\n// eslint-disable-next-line import/prefer-default-export\nexport function getEndOfShiftReports (input, callback) {\n    console.log(\"JUST A PLACEHOLDER\");\n}\n","import React from \"react\";\nimport {\n    TextField, Grid, makeStyles,\n    Typography, FormControlLabel,\n    Checkbox, Tooltip\n} from \"@material-ui/core\";\n\n// Form Related Imports\nimport MomentUtils from \"@date-io/moment\";\nimport { MuiPickersUtilsProvider, TimePicker, DatePicker } from \"@material-ui/pickers\";\n\nimport DynaslopeSiteSelectInputForm from \"../../reusables/DynaslopeSiteSelectInputForm\";\nimport DynaslopeUserSelectInputForm from \"../../reusables/DynaslopeUserSelectInputForm\";\n\nconst useStyles = makeStyles(theme => ({\n    inputGridContainer: {\n        marginTop: 6,\n        marginBottom: 6\n    },\n    checkboxGridContainer: {\n        marginTop: 12,\n        marginBottom: 6\n    },\n    selectInput: {\n        width: \"auto\",\n        [theme.breakpoints.down(\"xs\")]: {\n            width: \"250px\"\n        }\n    },\n    root: {\n        width: \"90%\",\n    },\n    backButton: {\n        marginRight: 1\n    },\n    instructions: {\n        marginTop: 1,\n        marginBottom: 1,\n    }\n}));\n\nfunction NarrativeForm (props) {\n    const classes = useStyles();\n    const {\n        narrativeData,\n        setNarrativeData, siteList,\n        setSiteList, isFromSiteLogs,\n        callAck, setCallAck,\n        callAckHashtag, toUseCurrentInstance,\n        setToUseCurrentInstance\n    } = props;\n    const {\n        narrative, timestamp, user_id, narrative_id\n    } = narrativeData;\n\n    const handleDateTime = key => value => {\n        setNarrativeData({\n            ...narrativeData,\n            [key]: value  \n        });\n    };\n\n    const update_site_value = value => {\n        setSiteList(value);\n    };\n\n\n    const handleEventChange = key => event => {\n        const { value } = event.target;\n\n        setNarrativeData({\n            ...narrativeData,\n            [key]: value  \n        });\n    };\n\n    const handleCallAckOnCheck = event => {\n        const { checked } = event.target;\n        setCallAck(checked);\n\n        let new_narrative = narrative;\n        const with_space = ` ${callAckHashtag}`;\n        if (checked) {\n            if (narrative.length + with_space.length > 1000) {\n                new_narrative.substring(0, 1000 - with_space.length);\n            }\n            \n            new_narrative += with_space;\n        } else {\n            new_narrative = narrative.replace(with_space, \"\");\n        }\n        \n        setNarrativeData({\n            ...narrativeData,\n            narrative: new_narrative\n        });\n    };\n\n    return (\n        <MuiPickersUtilsProvider utils={MomentUtils}>\n            <Grid\n                container\n                justify=\"space-evenly\"\n                alignItems=\"center\"\n                spacing={1}\n            >\n                <Grid item xs={12} className={classes.inputGridContainer}>\n                    <DynaslopeSiteSelectInputForm \n                        value={siteList}\n                        changeHandler={update_site_value}\n                        isMulti\n                        isFromSiteLogs={isFromSiteLogs}\n                        disabled={Boolean(narrative_id)}      \n                    />\n                </Grid>\n                \n                <Grid item xs={12} sm={6} className={classes.inputGridContainer}>\n                    <DatePicker\n                        required\n                        autoOk\n                        label=\"Date\"\n                        value={timestamp}\n                        onChange={handleDateTime(\"timestamp\")}\n                        ampm={false}\n                        placeholder=\"2020-01-01\"\n                        format=\"YYYY-MM-DD\"\n                        mask=\"____-__-__\"\n                        clearable\n                        disableFuture\n                        fullWidth\n                    />\n                </Grid>\n\n                <Grid item xs={12} sm={6} className={classes.inputGridContainer}>\n                    <TimePicker\n                        required\n                        autoOk\n                        label=\"Time\"\n                        value={timestamp}\n                        onChange={handleDateTime(\"timestamp\")}\n                        ampm={false}\n                        placeholder=\"00:00\"\n                        format=\"HH:mm\"\n                        mask=\"__:__\"\n                        clearable\n                        disableFuture\n                        fullWidth\n                    />\n                </Grid>\n\n                <Grid item xs={12} className={classes.inputGridContainer}>\n                    <DynaslopeUserSelectInputForm\n                        variant=\"standard\"\n                        label=\"Reporter\"\n                        div_id=\"user_id\"\n                        changeHandler={handleEventChange(\"user_id\")}\n                        value={user_id}\n                        disabled\n                    />\n                </Grid>\n\n                <Grid item xs={12} className={classes.inputGridContainer}>\n                    <FormControlLabel\n                        value=\"callAck\"\n                        control={<Checkbox \n                            color=\"primary\" checked={toUseCurrentInstance}\n                            onClick={e => setToUseCurrentInstance(e.target.checked)}\n                        />}\n                        label={<div>\n                            Associate site log to current monitoring instance&nbsp;\n                            <Tooltip\n                                title=\"Unchecking this will associate the log on the montoring event where the log's timestamp falls through.\">\n                                <strong>[?]</strong>\n                            </Tooltip>\n                        </div>}\n                        labelPlacement=\"end\"\n                    />\n                </Grid>\n\n                <Grid item xs={12}>\n                    <FormControlLabel\n                        value=\"callAck\"\n                        control={<Checkbox \n                            color=\"primary\" checked={callAck}\n                            onClick={handleCallAckOnCheck}\n                        />}\n                        label={<div>\n                            Early Warning Information (EWI) acknowledgement call&nbsp;\n                            <Tooltip\n                                title=\"Tick this if the log to enter is a call that acknowledges an EWI. This will add #EWIResponseCall on the narrative.\"><strong>[?]</strong>\n                            </Tooltip>\n                        </div>}\n                        labelPlacement=\"end\"\n                    />\n                </Grid>\n\n                <Grid item xs={12} className={classes.inputGridContainer}>\n                    <TextField\n                        required\n                        id=\"standard-multiline-static\"\n                        label=\"Narrative\"\n                        value={narrative}\n                        onChange={handleEventChange(\"narrative\")}\n                        placeholder=\"Enter narrative\"\n                        multiline\n                        rows=\"4\"\n                        rowsMax={4}\n                        fullWidth\n                        inputProps={{\n                            maxLength: 1000\n                        }}\n                        variant=\"filled\"\n                    />\n                    <Typography\n                        component={Grid}\n                        container justify=\"flex-end\"\n                        variant=\"caption\"\n                    >\n                        Characters: {narrative.length}/1000\n                    </Typography>\n                </Grid>\n            </Grid>\n        </MuiPickersUtilsProvider>           \n    );\n}\n\n\nexport default NarrativeForm;\n","import React, { useState, useEffect, useContext } from \"react\";\nimport moment from \"moment\";\nimport {\n    Dialog, DialogTitle, DialogContent,\n    DialogContentText, DialogActions,\n    Button, withMobileDialog\n} from \"@material-ui/core\";\n\nimport { useSnackbar } from \"notistack\";\n\nimport { handleNarratives } from \"./ajax\";\nimport NarrativeForm from \"./NarrativeForm\";\nimport { getCurrentUser } from \"../../sessions/auth\";\nimport { GeneralContext } from \"../../contexts/GeneralContext\";\nimport { prepareSiteAddress } from \"../../../UtilityFunctions\";\n\nexport function prepareSitesOption (arr, to_include_address) {\n    return arr.map(site => {\n        const { \n            site_code, site_id\n        } = site;\n\n        let address = site_code.toUpperCase();\n        if (to_include_address) address = prepareSiteAddress(site, true, \"start\");\n        return { value: site_id, label: address, data: site };\n    });\n}\n\nfunction NarrativeFormModal (props) {\n    const {\n        fullScreen, isOpen,\n        closeHandler, setIsUpdateNeeded,\n        chosenNarrative, isEditMode,\n        isFromSiteLogs, setSort, resetInput\n    } = props;\n\n    const { enqueueSnackbar, closeSnackbar } = useSnackbar();\n    const current_user = getCurrentUser();\n\n    const initial_data = {\n        narrative_id: null,\n        timestamp: moment().format(\"YYYY-MM-DD HH:mm\"),\n        narrative: \"\",\n        user_id: current_user.user_id,\n        event_id: null,\n        type_id: 1\n    };\n\n    const [site_list, setSiteList] = useState(null);\n    const [narrative_data, setNarrativeData] = useState(initial_data);\n    const [isDisabled, setIsDisabled] = useState(true);\n    const { sites } = useContext(GeneralContext);\n    const site_options = prepareSitesOption(sites, true);\n    const call_ack_hashtag = \"#EWIResponseCall\"; // when changing this, mirror change on communication_task.py\n    const [call_ack, setCallAck] = useState(false);\n    const [to_use_current_instance, setToUseCurrentInstance] = useState(true);\n\n    useEffect(() => {\n        let default_narr_data = {};\n        let temp_narrative = \"\";\n        if (Object.keys(chosenNarrative).length !== 0) {\n            const {\n                id, narrative, timestamp, site_id, user_id, event_id, type_id\n            } = chosenNarrative;\n\n            const site = site_options.filter(row => row.value === site_id);\n            delete site.data;\n            site.event_id = event_id;\n            setSiteList([...site]);\n\n            default_narr_data = {\n                narrative_id: id,\n                timestamp, narrative,\n                user_id, event_id, type_id\n            };\n            setNarrativeData(default_narr_data);\n            temp_narrative = narrative;\n        }\n        setCallAck(temp_narrative.includes(call_ack_hashtag));\n    }, [chosenNarrative]);\n    \n    useEffect(() => {\n        const bool = narrative_data.narrative === \"\" || site_list === null;\n        setIsDisabled(bool);\n    }, [narrative_data, site_list]);\n\n    const handleSubmit = () => {\n        setIsDisabled(true);\n\n        const snackbar = enqueueSnackbar(\n            \"Inserting site log...\",\n            {\n                variant: \"warning\",\n                persist: true\n            }\n        );\n\n        const temp = site_list.map(x => {\n            const { value, event_id } = x; // Value is site_id\n            let temp_id = event_id || null;\n            if (!to_use_current_instance) temp_id = null;\n            \n            return { site_id: value, event_id: temp_id };\n        });\n\n        narrative_data.site_list = temp;\n        narrative_data.timestamp = moment(narrative_data.timestamp).format(\"YYYY-MM-DD HH:mm:ss\");\n        narrative_data.user_id = current_user.user_id;\n        console.log(narrative_data);\n        // return;\n        handleNarratives(narrative_data, ret => {\n            console.log(\"ret\", ret);\n            handleReset();\n\n            closeSnackbar(snackbar);\n            enqueueSnackbar(\n                \"Site log inserted successfully!\",\n                {\n                    variant: \"success\",\n                    autoHideDuration: 3000\n                }\n            );\n\n            setSort({ order_by: \"id\", order: \"desc\" });\n            resetInput();\n            setIsUpdateNeeded(true);\n            if (isEditMode) {\n                closeFn();        \n            }\n        });\n    };\n\n    const handleReset = () => {\n        setNarrativeData({\n            narrative_id: null,\n            narrative: \"\",\n            user_id: current_user.user_id,\n            event_id: \"\",\n            type_id: 1\n        });\n        setSiteList(site_list);\n        setCallAck(false);\n        setToUseCurrentInstance(true);\n    };\n\n    const handleFullReset = () => {\n        setNarrativeData({\n            narrative_id: null,\n            timestamp: moment().format(\"YYYY-MM-DD HH:mm\"),\n            narrative: \"\",\n            user_id: current_user.user_id,\n            event_id: \"\",\n            type_id: 1\n        });\n        setSiteList(null);\n        setToUseCurrentInstance(true);\n    };\n\n    const closeFn = () => {\n        closeHandler(); \n        handleFullReset();\n    };\n\n    return (\n        <div>\n            <Dialog\n                fullWidth\n                fullScreen={fullScreen}\n                open={isOpen}\n                aria-labelledby=\"form-dialog-title\"\n\n            >\n                <DialogTitle id=\"form-dialog-title\">Site Logs Form</DialogTitle>\n                <DialogContent>\n                    <DialogContentText>\n                        Note: Only monitoring-related narratives can be entered in this form. \n                        Please use other forms dedicated to its purposes.\n                    </DialogContentText>\n\n                    <NarrativeForm\n                        narrativeData={narrative_data}\n                        setNarrativeData={setNarrativeData}\n                        siteList={site_list}\n                        setSiteList={setSiteList}\n                        isFromSiteLogs={isFromSiteLogs}\n                        callAck={call_ack}\n                        setCallAck={setCallAck}\n                        callAckHashtag={call_ack_hashtag}\n                        toUseCurrentInstance={to_use_current_instance}\n                        setToUseCurrentInstance={setToUseCurrentInstance}\n                    />\n                </DialogContent>\n                <DialogActions>\n                    <div>\n                        <Button onClick={closeFn} color=\"primary\">\n                            Cancel\n                        </Button>\n                        <Button onClick={handleFullReset}>Reset</Button>\n                        <Button \n                            variant=\"contained\"\n                            color=\"primary\"\n                            onClick={handleSubmit}\n                            disabled={isDisabled}\n                        >\n                            {isEditMode ? \"Save Edits\" : \"Save & Add More\"}\n                        </Button>\n                    </div>\n                </DialogActions>\n            </Dialog>\n        </div>\n    );\n}\nexport default withMobileDialog()(NarrativeFormModal);\n","import React from \"react\";\nimport {\n    Dialog, DialogTitle, DialogContent,\n    DialogContentText, DialogActions,\n    Button, withMobileDialog\n} from \"@material-ui/core\";\nimport { handleDelete } from \"./ajax\";\n\nfunction DeleteNarrativeModal (props) {\n    const {\n        fullScreen, isOpen,\n        closeHandler, chosenNarrative, \n        setIsUpdateNeeded\n    } = props;\n    const { id: narrative_id, narrative } = chosenNarrative;\n\n    const handleDeleteClick = () => {\n        closeHandler();\n        const payload = {\n            narrative_id\n        };\n        handleDelete(payload, ret => {\n            console.log(\"ret\", ret);\n            setIsUpdateNeeded(true);\n        });\n    };\n\n    return (\n        <div>\n            <Dialog\n                fullWidth\n                fullScreen={fullScreen}\n                open={isOpen}\n                aria-labelledby=\"form-dialog-title\"\n\n            >\n                <DialogTitle id=\"form-dialog-title\">Site Logs Delete</DialogTitle>\n                <DialogContent>\n                    <DialogContentText>\n                        Are you sure you want to delete this narrative?\n                    </DialogContentText>\n                    <DialogContentText align=\"center\">\n                        { `\"${narrative}\"` }\n                    </DialogContentText>\n                </DialogContent>\n                <DialogActions>\n                    <div>\n                        <Button onClick={closeHandler} color=\"primary\">\n                            Cancel\n                        </Button>\n                        <Button variant=\"contained\" color=\"secondary\" onClick={handleDeleteClick} disabled={false}>\n                            Confirm\n                        </Button>\n                    </div>\n                </DialogActions>\n            </Dialog>\n        </div>\n    );\n}\n\nexport default withMobileDialog()(DeleteNarrativeModal);\n","import React, { \n    useState, useEffect,\n    Fragment, useContext\n} from \"react\";\n\nimport {\n    Paper, LinearProgress, Checkbox, InputLabel,\n    makeStyles, Dialog, DialogContent, FormControl,\n    Button, IconButton, ListItemText, Select, MenuItem,\n    ListItemIcon\n} from \"@material-ui/core\";\nimport { AddAlert, Edit, Delete, Warning } from \"@material-ui/icons\";\nimport withWidth, { isWidthUp } from \"@material-ui/core/withWidth\";\nimport { createMuiTheme, MuiThemeProvider } from \"@material-ui/core/styles\";\n\nimport moment from \"moment\";\nimport MUIDataTable from \"mui-datatables\";\n\nimport CustomSearchRender from \"./CustomSearchRender\";\nimport { getNarratives } from \"../ajax\";\nimport PageTitle from \"../../reusables/PageTitle\";\nimport GeneralStyles from \"../../../GeneralStyles\";\nimport NarrativeFormModal from \"../../widgets/narrative_form/NarrativeFormModal\";\nimport DeleteNarrativeModal from \"../../widgets/narrative_form/DeleteNarrativeModal\";\nimport { prepareSiteAddress } from \"../../../UtilityFunctions\";\nimport { GeneralContext } from \"../../contexts/GeneralContext\";\nimport { \n    subscribeToWebSocket, unsubscribeToWebSocket, receiveAlertsFromDB\n} from \"../../../websocket/monitoring_ws\";\n\nconst useStyles = makeStyles(theme => {\n    const gen = GeneralStyles(theme);\n    return {\n        ...gen,\n        inputGridContainer: {\n            margin: \"12px 0\",\n            [theme.breakpoints.down(\"sm\")]: {\n                margin: \"0 0\"\n            }\n        },\n        buttonGrid: {\n            textAlign: \"right\",\n            [theme.breakpoints.down(\"sm\")]: {\n                textAlign: \"right\"\n            }\n        },\n        button: {\n            fontSize: 16,\n            paddingLeft: 8\n        },\n        alert3: {\n            ...gen.alert3,\n            \"&:hover *\": {\n                color: \"#222222 !important\"\n            },\n        }\n    }; \n});\n\nconst getMuiTheme = createMuiTheme({\n    overrides: {\n        MUIDataTableHeadCell: {\n            root: {\n                zIndex: \"0 !important\"\n            }\n        }\n    }\n});\n\nfunction getManipulationButtons (narrative, data_handlers) {\n    const { \n        setChosenNarrative, setIsOpenNarrativeModal,\n        setIsOpenDeleteModal, setIsEditMode } = data_handlers;\n\n    const handleEdit = value => {\n        setChosenNarrative(narrative);\n        setIsOpenNarrativeModal(true);\n        setIsEditMode(true);\n        // console.log(\"Edit\", narrative);\n    };\n\n    const handleDelete = value => {\n        setChosenNarrative(narrative);\n        setIsOpenDeleteModal(true);\n    };\n\n    return (\n        <span>\n            <IconButton tooltip=\"Edit\" style={{ \"float\": \"left\" }} onClick={handleEdit}>\n                <Edit style={{ fontSize: 20 }}/>\n            </IconButton> \n            <IconButton tooltip=\"Delete\" style={{ \"float\": \"left\" }} onClick={handleDelete}>\n                <Delete style={{ fontSize: 20 }}/>\n            </IconButton>\n        </span>        \n    );\n}\n\nfunction processTableData (data) {\n    const processed = data.map(row => {\n        const {\n            narrative, user_details, site_id,\n            user_id, id, type_id, event_id,\n            timestamp\n        } = row;\n\n        let name = \"---\";\n        if (user_details !== null) {\n            const { last_name, first_name } = user_details;\n            name = `${first_name} ${last_name}`;\n        }\n        return ({\n            narrative,\n            user_details: name,\n            site_name: prepareSiteAddress(row.site, true, \"start\"),\n            timestamp,\n            type: row.type_id,\n            actions: \"---\",\n            site_id,\n            user_id,\n            id,\n            type_id,\n            event_id\n        });\n    });\n\n    return processed;\n}\n\nfunction SiteLogs (props) {\n    const { width } = props;\n    const classes = useStyles();\n    const [table_data, setTableData] = useState([]);\n    const [page, setPage] = useState(0);\n    const [rowsPerPage, setRowsPerPage] = useState(10);\n    const [count, setCount] = useState(0);\n    const [filters, setFilters] = useState([]);\n    const [filter_list, setFilterList] = useState([]);\n    const [search_str, setSearchString] = useState(\"\");\n    const [sort, setSort] = useState({ order_by: \"timestamp\", order: \"desc\" });\n\n    const [is_loading, setIsLoading] = useState(true);\n    const [isOpenNarrativeModal, setIsOpenNarrativeModal] = useState(false);\n    const [isOpenDeleteModal, setIsOpenDeleteModal] = useState(false);\n    const [isEditMode, setIsEditMode] = useState(false);\n\n    const [chosenNarrative, setChosenNarrative] = useState({});\n    const [isUpdateNeeded, setIsUpdateNeeded] = useState(true);\n    const [alertsFromDbData, setAlertsFromDbData] = useState(null);\n    const { setIsReconnecting } = useContext(GeneralContext);\n\n    const { sites } = useContext(GeneralContext);\n\n    const filter_sites_option = [];\n    const sites_dict = {};\n\n    sites.forEach(site => {\n        const site_code = site.site_code.toUpperCase();\n        filter_sites_option.push(site_code);\n        sites_dict[site_code] = site.site_id;\n    });\n\n    useEffect(() => {\n        subscribeToWebSocket(setIsReconnecting);\n        receiveAlertsFromDB(alerts_from_db => setAlertsFromDbData(alerts_from_db));\n        \n        return function cleanup () {\n            unsubscribeToWebSocket();\n        };\n    }, []);\n\n    useEffect(() => {\n        if (isUpdateNeeded) {\n            setIsLoading(true);\n            const input = {\n                include_count: true,\n                limit: rowsPerPage, offset: page * rowsPerPage,\n                filters, search_str,\n                ...sort\n            };\n\n            getNarratives(input, ret => {\n                const { narratives, count: total } = ret;\n                const processed = processTableData(narratives);\n                setTableData(processed);\n                setCount(total);\n                setIsLoading(false);\n            });\n\n            setIsUpdateNeeded(false);\n        }\n    }, [page, rowsPerPage, filters, search_str, sort, isUpdateNeeded]);\n\n    const resetInput = (exclude_filters = false) => {\n        setPage(0);\n        if (!exclude_filters) setFilters([]);\n        setSearchString(\"\");\n    };\n\n    const handleBoolean = (data, bool) => () => {\n        // NOTE: there was no need to use the bool for opening a modal or switch\n        if (data === \"is_narrative_modal_open\") {\n            setIsOpenNarrativeModal(!isOpenNarrativeModal);\n            setIsEditMode(false);\n            setChosenNarrative({});\n        } else if (data === \"is_open_delete_modal\") {\n            setIsOpenDeleteModal(!isOpenDeleteModal);\n        }\n    };\n\n    const options = {\n        textLabels: {\n            body: {\n                noMatch: \"No data\",\n            }\n        },\n        selectableRows: \"none\",\n        print: false,\n        download: false,\n        filterType: \"multiselect\",\n        responsive: isWidthUp(width, \"xs\") ? \"standard\" : \"simple\",\n        serverSide: true,\n        searchText: search_str,\n        searchPlaceholder: \"Type words to search narrative column\",\n        rowsPerPageOptions: [5, 10, 15],\n        rowsPerPage,\n        count,\n        page,\n        onTableChange (action, table_state) {\n            if (action === \"changePage\") {\n                const { page: cur_page } = table_state;\n                setPage(cur_page);\n            } else if (action === \"changeRowsPerPage\") {\n                const { rowsPerPage: cur_rpp } = table_state;\n\n                if (cur_rpp !== rowsPerPage) setRowsPerPage(cur_rpp);\n            } else if (action === \"resetFilters\") {\n                setFilterList({});\n                setFilters([]);\n            }\n            \n            const action_set = [\"changePage\", \"changeRowsPerPage\", \"resetFilters\"];\n            if (action_set.includes(action)) setIsUpdateNeeded(true);\n        },\n        onColumnSortChange (column, direction) {\n            const order = direction === \"ascending\" ? \"asc\" : \"desc\";\n            setSort({ order_by: column, order });\n            setIsUpdateNeeded(true);\n        },\n        onFilterChange (column, ret_filters) {\n            const chosen_filters = [];\n            let is_empty = true;\n            ret_filters.forEach((row, index) => {\n                if (row.length !== 0) {\n                    is_empty = false;\n                    const { name: column_name } = columns[index];\n                    if (column_name === \"site_name\") {\n                        const site_ids = [];\n                        const site_names = [];\n\n                        row.forEach(site => {\n                            site_ids.push(sites_dict[site]);\n                            site_names.push(site);\n                        });\n\n                        chosen_filters.push({\n                            name: \"site_ids\",\n                            data: site_ids\n                        });\n\n                        setFilterList({ ...filter_list, [column_name]: site_names });\n                    }\n                }\n            });\n\n            if (is_empty) setFilterList({});\n            setFilters(chosen_filters);\n            setIsUpdateNeeded(true);\n        },\n        // eslint-disable-next-line max-params\n        customSearchRender: (searchText, handleSearch, hideSearch, s_options) => {\n            const searchStr = searchText || \"\";\n\n            const custom_on_hide_fn = () => {\n                hideSearch();\n                setSearchString(\"\");\n                setIsUpdateNeeded(true);\n            };\n\n            return (\n                <CustomSearchRender\n                    searchText={searchText}\n                    onSearch={handleSearch}\n                    onHide={custom_on_hide_fn}\n                    options={s_options}\n                    onSearchClick={() => {\n                        resetInput(true);\n                        setSearchString(searchStr);\n                        setIsUpdateNeeded(true);\n                    }}\n                />\n            );\n        }\n    };\n\n    const columns = [\n        {\n            name: \"id\",\n            label: \"Log ID\",\n            options: {\n                filter: false,\n                display: false,\n                sort: true\n            }\n        },\n        {\n            name: \"timestamp\",\n            label: \"Timestamp\",\n            options: {\n                filter: false,\n                sort: true,\n                sortDirection: sort.order_by === \"timestamp\" ? sort.order : \"none\",\n                customBodyRender: value => {\n                    return moment(value).format(\"DD MMMM YYYY, HH:mm:ss\");\n                }\n            }\n        },\n        {\n            name: \"site_name\",\n            label: \"Site\",\n            options: {\n                display: \"true\",\n                filter: true,\n                filterType: \"custom\",\n                filterList: typeof filter_list.site_name === \"undefined\" ? [] : filter_list.site_name,\n                filterOptions: {\n                    fullWidth: true,\n                    logic (location, filterss) {\n                        if (filterss.length) return !filterss.includes(location);\n                        return false;\n                    },\n                    // eslint-disable-next-line max-params\n                    display (filterList, onChange, index, column) {\n                        const { latest, extended, overdue } = alertsFromDbData;\n                        const merged_latest = [...latest, ...overdue];\n\n                        return (\n                            <FormControl>\n                                <InputLabel>Site</InputLabel>\n                                <Select\n                                    multiple\n                                    value={filterList[index]}\n                                    renderValue={selected => selected.join(\", \")}\n                                    onChange={event => {\n                                        // eslint-disable-next-line no-param-reassign\n                                        filterList[index] = event.target.value;\n                                        onChange(filterList[index], index, column);\n                                    }}\n                                >\n                                    {\n                                        filter_sites_option.map(site_code => {\n                                            const sc = site_code.toLowerCase();\n                                            const is_ev = merged_latest.find(x => x.event.site.site_code === sc);\n                                            const is_ex = extended.find(x => x.event.site.site_code === sc);\n                                            \n                                            let color = classes.alert0;\n                                            if (is_ev) { color = classes.alert3; }\n                                            if (is_ex) { color = classes.extended; }\n\n                                            const icon = is_ev || is_ex ? <ListItemIcon><Warning/></ListItemIcon> : \"\";\n\n                                            return (\n                                                <MenuItem key={site_code} value={site_code} className={color}>\n                                                    <Checkbox\n                                                        color=\"primary\"\n                                                        checked={filterList[index].indexOf(site_code) > -1}\n                                                    />\n                                                    <ListItemText primary={site_code} />\n                                                    { icon }\n                                                </MenuItem>\n                                            );\n                                        })\n                                    }\n                                </Select>\n                            </FormControl>\n                        );\n                    },\n                },\n                sort: false\n            }\n        },\n        {\n            name: \"narrative\",\n            label: \"Narrative\",\n            options: {\n                filter: false,\n                sort: false\n            }\n        },\n        {\n            name: \"type\",\n            label: \"Type\",\n            options: {\n                filter: true\n            }\n        },\n        {\n            name: \"user_details\",\n            label: \"Reporter\",\n            options: {\n                filter: false\n            }\n        },\n        {\n            name: \"actions\",\n            label: \"Actions\",\n            options: {\n                filter: false,\n                sort: false,\n                customBodyRender: (value, { rowIndex }) => {\n                    const row = table_data[rowIndex];\n                    return getManipulationButtons(row, { \n                        setChosenNarrative, \n                        setIsOpenNarrativeModal, isOpenNarrativeModal,\n                        setIsOpenDeleteModal, isOpenDeleteModal, setIsEditMode, isEditMode\n                    });\n                }\n            }\n        }\n    ];\n\n    const is_desktop = isWidthUp(\"md\", width);\n\n    const custom_buttons = <span>\n        <Button\n            aria-label=\"Write a site log\"\n            variant=\"contained\"\n            color=\"primary\"\n            size=\"small\"\n            style={{ marginRight: 8 }}\n            onClick={handleBoolean(\"is_narrative_modal_open\", true)}\n        >\n            <AddAlert style={{ paddingRight: 4, fontSize: 20 }} />\n            Write a Site Log\n        </Button>\n    </span>;\n\n    return (\n        <Fragment>\n            <div className={classes.pageContentMargin}>\n                <PageTitle \n                    title=\"Alert Monitoring | Site Logs\" \n                    customButtons={is_desktop ? custom_buttons : false}\n                />\n            </div>\n\n            <Dialog open={is_loading} fullWidth>\n                <DialogContent>\n                    <div style={{ flexGrow: 1 }}>\n                        <LinearProgress variant=\"query\" color=\"secondary\" />\n                    </div>\n                </DialogContent>\n            </Dialog>\n\n            <div className={classes.pageContentMargin}>\n                <Paper className={classes.paperContainer}>\n                    <MuiThemeProvider theme={getMuiTheme}>\n                        <MUIDataTable\n                            title=\"Site Logs\"\n                            data={table_data}\n                            columns={columns}\n                            options={options}\n                        />\n                    </MuiThemeProvider>\n                </Paper>\n            </div>\n\n            <NarrativeFormModal\n                isOpen={isOpenNarrativeModal}\n                closeHandler={handleBoolean(\"is_narrative_modal_open\", false)}\n                setIsUpdateNeeded={setIsUpdateNeeded}\n                chosenNarrative={chosenNarrative}\n                isFromSiteLogs={alertsFromDbData}\n                isEditMode={isEditMode}\n                setSort={setSort}\n                resetInput={resetInput}\n            />\n\n            <DeleteNarrativeModal\n                isOpen={isOpenDeleteModal}\n                closeHandler={handleBoolean(\"is_open_delete_modal\", false)}\n                chosenNarrative={chosenNarrative}\n                setIsUpdateNeeded={setIsUpdateNeeded}\n            />\n        </Fragment>\n    );\n}\n\nexport default withWidth()(SiteLogs);\n","import React from \"react\";\nimport Grow from \"@material-ui/core/Grow\";\nimport TextField from \"@material-ui/core/TextField\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport ForwardIcon from \"@material-ui/icons/Forward\";\nimport ClearIcon from \"@material-ui/icons/Clear\";\nimport { withStyles } from \"@material-ui/core/styles\";\n\nconst defaultSearchStyles = theme => ({\n    main: {\n        display: \"flex\",\n        flex: \"1 0 auto\",\n    },\n    searchText: {\n        flex: \"0.8 0\",\n    },\n    clearIcon: {\n        \"&:hover\": {\n            color: theme.palette.error.main,\n        },\n    },\n});\n\nclass CustomSearchRender extends React.Component {\n    componentDidMount () {\n        document.addEventListener(\"keydown\", this.onKeyDown, false);\n    }\n\n    componentWillUnmount () {\n        document.removeEventListener(\"keydown\", this.onKeyDown, false);\n    }\n\nhandleTextChange = event => {\n    const { onSearchChange } = this.props.options;\n\n    if (onSearchChange) {\n        onSearchChange(event.target.value);\n    }\n\n    this.props.onSearch(event.target.value);\n};\n\nonKeyDown = event => {\n    if (event.keyCode === 27) {\n        this.props.onHide();\n    } else if (event.keyCode === 13) {\n        this.props.onSearchClick();\n    }\n};\n\nrender () {\n    const { classes, options, onHide, searchText, onSearchClick } = this.props;\n\n    return (\n        <Grow appear in timeout={300}>\n            <div className={classes.main} ref={el => (this.rootRef = el)}>\n                <TextField\n                    placeholder=\"Type words to search details column\"\n                    className={classes.searchText}\n                    InputProps={{\n                        \"aria-label\": options.textLabels.toolbar.search,\n                    }}\n                    value={searchText || \"\"}\n                    onChange={this.handleTextChange}\n                    fullWidth\n                    inputRef={el => (this.searchField = el)}\n                />\n                <IconButton className={classes.clearIcon} style={{ marginLeft: 6 }} onClick={onSearchClick}>\n                    <ForwardIcon />\n                </IconButton>\n                <IconButton className={classes.clearIcon} onClick={onHide}>\n                    <ClearIcon />\n                </IconButton>\n            </div>\n        </Grow>\n    );\n}\n}\n\nexport default withStyles(defaultSearchStyles, { name: \"CustomSearchRender\" })(CustomSearchRender);","import React, { useState, useEffect, Fragment } from \"react\";\n\nimport {\n    Paper, LinearProgress,\n    makeStyles, Dialog, DialogContent,\n    Button, IconButton\n} from \"@material-ui/core\";\nimport { AddAlert, Edit, Delete } from \"@material-ui/icons\";\nimport withWidth, { isWidthUp } from \"@material-ui/core/withWidth\";\nimport { createMuiTheme, MuiThemeProvider } from \"@material-ui/core/styles\";\n\nimport moment from \"moment\";\nimport MUIDataTable from \"mui-datatables\";\n\nimport CustomSearchRender from \"./CustomSearchRender\";\nimport { getIssuesAndReminders } from \"../../widgets/issues_and_reminders_form/ajax\";\nimport PageTitle from \"../../reusables/PageTitle\";\nimport GeneralStyles from \"../../../GeneralStyles\";\nimport IssueReminderModal from \"../../widgets/issues_and_reminders_form/IssuesAndReminderModal\";\n\nconst sites_dict = {};\n\nconst useStyles = makeStyles(theme => ({\n    ...GeneralStyles(theme),\n    inputGridContainer: {\n        margin: \"12px 0\",\n        [theme.breakpoints.down(\"sm\")]: {\n            margin: \"0 0\"\n        }\n    },\n    buttonGrid: {\n        textAlign: \"right\",\n        [theme.breakpoints.down(\"sm\")]: {\n            textAlign: \"right\"\n        }\n    },\n    button: {\n        fontSize: 16,\n        paddingLeft: 8\n    }\n}));\n\nconst getMuiTheme = createMuiTheme({\n    overrides: {\n        MUIDataTableHeadCell: {\n            root: {\n                zIndex: \"0 !important\"\n            }\n        }\n    }\n});\n\nfunction getManipulationButtons (issue_and_reminder, data_handlers) {\n    const { \n        setChosenIssueReminder, setIsOpenIssueReminderModal,\n        setToResolve, setIsIandRUpdateNeeded\n    } = data_handlers;\n\n    const handleEdit = value => {\n        setChosenIssueReminder(issue_and_reminder);\n        setIsOpenIssueReminderModal(true);\n        setIsIandRUpdateNeeded(true);\n        setToResolve(false);\n    };\n\n    const handleDelete = value => {\n        setChosenIssueReminder(issue_and_reminder);\n        setIsOpenIssueReminderModal(true);\n        setIsIandRUpdateNeeded(true);\n        setToResolve(true);\n    };\n\n    const { ts_resolved, ts_expiration } = issue_and_reminder;\n    const is_not_expired = moment().isBefore(ts_expiration) || ts_expiration === null;\n    const to_show_delete = (ts_resolved === null) && (is_not_expired || ts_expiration === null);\n\n    return (\n        <span>\n            {\n                is_not_expired && (\n                    <IconButton tooltip=\"Edit\" style={{ \"float\": \"left\" }} onClick={handleEdit}>\n                        <Edit style={{ fontSize: 20 }}/>\n                    </IconButton>\n                )\n            }\n            \n            {\n                to_show_delete && ( \n                    <IconButton tooltip=\"Delete\" style={{ \"float\": \"left\" }} onClick={handleDelete}>\n                        <Delete style={{ fontSize: 20 }}/>\n                    </IconButton>\n                )\n            }\n\n            {\n                !is_not_expired && !to_show_delete && \"Finished\"\n            }\n        </span>          \n    );\n}\n\nfunction IssuesAndReminders (props) {\n    const { width } = props;\n    const classes = useStyles();\n\n    const [table_data, setTableData] = useState([]);\n    const [page, setPage] = useState(0);\n    const [rowsPerPage, setRowsPerPage] = useState(5);\n    const [count, setCount] = useState(0);\n    const [filters, setFilters] = useState([]);\n    const [filter_list, setFilterList] = useState([]);\n    const [search_str, setSearchString] = useState(\"\");\n    const [on_search_open, setOnSearchOpen] = useState(false);\n    const [is_loading, setIsLoading] = useState(true);\n    const [isOpenIssueReminderModal, setIsOpenIssueReminderModal] = useState(false);\n\n    const [chosenIssueReminder, setChosenIssueReminder] = useState({});\n    const [isIandRUpdateNeeded, setIsIandRUpdateNeeded] = useState(false);\n    const [toResolve, setToResolve] = useState(false);\n\n    const [to_refresh, setToRefresh] = useState(true);\n\n    useEffect(() => {\n        setIsLoading(true);\n\n        const input = {\n            include_count: true,\n            limit: rowsPerPage, offset: page * rowsPerPage,\n            filters,\n            search_str,\n            include_expired: true\n        };\n\n        getIssuesAndReminders(input, ret => {\n            const { issues_and_reminders, count: total } = ret;\n            setTableData(issues_and_reminders);\n            setCount(total);\n            setIsLoading(false);\n        });\n    }, [\n        page, rowsPerPage, filters, search_str,\n        to_refresh\n    ]);\n\n    const handleBoolean = (data, bool) => () => {\n        // NOTE: there was no need to use the bool for opening a modal or switch\n        if (data === \"is_issue_reminder_modal_open\") {\n            setIsOpenIssueReminderModal(bool);\n            setIsIandRUpdateNeeded(false);\n        } \n    };\n\n    const options = {\n        textLabels: {\n            body: {\n                noMatch: \"No data\",\n            }\n        },\n        selectableRows: \"none\",\n        print: false,\n        download: false,\n        filterType: \"multiselect\",\n        responsive: isWidthUp(width, \"xs\") ? \"standard\" : \"simple\",\n        serverSide: true,\n        rowsPerPageOptions: [5, 10, 15],\n        rowsPerPage,\n        count,\n        page,\n        onTableChange (action, table_state) {\n            if (action === \"changePage\") {\n                const { page: cur_page } = table_state;\n                setPage(cur_page);\n            } else if (action === \"changeRowsPerPage\") {\n                const { rowsPerPage: cur_rpp } = table_state;\n\n                if (cur_rpp !== rowsPerPage) setRowsPerPage(cur_rpp);\n            } else if (action === \"resetFilters\") {\n                setFilterList({});\n                setFilters([]);\n            } else if (action === \"onSearchOpen\") {\n                setOnSearchOpen(true);\n            }\n        },\n        onFilterChange (column, ret_filters) {\n            const chosen_filters = [];\n            let is_empty = true;\n            ret_filters.forEach((row, index) => {\n                if (row.length !== 0) {\n                    is_empty = false;\n                    const { name: column_name } = columns[index];\n                    if (column_name === \"site_name\") {\n                        const site_ids = [];\n                        const site_names = [];\n\n                        row.forEach(site => {\n                            site_ids.push(sites_dict[site]);\n                            site_names.push(site);\n                        });\n\n                        chosen_filters.push({\n                            name: \"site_ids\",\n                            data: site_ids\n                        });\n\n                        setFilterList({ ...filter_list, [column_name]: site_names });\n                    }\n                }\n            });\n\n            if (is_empty) setFilterList({});\n            setFilters(chosen_filters);\n        },\n        customSearchRender: (searchText, handleSearch, hideSearch, options) => {\n            let searchStr = searchText || \"\";\n\n            if (on_search_open) {\n                searchStr = search_str;\n                setOnSearchOpen(false);\n            }\n\n            const custom_on_hide_fn = () => {\n                hideSearch();\n                setOnSearchOpen(false);\n            };\n\n            return (\n                <CustomSearchRender\n                    searchText={searchText}\n                    onSearch={handleSearch}\n                    onHide={custom_on_hide_fn}\n                    options={options}\n                    onSearchClick={() => setSearchString(searchStr)}\n                />\n            );\n        }\n    };\n\n    const columns = [\n        {\n            name: \"ts_posted\",\n            label: \"Date Posted\",\n            options: {\n                filter: false,\n                customBodyRender: value => {\n                    return moment(value).format(\"DD MMMM YYYY, HH:mm:ss\");\n                }\n            }\n        },\n        {\n            name: \"detail\",\n            label: \"Details\",\n            options: {\n                filter: false,\n            }\n        },\n        {\n            name: \"reporter\",\n            label: \"Reporter\",\n            options: {\n                filter: true,\n                customBodyRender: (value, { rowIndex }) => {\n                    const row = table_data[rowIndex];\n                    return `${row.issue_reporter.first_name} ${row.issue_reporter.last_name}`;\n                }\n            }\n        },\n        {\n            name: \"ts_expiration\",\n            label: \"Posted Until\",\n            options: {\n                filter: false,\n                sort: false,\n                customBodyRender: value => {\n                    return value === null ? \"-\" : moment(value).format(\"DD MMMM YYYY, HH:mm:ss\");\n                }\n            }\n        },\n        {\n            name: \"resolved_by\",\n            label: \"Resolved By\",\n            options: {\n                filter: false,\n                customBodyRender: value => {\n                    return value === null ? \"-\" : value;\n                }\n            }\n        },\n        {\n            name: \"resolution\",\n            label: \"Resolution\",\n            options: {\n                filter: false,\n                customBodyRender: value => {\n                    return value === null ? \"-\" : value;\n                }\n            }\n        },\n        {\n            name: \"actions\",\n            label: \"Actions\",\n            options: {\n                filter: false,\n                sort: false,\n                customBodyRender: (value, { rowIndex }) => {\n                    const row = table_data[rowIndex];\n                    const { ts_expiration, resolution } = row;\n                    \n                    if (moment(ts_expiration).isAfter(moment()) || resolution !== null) {\n                        return \"Finished\";\n                    }\n\n                    return getManipulationButtons(row, { \n                        setChosenIssueReminder, \n                        setIsOpenIssueReminderModal, isOpenIssueReminderModal,\n                        setToResolve, setIsIandRUpdateNeeded\n                    });\n                }\n            }\n        }\n    ];\n\n    const is_desktop = isWidthUp(\"md\", width);\n\n    const custom_buttons = <span>\n        <Button\n            aria-label=\"Post an Issue or reminder\"\n            variant=\"contained\"\n            color=\"primary\"\n            size=\"small\"\n            style={{ marginRight: 8 }}\n            onClick={handleBoolean(\"is_issue_reminder_modal_open\", true)}\n        >\n            <AddAlert style={{ paddingRight: 4, fontSize: 20 }} />\n            Post an Issue / Reminder\n        </Button>\n    </span>;\n\n    return (\n        <Fragment>\n            <div className={classes.pageContentMargin}>\n                <PageTitle \n                    title=\"Alert Monitoring | Issues and Reminders\" \n                    customButtons={is_desktop ? custom_buttons : false}\n                />\n            </div>\n\n            <Dialog open={is_loading} fullWidth>\n                <DialogContent>\n                    <div style={{ flexGrow: 1 }}>\n                        <LinearProgress variant=\"query\" color=\"secondary\" />\n                    </div>\n                </DialogContent>\n            </Dialog>\n\n            <div className={classes.pageContentMargin}>\n                <Paper className={classes.paperContainer}>\n                    <MuiThemeProvider theme={getMuiTheme}>\n                        <MUIDataTable\n                            title=\"Issues and Reminders\"\n                            data={table_data}\n                            columns={columns}\n                            options={options}\n                        />\n                    </MuiThemeProvider>\n                </Paper>\n            </div>\n\n            <IssueReminderModal\n                isOpen={isOpenIssueReminderModal}\n                closeHandler={handleBoolean(\"is_issue_reminder_modal_open\", false)}\n                isIandRUpdateNeeded={isIandRUpdateNeeded}\n                setIsIandRUpdateNeeded = {setIsIandRUpdateNeeded}\n                chosenIssueReminder={chosenIssueReminder}\n                toResolve={toResolve}\n                setToRefresh={setToRefresh}\n                toRefresh={to_refresh}\n            />\n        </Fragment>\n    );\n}\n\nexport default withWidth()(IssuesAndReminders);\n","import React, { useState, useEffect } from \"react\";\nimport moment from \"moment\";\nimport MUIDataTable from \"mui-datatables\";\nimport withWidth, { isWidthUp } from \"@material-ui/core/withWidth\";\nimport _ from \"lodash\";\nimport {\n    CircularProgress, Typography\n} from \"@material-ui/core\";\nimport { createMuiTheme, MuiThemeProvider } from \"@material-ui/core/styles\";\n\nconst getMuiTheme = createMuiTheme({\n    overrides: {\n        MUIDataTableHeadCell: {\n            root: {\n                zIndex: \"0 !important\"\n            }\n        }\n    }\n});\n\nfunction QATable (props) {\n    const {\n        width, isLoading, columns, type, datas, shift_start_ts\n    } = props;\n\n    const [data, setData] = useState(datas);\n    const [cols, setCols] = useState([]);\n\n    const sites_count = _(data)\n    .groupBy(\"site_name\")\n    .map((items, name) => name)\n    .value().length;\n\n    useEffect(() => {\n        columns.map((col, index) => {\n            switch (col.name) {\n                case \"ewi_sms\": \n                    col.options = {\n                        ...col.options,\n                        customBodyRender: (value, tableMeta) => {\n                            const { tableData, rowIndex } = tableMeta;\n                            const limit = moment(tableData[rowIndex].ts_limit_start);\n                            const sent_ts = moment(value);\n                            sites_count > 5 ? limit.add(sites_count, \"minutes\") : limit.add(5, \"minutes\");\n                            if (type === \"Lowering\") limit.add(15, \"minutes\");\n                            const error = sent_ts > limit;\n\n                            return (\n                                <span style={{ color: error ? \"red\" : \"\" }} >{value}</span>\n                            );\n                        },\n                    };  \n                    break;\n\n                case \"ewi_bulletin_release\" && type !== \"Routine\":\n                    col.options = {\n                        ...col.options,\n                        customBodyRender: (value, tableMeta, updateValue) => {\n                            const { tableData, rowIndex } = tableMeta;\n                            const limit_start = moment(tableData[rowIndex].ts_limit_start).format(\"YYYY-MM-DD HH:mm:ss\");\n                            let limit = moment(tableData[rowIndex].ts_limit_start).add(10, \"minutes\");\n                            const sent_ts = moment(value);\n                            if (sites_count > 5) limit = limit_start.add((sites_count * 2), \"minutes\");\n                            if (type === \"Lowering\") limit.add(15, \"minutes\");\n                            const error = sent_ts > limit;\n\n                            return (\n                                <span style={{ color: error ? \"red\" : \"\" }} >{value}</span>\n                            );\n                        },\n                    };  \n                    break;\n\n                case \"rainfall_info\":\n                    col.options = {\n                        ...col.options,\n                        customBodyRender: (value, tableMeta, updateValue) => {\n                            const { tableData, rowIndex } = tableMeta;\n                            const limit_start = moment(tableData[rowIndex].ts_limit_start).format(\"YYYY-MM-DD HH:mm:ss\");\n                            const limit = moment(limit_start).add(15, \"minutes\");\n                            const sent_ts = moment(value);\n                            // if(sites_count > 5) limit = limit_start.add((sites_count * 2), \"minutes\");\n                            const error = sent_ts > limit;\n\n                            return (\n                                <span style={{ color: error ? \"red\" : \"\" }} >{value}</span>\n                            );\n                        },\n                    };  \n                    break;\n\n                case \"ground_measurement\":\n                    col.options = {\n                        ...col.options,\n                        customBodyRender: (value, tableMeta, updateValue) => {\n                            const { tableData, rowIndex } = tableMeta;\n                            const limit_start = moment(tableData[rowIndex].ts_limit_start).format(\"YYYY-MM-DD HH:mm:ss\");\n                            const start_limit = moment(limit_start).subtract(2.5, \"hours\");\n                            const end_limit = moment(limit_start).subtract(2, \"hours\");\n                            const sent_ts = moment(value);\n                            const error = !!(sent_ts >= start_limit && sent_ts <= end_limit);\n\n                            return (\n                                <span style={{ color: error ? \"red\" : \"\" }} >{value}</span>\n                            );\n                        },\n                    };\n                    break;\n\n                default:\n                    break;\n            }\n            \n        });\n        setCols(columns);\n    }, [columns, datas]);\n\n    const options = {\n        textLabels: {\n            body: {\n                noMatch: `No ${type} event(s)`,\n            }\n        },\n        responsive: isWidthUp(width, \"xs\") ? \"standard\" : \"vertical\",\n        filter: true,\n        selectableRows: \"none\",\n        print: true,\n        download: true,\n        downloadOptions: {\n            filename: `${type}_releases_${shift_start_ts}.csv`,\n            separator: \";\",\n        },\n        filterType: \"dropdown\",\n        onTableChange: (action, tableState) => {\n            if (action === \"resetFilters\") {\n                setData(datas);\n            }\n            if (action === \"propsUpdate\") {\n                setData(datas);\n            }\n        },\n    };\n\n    return (\n        <div>\n            <MuiThemeProvider theme={getMuiTheme}>\n                <MUIDataTable\n                    title={\n                        <div>\n                            <Typography variant=\"h5\" component=\"div\">\n                                {type} releases\n                                {\n                                    isLoading &&\n                                        <CircularProgress\n                                            size={24}\n                                            style={{\n                                                marginLeft: 15,\n                                                position: \"relative\",\n                                                top: 4\n                                            }}\n                                        />\n                                }\n                            </Typography>\n                        </div>\n                    }\n                    data={data}\n                    columns={cols}\n                    options={options}\n                />\n            </MuiThemeProvider>                           \n        </div>\n    );\n}\n\nexport default withWidth()(QATable);\n","import React from \"react\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport QATable from \"./Table\";\n\nconst useStyles = makeStyles((theme) => ({\n    root: {\n        width: \"100%\",\n    },\n}));\n\nexport default function Event (props) {\n    const classes = useStyles();\n    const { releasesData, isLoading } = props;\n    const columns = [\n        {\n            name: \"site_name\",\n            label: \"Site\",\n            options: {\n                filter: true,\n                sort: true,\n            }\n        },\n        {\n            name: \"ewi_web_release\",\n            label: \"EWI Web Release\",\n            options: {\n                filter: false,\n                sort: false\n            }\n\n        },\n        {\n            name: \"ewi_sms\",\n            label: \"EWI SMS\",\n            options: {\n                filter: false,\n                sort: false\n            }\n\n        },\n        {\n            name: \"ewi_bulletin_release\",\n            label: \"EWI Bulletin\",\n            options: {\n                filter: false,\n                sort: false\n            }\n        },\n        {\n            name: \"rainfall_info\",\n            label: \"Rainfall Info\",\n            options: {\n                filter: false,\n                sort: false\n            }\n        },\n        {\n            name: \"ground_measurement\",\n            label: \"Ground Meas Reminder\",\n            options: {\n                filter: false,\n                sort: false\n            }\n        },\n        {\n            name: \"ground_data\",\n            label: \"Ground Data\",\n            options: {\n                filter: false,\n                sort: false\n            }\n        },\n    ];\n\n    return (\n        <div className={classes.root}>\n            <QATable \n                isLoading={isLoading} \n                tableTitle=\"QA for Event Monitoring\" \n                type=\"Event\"\n                datas={releasesData}\n                columns={columns}\n            />\n        </div>\n    );\n}","import React from \"react\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport _ from \"lodash\";\nimport QATable from \"./Table\";\n\n\nconst useStyles = makeStyles((theme) => ({\n    root: {\n        width: \"100%\",\n    },\n}));\n\nexport default function Event (props) {\n    const classes = useStyles();\n    const { releasesData, isLoading } = props;\n    const columns = [\n        {\n            name: \"site_name\",\n            label: \"Site\",\n            options: {\n                filter: true,\n                sort: true,\n            }\n        },\n        {\n            name: \"ewi_web_release\",\n            label: \"EWI Web Release\",\n            options: {\n                filter: false,\n                sort: false\n            }\n\n        },\n        {\n            name: \"ewi_sms\",\n            label: \"EWI SMS\",\n            options: {\n                filter: false,\n                sort: false\n            }\n\n        },\n        {\n            name: \"ewi_bulletin_release\",\n            label: \"EWI Bulletin\",\n            options: {\n                filter: false,\n                sort: false\n            }\n        },\n        {\n            name: \"rainfall_info\",\n            label: \"Rainfall Info\",\n            options: {\n                filter: false,\n                sort: false\n            }\n        },\n        {\n            name: \"ground_measurement\",\n            label: \"Ground Meas Reminder\",\n            options: {\n                filter: false,\n                sort: false\n            }\n        },\n        {\n            name: \"fyi_permission\",\n            label: \"FYI Permission\",\n            options: {\n                filter: false,\n                sort: false\n            }\n        }\n    ];\n\n    return (\n        <div className={classes.root}>\n            <QATable \n                isLoading={isLoading} \n                tableTitle=\"QA for Event Monitoring\" \n                type=\"Lowering\"\n                datas={releasesData}\n                columns={columns}\n            />\n        </div>\n    );\n}","import React from \"react\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport _ from \"lodash\";\nimport QATable from \"./Table\";\n\n\nconst useStyles = makeStyles((theme) => ({\n    root: {\n        width: \"100%\",\n    },\n}));\n\nexport default function Event (props) {\n    const classes = useStyles();\n    const { releasesData, isLoading } = props;\n    const columns = [\n        {\n            name: \"site_name\",\n            label: \"Site\",\n            options: {\n                filter: true,\n                sort: true,\n            }\n        },\n        {\n            name: \"ewi_web_release\",\n            label: \"EWI Web Release\",\n            options: {\n                filter: false,\n                sort: false\n            }\n\n        },\n        {\n            name: \"ewi_sms\",\n            label: \"EWI SMS\",\n            options: {\n                filter: false,\n                sort: false\n            }\n\n        },\n        {\n            name: \"ground_measurement\",\n            label: \"Ground Meas Reminder\",\n            options: {\n                filter: false,\n                sort: false\n            }\n        },\n        {\n            name: \"ground_data\",\n            label: \"Ground Data\",\n            options: {\n                filter: false,\n                sort: false\n            }\n        },\n    ];\n\n    return (\n        <div className={classes.root}>\n            <QATable \n                isLoading={isLoading} \n                tableTitle=\"QA for Event Monitoring\" \n                type=\"Extended\"\n                datas={releasesData}\n                columns={columns}\n            />\n        </div>\n    );\n}","import React from \"react\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport QATable from \"./Table\";\n\nconst useStyles = makeStyles((theme) => ({\n    root: {\n        width: \"100%\",\n    },\n}));\n\nexport default function Routine (props) {\n    const classes = useStyles();\n    const { releasesData, isLoading, shift_start_ts } = props;\n\n    const columns = [\n        {\n            name: \"site_name\",\n            label: \"Site\",\n            options: {\n                filter: true,\n                sort: true,\n            }\n        },\n        {\n            name: \"ewi_web_release\",\n            label: \"EWI Web Release\",\n            options: {\n                filter: false,\n                sort: false\n            }\n\n        },\n        {\n            name: \"ewi_sms\",\n            label: \"EWI SMS\",\n            options: {\n                filter: false,\n                sort: false\n            }\n\n        },\n        {\n            name: \"ground_measurement\",\n            label: \"Ground Meas Reminder\",\n            options: {\n                filter: false,\n                sort: false\n            }\n        },\n        {\n            name: \"ground_data\",\n            label: \"Ground Data\",\n            options: {\n                filter: false,\n                sort: false\n            }\n        },\n    ];\n    return (\n        <div className={classes.root}>\n            <QATable \n                isLoading={isLoading} \n                tableTitle=\"QA for Routine Monitoring\" \n                type=\"Routine\"\n                shift_start_ts={shift_start_ts}\n                datas={releasesData}\n                columns={columns}\n            />\n        </div>\n    );\n}","import React from \"react\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport _ from \"lodash\";\nimport QATable from \"./Table\";\n\n\nconst useStyles = makeStyles((theme) => ({\n    root: {\n        width: \"100%\",\n    },\n}));\n\nexport default function Event (props) {\n    const classes = useStyles();\n    const { releasesData, isLoading } = props;\n    const columns = [\n        {\n            name: \"site_name\",\n            label: \"Site\",\n            options: {\n                filter: true,\n                sort: true,\n            }\n        },\n        {\n            name: \"ewi_web_release\",\n            label: \"EWI Web Release\",\n            options: {\n                filter: false,\n                sort: false\n            }\n\n        },\n        {\n            name: \"ewi_sms\",\n            label: \"EWI SMS\",\n            options: {\n                filter: false,\n                sort: false\n            }\n\n        },\n        {\n            name: \"ewi_bulletin_release\",\n            label: \"EWI Bulletin\",\n            options: {\n                filter: false,\n                sort: false\n            }\n        },\n        {\n            name: \"rainfall_info\",\n            label: \"Rainfall Info\",\n            options: {\n                filter: false,\n                sort: false\n            }\n        },\n        {\n            name: \"ground_measurement\",\n            label: \"Ground Meas Reminder\",\n            options: {\n                filter: false,\n                sort: false\n            }\n        },\n        {\n            name: \"fyi_permission\",\n            label: \"FYI Permission\",\n            options: {\n                filter: false,\n                sort: false\n            }\n        }\n    ];\n\n    return (\n        <div className={classes.root}>\n            <QATable \n                isLoading={isLoading} \n                tableTitle=\"QA for Event Monitoring\" \n                type=\"Raising\"\n                datas={releasesData}\n                columns={columns}\n            />\n        </div>\n    );\n}","import React, { useState, useEffect, Fragment } from \"react\";\n\nimport {\n    Grid, Button, FormHelperText,\n    CircularProgress, Select, MenuItem,\n    FormControl, Paper\n} from \"@material-ui/core\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport { MuiPickersUtilsProvider } from \"@material-ui/pickers\";\nimport ArrowForwardIosIcon from \"@material-ui/icons/ArrowForwardIos\";\n\nimport MomentUtils from \"@date-io/moment\";\nimport moment from \"moment\";\n\nimport { createDateTime } from \"../shifts_and_reports/EndOfShiftGenerator\";\nimport { getMonitoringReleases } from \"../ajax\";\nimport SelectInputForm from \"../../reusables/SelectInputForm\";\nimport GeneralStyles from \"../../../GeneralStyles\";\nimport PageTitle from \"../../reusables/PageTitle\";\n\n// subComponents\nimport Event from \"./subcomponents/Event\";\nimport Lowering from \"./subcomponents/Lowering\";\nimport Extended from \"./subcomponents/Extended\";\nimport Routine from \"./subcomponents/Routine\";\nimport Raising from \"./subcomponents/Raising\";\n\nconst useStyles = makeStyles((theme) => ({\n    ...GeneralStyles(theme),\n    root: {\n        display: \"flex\",\n        flexGrow: 1,\n    },\n    content: {\n        flexGrow: 1,\n        padding: theme.spacing(3),\n        overFlowY: \"auto\",\n    },\n}));\n\nfunction NoQAData (props) {\n    const { isStart } = props;\n    const is_start = isStart === \"undefined\" ? false : isStart;\n    let message = \"No available data for QA\";\n    if (is_start) {\n        message = \"Select shift to generate data for QA\";\n    }\n    return (\n        <Paper\n            style={{\n                height: \"20vh\", padding: 60, display: \"flex\",\n                justifyContent: \"center\", alignItems: \"center\",\n                background: \"gainsboro\", border: \"4px solid #CCCCCC\"\n            }}\n        >\n            <div>{message}</div>\n        </Paper>\n    );\n}\n\nconst TabComponents = (props) => {\n    const { \n        selectedTab, eventData, loweringData,\n        extendedData, routineData, raisingData \n    } = props;\n\n    const components = [\n        <Event releasesData={eventData} {...props}/>,\n        <Lowering releasesData={loweringData} {...props}/>,\n        <Extended releasesData={extendedData} {...props}/>,\n        <Routine releasesData={routineData} {...props}/>,\n        <Raising releasesData={raisingData} {...props}/>\n    ];\n    return components[selectedTab];\n};\n\nexport default function QAContainer () {\n    const classes = useStyles();\n    const [selectedTab, setSelectedTab] = useState(0);\n    const datetime_now = moment();\n    const dt_hr = datetime_now.hour();\n    const [start_ts, setStartTs] = useState(datetime_now.format(\"YYYY-MM-DD\"));\n    const [shift_time, setShiftTime] = useState(dt_hr >= 10 && dt_hr <= 22 ? \"am\" : \"pm\");\n    const [isLoading, setIsLoading] = useState(false);\n    const [releasesData, setReleases] = useState(null);\n    const [shift_start_ts, setShiftStartTs] = useState(null);\n\n    const [event_releases, setEventReleases] = useState([]);\n    const [routine_releases, setRoutineReleases] = useState([]);\n    const [extended_releases, setExtendedReleases] = useState([]);\n    const [lowering_releases, setLoweringReleases] = useState([]);\n    const [raising_releases, setRaisingReleases] = useState([]);\n\n    const handleDateTime = value => {\n        setStartTs(value);\n    };\n\n    const handleClick = () => {\n        setIsLoading(true);\n        const ts = getMonitoringReleases({ start_ts, shift_time }, setReleases);\n        setShiftStartTs(ts);\n    };\n\n    useEffect(() => {\n        if (releasesData !== null) {\n            if (releasesData.raising.length > 0) setRaisingReleases(releasesData.raising);\n            if (releasesData.event.length > 0)setEventReleases(releasesData.event);\n            if (releasesData.routine.length > 0)setRoutineReleases(releasesData.routine);\n            if (releasesData.extended.length > 0)setExtendedReleases(releasesData.extended);\n            if (releasesData.lowering.length > 0)setLoweringReleases(releasesData.lowering);\n            setIsLoading(false);\n        }\n    }, [releasesData]);\n    \n    useEffect(() => {\n        // function changes default Tab to Monitoring Type with largest data size\n        const monTypes = [\n            event_releases.length, \n            lowering_releases.length, \n            extended_releases.length, \n            routine_releases.length,\n            raising_releases.length,\n        ];\n        setSelectedTab(monTypes.indexOf(Math.max(...monTypes)));\n\n    }, [event_releases, routine_releases, lowering_releases, extended_releases, raising_releases]);\n\n    return (\n        <Fragment>\n            <div className={classes.pageContentMargin}>\n                <PageTitle title=\"Alert Monitoring | Quality Assurance\"/>\n            </div>\n\n            <div className={classes.pageContentMargin}>\n                <Grid container spacing={2}>\n                    <MuiPickersUtilsProvider utils={MomentUtils}>\n                        <Grid \n                            container\n                            justify=\"space-between\"\n                            alignContent=\"center\"\n                            alignItems=\"center\"\n                            spacing={2}\n                            item xs={12}\n                            style={{ marginBottom: 8 }}\n                        >\n                            {\n                                [\n                                    { label: \"Shift Start\", value: start_ts, id: \"start_ts\" },\n                                ].map(row => {\n                                    const { id } = row;\n\n                                    return (\n                                        <Grid item xs={12} sm key={id} className={classes.inputGridContainer}>\n                                            { createDateTime(row, handleDateTime) }\n                                        </Grid>\n                                    );\n                                })\n                            }\n\n                            <Grid item xs={12} sm>\n                                <SelectInputForm\n                                    div_id=\"shift_time\"\n                                    label=\"Shift Time\"\n                                    changeHandler={event => setShiftTime(event.target.value)}\n                                    value={shift_time}\n                                    list={[{ id: \"am\", label: \"AM\" }, { id: \"pm\", label: \"PM\" }]}\n                                    mapping={{ id: \"id\", label: \"label\" }}\n                                    required\n                                />\n                            </Grid>\n\n                            <Grid item xs={12} sm align=\"right\">\n                                <Button \n                                    variant=\"contained\"\n                                    color=\"secondary\"\n                                    onClick={handleClick}\n                                    endIcon={<ArrowForwardIosIcon className={classes.button} />}\n                                >\n                                    Generate \n                                </Button>\n                            </Grid>\n                        </Grid>\n                    </MuiPickersUtilsProvider>\n                    \n                    { releasesData !== null && releasesData.length !== 0 ? (\n                        <Fragment>\n                            <Grid item xs={12} sm container justify=\"flex-end\">\n                                <FormControl>\n                                    <Select\n                                        value={selectedTab}\n                                        onChange={e=> setSelectedTab(e.target.value)}\n                                        style={{ width: 200 }}\n                                        autoFocus\n                                    >\n                                        <MenuItem value={0}>{`Event (${event_releases.length})`}</MenuItem>\n                                        <MenuItem value={4}>{`Raising (${raising_releases.length})`}</MenuItem>\n                                        <MenuItem value={1}>{`Lowering (${lowering_releases.length})`}</MenuItem>\n                                        <MenuItem value={2}>{`Extended (${extended_releases.length})`}</MenuItem>\n                                        <MenuItem value={3}>{`Routine (${routine_releases.length})`}</MenuItem>\n                                    </Select>\n                                    <FormHelperText>Select monitoring type to display</FormHelperText>\n                                </FormControl>\n                            </Grid>\n                            \n                            <Grid item xs={12}>\n                                <TabComponents \n                                    routineData={routine_releases} \n                                    eventData={event_releases}\n                                    loweringData={lowering_releases}\n                                    extendedData={extended_releases}\n                                    raisingData={raising_releases}\n                                    isLoading={isLoading} \n                                    shift_start_ts={shift_start_ts}\n                                    selectedTab={selectedTab}\n                                />\n                            </Grid>\n                        </Fragment>\n                    ) : (\n                        <Grid item xs={12} align=\"center\">\n                            {\n                                // eslint-disable-next-line no-nested-ternary\n                                isLoading ? (\n                                    <CircularProgress/>\n                                ) : (\n                                    shift_start_ts !== null && releasesData !== null && releasesData.length === 0 ? \n                                        <NoQAData /> : <NoQAData isStart />\n                                )\n                            }\n                        </Grid>\n                    ) }\n                </Grid>\n            </div>\n        </Fragment>\n    ); }","import axios from \"axios\";\nimport { host } from \"../../config\";\n\nexport function getDataPresenceData (group, callback) {\n    const api_link = `${host}/api/analysis/get_latest_data_presence/${group}`;\n\n    axios.get(api_link)\n    .then(response => {\n        const { data } = response;\n        console.log(`Data Presence: ${group}`, data);\n        callback(data);\n    })\n    .catch(error => {\n        console.error(error);\n    });\n}\n\nexport function getSurficialPlotData (input, callback, is_end_of_shift = false) {\n    const { site_code, start, end } = input;\n    let api_link = `${host}/api/surficial/get_surficial_plot_data/` +\n        `${site_code}/${start}/${end}`;\n\n    if (is_end_of_shift)\n        api_link += \"?is_end_of_shift=true\";\n\n    axios.get(api_link)\n    .then(response => {\n        const { data } = response;\n        console.log(\"Surficial Plot Data\", data);\n        callback(data);\n    })\n    .catch(error => {\n        console.error(error);\n    });\n}\n\nexport function deleteSurficialData (input, callback) {\n    const api_link = `${host}/api/surficial/delete_surficial_data`;\n\n    axios.post(api_link, input)\n    .then(response => {\n        const { data } = response;\n        console.log(\"Delete Surficial Data Response\", data);\n        callback(data);\n    })\n    .catch(error => {\n        console.error(error);\n    });\n}\n\nexport function updateSurficialData (input, callback) {\n    const api_link = `${host}/api/surficial/update_surficial_data`;\n\n    axios.post(api_link, input)\n    .then(response => {\n        const { data } = response;\n        console.log(\"Update Surficial Data Response\", data);\n        callback(data);\n    })\n    .catch(error => {\n        console.error(error);\n    });\n}\n\nexport function getSurficialMarkerTrendingData (input, callback) {\n    const { site_code, marker_name, ts } = input;\n    const api_link = `${host}/api/surficial/get_surficial_marker_trending_data/` +\n        `${site_code}/${marker_name}/${ts}`;\n\n    axios.get(api_link)\n    .then(response => {\n        const { data } = response;\n        console.log(\"Surficial Marker Trending Data\", data);\n        callback(data);\n    })\n    .catch(error => {\n        console.error(error);\n    });\n}\n\nexport function insertMarkerEvent (input, callback) {\n    const api_link = `${host}/api/surficial/insert_marker_event`;\n\n    axios.post(api_link, input)\n    .then(response => {\n        const { data } = response;\n        console.log(data);\n        callback(data);\n    })\n    .catch(error => {\n        console.error(error);\n    });\n}\n\nexport function getRainfallPlotData (input, callback) {\n    const { site_code, ts_end, days_diff } = input;\n    const api_link = `${host}/api/rainfall/get_rainfall_plot_data/${site_code}/${ts_end}/${days_diff}`;\n\n    axios.get(api_link)\n    .then(response => {\n        const { data } = response;\n        console.log(\"Rainfall Plot Data\", data);\n        callback(data);\n    })\n    .catch(error => {\n        console.error(error);\n    });\n}\n\nexport function getSubsurfacePlotData (input, callback) {\n    const {\n        subsurface_column, ts_end, ts_start,\n        hour_value, include_comms_health\n    } = input;\n\n    const api_link = `${host}/api/subsurface/get_subsurface_plot_data/` +\n    `${subsurface_column}/${ts_end}/${ts_start}/${hour_value}` +\n    `?include_comms_health=${include_comms_health}`;\n\n    axios.get(api_link)\n    .then(response => {\n        const { data } = response;\n        console.log(\"Subsurface Plot Data\", data);\n        callback(data);\n    })\n    .catch(error => {\n        console.error(error);\n    });\n}\n\nexport function getSurfaceNodeHealth (input, callback) {\n    const { subsurface_column } = input;\n    const api_link = `${host}/api/subsurface/get_subsurface_node_health/${subsurface_column}`;\n\n    axios.get(api_link)\n    .then(response => {\n        const { data } = response;\n        console.log(\"Subsurface Node Health Data\", data);\n        callback(data);\n    })\n    .catch(error => {\n        console.error(error);\n    });\n}\n\nexport function getSubsurfaceNodeLevel (input, callback) {\n    const { subsurface_column, ts_end, ts_start, node_id } = input;\n    console.log(\"node level input\", input);\n    const api_link = `${host}/api/subsurface/get_subsurface_node_level/${subsurface_column}/${ts_end}/${ts_start}/${node_id}`;\n\n    axios.get(api_link)\n    .then(response => {\n        const { data } = response;\n        console.log(\"Subsurface Node Level Data\", data);\n        callback(data);\n    })\n    .catch(error => {\n        console.error(error);\n    });\n}\n\nexport function getEarthquakeEvents (callback) {\n    const api_link = `${host}/api/analysis/get_earthquake_events`;\n\n    axios.get(api_link)\n    .then(response => {\n        const { data } = response;\n        console.log(\"Earthquake Events\", data);\n        callback(data);\n    })\n    .catch(error => {\n        console.error(error);\n    });\n}\n\nexport function insertEarthquakeEvent (input, callback) {\n    const api_link = `${host}/api/analysis/insert_earthquake_event`;\n    axios.post(api_link, input)\n    .then(response => {\n        callback(response);\n    })\n    .catch(error => {\n        console.error(error);\n    });\n}\n\nexport function getEarthquakeAlerts (request, callback) {\n    const { limit, offset } = request;\n    const api_link = `${host}/api/analysis/get_earthquake_alerts`\n        + `?limit=${limit}&offset=${offset}`;\n\n    axios.get(api_link)\n    .then(response => {\n        const { data } = response;\n        console.log(\"Earthquake Alerts\", data);\n        callback(data);\n    })\n    .catch(error => {\n        console.error(error);\n    });\n}\n\nexport function getMOMsAlertSummary (callback) {\n    const api_link = `${host}/api/manifestations_of_movement/get_latest_alerts`;\n\n    axios.get(api_link)\n    .then(response => {\n        const { data } = response;\n        console.log(\"MOMs Alerts\", data);\n        callback(data);\n    })\n    .catch(error => {\n        console.error(error);\n    });\n}\n\nexport function getMOMsInstances (site_code, callback) {\n    const api_link = `${host}/api/manifestations_of_movement/get_moms_instances/${site_code}`;\n\n    axios.get(api_link)\n    .then(response => {\n        const { data } = response;\n        console.log(`MOMs Instances of ${site_code.toUpperCase()}`, data);\n        callback(data);\n    })\n    .catch(error => {\n        console.error(error);\n    });\n}\n\nexport function getSiteSubsurfaceColumns (site_code, callback) {\n    const api_link = `${host}/api/subsurface/get_site_subsurface_columns/${site_code}`;\n\n    axios.get(api_link)\n    .then(response => {\n        const { data } = response;\n        console.log(`Subsurface Columns of ${site_code.toUpperCase()}`, data);\n        callback(data);\n    })\n    .catch(error => {\n        console.error(error);\n    });\n}\n\nexport function saveChartSVG (input, callback) {\n    const api_link = `${host}/api/analysis/save_chart_svg`;\n    \n    axios.post(api_link, input)\n    .then(response => {\n        const { data } = response;\n        console.log(\"Save SVG\", data);\n        callback(data);\n    })\n    .catch(error => {\n        console.error(error);\n    });\n}\n\nexport function saveInvalidRainfallTag (input, callback) {\n    const api_link = `${host}/api/rainfall/tag_invalid_data`;\n    \n    axios.post(api_link, input)\n    .then(response => {\n        const { data } = response;\n        console.log(\"Save tag information\", data);\n        callback(data);\n    })\n    .catch(error => {\n        console.error(error);\n    });\n}\n\nexport function getLoggersAndSensorsData (callback) {\n    axios.get(`${host}/api/sensor_deployment/get_loggers_data`)\n    .then(response => {\n        const { data } = response;\n        console.log(\"Loggers and Sensors Data\", data);\n        callback(data);\n    })\n    .catch(error => {\n        console.log(error);\n    });\n}\n\nexport function saveLoggerDeployment (input, callback) {\n    const api_link = `${host}/api/sensor_deployment/save_logger_deployment`;\n    axios.post(api_link, input)\n    .then(response => {\n        const { data } = response;\n        console.log(\"Save deployment logs reponse\", data);\n        callback(data);\n    })\n    .catch(error => {\n        console.error(error);\n    });\n}\n\nexport function saveUnreliableMarkerData (input, callback) {\n    const api_link = `${host}/api/surficial/save_unreliable_marker_data`;\n    \n    axios.post(api_link, input)\n    .then(response => {\n        const { data } = response;\n        console.log(\"Save unreliable data\", data);\n        callback(data);\n    })\n    .catch(error => {\n        console.error(error);\n    });\n}\n\nexport function downloadMarkerHistoryTags (input, callback) {\n    const api_link = `${host}/api/surficial/get_marker_history_tags`;\n    \n    axios.get(api_link, { params: input, responseType: \"blob\" })\n    .then(response => {\n        const { data } = response;\n        callback(data);\n    })\n    .catch(error => {\n        console.error(error);\n    });\n}\n\nexport function saveDataUpdate (input, callback) {\n    const api_link = `${host}/api/sensor_deployment/save_data_update`;\n    axios.post(api_link, input)\n    .then(response => {\n        const { data } = response;\n        console.log(\"Save data update reponse\", data);\n        callback(data);\n    })\n    .catch(error => {\n        console.error(error);\n    });\n}\n\nexport function getMonitoringAnalyticsData (input, callback) {\n    const api_link = `${host}/api/monitoring/get_monitoring_analytics_data`;\n    \n    axios.post(api_link, input)\n    .then(response => {\n        const { data } = response;\n        console.log(\"Monitoring analytics data\", data);\n        callback(data);\n    })\n    .catch(error => {\n        console.error(error);\n    });\n}\n\nexport function getCommsAnalyticsData (input, callback) {\n    const api_link = `${host}/api/comms_analytics/get_comms_analytics_data`;\n\n    axios.post(api_link, input)\n    .then(response => {\n        const { data } = response;\n        console.log(\"Comms analytics data\", data);\n        callback(data);\n    })\n    .catch(error => {\n        console.error(error);\n    });\n}\n","import React, { Fragment, useState, useEffect } from \"react\";\n\nimport Highcharts from \"highcharts\";\nimport highchartsMore from \"highcharts/highcharts-more\";\nimport HighchartsReact from \"highcharts-react-official\";\nimport moment from \"moment\";\n\nimport {\n    Grid, Button, Paper, Divider, LinearProgress\n} from \"@material-ui/core\";\nimport { ArrowDropUp } from \"@material-ui/icons\";\n\nimport { getSurficialMarkerTrendingData } from \"../ajax\";\n\nhighchartsMore(Highcharts);\n\nHighcharts.SVGRenderer.prototype.symbols.asterisk = (x, y, w, h) =>\n    [\n        \"M\", x - 3, y - 3,\n        \"L\", x + w + 3, y + h + 3,\n        \"M\", x + w + 3, y - 3,\n        \"L\", x - 3, y + h + 3,\n        \"M\", x - 4, y + h / 2,\n        \"L\", x + w + 4, y + h / 2,\n        \"M\", x + w / 2, y - 4,\n        \"L\", x + w / 2, y + h + 4,\n        \"z\"\n    ];\n\nif (Highcharts.VMLRenderer) {\n    Highcharts.VMLRenderer.prototype.symbols.asterisk =\n            Highcharts.SVGRenderer.prototype.symbols.asterisk;\n}\n\nfunction prepareMarkerAccelerationVsTimeChartOption (data, timestamps, input) {\n    const { site_code, marker_name, ts } = input;\n    \n    return {\n        series: data,\n        chart: {\n            type: \"line\",\n            zoomType: \"x\",\n            panning: true,\n            panKey: \"shift\",\n            resetZoomButton: {\n                position: {\n                    x: 0,\n                    y: -30\n                }\n            }\n        },\n        title: {\n            text: `<b>Velocity & Acceleration vs Time Chart of ${(site_code).toUpperCase()}</b>`,\n            y: 22\n        },\n        subtitle: {\n            text: `Source: <b>Marker ${marker_name}</b><br/>Timestamp: <b>${moment(ts).format(\"D MMM YYYY, HH:mm\")}</b>`,\n            style: { fontSize: \"13px\" }\n        },\n        xAxis: {\n            categories: timestamps,\n            type: \"datetime\",\n            dateTimeLabelFormats: {\n                month: \"%e. %b %Y\",\n                year: \"%b\"\n            },\n            labels: {\n                formatter () {\n                    return moment(this.value).format(\"D MMM\");\n                }\n            },\n            title: {\n                text: \"<b>Time (Days)</b>\"\n            }\n        },\n        yAxis: [{\n            title: {\n                text: \"<b>Velocity (cm/day)</b>\",\n                style: {\n                    color: Highcharts.getOptions().colors[1]\n                }\n            }\n        }, {\n            title: {\n                text: \"<b>Acceleration (cm/days^2)</b>\",\n                style: {\n                    color: Highcharts.getOptions().colors[0]\n                }\n            },\n            labels: {\n                style: {\n                    color: Highcharts.getOptions().colors[0]\n                }\n            },\n            opposite: true\n        }],\n        tooltip: {\n            shared: true,\n            crosshairs: true\n        },\n        plotOptions: {\n            line: {\n                marker: {\n                    enabled: false\n                }\n            }\n        },\n        credits: {\n            enabled: false\n        }\n    };\n}\n\nfunction prepareMarkerInterpolationChartOption (data, input) {\n    const { site_code, marker_name, ts } = input;\n    return {\n        series: data,\n        time: { timezoneOffset: -8 * 60 },\n        chart: {\n            type: \"spline\",\n            zoomType: \"x\",\n            panning: true,\n            panKey: \"shift\",\n            resetZoomButton: {\n                position: {\n                    x: 0,\n                    y: -30\n                }\n            }\n        },\n        title: {\n            text: `<b>Displacement Interpolation Chart of ${(site_code).toUpperCase()}</b>`,\n            y: 22\n        },\n        subtitle: {\n            text: `Source: <b>Marker ${marker_name}</b><br/>Timestamp: <b>${moment(ts).format(\"D MMM YYYY, HH:mm\")}</b>`,\n            style: { fontSize: \"13px\" }\n        },\n        xAxis: {\n            type: \"datetime\",\n            dateTimeLabelFormats: {\n                month: \"%e. %b %Y\",\n                year: \"%b\"\n            },\n            title: {\n                text: \"<b>Date</b>\"\n            }\n        },\n        yAxis: {\n            title: {\n                text: \"<b>Displacement (cm)</b>\"\n            }\n        },\n        tooltip: {\n            crosshairs: true\n        },\n        plotOptions: {\n            line: {\n                marker: {\n                    enabled: true\n                }\n            },\n            scatter: {\n                tooltip: {\n                    pointFormat: \"Date/Time: <b>{point.x:%A, %e %b, %H:%M:%S}</b><br>Displacement: <b>{point.y:.2f}</b>\"\n                }\n            }\n        },\n        credits: {\n            enabled: false\n        }\n    };\n}\n\nfunction prepareMarkerAccelerationChartOption (data, input) {\n    const { site_code, marker_name, ts } = input;\n    return {\n        series: data,\n        time: { timezoneOffset: -8 * 60 },\n        chart: {\n            type: \"line\",\n            zoomType: \"x\",\n            panning: true,\n            panKey: \"shift\",\n            resetZoomButton: {\n                position: {\n                    x: 0,\n                    y: -30\n                }\n            }\n        },\n        title: {\n            text: `<b>Velocity Acceleration Chart of ${(site_code).toUpperCase()}</b>`,\n            y: 22\n        },\n        subtitle: {\n            text: `Source: <b>Marker ${marker_name}</b><br/>Timestamp: <b>${moment(ts).format(\"D MMM YYYY, HH:mm\")}</b>`,\n            style: { fontSize: \"13px\" }\n        },\n        xAxis: {\n            title: {\n                text: \"<b>Velocity (cm/day)</b>\"\n            }\n        },\n        yAxis: {\n            title: {\n                text: \"<b>Acceleration (cm/day^2)</b>\"\n            }\n        },\n        tooltip: {\n            headerFormat: \"\",\n            shared: true,\n            crosshairs: true\n        },\n        plotOptions: {\n            line: {\n                marker: {\n                    enabled: true\n                }\n            }\n        },\n        credits: {\n            enabled: false\n        }\n    };\n}\n\nfunction processDatasetForPlotting (data) {\n    const { dataset_name, dataset } = data;\n    \n    if (dataset_name === \"velocity_acceleration\") {\n        dataset.forEach(({ name }, index) => {\n            if (name === \"Trend Line\") {\n                dataset[index] = {\n                    ...dataset[index],\n                    type: \"spline\"\n                };\n            } else if (name === \"Threshold Interval\") {\n                dataset[index] = {\n                    ...dataset[index],\n                    type: \"arearange\",\n                    lineWidth: 0,\n                    fillOpacity: 0.2,\n                    zIndex: 0,\n                    color: \"#FFEB32\"\n                };\n            } else if (name === \"Last Data Point\") {\n                dataset[index] = {\n                    ...dataset[index],\n                    marker: {\n                        symbol: \"asterisk\",\n                        lineColor: \"#ff9e32\",\n                        lineWidth: 4\n                    }\n                };\n            }\n        });\n    } else if (dataset_name === \"displacement_interpolation\") {\n        dataset.forEach(({ name }, index) => {\n            if (name === \"Surficial Data\") {\n                dataset[index].type = \"scatter\";\n            } else if (name === \"Interpolation\") {\n                dataset[index] = { ...dataset[index], marker: { enabled: true, radius: 0 } };\n            }\n        });\n    } else if (dataset_name === \"velocity_acceleration_time\") {\n        dataset.forEach(({ name }, index) => {\n            if (name === \"Velocity\") {\n                dataset[index].yAxis = 0;\n            } else if (name === \"Acceleration\") {\n                dataset[index].yAxis = 1;\n            }\n        });\n    }\n    return dataset;\n}\n\nfunction prepareOptions (input, data) {\n    const options = [];\n    data.forEach((chart_data) => {\n        const { dataset_name } = chart_data;\n        const series = processDatasetForPlotting(chart_data);\n\n        let option;\n        if (dataset_name === \"velocity_acceleration\") {\n            option = prepareMarkerAccelerationChartOption(series, input);\n        } else if (dataset_name === \"displacement_interpolation\") {\n            option = prepareMarkerInterpolationChartOption(series, input);\n        } else if (dataset_name === \"velocity_acceleration_time\") {\n            const index = series.findIndex(x => x.name === \"Timestamps\");\n            const series_copy = JSON.parse(JSON.stringify(series));\n            const [timestamps] = series_copy.splice(index, 1);\n            option = prepareMarkerAccelerationVsTimeChartOption(series_copy, timestamps.data, input);\n        }\n        options.push(option);\n    });\n\n    return options;\n}\n\nfunction createSurficialTrendingGraphs (input, trending_data, chartRef) {\n    const options = prepareOptions(input, trending_data);\n\n    const charts = options.map(option => (\n        <HighchartsReact\n            highcharts={Highcharts}\n            options={option}\n            ref={chartRef}\n        />\n    ));\n\n    return charts;\n}\n\nfunction SurficialTrendingGraphs (props) {\n    const { \n        siteCode: site_code,\n        generateTrending,\n        setShowTrending, setGenerateTrending,\n        chosenPoint\n    } = props;\n    const chartRef = React.useRef(null);\n    const [trending_data, setTrendingData] = useState([]);\n    const [graph_components, setGraphComponents] = useState([]);\n    const [loading, setLoading] = useState(false);\n\n    const { ts, name: marker_name } = chosenPoint;\n    const input = {\n        site_code,\n        ts: moment(ts).format(\"YYYY-MM-DD HH:ss:mm\"),\n        marker_name\n    };\n\n    useEffect(() => {\n        if (generateTrending) {\n            setLoading(true);\n            getSurficialMarkerTrendingData(input, data => {\n                const { has_trend, trending_data: td } = data;\n                const temp = has_trend ? [...td] : [];\n                setTrendingData(temp);\n                setGenerateTrending(false);\n                setLoading(false);\n            });\n        }\n    }, [generateTrending]);\n\n    useEffect(() => {\n        if (trending_data.length !== 0) {\n            const gc = createSurficialTrendingGraphs(input, trending_data, chartRef);\n            setGraphComponents(gc);\n        }\n    }, [trending_data]);\n\n    return (\n        <Fragment>\n            <Grid item xs={12}>\n                <Divider />\n            </Grid>\n\n            {\n                loading ? (\n                    <Grid item xs={12} style={{ marginTop: 16 }}>\n                        <LinearProgress variant=\"query\" style={{ height: 8 }}/>\n                    </Grid>\n                ) : (\n                    <Fragment>\n                        <Grid container item xs={12} justify=\"flex-end\">                \n                            <Button\n                                variant=\"contained\"\n                                onClick={() => setShowTrending(false)}\n                                color=\"primary\"\n                                size=\"small\"\n                                endIcon={<ArrowDropUp />}\n                            >\n                                Hide\n                            </Button>\n                        </Grid>\n\n                        <Grid container item xs={12} justify=\"center\" spacing={1}>\n                            {\n                                trending_data.length !== 0 ? (\n                                    graph_components.map((graph, key) => (\n                                        <Grid item xs={12} sm={6} key={key}>\n                                            <Paper>\n                                                {graph}\n                                            </Paper>\n                                        </Grid>\n                                    ))\n                                ) : (\n                                    <Paper\n                                        component={Grid}\n                                        container\n                                        item\n                                        alignItems=\"center\"\n                                        justify=\"center\"\n                                        style={{\n                                            height: \"20vh\", padding: 60,\n                                            background: \"gainsboro\",\n                                            border: \"4px solid #CCCCCC\"\n                                        }}\n                                    >\n                                        Selected data has no trend.\n                                    </Paper>\n                                )\n                            }\n                        </Grid>\n                    </Fragment>\n                )\n            }\n        </Fragment>\n    );\n}\n\nexport default SurficialTrendingGraphs;\n","import React from \"react\";\n\nimport { Button, IconButton } from \"@material-ui/core\";\nimport { ArrowBackIos } from \"@material-ui/icons\";\nimport { isWidthDown } from \"@material-ui/core/withWidth\";\n\nconst goBack = history => e => {\n    e.preventDefault();\n    history.push(\"/analysis/sites\");\n    history.replace(\"/analysis/sites\");\n};\n\nfunction BackToMainButton (props) {\n    const { width, history } = props;\n\n    return (\n        isWidthDown(width, \"sm\") ? (<Button\n            variant=\"contained\"\n            color=\"primary\"\n            size=\"small\" \n            onClick={goBack(history)}\n        >\n            <ArrowBackIos style={{ fontSize: 16 }}/> Back to site list\n        </Button>) : (<IconButton\n            variant=\"contained\"\n            color=\"primary\"\n            size=\"small\" \n            onClick={goBack(history)}\n            style={{ marginLeft: 6 }}\n        >\n            <ArrowBackIos />\n        </IconButton>)\n    );\n}\n\nexport default BackToMainButton;\n","\nimport React, { Fragment, useState } from \"react\";\n\nimport {\n    Button, Menu, MenuItem, Tooltip\n} from \"@material-ui/core\";\nimport { ArrowDropDown } from \"@material-ui/icons\";\n\nconst date_range_options = [\n    { label: \"3 days\", unit: \"days\", duration: 3 },\n    { label: \"7 days\", unit: \"days\", duration: 7 },\n    { label: \"10 days\", unit: \"days\", duration: 10 },\n    { label: \"2 weeks\", unit: \"weeks\", duration: 2 },\n    { label: \"1 month\", unit: \"months\", duration: 1 },\n    { label: \"3 months\", unit: \"months\", duration: 3 },\n    { label: \"6 months\", unit: \"months\", duration: 6 },\n    { label: \"1 year\", unit: \"years\", duration: 1 },\n    { label: \"All\", unit: \"all\", duration: 0 }\n];\n\nconst hour_interval = [\n    { label: \"4 hours\", hour_value: 4 },\n    { label: \"8 hours\", hour_value: 8 },\n    { label: \"12 hours\", hour_value: 12 },\n    { label: \"1 day\", hour_value: 24 }\n];\n\nfunction DateRangeSelector (props) {\n    const {\n        isSubsurface, selectedRangeInfo,\n        setSelectedRangeInfo, selectedHourInterval,\n        setSelectedHourInterval, disableAll\n    } = props;\n    const [date_range_anchor, setDateRangeAnchor] = useState(null);\n    const [hour_interval_anchor, setHourIntervalAnchor] = useState(null);\n    const disable_all = typeof disableAll === \"undefined\" ? false : disableAll;\n    const is_subsurface = typeof isSubsurface === \"undefined\" ? false : isSubsurface;\n    let default_label = \"\";\n\n    if (selectedHourInterval) {\n        const { label } = selectedHourInterval;\n        default_label = label;\n    }\n\n    const dateRangeHandleClick = event => {\n        setDateRangeAnchor(event.currentTarget);\n    };\n\n    const dateRangeHandleClose = () => {\n        setDateRangeAnchor(null);\n    };\n\n    const dateRangeSelected = data => {\n        setSelectedRangeInfo(data);\n        setDateRangeAnchor(null);\n    };\n\n    const hourIntervalHandleClick = event => {\n        setHourIntervalAnchor(event.currentTarget);\n    };\n\n    const hourIntervalHandleClose = () => {\n        setHourIntervalAnchor(null);\n    };\n\n    const hourIntervalSelected = data => {\n        setSelectedHourInterval(data);\n        setHourIntervalAnchor(null);\n    };\n    \n    const SubsurfaceHourInterval = () => {\n        return (\n            <Fragment>\n                <Tooltip title=\"Select time interval\" arrow>\n                    <Button \n                        variant=\"contained\"\n                        color=\"primary\"\n                        size=\"small\" \n                        aria-controls=\"simple-menu\"\n                        aria-haspopup=\"true\"\n                        onClick={hourIntervalHandleClick}\n                        style={{ marginRight: 6 }}\n                        endIcon={<ArrowDropDown />}\n                    >\n                        {default_label}\n                    </Button>\n                </Tooltip>\n\n                <Menu\n                    id=\"simple-menu\"\n                    anchorEl={hour_interval_anchor}\n                    keepMounted\n                    open={Boolean(hour_interval_anchor)}\n                    onClose={hourIntervalHandleClose} \n                >\n                    {\n                        hour_interval.map((row, index) => {\n                            const { label } = row;\n                            return (\n                                <MenuItem\n                                    // eslint-disable-next-line react/no-array-index-key\n                                    key={`hour_interval_${index}`} \n                                    onClick={() => hourIntervalSelected(row)}>\n                                    {label}\n                                </MenuItem>\n                            );\n                        })\n                    }\n                </Menu>\n            </Fragment>\n        );\n    };\n\n    return (\n        <div>\n            {\n                is_subsurface && SubsurfaceHourInterval()\n            }\n\n            <Tooltip title=\"Select date range\" arrow>\n                <Button \n                    variant=\"contained\"\n                    color=\"primary\"\n                    size=\"small\" \n                    aria-controls=\"simple-menu\"\n                    aria-haspopup=\"true\"\n                    onClick={dateRangeHandleClick}\n                    style={{ marginRight: is_subsurface ? 8 : 0 }}\n                    endIcon={<ArrowDropDown />}\n                >\n                    {selectedRangeInfo.label}\n                </Button>\n            </Tooltip>\n\n            <Menu\n                id=\"simple-menu\"\n                anchorEl={date_range_anchor}\n                keepMounted\n                open={Boolean(date_range_anchor)}\n                onClose={dateRangeHandleClose} \n            >\n                {\n                    date_range_options.map((row, index) => {\n                        const { label, unit } = row;\n                        if (unit === \"all\" && disable_all) return null;\n\n                        return (\n                            <MenuItem\n                                // eslint-disable-next-line react/no-array-index-key\n                                key={`date_range_${index}`} \n                                onClick={() => dateRangeSelected(row)}>\n                                {label}\n                            </MenuItem>\n                        );\n                    })\n                }\n            </Menu>\n        </div>\n\n    );\n}\n\nexport default DateRangeSelector;\n","import React, { useState, useEffect, Fragment } from \"react\";\nimport { Route, Link, matchPath } from \"react-router-dom\";\n\nimport Highcharts from \"highcharts\";\nimport HC_exporting from \"highcharts/modules/exporting\";\nimport HighchartsReact from \"highcharts-react-official\";\nimport MomentUtils from \"@date-io/moment\";\nimport moment from \"moment\";\nimport { useSnackbar } from \"notistack\";\nimport Chroma from \"chroma-js\";\n\nimport { \n    Button, ButtonGroup,\n    Paper, withMobileDialog, Dialog,\n    DialogTitle, DialogContent,\n    DialogContentText, DialogActions, Grid,\n    Typography, Divider, TextField, FormControl,\n    FormControlLabel, Radio, RadioGroup,\n    Menu, MenuItem, List, ListItem,\n    ListItemIcon, ListItemText, Tooltip,\n    TableRow, TableCell, Checkbox, FormLabel,\n    FormGroup\n} from \"@material-ui/core\";\nimport {\n    ArrowDropDown, Edit, TrendingUp,\n    Add, LocalOffer, GetApp\n} from \"@material-ui/icons\";\nimport { isWidthDown } from \"@material-ui/core/withWidth\";\nimport { MuiPickersUtilsProvider, KeyboardDateTimePicker } from \"@material-ui/pickers\";\nimport MUIDataTable from \"mui-datatables\";\n\nimport SurficialTrendingGraphs from \"./SurficialTrendingGraphs\";\nimport BackToMainButton from \"./BackToMainButton\";\nimport DateRangeSelector from \"./DateRangeSelector\";\nimport { SlideTransition, FadeTransition } from \"../../reusables/TransitionList\";\n\nimport {\n    getSurficialPlotData, deleteSurficialData,\n    updateSurficialData, saveChartSVG,\n    insertMarkerEvent, saveUnreliableMarkerData,\n    downloadMarkerHistoryTags\n} from \"../ajax\";\nimport { computeForStartTs, capitalizeFirstLetter } from \"../../../UtilityFunctions\";\nimport { getCurrentUser } from \"../../sessions/auth\";\n\n// init the module\nHC_exporting(Highcharts);\n\nfunction snackBarActionButton (closeSnackbarFn, key) {\n    return (\n        <Button\n            color=\"primary\"\n            onClick={() => { closeSnackbarFn(key); }}\n        >\n            Dismiss\n        </Button>\n    );\n}\n\nfunction ExportModal (props) {\n    const { \n        fullScreen, open, setIsOpen,\n        surficialData, siteCode\n    } = props;\n\n    const [data_state, setDataState] = useState({});\n    const [ts_start, setTsStart] = useState(null);\n    const [ts_end, setTsEnd] = useState(null);\n\n    useEffect(() => {\n        const temp = {};\n        surficialData.forEach(row => {\n            temp[row.marker_id] = false;\n        });\n        setDataState({ ...data_state, ...temp });\n    }, [surficialData]);\n\n    const clickCheckboxHandler = event => {\n        const { target: { checked, value } } = event;\n        setDataState({ ...data_state, [value]: checked });\n    };\n\n    const handleSubmit = () => {\n        const payload = {\n            ts_start: moment(ts_start).format(\"YYYY-MM-DD HH:mm:ss\"),\n            ts_end: moment(ts_end).format(\"YYYY-MM-DD HH:mm:ss\"),\n            markers: Object.entries(data_state)\n            .filter(x => x[1])\n            .map(y => parseInt(y[0], 10))\n        };\n\n        const file_name = `${siteCode}_${moment().format(\"MM-DD-YYYY_HH-mm-ss\")}`;\n\n        downloadMarkerHistoryTags(payload, ret => {\n            const url = window.URL.createObjectURL(new Blob([ret]));\n            const link = document.createElement(\"a\");\n            link.href = url;\n            link.setAttribute(\"download\", file_name);\n            document.body.appendChild(link);\n            link.click();\n\n            setIsOpen(false);\n        });\n    };\n\n    const handleCancel = () => {\n        setIsOpen(false);\n    };\n\n    return (\n        <Dialog\n            fullWidth\n            fullScreen={fullScreen}\n            open={open}\n            aria-labelledby=\"form-dialog-title\"\n            TransitionComponent={fullScreen ? SlideTransition : FadeTransition}      \n        >\n            <DialogTitle id=\"form-dialog-title\">\n                Export marker history and data tags\n            </DialogTitle>\n            <DialogContent>\n                <DialogContentText>\n                    Fill out the necessary fields.\n                </DialogContentText>\n            \n                <FormControl component=\"fieldset\" style={{ width: \"100%\" }}>\n                    <FormLabel component=\"legend\" style={{ textAlign: \"center\" }}>\n                        Choose markers to be exported\n                    </FormLabel>\n                    <FormGroup row style={{ display: \"flex\", justifyContent: \"space-evenly\" }}>\n                        {\n                            surficialData.map(row => (\n                                <FormControlLabel\n                                    key={row.marker_name}\n                                    control={<Checkbox\n                                        checked={data_state[row.marker_id]} onChange={clickCheckboxHandler}\n                                        value={row.marker_id}\n                                        name={row.marker_name.toString()}\n                                    />}\n                                    label={row.marker_name}\n                                />\n                            ))\n                        }\n                    </FormGroup>\n                </FormControl>\n\n                <Grid container spacing={2} style={{ marginTop: 8 }}>\n                    <MuiPickersUtilsProvider utils={MomentUtils}>\n                        <Grid item xs={12} sm={6}>\n                            <KeyboardDateTimePicker\n                                required\n                                autoOk\n                                label=\"Timestamp of Sending\"\n                                value={ts_start}\n                                onChange={x => setTsStart(x)}\n                                ampm={false}\n                                placeholder=\"2010/01/01 00:00\"\n                                format=\"YYYY/MM/DD HH:mm\"\n                                mask=\"____/__/__ __:__\"\n                                clearable\n                                disableFuture\n                                fullWidth\n                            />\n                        </Grid>\n\n                        <Grid item xs={12} sm={6}>\n                            <KeyboardDateTimePicker\n                                required\n                                autoOk\n                                label=\"End Timestamp\"\n                                value={ts_end}\n                                onChange={x => setTsEnd(x)}\n                                ampm={false}\n                                placeholder=\"2010/01/01 00:00\"\n                                format=\"YYYY/MM/DD HH:mm\"\n                                mask=\"____/__/__ __:__\"\n                                clearable\n                                disableFuture\n                                fullWidth\n                            />\n                        </Grid>\n                    </MuiPickersUtilsProvider>\n                </Grid>\n            </DialogContent>\n            <DialogActions>\n                <Button\n                    color=\"secondary\"\n                    onClick={handleSubmit}\n                    disabled={\n                        ts_start === null || ts_end === null || \n                        Object.values(data_state).every(x => x === false) \n                    }\n                >\n                    Export\n                </Button>\n                <Button \n                    onClick={handleCancel}\n                >\n                    Cancel\n                </Button>\n            </DialogActions>\n        </Dialog>\n    );\n}\n\nfunction AddNewHistoryModal (props) {\n    const { \n        fullScreen, open, setIsOpen,\n        selectedMarker, historicalMarkers,\n        addNewMarker, siteCode, setRedrawChart,\n        history, match: { url }\n    } = props;\n\n    let marker_id = null;\n    let marker_name = null;\n    if (selectedMarker !== null) {\n        const { marker_id: mi, marker_name: mn } = selectedMarker;\n        marker_id = mi;\n        marker_name = mn;\n    }\n\n    const { enqueueSnackbar, closeSnackbar } = useSnackbar();\n    const [event, setEvent] = useState(\"\");\n    const [ts, setTs] = useState(null);\n    const [new_marker_name, setNewMarkerName] = useState(\"\");\n    const [remarks, setRemarks] = useState(\"\");\n\n    const resetForm = () => {\n        setIsOpen(false);\n        setTs(null);\n        setNewMarkerName(\"\");\n        setNmmValidation(null);\n        setEvent(\"\");\n        setRemarks(\"\");\n    };\n\n    const handleChange = e => {\n        setEvent(e.target.value);\n        setTs(null);\n        setNewMarkerName(\"\");\n        setNmmValidation(null);\n        setRemarks(\"\");\n    };\n\n    const [nmm_validation, setNmmValidation] = useState(null);\n    const handleBlur = () => {\n        if (new_marker_name === \"\") setNmmValidation(\"Required field\");\n    };\n\n    useEffect(() => {\n        if (new_marker_name === \"\") {\n            setNmmValidation(\"\");\n            return; \n        }\n\n        if (/[^a-zA-Z]/.test(new_marker_name)) {\n            setNmmValidation(\"Enter alphabet characters only.\");\n            return;\n        }\n\n        if (historicalMarkers.includes(new_marker_name)) {\n            setNmmValidation(\"Marker name already exists.\");\n            return;\n        }\n\n        setNmmValidation(null);\n    }, [new_marker_name]);\n\n    const [verify_submit, setVerifySubmit] = useState(false);\n    const handleSubmit = () => {\n        let to_send = true;\n        if (event !== \"reposition\" || addNewMarker) {\n            to_send = false;\n            if (!verify_submit) setVerifySubmit(true);\n            else {\n                to_send = true;\n                setVerifySubmit(false);\n            }\n        }\n\n        if (to_send) {\n            resetForm();\n\n            const temp_event = addNewMarker ? \"add\" : event;\n            const temp_ts = addNewMarker ? moment() : ts;\n            const input = {\n                site_code: siteCode,\n                event: temp_event,\n                marker_id, \n                ts: moment(temp_ts).format(\"YYYY-MM-DD HH:mm:ss\"),\n                marker_name: new_marker_name,\n                remarks: remarks === \"\" ? null : remarks\n            };\n\n            insertMarkerEvent(input, data => {\n                const { status } = data;\n                let message = \"Error inserting new marker event...\";\n                if (addNewMarker) message = \"Error creating new marker...\";\n    \n                if (status === \"success\") {\n                    message = \"Inserting new marker event successful!\";\n                    if (addNewMarker) message = \"Creating new marker successful!\";\n                    setRedrawChart(true);\n\n                    if ([\"add\", \"rename\"].includes(temp_event)) {\n                        history.push(`${url}/${new_marker_name}`);\n                    }\n                }\n    \n                enqueueSnackbar(message,\n                    {\n                        variant: status,\n                        autoHideDuration: 7000,\n                        action: key => snackBarActionButton(closeSnackbar, key)\n                    }\n                );\n            });\n        }\n    };\n\n    return (\n        <Dialog\n            fullWidth\n            fullScreen={fullScreen}\n            open={open}\n            aria-labelledby=\"form-dialog-title\"\n            TransitionComponent={fullScreen ? SlideTransition : FadeTransition}      \n        >\n            <DialogTitle id=\"form-dialog-title\">\n                {\n                    addNewMarker ? \"Add new marker\" : `Add event to Marker ${marker_name}`\n                }\n            </DialogTitle>\n            <DialogContent>\n                <DialogContentText>\n                    {\n                        addNewMarker\n                            ? \"Choose a new marker name then submit.\"\n                            : \"Choose a marker event then answer the corresponding field(s).\" \n                    }\n                </DialogContentText>\n            \n                <FormControl component=\"fieldset\" style={{ display: \"flex\" }}>\n                    {\n                        !addNewMarker && (\n                            <RadioGroup\n                                aria-label=\"marker_event\"\n                                name=\"marker_event\"\n                                row\n                                style={{ justifyContent: \"space-around\" }}\n                                value={event}\n                                onChange={handleChange}\n                            >\n                                <FormControlLabel value=\"reposition\" control={<Radio />} label=\"Reposition\" />\n                                <FormControlLabel value=\"rename\" control={<Radio />} label=\"Rename\" />\n                                <FormControlLabel value=\"decommission\" control={<Radio />} label=\"Decommission\" />\n                            </RadioGroup>\n\n                        )\n                    }\n\n                    <Grid container spacing={2} style={{ marginTop: 8 }}>\n                        {\n                            event !== \"\" && (\n                                <Grid item xs={12} sm>\n                                    <MuiPickersUtilsProvider utils={MomentUtils}>\n                                        <KeyboardDateTimePicker\n                                            required\n                                            autoOk\n                                            label=\"Timestamp\"\n                                            value={ts}\n                                            onChange={x => setTs(x)}\n                                            ampm={false}\n                                            placeholder=\"2010/01/01 00:00\"\n                                            format=\"YYYY/MM/DD HH:mm\"\n                                            mask=\"____/__/__ __:__\"\n                                            clearable\n                                            disableFuture\n                                            fullWidth\n                                        />\n                                    </MuiPickersUtilsProvider>\n                                </Grid>\n                            )\n                        }\n                        {\n                            (event === \"rename\" || addNewMarker) && (\n                                <Grid item xs={12} sm>\n                                    <TextField\n                                        error={Boolean(nmm_validation)}\n                                        label=\"New Marker Name\"\n                                        value={new_marker_name}\n                                        onChange={x => \n                                            setNewMarkerName(x.target.value.toUpperCase())\n                                        }\n                                        onBlur={handleBlur}\n                                        type=\"text\"\n                                        required\n                                        fullWidth\n                                        inputProps={{\n                                            maxLength: 1\n                                        }}\n                                        placeholder=\"Input a letter\"\n                                        helperText={nmm_validation || \"\"}\n                                    />\n                                </Grid>\n                            )\n                        }\n                        \n                        {\n                            (event !== \"\" || addNewMarker) && (\n                                <Grid item xs={12} sm={12}>\n                                    <TextField\n                                        label=\"Remarks\"\n                                        value={remarks}\n                                        onChange={x => \n                                            setRemarks(x.target.value)\n                                        }\n                                        onBlur={handleBlur}\n                                        type=\"text\"\n                                        multiline\n                                        rowsMax={3}\n                                        fullWidth\n                                        inputProps={{\n                                            maxLength: 1500\n                                        }}\n                                        placeholder=\"Input remarks\"\n                                    />\n                                </Grid>\n                            )\n                        }\n                    </Grid>\n                </FormControl>\n\n                {\n                    verify_submit && (\n                        <Grid container spacing={2} style={{ marginTop: 12 }}>\n                            <Grid item xs={12}>\n                                <Typography variant=\"body1\" align=\"center\">\n                                    Are you sure submitting this data?\n                                </Typography>\n                            </Grid>\n                            <Grid item xs={12}><Divider /></Grid>\n                        </Grid>\n                    )\n                }\n            </DialogContent>\n            <DialogActions>\n                {\n                    verify_submit && (\n                        <Button onClick={() => setVerifySubmit(false)}>\n                            Go Back\n                        </Button>\n                    )\n                }\n                <Button\n                    variant={ verify_submit ? \"contained\" : \"text\" }\n                    color=\"secondary\"\n                    onClick={handleSubmit}\n                >\n                    Submit\n                </Button>\n                {\n                    !verify_submit && (\n                        <Button onClick={resetForm}>\n                            Cancel\n                        </Button>\n                    )\n                }\n            </DialogActions>\n        </Dialog>\n    );\n}\n\nfunction MarkerHistoryTable (props) {\n    const { markerInfo, markerName } = props;\n    const column_options = [\n        {\n            name: \"ts\",\n            label: \"Timestamp\",\n            options: {\n                filter: false,\n                customBodyRender (value) {\n                    return moment(value).format(\"D MMMM YYYY, HH:mm\");\n                },\n                sort: true\n            }\n        },\n        {\n            name: \"event\",\n            label: \"Event\"\n        },\n        {\n            name: \"m_name\",\n            label: \"Name\",\n            options: {\n                filter: false\n            }\n        },\n        {\n            name: \"remarks\",\n            label: \"Remarks\",\n            options: {\n                filter: false,\n                display: false\n            }\n        }\n    ];\n\n    const table_options = {\n        textLabels: {\n            body: {\n                noMatch: \"No data\"\n            }\n        },\n        selectableRows: \"none\",\n        expandableRows: true,\n        expandableRowsHeader: false,\n        expandableRowsOnClick: true,\n        renderExpandableRow: (row_data, rowMeta) => {\n            const col_span = row_data.length + 1;\n            const remarks = row_data[3];\n            return (\n                <TableRow>\n                    <TableCell colSpan={col_span} align=\"justify\">\n                        <strong>Remarks:</strong> {remarks}\n                    </TableCell>\n                </TableRow>\n            );\n        },\n        rowsPerPage: 3,\n        rowsPerPageOptions: [],\n        print: false,\n        download: false,\n        viewColumns: false,\n        responsive: \"standard\",\n        customSort (data, col_index, order) {\n            return data.sort((a, b) => {\n                if (col_index === 0) {\n                    return (\n                        moment(a.data[col_index]).isAfter(b.data[col_index]) \n                            ? -1 : 1 \n                    ) * (order === \"desc\" ? 1 : -1); \n                } \n                \n                return (a.data[col_index] < b.data[col_index] ? -1 : 1) * (order === \"desc\" ? 1 : -1);\n            }); \n        }\n    };\n\n    let table_data = [];\n    if (markerInfo) {\n        table_data = markerInfo.marker_history.map(x => {\n            const { ts, event, marker_name, remarks } = x;\n            const m_name = marker_name ? marker_name.marker_name : \"---\";\n            return {\n                event: capitalizeFirstLetter(event),\n                m_name, ts,\n                remarks: remarks || \"None\"\n            };\n        });\n    }\n    \n    return (\n        <MUIDataTable\n            title={`Marker ${markerName} History`}\n            columns={column_options}\n            options={table_options}\n            data={table_data}\n        />\n    );\n}\n\nfunction UpdateDeleteModal (props) {\n    const { \n        editModal, fullScreen, setEditModal, \n        siteCode, setRedrawChart, chosenPoint\n    } = props;\n    const {\n        is_open, ts, name, measurement, mo_id, data_id\n    } = editModal;\n    const { ts: chosen_ts, measurement: chosen_meas } = chosenPoint;\n    const { enqueueSnackbar, closeSnackbar } = useSnackbar();\n    const [is_delete_clicked, setDeleteClick] = useState(false);\n    const [delete_quantity, setDeleteQuantity] = useState(\"one\");\n    const changeRadioValueFn = x => setDeleteQuantity(x.target.value);\n\n    useEffect(() => { setDeleteClick(false); }, [is_open]);\n\n    const changeHandlerFn = (prop, value) => x => {\n        let fin_val = value;\n        if (prop === \"ts\") fin_val = x;\n        else if (prop === \"measurement\") fin_val = x.target.value;\n\n        setEditModal({\n            ...editModal, [prop]: fin_val \n        });\n    };\n\n    const deleteDataFn = () => {\n        // const { data_id, mo_id } = editModal;\n        let id = data_id;\n        if (delete_quantity === \"all\") {\n            id = mo_id;\n        }\n\n        const input = {\n            quantity: delete_quantity,\n            id\n        };\n\n        setEditModal({\n            ...editModal, is_open: false \n        });\n\n        deleteSurficialData(input, data => {\n            const { status } = data;\n            let message = \"Error deleting surficial data...\";\n            let variant = \"error\";\n\n            if (status === \"success\") {\n                message = \"Surficial data delete successful!\";\n                variant = \"success\";\n                setRedrawChart(true);\n            }\n\n            enqueueSnackbar(message,\n                {\n                    variant,\n                    autoHideDuration: 7000,\n                    action: key => snackBarActionButton(closeSnackbar, key)\n                }\n            );\n        });\n    };\n\n    const updateDataFn = () => {\n        let input = {};\n        \n        if (chosen_ts !== ts) {\n            input = {\n                ...input, mo_id, ts: moment(ts).format(\"YYYY-MM-DD HH:mm:ss\")\n            };\n        }\n\n        if (chosen_meas !== measurement) {\n            input = {\n                ...input, data_id, measurement\n            };\n        }\n\n        setEditModal({\n            ...editModal, is_open: false \n        });\n\n        if (Object.keys(input).length !== 0) {\n            updateSurficialData(input, data => {\n                const { status } = data;\n                let message = \"Error updating surficial data...\";\n                let variant = \"error\";\n\n                if (status === \"success\") {\n                    message = \"Surficial data update successful!\";\n                    variant = \"success\";\n                    setRedrawChart(true);\n                }\n\n                enqueueSnackbar(message,\n                    {\n                        variant,\n                        autoHideDuration: 7000,\n                        action: key => snackBarActionButton(closeSnackbar, key)\n                    }\n                );\n            });\n        }\n    };\n\n    return (\n        <Dialog\n            fullWidth\n            fullScreen={fullScreen}\n            open={is_open}\n            aria-labelledby=\"form-dialog-title\"\n            TransitionComponent={fullScreen ? SlideTransition : FadeTransition}      \n        >\n            <DialogTitle id=\"form-dialog-title\">\n                Update surficial data\n            </DialogTitle>\n            <DialogContent>\n                <DialogContentText>\n                    Carefully edit the necessary fields or delete entries if needed. \n                </DialogContentText>\n\n                <Grid container spacing={2}>\n                    <Grid item xs={12} align=\"center\">\n                        <Typography variant=\"subtitle1\" style={{ fontWeight: \"bold\" }}>\n                            {siteCode.toUpperCase()} - Marker {name}\n                        </Typography>\n                        <Typography variant=\"body2\">\n                            Observation Timestamp: {moment(chosen_ts).format(\"DD MMMM YYYY, HH:mm:ss\")}\n                        </Typography>\n                        <Typography variant=\"body2\">\n                            Measurement: {chosen_meas} cm\n                        </Typography>\n                    </Grid>\n\n                    <Grid item xs={12}><Divider /></Grid>\n\n                    <Grid item xs={12}>\n                        <Typography variant=\"subtitle2\" style={{ fontWeight: \"bold\" }}>\n                            EDIT\n                        </Typography>\n                    </Grid>\n\n                    <Grid item xs={12}>\n                        <TextField \n                            label=\"Change marker data measurement\"\n                            value={measurement}\n                            onChange={changeHandlerFn(\"measurement\")}\n                            type=\"number\"\n                            fullWidth\n                            required\n                        />\n                    </Grid>\n\n                    <Grid item xs={12}>\n                        Change observation timestamp (applies to the rest of the points)\n                    </Grid>\n\n                    <MuiPickersUtilsProvider utils={MomentUtils}>\n                        <Grid item xs={12}>\n                            <KeyboardDateTimePicker\n                                required\n                                autoOk\n                                label=\"Observation Timestamp\"\n                                value={moment(ts)}\n                                onChange={changeHandlerFn(\"ts\")}\n                                ampm={false}\n                                placeholder=\"2010/01/01 00:00\"\n                                format=\"YYYY/MM/DD HH:mm\"\n                                mask=\"____/__/__ __:__\"\n                                clearable\n                                disableFuture\n                                fullWidth\n                            />\n                        </Grid>\n                    </MuiPickersUtilsProvider>\n\n                    <Grid item xs={12} style={{ textAlign: \"right\" }}>\n                        <Button\n                            variant=\"contained\"\n                            color=\"primary\"\n                            size=\"small\"\n                            onClick={updateDataFn}\n                        >\n                            Update Data\n                        </Button>\n                    </Grid>\n\n                    <Grid item xs={12}><Divider /></Grid>\n\n                    <Grid item xs={12}>\n                        <Typography variant=\"subtitle2\" style={{ fontWeight: \"bold\" }}>\n                            DELETE\n                        </Typography>\n                    </Grid>\n\n                    <Grid item xs={12}>\n                        Be careful on deleting marker data. Delete only IF REALLY NEEDED.\n                    </Grid>\n\n                    <Grid item xs={12}>\n                        <FormControl component=\"fieldset\" >\n                            <RadioGroup\n                                aria-label=\"gender\"\n                                name=\"gender1\"\n                                value={delete_quantity}\n                                onChange={changeRadioValueFn}\n                            >\n                                <FormControlLabel value=\"one\" control={<Radio />} label=\"Delete measurement of this marker only\" />\n                                <FormControlLabel value=\"all\" control={<Radio />} label=\"Delete all measurements from given marker observation (i.e. all data from observation timestamp)\" />\n                            </RadioGroup>\n                        </FormControl>\n                    </Grid>\n\n                    <Grid item xs={12} style={{ textAlign: \"right\" }}>\n                        <Button\n                            variant=\"contained\"\n                            color=\"primary\"\n                            size=\"small\"\n                            onClick={() => setDeleteClick(true)}\n                        >\n                            Delete Data\n                        </Button>\n                    </Grid>\n\n                    {\n                        is_delete_clicked && (\n                            <Grid item xs={12} style={{ textAlign: \"right\" }}>\n                                <ButtonGroup \n                                    variant=\"contained\" \n                                    size=\"small\"\n                                    color=\"secondary\"\n                                    aria-label=\"small contained button group\"\n                                >\n                                    <Button disabled>Are you sure?</Button>\n                                    <Button onClick={deleteDataFn}>Yes</Button>\n                                    <Button onClick={() => setDeleteClick(false)}>No</Button>\n                                </ButtonGroup>\n                            </Grid>\n                        )\n                    }\n                </Grid>\n            </DialogContent>\n            <DialogActions>\n                <Button onClick={changeHandlerFn(\"is_open\", false)}>\n                    Cancel\n                </Button>\n            </DialogActions>\n        </Dialog>\n    );\n}\n\nfunction SurficialDataTagModal (props) {\n    const { \n        surficialDataTagModal, setSurficialDataTagModal, \n        siteCode, setRedrawChart\n    } = props;\n    const {\n        is_open, ts, name, measurement, \n        data_id, unreliable_data\n    } = surficialDataTagModal;\n\n    const { user_id } = getCurrentUser();\n    const [show_form, setShowForm] = useState(false);\n    const [remarks, setRemarks] = useState(\"\");\n    const [tag_type, setTagType] = useState(\"\");\n    const { enqueueSnackbar, closeSnackbar } = useSnackbar();\n\n    useEffect(() => {\n        setShowForm(!surficialDataTagModal.unreliable_data);\n    }, [surficialDataTagModal]);\n\n    const changeHandlerFn = (prop, value) => {\n        setSurficialDataTagModal({\n            ...surficialDataTagModal, [prop]: value \n        });\n    };\n\n    const handleCancel = () => {\n        changeHandlerFn(\"is_open\", false);\n        setRemarks(\"\");\n        setTagType(\"\");\n    };\n\n    const snackBarActionFn = key => {\n        return (<Button\n            color=\"primary\"\n            onClick={() => { closeSnackbar(key); }}\n        >\n            Dismiss\n        </Button>);\n    };\n\n    const saveFunction = () => {\n        let temp = null;\n        if (unreliable_data) {\n            temp = unreliable_data.marker_tag_id;\n        }\n\n        const input = {\n            marker_tag_id: temp,\n            data_id,\n            tagger_id: user_id,\n            remarks,\n            tag_type: parseInt(tag_type, 10)\n        };\n\n        saveUnreliableMarkerData(input, data => {\n            const { status, message } = data;\n            let variant;\n            if (status === true) {\n                setRedrawChart(true);\n                setSurficialDataTagModal({\n                    ...surficialDataTagModal, is_open: false \n                });\n                variant = \"success\";\n\n                setRemarks(\"\");\n            } else {\n                variant = \"error\";\n            }\n\n            enqueueSnackbar(\n                message,\n                {\n                    variant,\n                    autoHideDuration: 5000,\n                    action: snackBarActionFn\n                }\n            );\n        });\n    };\n\n    const toggle_edit = () => {\n        setShowForm(true);\n        setRemarks(unreliable_data.remarks);\n        setTagType(unreliable_data.tag_type.toString());\n    };\n\n    return (\n        <Dialog\n            open={is_open}\n            aria-labelledby=\"form-dialog-title\"    \n        >\n            <DialogTitle id=\"form-dialog-title\">\n                { unreliable_data ? \"Marker data tag information\" : \"Tag marker data\"}\n            </DialogTitle>\n\n            <DialogContent>\n                <Grid container spacing={2}>\n                    <Grid item xs={12} align=\"center\">\n                        <Typography variant=\"subtitle1\" style={{ fontWeight: \"bold\" }}>\n                            {siteCode.toUpperCase()} - Marker {name}\n                        </Typography>\n                        <Typography variant=\"body2\">\n                            Timestamp: {moment(ts).format(\"DD MMMM YYYY, HH:mm:ss\")}\n                        </Typography>\n                        <Typography variant=\"body2\">\n                            Measurement: {measurement} cm\n                        </Typography>\n                    </Grid>\n\n                    <Grid item xs={12}><Divider /></Grid>\n\n                    <Grid item xs={12} align=\"center\">\n                        {\n                            unreliable_data && !show_form && <Grid container justify=\"center\">\n                                <Grid item xs={12} sm={4}>\n                                    <Typography variant=\"body1\">\n                                        <strong>Tag Type:</strong>\n                                    </Typography>\n                                    <Typography variant=\"body1\" gutterBottom>\n                                        {{ \"-1\": \"Unreliable\", \"0\": \"Validating\", \"1\": \"Confirmed\" }[unreliable_data.tag_type]}\n                                    </Typography>\n                                </Grid>\n                                <Grid item xs={12} sm={4}>\n                                    <Typography variant=\"body1\">\n                                        <strong>Timestamp:</strong>\n                                    </Typography>\n                                    <Typography variant=\"body1\" gutterBottom>\n                                        {moment(unreliable_data.ts).format(\"DD MMMM YYYY, HH:mm:ss\")}\n                                    </Typography>\n                                </Grid>\n                                <Grid item xs={12} sm={4}>\n                                    <Typography variant=\"body1\">\n                                        <strong>Tagger:</strong>\n                                    </Typography>\n                                    <Typography variant=\"body1\" gutterBottom>\n                                        {`${unreliable_data.tagger.first_name} ${unreliable_data.tagger.last_name}`}\n                                    </Typography>\n                                </Grid>\n                                <Grid item xs={12}>\n                                    <Typography variant=\"body1\">\n                                        <strong>Remarks:</strong>\n                                    </Typography>\n                                    <Typography variant=\"body1\">\n                                        {unreliable_data.remarks}\n                                    </Typography>\n                                </Grid>\n                            </Grid>\n                        }\n\n                        {\n                            show_form && <Fragment>\n                                <FormControl component=\"fieldset\" style={{ display: \"flex\", marginBottom: \"1rem\" }}>\n                                    <RadioGroup\n                                        aria-label=\"tag_type\"\n                                        name=\"tag_type\"\n                                        row\n                                        style={{ justifyContent: \"space-around\" }}\n                                        value={tag_type}\n                                        onChange={x => setTagType(x.target.value)}\n                                    >\n                                        <FormControlLabel value=\"-1\" control={<Radio />} label=\"Unreliable\" />\n                                        <FormControlLabel \n                                            value=\"0\" control={<Radio />} label=\"Validating\" \n                                            disabled={unreliable_data && unreliable_data.tag_type !== 0} \n                                        />\n                                        <FormControlLabel value=\"1\" control={<Radio />} label=\"Confirmed\" />\n                                    </RadioGroup>\n                                </FormControl>\n\n                                <TextField \n                                    label=\"Remarks\"\n                                    value={remarks}\n                                    onChange={event => setRemarks(event.target.value)}\n                                    inputProps={{ maxLength: 1000 }}\n                                    fullWidth\n                                    required\n                                    error={remarks === \"\"}\n                                    helperText={remarks ? \"\" : \"Required\"}\n                                />\n                            </Fragment>\n                        }\n                    </Grid>\n                </Grid>\n            </DialogContent>\n\n            <DialogActions>\n                {\n                    show_form ? <Button\n                        variant=\"contained\"\n                        color=\"secondary\"\n                        size=\"small\"\n                        onClick={saveFunction}\n                        disabled={remarks === \"\" || tag_type === \"\"}\n                    >\n                        Save\n                    </Button> : <Button\n                        variant=\"contained\"\n                        color=\"secondary\"\n                        size=\"small\"\n                        onClick={toggle_edit}\n                    >\n                        Edit\n                    </Button>\n                }\n\n                <Button color=\"primary\" onClick={handleCancel}>\n                    Cancel\n                </Button>\n            </DialogActions>\n        </Dialog>\n    );\n}\n\nfunction ClickPointModal (props) {\n    const {\n        setIsOpenClickModal, open, chosenPoint,\n        setEditModal, setShowTrending,\n        setGenerateTrending, setSurficialDataTagModal\n    } = props;\n\n    const { ts: chosen_ts, measurement: chosen_meas, name } = chosenPoint;\n    const handleClose = () => {\n        setIsOpenClickModal(false);\n    };\n\n    const handleEditDeleteClick = () => {\n        handleClose();\n        setEditModal({\n            ...chosenPoint,\n            is_open: true\n        });\n    };\n\n    const handleGenerateTrendingClick = () => {\n        handleClose();\n        setShowTrending(true);\n        setGenerateTrending(true);\n    };\n\n    const hadleSurficialDataTagClick = type => event => {\n        handleClose();\n        setSurficialDataTagModal({\n            ...chosenPoint,\n            is_open: true,\n            type\n        });\n    };\n\n    return (\n        <Dialog onClose={handleClose} aria-labelledby=\"simple-dialog-title\" open={open}>\n            <DialogTitle id=\"simple-dialog-title\">Point options</DialogTitle>\n            <DialogContent>\n                <div align=\"center\">\n                    <Typography variant=\"subtitle1\" style={{ fontWeight: \"bold\" }}>\n                        Marker {name}\n                    </Typography>\n                    <Typography variant=\"body2\">\n                        Timestamp: {moment(chosen_ts).format(\"DD MMMM YYYY, HH:mm:ss\")}\n                    </Typography>\n                    <Typography variant=\"body2\">\n                        Measurement: {chosen_meas} cm\n                    </Typography>\n                </div>\n            </DialogContent>\n            <List>\n                <ListItem button onClick={handleEditDeleteClick}>\n                    <ListItemIcon>\n                        <Edit />\n                    </ListItemIcon>\n                    <ListItemText primary=\"Edit/Delete data\" />\n                </ListItem>\n\n                <ListItem button onClick={handleGenerateTrendingClick}>\n                    <ListItemIcon>\n                        <TrendingUp />\n                    </ListItemIcon>\n                    <ListItemText primary=\"Generate trending chart\" />\n                </ListItem>\n\n                <ListItem button onClick={hadleSurficialDataTagClick(\"tag\")}>\n                    <ListItemIcon>\n                        <LocalOffer />\n                    </ListItemIcon>\n                    <ListItemText primary=\"Add/Edit data tag info\" />\n                </ListItem>\n            </List>\n        </Dialog>\n    );\n}\n\nfunction SurficialMarkersButton (props) {\n    const {\n        width, url, selectedMarker, surficialData,\n        setIsOpenAddEventModal, setAddNewMarker\n    } = props;\n\n    const [anchor, setAnchor] = useState(null);\n\n    const onMenuClick = event => {\n        setAnchor(event.currentTarget);\n    };\n\n    const onMenuClose = () => {\n        setAnchor(null);\n    };\n\n    const has_enough_markers = isWidthDown(width, \"sm\") && surficialData.length <= 5;\n\n    const handleAddMarker = () => {\n        setAddNewMarker(true);\n        setIsOpenAddEventModal(true);\n    };\n\n    return (\n        <Fragment>\n            <ButtonGroup\n                variant=\"contained\"\n                color=\"primary\"\n                size=\"small\"\n                aria-label=\"Site markers button group\"\n                style={{ marginRight: 6 }}\n            >\n                <Button disabled style={{ color: \"#000000\" }}>Marker</Button>\n\n                {\n                    has_enough_markers ? (\n                        surficialData.map(marker => {\n                            const { marker_name, marker_id } = marker;\n                            return (\n                                <Button \n                                    component={Link}\n                                    to={`${url}/${marker_name}`}\n                                    key={marker_id}\n                                >\n                                    {marker_name}\n                                </Button> \n                            );\n                        })\n                    ) : (\n                        <Button\n                            color=\"primary\"\n                            variant=\"contained\"\n                            size=\"small\"\n                            aria-controls=\"simple-menu\"\n                            aria-haspopup=\"true\"\n                            onClick={onMenuClick}\n                            endIcon={<ArrowDropDown />}\n                        >\n                            { selectedMarker ? selectedMarker.marker_name : \"Select\" }\n                        </Button>\n                    )\n                }\n\n                <Tooltip\n                    title=\"Add a new marker\"\n                    onClick={handleAddMarker}\n                    arrow\n                >\n                    <Button><Add /></Button>\n                </Tooltip>\n            </ButtonGroup>\n\n            <Menu\n                id=\"simple-menu\"\n                anchorEl={anchor}\n                keepMounted\n                open={Boolean(anchor)}\n                onClose={onMenuClose} \n            >\n                {\n                    surficialData.map(marker => {\n                        const { marker_name, marker_id } = marker;\n                        return (\n                            <MenuItem \n                                component={Link}\n                                to={`${url}/${marker_name}`}\n                                key={marker_id}\n                                onClick={onMenuClose}\n                            >\n                                {marker_name}\n                            </MenuItem> \n                        );\n                    })\n                }\n            </Menu>\n        </Fragment>\n    );\n}\n\n// eslint-disable-next-line max-params\nfunction prepareOptions (input, data, width, setIsOpenClickModal, setChosenPointCopy, is_end_of_shift) {\n    const { site_code, timestamps } = input;\n    const { start, end } = timestamps;\n    const start_date = moment(start, \"YYYY-MM-DD HH:mm:ss\");\n    const end_date = moment(end, \"YYYY-MM-DD HH:mm:ss\");\n\n    const font_size = isWidthDown(width, \"sm\") ? \"1rem\" : \"0.90rem\";\n\n    let subtitle = `As of: <b>${moment(end_date).format(\"D MMM YYYY, HH:mm\")}</b>`;\n    if (!is_end_of_shift) {\n        subtitle += \"<br/><i>Note: Click data points to access several options.</i>\";\n    }\n\n    let min_x = start_date;\n    if ((is_end_of_shift || start === \"None\") && data.length > 0) {\n        const min = data.reduce((cur_min, row) => {\n            const { data: cd } = cur_min;\n            const { data: rd } = row;\n            if (cd.length === 0) return row;\n            if (rd.length === 0) return cur_min;\n            return cd[0].x < rd[0].x ? cur_min : row;\n        });\n        min_x = min.data.length > 0 ? moment(min.data[0].x) : moment();\n    }\n\n    data.forEach(row => {\n        // eslint-disable-next-line no-param-reassign\n        row.turboThreshold = 100000;\n        const { data: series_data } = row;\n        series_data.forEach(series_data_row => {\n            const { unreliable_data } = series_data_row;\n            if (Object.keys(unreliable_data).length !== 0) {\n                const { tag_type } = unreliable_data;\n                let symbol;\n                let fillColor;\n                if (tag_type === -1) { symbol = \"triangle-down\"; fillColor = \"#FF0000\"; }\n                else if (tag_type === 0) { symbol = \"circle\"; fillColor = \"#FFFF00\"; }\n                else { symbol = \"triangle\"; fillColor = \"#06e606\"; }\n\n                const marker = {\n                    symbol,\n                    radius: 8,\n                    fillColor,\n                    lineColor: \"#000000\",\n                    lineWidth: 1\n                };\n                // eslint-disable-next-line no-param-reassign\n                series_data_row.marker = marker;\n            } else {\n                // eslint-disable-next-line no-param-reassign\n                series_data_row.unreliable_data = false;\n            }\n        }); \n    });\n\n    return {\n        title: {\n            text: `<b>Surficial Data History Chart of ${site_code.toUpperCase()}</b>`,\n            style: { fontSize: font_size },\n            margin: 36,\n            y: 18\n        },\n        time: { timezoneOffset: -8 * 60 },\n        series: data,\n        chart: {\n            type: \"line\",\n            zoomType: \"x\",\n            panning: true,\n            panKey: \"shift\",\n            height: 400,\n            resetZoomButton: {\n                position: {\n                    x: 0,\n                    y: -30\n                }\n            },\n            spacingTop: 24,\n            spacingRight: 24,\n            events: {\n                load () {\n                    const chart = this;\n                    const initial_x = 20;\n                    const initial_y = 5;\n                    const loader = (row, i) => {\n                        const symbol_y = initial_y + (20 * (i + 1));\n                        chart.renderer.symbol(row.symbol, initial_x, symbol_y, 10, 10)\n                        .attr({ zIndex: 5 })\n                        .css({ fill: row.color, stroke: \"black\" })\n                        .add();\n\n                        const label_y = (initial_y + 10) + (20 * (i + 1));\n                        chart.renderer.text(row.label, initial_x + 15, label_y)\n                        .attr({ zIndex: 5 })\n                        .css({ fontSize: \"12px\" })\n                        .add();\n                    };\n\n                    const symbols = [\n                        { symbol: \"triangle\", color: \"#06e606\", label: \"Confirmed\" },\n                        { symbol: \"circle\", color: \"#FFFF00\", label: \"Validating\" },\n                        { symbol: \"triangle-down\", color: \"#FF0000\", label: \"Unreliable\" }\n                    ];\n\n                    symbols.forEach((row, i) => {\n                        loader(row, i);\n                    });\n\n                    chart.renderer.rect(initial_x - 10, initial_y + 10, 95, 70, 2)\n                    .attr({\n                        \"stroke-width\": 2,\n                        stroke: \"black\",\n                        zIndex: 4\n                    })\n                    .add();\n                }\n            }\n        },\n        subtitle: {\n            text: subtitle,\n            style: { fontSize: \"0.75rem\" }\n        },\n        legend: {\n            labelFormatter () {\n                const { userOptions: { marker_name: mn, in_use } } = this;\n                const name = in_use === 0 ? `${mn} (Defunct)` : mn;\n                return name;\n            }\n        },\n        yAxis: {\n            title: {\n                text: \"<b>Measurement (cm)</b>\"\n            }\n        },\n        xAxis: {\n            min: Date.parse(min_x),\n            max: Date.parse(end_date),\n            type: \"datetime\",\n            dateTimeLabelFormats: {\n                month: \"%e. %b %Y\",\n                year: \"%b\"\n            },\n            title: {\n                text: \"<b>Date</b>\"\n            },\n        },\n        tooltip: {\n            shared: true,\n            crosshairs: true\n        },\n        plotOptions: {\n            line: {\n                marker: {\n                    enabled: true\n                },\n                dashStyle: \"ShortDash\"\n            },\n            series: {\n                marker: {\n                    radius: 3\n                },\n                cursor: \"pointer\",\n                point: {\n                    events: {\n                        click () {\n                            if (!is_end_of_shift) {\n                                const {\n                                    data_id, x, y,\n                                    mo_id,\n                                    series: { name },\n                                    unreliable_data\n                                } = this;\n\n                                const obj = {\n                                    data_id,\n                                    name,\n                                    mo_id, \n                                    ts: moment(x),\n                                    measurement: y,\n                                    unreliable_data\n                                };\n                                setChosenPointCopy(obj);\n                                setIsOpenClickModal(true);\n                            }\n                        }\n                    }\n                }\n            }\n        },\n        loading: {\n            showDuration: 100,\n            hideDuration: 1000\n        },\n        credits: {\n            enabled: false\n        }\n    };\n}\n\nfunction createSurficialGraph (options, chartRef) {\n    const temp = <HighchartsReact\n        highcharts={Highcharts}\n        options={options}\n        ref={chartRef}\n    />;\n\n    return temp;\n}\n\nfunction SurficialGraph (props) {\n    const { \n        width, location: { pathname },\n        match: { url, params: { site_code } },\n        fullScreen, disableBack, disableMarkerList,\n        saveSVG, input, currentUser,\n        isEndOfShift\n    } = props;\n\n    const default_range_info = { label: \"3 months\", unit: \"months\", duration: 3 };\n    const [selected_range_info, setSelectedRangeInfo] = useState(default_range_info);\n    const { unit, duration } = selected_range_info;\n    \n    let ts_end = \"\";\n    let dt_ts_end;\n    if (typeof input !== \"undefined\") {\n        const { ts_end: te } = input;\n        ts_end = te;\n        dt_ts_end = moment(te);\n    } else {\n        const ts_now = moment();\n        ts_end = ts_now.format(\"YYYY-MM-DD HH:mm:ss\");\n        dt_ts_end = ts_now;\n    }\n\n    const disable_back = typeof disableBack === \"undefined\" ? false : disableBack;\n    const disable_marker_list = typeof disableMarkerList === \"undefined\" ? false : disableMarkerList;\n    const save_svg = typeof saveSVG === \"undefined\" ? false : saveSVG;\n    const is_end_of_shift = typeof isEndOfShift === \"undefined\" ? false : isEndOfShift;\n\n    const ts_start = computeForStartTs(dt_ts_end, duration, unit);\n    const chartRef = React.useRef(null);\n    const timestamps = { start: ts_start, end: ts_end };\n\n    const [surficial_data, setSurficialData] = useState([]);\n    const [selected_marker, setSelectedMarker] = useState(null);\n    const [historical_markers, setHistoricalMarkers] = useState(false);\n\n    const [save_svg_now, setSaveSVGNow] = useState(false);\n    const [to_redraw_chart, setRedrawChart] = useState(true);\n    const [show_trending, setShowTrending] = useState(false);\n    const [generate_trending, setGenerateTrending] = useState(false);\n\n    const [is_open_click_modal, setIsOpenClickModal] = useState(false);\n    const [is_open_add_event_modal, setIsOpenAddEventModal] = useState(false);\n    const [add_new_marker, setAddNewMarker] = useState(false);\n\n    const [is_open_export, setIsOpenExport] = useState(false);\n\n    const default_point = {\n        data_id: null,\n        mo_id: null,\n        name: null,\n        ts: null,\n        measurement: 0,\n    };\n    const [chosen_point, setChosenPointCopy] = useState({ ...default_point });\n    const [edit_modal, setEditModal] = useState({\n        ...default_point,\n        is_open: false\n    });\n\n    const [surficial_data_tag_modal, setSurficialDataTagModal] = useState({\n        ...default_point,\n        is_open: false\n    });\n\n    useEffect(() => {\n        setRedrawChart(true);\n    }, [selected_range_info]);\n\n    useEffect(() => {\n        const { current } = chartRef;\n        if (current !== null || to_redraw_chart) {\n            current.chart.showLoading();\n        }\n\n        if (to_redraw_chart) {\n            const f_input = { site_code, ...timestamps };\n            getSurficialPlotData(f_input, data => {\n                setSurficialData(data);\n\n                if (current !== null) {\n                    const { chart } = current;\n                    chart.hideLoading();\n\n                    if (save_svg) setSaveSVGNow(true);\n                }\n            }, is_end_of_shift);\n\n            setRedrawChart(false);\n        }\n    }, [to_redraw_chart]);\n\n    useEffect(() => {\n        if (!historical_markers && surficial_data.length !== 0) {\n            const markers = [];\n            const rainbow_colors = Chroma.scale([\"#f00\", \"#0f0\", \"#00f\"]).mode(\"lch\")\n            .domain([0, surficial_data.length - 1]);\n            surficial_data.forEach(({ marker_history }, i) => {\n                marker_history.forEach(({ marker_name }) => {\n                    if (marker_name) {\n                        markers.push(marker_name.marker_name);\n                    }\n                });\n\n                surficial_data[i].color = rainbow_colors(i).name();\n            });\n            setHistoricalMarkers(markers);\n        }\n    }, [historical_markers, surficial_data]);\n\n    useEffect(() => {\n        if (surficial_data.length !== 0) {\n            const match = matchPath(pathname, {\n                path: `${url}/:marker_name`,\n                exact: true\n            });\n\n            if (match) {\n                const { isExact, params: { marker_name } } = match;\n                if (isExact) {\n                    const temp = surficial_data.find(x => x.marker_name === marker_name);\n                    if (typeof temp !== \"undefined\") {\n                        setSelectedMarker(temp);\n                    }\n                }\n            }\n        }\n    }, [pathname, surficial_data]);\n\n    useEffect(() => {\n        const { current: { chart } } = chartRef;\n        const svg = chart.getSVGForExport();\n        if (save_svg_now) {\n            const temp = {\n                user_id: currentUser.user_id,\n                site_code,\n                chart_type: \"surficial\",\n                svg\n            };\n\n            saveChartSVG(temp, data => {});\n        }\n    }, [save_svg_now]);\n\n    useEffect(() => {\n        const { current: { chart } } = chartRef;\n        if (selected_marker) {\n            chart.series.forEach(s => {\n                const bool = selected_marker.marker_name === s.name;\n                s.setVisible(bool, false);\n            });\n            chart.redraw();\n            chart.reflow();\n        }\n    }, [selected_marker]);\n\n    const input_obj = { site_code, timestamps };\n    const options = prepareOptions(input_obj, surficial_data, width, setIsOpenClickModal, setChosenPointCopy, is_end_of_shift);\n    const graph_component = createSurficialGraph(options, chartRef);\n\n    return (\n        <Fragment>\n            <Grid \n                container spacing={2} \n                justify=\"space-between\"\n                alignItems=\"stretch\"\n            >\n                <Grid container item xs={12} style={{ marginBottom: 12 }}>\n                    {\n                        !disable_back && <Grid item xs={1} sm={3}><BackToMainButton {...props}/></Grid>\n                    }\n\n                    <Grid item container xs justify=\"flex-end\">\n                        { !disable_marker_list && surficial_data.length > 0 && (\n                            <SurficialMarkersButton\n                                {...props}\n                                width={width}\n                                url={url}\n                                selectedMarker={selected_marker}\n                                surficialData={surficial_data}\n                                setIsOpenAddEventModal={setIsOpenAddEventModal}\n                                setAddNewMarker={setAddNewMarker}\n                            />\n                        )}\n                        \n                        <div>\n                            <DateRangeSelector\n                                selectedRangeInfo={selected_range_info}\n                                setSelectedRangeInfo={setSelectedRangeInfo}\n                            />\n                        </div>\n                    </Grid>\n                </Grid>\n            \n                <Grid\n                    item xs={12}\n                    md={selected_marker ? 7 : 12}\n                    lg={selected_marker ? 8 : 12}\n                >\n                    <Paper elevation={2}>\n                        {graph_component}\n                    </Paper>\n\n                    {\n                        !disable_marker_list && surficial_data.length !== 0 && <Grid \n                            container style={{ marginTop: 12 }}\n                            align=\"left\"\n                        >\n                            <Button\n                                variant=\"contained\"\n                                color=\"primary\"\n                                startIcon={<GetApp />}\n                                size=\"small\"\n                                onClick={() => setIsOpenExport(true)}\n                            >\n                                Export history/tags\n                            </Button>\n                        </Grid>\n                    }\n                </Grid>\n\n            \n                <Route path={`${url}/:marker_name`} render={\n                    sub_props => {\n                        const { match: { params: { marker_name } } } = sub_props;\n\n                        if (!selected_marker) return \"\";\n                        return (\n                            <Grid item xs={12} md={5} lg={4}>\n                                <MarkerHistoryTable\n                                    markerInfo={selected_marker}\n                                    markerName={marker_name}\n                                />\n\n                                <Grid container justify=\"flex-end\" style={{ marginTop: 12 }}>\n                                    <Button\n                                        variant=\"contained\"\n                                        color=\"primary\"\n                                        startIcon={<Add />}\n                                        size=\"small\"\n                                        onClick={() => {\n                                            setAddNewMarker(false);\n                                            setIsOpenAddEventModal(true);\n                                        }}\n                                    >\n                                        Add Event\n                                    </Button>\n                                </Grid>\n                            </Grid>\n                        );\n                    }\n                } />\n\n                {\n                    show_trending && (\n                        <SurficialTrendingGraphs\n                            siteCode={site_code}\n                            setShowTrending={setShowTrending}\n                            generateTrending={generate_trending}\n                            setGenerateTrending={setGenerateTrending}\n                            chosenPoint={chosen_point}\n                        />\n                    )\n                }\n            </Grid>\n\n            <ClickPointModal\n                open={is_open_click_modal}\n                setIsOpenClickModal={setIsOpenClickModal}\n                chosenPoint={chosen_point}\n                setEditModal={setEditModal}\n                setShowTrending={setShowTrending}\n                setGenerateTrending={setGenerateTrending}\n                setSurficialDataTagModal={setSurficialDataTagModal}\n            />\n\n            <UpdateDeleteModal \n                chosenPoint={chosen_point}\n                editModal={edit_modal}\n                setEditModal={setEditModal}\n                fullScreen={fullScreen}\n                siteCode={site_code}\n                setRedrawChart={setRedrawChart}\n            />\n\n            <SurficialDataTagModal \n                chosenPoint={chosen_point}\n                surficialDataTagModal={surficial_data_tag_modal}\n                setSurficialDataTagModal={setSurficialDataTagModal}\n                fullScreen={fullScreen}\n                siteCode={site_code}\n                setRedrawChart={setRedrawChart}\n            />\n\n            <AddNewHistoryModal\n                {...props}\n                siteCode={site_code}\n                open={is_open_add_event_modal}\n                setIsOpen={setIsOpenAddEventModal}\n                selectedMarker={selected_marker}\n                setRedrawChart={setRedrawChart}\n                historicalMarkers={historical_markers}\n                addNewMarker={add_new_marker}\n            />\n\n            <ExportModal\n                open={is_open_export}\n                setIsOpen={setIsOpenExport}\n                surficialData={surficial_data}\n                siteCode={site_code}\n            />\n        </Fragment>\n    );\n}\n\nexport default withMobileDialog()(SurficialGraph);\n","import React, { useState, useEffect } from \"react\";\n\nimport {\n    Dialog, DialogTitle, DialogContent,\n    DialogActions, Button, DialogContentText,\n    Grid, TextField, Typography,\n    FormControlLabel, Checkbox, Tooltip\n} from \"@material-ui/core\";\nimport { useSnackbar } from \"notistack\";\nimport { cloneDeep } from \"lodash\";\n\nimport SelectInputForm from \"../../reusables/SelectInputForm\";\nimport { getCurrentUser } from \"../../sessions/auth\";\nimport { saveInvalidRainfallTag } from \"../ajax\";\n\nfunction RainfallDataTaggingModal (props) {\n    const {\n        isOpen, closeModalFn, taggingData,\n        onTagSuccess\n    } = props;\n\n    const current_user = getCurrentUser();\n\n    let data = {\n        ts_start: null,\n        ts_end: null\n    };\n    if (taggingData !== null) {\n        data = { ...taggingData };\n    }\n\n    const [is_indefinite, setIsIndefinite] = useState(false);\n    const [observed_data, setObservedData] = useState(\"\");\n    const [remarks, setRemarks] = useState(\"\");\n    const [is_disabled, setIsDisabled] = useState(true);\n    const { enqueueSnackbar, closeSnackbar } = useSnackbar();\n\n    useEffect(() => {\n        setIsDisabled(observed_data === \"\");\n    }, [observed_data]);\n\n    const snackBarActionFn = key => {\n        return (<Button\n            color=\"primary\"\n            onClick={() => { closeSnackbar(key); }}\n        >\n            Dismiss\n        </Button>);\n    };\n\n    const handleClose = () => {\n        closeModalFn();\n    };\n\n    const handleSubmit = () => {\n        const copy = cloneDeep(taggingData);\n        delete copy.chart;\n\n        const final_data = {\n            tagger_id: current_user.user_id,\n            ...copy,\n            observed_data: parseInt(observed_data, 10),\n            remarks: remarks || null\n        };\n\n        if (is_indefinite) final_data.ts_end = null;\n\n        console.log(\"Submitting invalid tag\", final_data);\n        saveInvalidRainfallTag(final_data, ret => {\n            const { status, message } = ret;\n            if (status === \"success\") {\n                handleClose();\n                onTagSuccess();\n            }\n\n            enqueueSnackbar(\n                message,\n                {\n                    variant: status,\n                    autoHideDuration: 3000,\n                    action: snackBarActionFn\n                }\n            );\n        });\n    };\n\n    return (\n        <Dialog\n            fullWidth\n            open={isOpen}\n            aria-labelledby=\"form-dialog-title\"\n        >\n            <DialogTitle id=\"form-dialog-title\">Tag invalid rainfall data</DialogTitle>\n            <DialogContent>\n                <DialogContentText>\n                    Fill in the required fields then submit. Note: DO NOT TAG ALREADY TAGGED POINTS.\n                </DialogContentText>\n\n                <Grid container spacing={2}>\n                    <Grid item xs={12} sm={6}>\n                        <Typography variant=\"body2\" color=\"textSecondary\" align=\"center\">\n                            Start Timestamp\n                        </Typography>\n\n                        <Typography variant=\"body1\" align=\"center\">\n                            <strong>{data.ts_start}</strong>\n                        </Typography>\n                    </Grid>\n\n                    <Grid item xs={12} sm={6}>\n                        <Typography variant=\"body2\" color=\"textSecondary\" align=\"center\">\n                            End Timestamp\n                        </Typography>\n\n                        <Typography variant=\"body1\" align=\"center\">\n                            <strong>{is_indefinite ? \"Indefinite\" : data.ts_end}</strong>\n                        </Typography>\n                    </Grid>\n\n                    <Grid item xs={12}>\n                        <FormControlLabel\n                            value=\"isIndefinite\"\n                            control={<Checkbox \n                                color=\"primary\" checked={is_indefinite}\n                                onClick={e => setIsIndefinite(e.target.checked)}\n                            />}\n                            label={<div>\n                                Set end timestamp as indefinite&nbsp;\n                                <Tooltip\n                                    title=\"Checking this will show data from start timestamp to latest timestamp and all incoming data as invalid. A script will provide the end timestamp of the invalidated range.\">\n                                    <strong>[?]</strong>\n                                </Tooltip>\n                            </div>}\n                            labelPlacement=\"end\"\n                        />\n                    </Grid>\n\n                    <Grid item xs={12}>\n                        <SelectInputForm\n                            div_id=\"observed-data\"\n                            label=\"Observed Data\"\n                            list={[\n                                { id: -1, label: \"Actual rainfall data/observation is lower than recorded\" },\n                                { id: 0, label: \"No rainfall observed; Actual data is zero\" },\n                                { id: 1, label: \"Actual rainfall data/observation is higher than recorded\" }\n                            ]}\n                            mapping={{ id: \"id\", label: \"label\" }}\n                            required\n                            value={observed_data}\n                            error={observed_data === \"\"}\n                            changeHandler={event => setObservedData(event.target.value)}\n                        />\n                    </Grid>\n\n                    <Grid item xs={12}>\n                        <TextField\n                            label=\"Remarks\"\n                            fullWidth\n                            multiline\n                            rowsMax=\"3\"\n                            value={remarks}\n                            onChange={e => setRemarks(e.target.value)}\n                        />\n                    </Grid>\n                </Grid>\n            </DialogContent>\n            <DialogActions>\n                <Button\n                    color=\"primary\"\n                    onClick={handleSubmit}\n                    disabled={is_disabled}\n                >\n                    Submit\n                </Button>\n                <Button onClick={handleClose} color=\"primary\">\n                    Cancel\n                </Button>\n            </DialogActions>\n        </Dialog>\n    );\n}\n\nexport default RainfallDataTaggingModal;\n","import React, {\n    Fragment, useState, useEffect,\n    useRef, createRef\n} from \"react\";\n\nimport Highcharts from \"highcharts\";\nimport HC_exporting from \"highcharts/modules/exporting\";\nimport HighchartsReact from \"highcharts-react-official\";\nimport * as moment from \"moment\";\n\nimport { Grid, Paper, Hidden } from \"@material-ui/core\";\nimport BackToMainButton from \"./BackToMainButton\";\nimport DateRangeSelector from \"./DateRangeSelector\";\nimport RainfallDataTaggingModal from \"./RainfallDataTaggingModal\";\n\nimport { getRainfallPlotData, saveChartSVG } from \"../ajax\";\nimport { computeForStartTs } from \"../../../UtilityFunctions\";\n\nwindow.moment = moment;\nHC_exporting(Highcharts);\n\nconst default_data = {\n    set: {\n        \"24h\": [],\n        \"72h\": [],\n        rain: [],\n        null_ranges: [],\n        max_rval: 0,\n        max_72h: 0,\n        gauge_name: \"loading\",\n        distance: 0,\n        data_source: \"loading\",\n        threshold_value: 0,\n        rain_id: null\n    },\n    series_data: [],\n    max_rval_data: []\n};\n\nconst observed_data_dict = {\n    \"-1\": \"Actual is lower than recorded\",\n    \"0\": \"No rainfall/Data is zero\",\n    \"1\": \"Actual is higher than recorded\"\n};\n\nconst rainfall_colors = {\n    \"24h\": \"rgba(73, 105, 252, 0.9)\",\n    \"72h\": \"rgba(239, 69, 50, 0.9)\",\n    rain: \"rgba(0, 0, 0, 0.9)\"\n};\n\nfunction processInstantaneousRainData (data, invalid_data) {\n    const { length: inv_len } = invalid_data;\n    let i = 0;\n    const transformed = data.map(row => {\n        const [x, y] = row;\n        const obj = { x, y };\n\n        if (inv_len > 0 && i < inv_len) {\n            const { ts_start, ts_end } = invalid_data[i];\n\n            const ts = moment.unix(x / 1000);\n            if (ts.isSameOrAfter(ts_start) && (\n                ts.isSameOrBefore(ts_end) || ts_end === null\n            )) {\n                obj.color = \"rgba(250, 96, 96)\";\n                obj.is_invalid = true;\n                Object.assign(obj, invalid_data[i]);\n            }\n\n            if (ts.isSame(ts_end)) i += 1;\n        }\n\n        return obj;\n    });\n\n    return transformed;\n}\n\nfunction prepareRainfallData (set) {\n    const { null_ranges, invalid_data } = set;\n    const series_data = [];\n    const max_rval_data = [];\n\n    Object.keys(rainfall_colors).forEach((name) => {\n        const color = rainfall_colors[name];\n\n        let data = set[name];\n        if (name === \"rain\") {\n            data = processInstantaneousRainData(data, invalid_data);\n        }\n\n        const entry = {\n            name,\n            step: true,\n            data,\n            color,\n            id: name,\n            fillOpacity: 1,\n            lineWidth: 1,\n            turboThreshold: 100000\n        };\n\n        if (name !== \"rain\") series_data.push(entry);\n        else max_rval_data.push(entry);\n    });\n\n    const null_processed = null_ranges.map(({ from, to }) => ({ from, to, color: \"rgba(68, 170, 213, 0.3)\" }));\n\n    return { set, series_data, max_rval_data, null_processed };\n}\n\nfunction selectPointsByDrag (e) {\n    const { target, is_tagging_data, rain_gauge: rg, rain_id: rd, setTaggingData: std } = e;\n    const {\n        series, resetZoomButton,\n        is_tagging_data: target_itd, rain_gauge: target_rain_gauge,\n        rain_id: target_rain_id, tagging_sign, setTaggingData: target_std\n    } = target;\n\n    const rain_gauge = target_rain_gauge;\n    const rain_id = target_rain_id;\n    if (typeof rg !== \"undefined\") {\n        target.rain_gauge = rg;\n        target.rain_id = rd;\n    }\n\n    const setTaggingData = target_std;\n    if (typeof std !== \"undefined\") target.setTaggingData = std;\n\n    const is_itd_undef = typeof target_itd === \"undefined\";\n    const temp = is_itd_undef ? false : target_itd;\n    const is_tagging = typeof is_tagging_data === \"undefined\" ? temp : is_tagging_data;\n    target.is_tagging_data = is_tagging;\n\n    const destroyResetSelection = () => {\n        target.reset_selection.destroy();\n        delete target.reset_selection;\n    };\n\n    const destroySubmitSelection = () => {\n        target.submit_selection.destroy();\n        delete target.submit_selection;\n    };\n\n    // if (typeof reset_selection === \"undefined\" && typeof submit_selection === \"undefined\") {\n    target.submit_selection = target.renderer.button(\"Submit\", 70, 65)\n    .attr({\n        zIndex: 3,\n        r: 5,\n        id: \"submit-selection\",\n        fill: Highcharts.getOptions().colors[0],\n    })\n    .css({\n        color: \"#FFFFFF\"\n    })\n    .on(\"click\", () => {\n        Highcharts.fireEvent(target, \"selectedpoints\", {\n            selected_points: target.getSelectedPoints(),\n            rain_gauge, rain_id, is_submit: true,\n            setTaggingData\n        });\n        destroyResetSelection();\n        destroySubmitSelection();\n        unselectPoints(series);\n    });\n\n    target.reset_selection = target.renderer.button(\"Reset\", 133, 65)\n    .attr({\n        zIndex: 3,\n        r: 5,\n        id: \"reset-selection\",\n        fill: Highcharts.getOptions().colors[0],\n    })\n    .css({\n        color: \"#FFFFFF\"\n    })\n    .on(\"click\", () => {\n        destroyResetSelection();\n        destroySubmitSelection();\n        unselectPoints(series);\n    });\n    // }\n\n    if (typeof resetZoomButton !== \"undefined\") {\n        if (is_tagging) resetZoomButton.hide();\n        else resetZoomButton.show();\n    }\n\n    if (!is_tagging) {\n        unselectPoints(series);\n        // if (typeof reset_selection !== \"undefined\" && typeof submit_selection !== \"undefined\") {\n        destroyResetSelection();\n        destroySubmitSelection();\n        delete target.setTaggingData;\n        // }\n\n        if (typeof tagging_sign !== \"undefined\") {\n            target.tagging_sign.destroy();\n            delete target.tagging_sign;\n        }\n\n        return true;\n    }\n\n    // The code below will activate only when is_tagging TRUE\n\n    if (typeof tagging_sign === \"undefined\") {\n        target.tagging_sign = target.renderer.label(\"Tagging\", 30, 20)\n        .attr({\n            fill: Highcharts.getOptions().colors[5],\n            padding: 10,\n            r: 5,\n            zIndex: 8\n        })\n        .css({\n            color: \"#FFFFFF\"\n        })\n        .add();\n    }\n\n    let selected_points = target.getSelectedPoints();\n    const selected_ts_list = selected_points.map(x =>x.x);\n    const min_sel_ts = Math.min(...selected_ts_list);\n    const max_sel_ts = Math.max(...selected_ts_list);\n    // Select points\n    if (typeof e.xAxis !== \"undefined\") {\n        series.forEach(s => {\n            s.points.forEach(point => {\n                if ((point.x >= e.xAxis[0].min || point.x >= min_sel_ts)\n                && (point.x <= e.xAxis[0].max || point.x <= max_sel_ts)\n                && point.y !== null) {\n                    point.select(true, true);\n                }\n            });\n        });\n\n        selected_points = target.getSelectedPoints();\n        if (selected_points.length > 0) {\n            target.reset_selection.add();\n            target.submit_selection.add();\n        }\n    }\n\n    // Fire a custom event\n    Highcharts.fireEvent(target, \"selectedpoints\", { selected_points, rain_gauge, rain_id });\n    return false; // Don't zoom\n}\n\nfunction processSelectedPoints (e) {\n    const {\n        selected_points, rain_gauge, rain_id,\n        is_submit, setTaggingData, target: chart\n    } = e;\n\n    const tagged_data = [];\n    selected_points.forEach((data) => {\n        let timestamp = new Date(data.x);\n        timestamp = moment(timestamp).format(\"YYYY-MM-DD HH:mm:ss\");\n        if (tagged_data.includes(timestamp) !== true) {\n            tagged_data.push(timestamp);\n        }\n    });\n\n    const submitted_data = {\n        rain_gauge,\n        ts_start: tagged_data[0],\n        ts_end: tagged_data[tagged_data.length - 1],\n        rain_id,\n        chart\n    };\n\n    if (is_submit) {\n        setTaggingData(submitted_data);\n    }\n}\n\nfunction unselectPoints (series) {\n    series.forEach(s => {\n        s.points.forEach(point => {\n            point.select(false, false);\n        });\n    });\n}\n\n// eslint-disable-next-line max-params\nfunction prepareInstantaneousRainfallChartOption (row, input, is_tagging_data, setIsTaggingData, setTaggingData) {\n    const { set, max_rval_data, null_processed } = row;\n    const {\n        distance, max_rval, gauge_name, rain_id\n    } = set;\n    const { ts_start, ts_end, site_code } = input;\n\n    return {\n        series: max_rval_data,\n        chart: {\n            type: \"column\",\n            zoomType: \"x\",\n            panning: true,\n            events: {\n                selection: selectPointsByDrag,\n                selectedpoints: processSelectedPoints\n                // click: unselectByClick\n            },\n            height: 400,\n            resetZoomButton: {\n                position: {\n                    x: 0,\n                    y: -30\n                }\n            },\n            spacingTop: 16,\n            spacingRight: 24\n        },\n        title: {\n            text: `<b>Instantaneous Rainfall Chart of ${site_code.toUpperCase()}</b>`,\n            style: { fontSize: \"0.85rem\" },\n            margin: 26,\n            y: 20\n        },\n        subtitle: {\n            text: `Source : <b>${createRainPlotSubtitle(distance, gauge_name)}</b><br/>As of: <b>${moment(ts_end).format(\"D MMM YYYY, HH:mm\")}</b>`,\n            style: { fontSize: \"0.65rem\" }\n        },\n        xAxis: {\n            min: Date.parse(ts_start),\n            max: Date.parse(ts_end),\n            plotBands: null_processed,\n            type: \"datetime\",\n            dateTimeLabelFormats: {\n                month: \"%e %b %Y\",\n                year: \"%Y\"\n            },\n            title: {\n                text: \"<b>Date</b>\"\n            },\n            events: {\n                setExtremes: syncExtremes\n            }\n        },\n        yAxis: {\n            max: max_rval,\n            min: 0,\n            title: {\n                text: \"<b>Value (mm)</b>\"\n            }\n        },\n        tooltip: {\n            shared: true,\n            crosshairs: true,\n            formatter (tooltip) {\n                const { x, y, is_invalid, tagger, remarks, observed_data } = this.points[0].point;\n                let str = `${moment.unix(x / 1000).format(\"dddd, MMMM D, HH:mm\")}<br/>` + \n                `- Rain: <b>${y}</b>`;\n\n                if (is_invalid) {\n                    const { first_name, last_name } = tagger;\n                    str += `<br/>- Observed Data: <b>${observed_data_dict[observed_data]}</b><br/>` +\n                    `- Tagger: <b>${first_name} ${last_name}</b><br/>` +\n                    `- Remarks: <b>${remarks || \"---\"}</b>`;\n                }\n\n                return str;\n            }\n        },\n        plotOptions: {\n            series: {\n                marker: {\n                    radius: 3\n                },\n                cursor: \"pointer\"\n            }\n        },\n        exporting: {\n            menuItemDefinitions: {\n                // Custom definition\n                tagInvalidData: {\n                    onclick () {\n                        Highcharts.fireEvent(this, \"selection\", {\n                            is_tagging_data: !is_tagging_data, rain_gauge: gauge_name,\n                            rain_id, setTaggingData\n                        });\n                        setIsTaggingData(!is_tagging_data);\n                    },\n                    text: is_tagging_data ? \"Exit tagging\" : \"Tag invalid data\"\n                }\n            },\n            buttons: {\n                contextButton: {\n                    menuItems: [\"tagInvalidData\", \"viewFullscreen\", \"separator\", \"downloadPNG\", \"downloadJPEG\", \"downloadPDF\", \"downloadSVG\"]\n                }\n            }\n        },    \n        legend: {\n            enabled: false\n        },\n        credits: {\n            enabled: false\n        },\n        time: { timezoneOffset: -8 * 60 }\n    };\n}\n\nfunction prepareCumulativeRainfallChartOption (row, input) {\n    const { set, series_data } = row;\n    const {\n        distance, max_72h, \n        threshold_value: max_rain_2year, gauge_name\n    } = set;\n    const { ts_start, ts_end, site_code } = input;\n    \n    return {\n        series: series_data,\n        chart: {\n            type: \"line\",\n            zoomType: \"x\",\n            panning: true,\n            panKey: \"shift\",\n            height: 400,\n            resetZoomButton: {\n                position: {\n                    x: 0,\n                    y: -30\n                }\n            },\n            spacingTop: 16,\n            spacingRight: 24\n        },\n        title: {\n            text: `<b>Cumulative Rainfall Chart of ${site_code.toUpperCase()}</b>`,\n            style: { fontSize: \"0.85rem\" },\n            margin: 26,\n            y: 20\n        },\n        subtitle: {\n            text: `Source: <b>${createRainPlotSubtitle(distance, gauge_name)}</b><br/>As of: <b>${moment(ts_end).format(\"D MMM YYYY, HH:mm\")}</b>`,\n            style: { fontSize: \"0.65rem\" }\n        },\n        xAxis: {\n            min: Date.parse(ts_start),\n            max: Date.parse(ts_end),\n            type: \"datetime\",\n            dateTimeLabelFormats: {\n                month: \"%e %b %Y\",\n                year: \"%Y\"\n            },\n            title: {\n                text: \"<b>Date</b>\"\n            },\n            events: {\n                setExtremes: syncExtremes\n            }\n        },\n        yAxis: {\n            title: {\n                text: \"<b>Value (mm)</b>\"\n            },\n            max: Math.max(0, (max_72h - parseFloat(max_rain_2year))) + parseFloat(max_rain_2year),\n            min: 0,\n            plotBands: [{\n                value: Math.round(parseFloat(max_rain_2year / 2) * 10) / 10,\n                color: rainfall_colors[\"24h\"],\n                dashStyle: \"shortdash\",\n                width: 2,\n                zIndex: 0,\n                label: {\n                    text: `24-hr threshold (${max_rain_2year / 2})`\n    \n                }\n            }, {\n                value: max_rain_2year,\n                color: rainfall_colors[\"72h\"],\n                dashStyle: \"shortdash\",\n                width: 2,\n                zIndex: 0,\n                label: {\n                    text: `72-hr threshold (${max_rain_2year})`\n                }\n            }]\n        },\n        tooltip: {\n            shared: true,\n            crosshairs: true\n        },\n        plotOptions: {\n            series: {\n                marker: {\n                    radius: 3\n                },\n                cursor: \"pointer\"\n            }\n        },\n        legend: {\n            enabled: false\n        },\n        credits: {\n            enabled: false\n        },\n        time: { timezoneOffset: -8 * 60 }\n    };\n}\n\nfunction RainfallGraph (props) {\n    const { \n        match: { params: { rain_gauge, site_code } },\n        input: conso_input, disableBack, currentUser,\n        saveSVG\n    } = props;\n    \n    const arr_num = typeof rain_gauge !== \"undefined\" ? 1 : 4;\n\n    const [rainfall_data, setRainfallData] = useState([]);\n    const [processed_data, setProcessedData] = useState([]);\n    const default_range_info = { label: \"3 days\", unit: \"days\", duration: 3 };\n    const [selected_range_info, setSelectedRangeInfo] = useState(default_range_info);\n    const [to_reload, setToReload] = useState(false);\n\n    const chartRefs = useRef([...Array(arr_num)].map(() => ({\n        instantaneous: createRef(),\n        cumulative: createRef()\n    })));\n    const [get_svg, setGetSVGNow] = useState(false);\n    const [svg_list, setSVGList] = useState([]);\n\n    const disable_back = typeof disableBack === \"undefined\" ? false : disableBack;\n    const save_svg = typeof saveSVG === \"undefined\" ? false : saveSVG;\n\n    let ts_end = \"\";\n    let sc = \"\";\n    let dt_ts_end;\n    if (typeof conso_input !== \"undefined\") {\n        const { ts_end: te } = conso_input;\n        ts_end = te;\n        dt_ts_end = moment(te);\n        sc = site_code;\n    } else {\n        const ts_now = moment();\n        ts_end = ts_now.format(\"YYYY-MM-DD HH:mm:ss\");\n        dt_ts_end = ts_now;\n        sc = rain_gauge.substr(0, 3);\n    }\n\n    const { unit, duration } = selected_range_info;\n    const ts_start = computeForStartTs(dt_ts_end, duration, unit);\n    const days_diff = dt_ts_end.diff(moment(ts_start, \"YYYY-MM-DD HH:mm:ss\"), \"days\");\n    const input = { days_diff, ts_start, ts_end, site_code: sc };\n\n    const [is_tagging_data, setIsTaggingData] = useState(false);\n    const [tagging_data, setTaggingData] = useState(null);\n    const [is_tag_modal_open, setIsTagModalOpen] = useState(false);\n\n    const default_options = {\n        cumulative: prepareCumulativeRainfallChartOption(default_data, input),\n        instantaneous: prepareInstantaneousRainfallChartOption(default_data, input, is_tagging_data, setIsTaggingData, setTaggingData)\n    };\n\n    const getDataFn = () => {\n        setProcessedData([]);\n        getRainfallPlotData(input, data => {\n            let arr = data;\n            if (typeof rain_gauge !== \"undefined\") {\n                arr = data.filter(row => row.gauge_name === `rain_${rain_gauge}`);\n            }\n            setRainfallData(arr);\n        });\n    };\n\n    useEffect(() => {\n        getDataFn();\n    }, [selected_range_info]);\n\n    useEffect(() => {\n        if (to_reload) {\n            getDataFn();\n            setToReload(false);\n        }\n    }, [to_reload]);\n\n    useEffect(() => {\n        const temp = [];\n        rainfall_data.forEach(set => {\n            const data = prepareRainfallData(set);\n            temp.push(data);\n        });\n        \n        if (temp.length > 0) setProcessedData(temp);\n    }, [rainfall_data]);\n\n    const [options, setOptions] = useState([]);\n\n    useEffect(() => {\n        const temp = [];\n        processed_data.forEach(data => {\n            const instantaneous = prepareInstantaneousRainfallChartOption(data, input, is_tagging_data, setIsTaggingData, setTaggingData);\n            const cumulative = prepareCumulativeRainfallChartOption(data, input);\n            temp.push({ instantaneous, cumulative });\n        });\n        setOptions(temp);\n        if (temp.length > 0 && save_svg) setGetSVGNow(true);\n    }, [processed_data, is_tagging_data]);\n\n    useEffect(() => {\n        if (is_tagging_data) setIsTagModalOpen(true);\n    }, [tagging_data]);\n\n    useEffect(() => {\n        if (get_svg) {\n            const temp = [];\n            chartRefs.current.forEach(a => {\n                const { instantaneous, cumulative } = a;\n                const { current: { chart: chart_i } } = instantaneous;\n                const { current: { chart: chart_c } } = cumulative;\n                const c = chart_c.getSVGForExport();\n                const i = chart_i.getSVGForExport();\n\n                temp.push({ c, i });\n            });\n            setSVGList(temp);\n        }\n    }, [get_svg]);\n\n    const svgRef = useRef(null);\n    useEffect(() => {\n        if (svg_list.length > 0) {\n            const svg = svgRef.current.outerHTML;\n            const temp = {\n                user_id: currentUser.user_id,\n                site_code,\n                chart_type: \"rainfall\",\n                svg\n            };\n\n            saveChartSVG(temp, data => {});\n        }\n    }, [svg_list]);\n\n    const onTagSuccess = () => {\n        Highcharts.fireEvent(tagging_data.chart, \"selection\", {\n            is_tagging_data: false\n        });\n        setIsTaggingData(false);\n        setToReload(true);\n    };\n    \n    return (\n        <Fragment>\n            <Grid container spacing={1} justify=\"space-between\" alignItems=\"center\">\n                {\n                    !disable_back && <div>\n                        <BackToMainButton \n                            {...props}\n                        />\n                    </div>\n                }\n                \n                <Grid container item xs justify=\"flex-end\">\n                    <DateRangeSelector\n                        selectedRangeInfo={selected_range_info}\n                        setSelectedRangeInfo={setSelectedRangeInfo}\n                        disableAll\n                    />\n                </Grid>\n            </Grid>\n \n            <div style={{ marginTop: 16 }}>\n                <Grid container spacing={4}>\n                    {\n                        chartRefs.current.map((ref, i) => {\n                            let opt = { ...default_options };\n                            if (options.length > 0) {\n                                opt = options[i];\n                            }\n\n                            return (\n                                <Fragment key={i}>\n                                    <Grid item xs={12} md={6}>\n                                        <Paper>\n                                            <HighchartsReact\n                                                highcharts={Highcharts}\n                                                options={opt.instantaneous}\n                                                ref={ref.instantaneous}\n                                            />\n                                        </Paper>\n                                    </Grid>\n\n                                    <Grid item xs={12} md={6}>\n                                        <Paper>\n                                            <HighchartsReact\n                                                highcharts={Highcharts}\n                                                options={opt.cumulative}\n                                                ref={ref.cumulative}\n                                            />\n                                        </Paper>\n                                    </Grid>\n                                    \n                                </Fragment>\n                            );\n                        })\n                    }\n                </Grid>\n            </div>\n\n            <RainfallDataTaggingModal\n                isOpen={is_tag_modal_open}\n                closeModalFn={() => setIsTagModalOpen(false)}\n                taggingData={tagging_data}\n                onTagSuccess={onTagSuccess}\n            />\n\n            {\n                save_svg && (\n                    <Hidden xsUp implementation=\"css\">\n                        <svg \n                            width={1200} height={1600}\n                            viewBox=\"0 0 1200 1600\"\n                            ref={svgRef}\n                        >\n                            {\n                                svg_list.map((x, index) => {\n                                    const { i, c } = x;\n                                    return (\n                                        <Fragment key={index}>\n                                            { /* eslint-disable-next-line react/no-danger */ }\n                                            <svg x={0} y={400 * index} dangerouslySetInnerHTML={{ __html: i }} />\n                                            { /* eslint-disable-next-line react/no-danger */ }\n                                            <svg x={600} y={400 * index} dangerouslySetInnerHTML={{ __html: c }} />\n                                        </Fragment>\n                                    );\n                                })\n                            }\n                        </svg>\n                    </Hidden>\n                )\n            }\n        </Fragment>\n    );\n}\n\nexport default RainfallGraph;\n\nfunction createRainPlotSubtitle (distance, gauge_name) {\n    const source = gauge_name.toUpperCase();\n    const subtitle = distance === null ? source : `${source} (${distance} KM)`;\n    return subtitle;\n}\n\n/**\n * Synchronize zooming through the setExtremes event handler.\n */\nfunction syncExtremes (e) {\n    const this_chart = this.chart;\n    const { charts } = Highcharts;\n\n    if (e.trigger !== \"syncExtremes\") { // Prevent feedback loop\n        charts.forEach(chart => {\n            if (chart !== this_chart && typeof chart !== \"undefined\") {\n                if (chart.xAxis[0].setExtremes) { // It is null while updating\n                    chart.xAxis[0].setExtremes(e.min, e.max, undefined, false, { trigger: \"syncExtremes\" });\n                }\n            }\n        });\n    }\n}\n","import React, {\n    Fragment, useState, useEffect,\n    useRef, createRef\n} from \"react\";\n\nimport {\n    Grid, Paper, Hidden, Dialog, Button,\n    DialogActions, DialogContent, LinearProgress\n} from \"@material-ui/core\";\nimport { isWidthDown } from \"@material-ui/core/withWidth\";\n\nimport Highcharts from \"highcharts\";\nimport HC_exporting from \"highcharts/modules/exporting\";\nimport HighchartsReact from \"highcharts-react-official\";\nimport heatmap from \"highcharts/modules/heatmap.src\";\n\nimport * as moment from \"moment\";\nimport Chroma from \"chroma-js\";\n\nimport { getSubsurfacePlotData, saveChartSVG, getSurfaceNodeHealth, getSubsurfaceNodeLevel } from \"../ajax\";\nimport BackToMainButton from \"./BackToMainButton\";\nimport DateRangeSelector from \"./DateRangeSelector\";\nimport { computeForStartTs } from \"../../../UtilityFunctions\";\n\nheatmap(Highcharts);\nwindow.moment = moment;\nHC_exporting(Highcharts);\n\nfunction assignColorToEachSeries (data_array) {\n    const size = data_array.length;\n    const rainbow_colors = Chroma.scale([\"#f00\", \"#0f0\", \"#00f\"]).mode(\"hsl\")\n    .domain([0, size - 1]);\n    const data = [...data_array];\n    for (let i = 0; i < size; i += 1) {\n        if (data_array[i].name !== \"Cumulative\") data[i].color = rainbow_colors(i).name();\n    }\n    return data;\n}\n\nfunction plotColumnPosition (column_data, type) {\n    const { data: data_list } = column_data;\n    const col_position_data = [];\n    data_list.forEach(({ orientation, data: series_list }) => {\n        const colored_data = assignColorToEachSeries(series_list);\n        colored_data.forEach(row => { row.turboThreshold = 100000; });\n        const col_data = { \n            ...column_data,\n            data: colored_data,\n            orientation,\n            type\n        };\n        col_position_data.push(col_data);\n    });\n\n    return col_position_data;\n}\n\nfunction plotDisplacement (column_data, type) {\n    const displacement_data = [];\n    column_data.forEach((data_list, index) => {\n        const { data: series_list, annotations } = data_list;\n\n        series_list[0].type = \"area\";\n        const colored_data = assignColorToEachSeries(series_list);\n        colored_data.forEach(row => { row.turboThreshold = 100000; });\n\n        annotations.forEach((line) => {\n            line.width = 0;\n            line.label.style = { color: \"gray\" };\n        });\n\n        const col_data = {\n            ...data_list,\n            data: colored_data,\n            annotations,\n            type\n        };\n\n        displacement_data.push(col_data);\n    });\n\n    return displacement_data;\n}\n\nfunction plotVelocityAlerts (column_data, type) {\n    const { velocity_alerts, timestamps_per_node } = column_data;\n    const velocity_data = [];\n    const processed_data = assignColorToEachSeries(timestamps_per_node);\n    velocity_alerts.forEach(row => {\n        const { orientation, data: series_list } = row;\n        const alerts = series_list;\n        const colored_data = [...processed_data];\n        Object.keys(alerts).forEach((alert) => {\n            const radius = alert === \"L2\" ? 7 : 10;\n            const color = alert === \"L2\" ? \"#FFFF00\" : \"#FF0000\";\n            const series = {\n                data: alerts[alert],\n                type: \"scatter\",\n                zIndex: 5,\n                name: alert,\n                marker: {\n                    symbol: \"triangle\",\n                    radius,\n                    fillColor: color,\n                    lineColor: \"#000000\",\n                    lineWidth: 2\n                }\n            };\n            colored_data.push(series);\n        });\n\n        const col_data = {\n            data: colored_data,\n            type,\n            orientation\n        };\n\n        velocity_data.push(col_data);\n    });\n    return velocity_data;\n}\n\nfunction prepareCommunicationHealthChartOption (communication_health, form) {\n    const { subsurface_column, ts_start, ts_end } = form;\n    const { data } = communication_health;\n\n    const options = {\n        series: data,\n        chart: {\n            type: \"column\",\n            height: 300,\n            resetZoomButton: {\n                position: {\n                    x: 0,\n                    y: -30\n                }\n            }\n        },\n        title: {\n            text: `<b>Communication Health Chart of ${subsurface_column.toUpperCase()}</b>`,\n            style: { fontSize: \"14px\" },\n            margin: 20,\n            y: 16\n        },\n        subtitle: {\n            text: `Range: <b>${moment(ts_start).format(\"D MMM YYYY, HH:mm\")} - ${moment(ts_end).format(\"D MMM YYYY, HH:mm\")}</b>`,\n            style: { fontSize: \"12px\" }\n        },\n        xAxis: {\n            min: 1,\n            title: {\n                text: \"<b>Node number</b>\"\n            },\n            allowDecimals: false\n        },\n        yAxis: {\n            min: 0,\n            max: 100,\n            title: {\n                text: \"<b>Health Percentage (%)</b>\"\n            }\n        },\n        tooltip: {\n            crosshairs: true,\n            shared: true,\n            headerFormat: \"Node {point.x}<br/>\"\n        },\n        legend: {\n            align: \"right\",\n            verticalAlign: \"middle\",\n            layout: \"vertical\"\n        },\n        credits: {\n            enabled: false\n        },\n    };\n\n    return options;\n}\n\nfunction prepareColumnPositionChartOption (set_data, input, is_desktop) {\n    const { data, max_position, min_position, orientation } = set_data;\n    // console.log(set_data);\n    const { subsurface_column } = input;\n    const xAxisTitle = orientation === \"across_slope\" ? \"Across Slope\" : \"Downslope\";\n    \n    return {\n        series: data,\n        chart: {\n            type: \"scatter\",\n            zoomType: \"x\",\n            height: 600,\n            resetZoomButton: {\n                position: {\n                    x: 0,\n                    y: -30\n                }\n            },\n            spacingTop: 20,\n            spacingRight: 24\n        },\n        title: {\n            text: `<b>Column Position Plot of ${subsurface_column.toUpperCase()}</b>`,\n            style: { fontSize: \"1rem\" }\n        },\n        plotOptions: {\n            series: {\n                lineWidth: 2,\n                states: {\n                    hover: {\n                        enabled: true,\n                        lineWidth: 5\n                    }\n                },\n                marker: {\n                    enabled: true,\n                    radius: 3,\n                    lineColor: null\n                }\n            }\n        },\n        tooltip: {\n            formatter () {\n                return `Timestamp: <b>${moment(this.series.name).format(\"dddd, MMM D, HH:mm\")}</b><br>Depth: <b>${this.y}</b><br>Displacement: <b>${this.x}</b>`;\n            }\n        },\n        xAxis: {\n            min: min_position,\n            max: (max_position + 0.02),\n            gridLineWidth: 1,\n            title: {\n                text: `<b>Horizontal displacement, ${xAxisTitle} (m)</b>`\n            }\n        },\n        yAxis: {\n            title: {\n                text: \"<b>Depth (m)</b>\"\n            }\n        },\n        credits: {\n            enabled: false\n        },\n        legend: {\n            enabled: true,\n            align: is_desktop ? \"right\" : \"center\",\n            layout: is_desktop ? \"vertical\" : \"horizontal\",\n            verticalAlign: is_desktop ? \"middle\" : \"bottom\",\n            labelFormatter () {\n                return `${moment(this.name).format(\"MM/DD, HH:mm\")}`;\n            }\n        },\n        time: { timezoneOffset: -8 * 60 },\n        exporting: {\n            sourceHeight: 800,\n            sourceWidth: 600\n        }\n    };\n}\n\nfunction prepareDisplacementChartOption (set_data, form) {\n    const { orientation, data, annotations } = set_data;\n    const { subsurface_column, ts_end } = form;\n    const xAxisTitle = orientation === \"across_slope\" ? \"Across Slope\" : \"Downslope\";\n    return {\n        series: data,\n        chart: {\n            type: \"line\",\n            zoomType: \"x\",\n            panning: true,\n            panKey: \"shift\",\n            height: 600,\n            resetZoomButton: {\n                position: {\n                    x: 0,\n                    y: -30\n                }\n            },\n            spacingTop: 20,\n            spacingRight: 24\n        },\n        title: {\n            text: `<b>Displacement Plot, ${xAxisTitle} of ${(subsurface_column).toUpperCase()}</b>`,\n            style: { fontSize: \"1rem\" },\n            margin: 20,\n            y: 16\n        },\n        subtitle: {\n            text: `As of: <b>${moment(ts_end).format(\"D MMM YYYY, HH:mm\")}</b><br><br><b>Note: </b> (+/-) consistently increasing/decreasing trend`,\n            style: { fontSize: \"0.6rem\" }\n        },\n        xAxis: {\n            type: \"datetime\",\n            dateTimeLabelFormats: {\n                month: \"%e %b %Y\",\n                year: \"%Y\"\n            },\n            title: {\n                text: \"<b>Date</b>\"\n            }\n        },\n        yAxis: {\n            plotBands: annotations,\n            title: {\n                text: \"<b>Relative Displacement (mm)</b>\"\n            }\n        },\n        tooltip: {\n            header: \"{point.x:%Y-%m-%d}: {point.y:.2f}\"\n        },\n        plotOptions: {\n            spline: {\n                marker: {\n                    enabled: true\n                }\n            }\n        },\n        credits: {\n            enabled: false\n        },\n        legend: {\n            enabled: false\n        },\n        time: { timezoneOffset: -8 * 60 },\n        exporting: {\n            sourceHeight: 800,\n            sourceWidth: 600\n        }\n    };\n}\n\nfunction prepareVelocityAlertsOption (set_data, form) {\n    const { data, orientation } = set_data;\n    const { subsurface_column, ts_end } = form;\n\n    const xAxisTitle = orientation === \"across_slope\" ? \"Across Slope\" : \"Downslope\";\n    const categories = data.map(x => x.name).filter(x => typeof x === \"number\");\n    categories.unshift(0);\n    \n    return {\n        series: data,\n        chart: {\n            type: \"line\",\n            zoomType: \"x\",\n            panning: true,\n            panKey: \"shift\",\n            height: 600,\n            resetZoomButton: {\n                position: {\n                    x: 0,\n                    y: -30\n                }\n            },\n            spacingTop: 20,\n            spacingRight: 24\n        },\n        title: {\n            text: `<b>Velocity Alerts Plot, ${xAxisTitle} of ${subsurface_column.toUpperCase()}</b>`,\n            style: { fontSize: \"1rem\" },\n            margin: 20,\n            y: 16\n        },\n        subtitle: {\n            text: `As of: <b>${moment(ts_end).format(\"D MMM YYYY, HH:mm\")}</b>`,\n            style: { fontSize: \"0.6rem\" }\n        },\n        credits: {\n            enabled: false\n        },\n        xAxis: {\n            type: \"datetime\",\n            dateTimeLabelFormats: {\n                month: \"%e %b %Y\",\n                year: \"%Y\"\n            },\n            title: {\n                text: \"<b>Time</b>\"\n            }\n        },\n        legend: {\n            enabled: false\n        },\n        yAxis: {\n            categories,\n            reversed: true,\n            title: {\n                text: \"<b>Nodes</b>\"\n            },\n            labels: {\n                formatter () {\n                    return this.value;\n                }\n            }\n        },\n        tooltip: {\n            formatter () {\n                return `<b>${moment(this.x).format(\"DD MMM YYYY, HH:mm\")}</b>`;\n            }\n        },\n        plotOptions: {\n            line: {\n                marker: {\n                    enabled: true,\n                    radius: 2\n                }\n            }\n        },\n        time: { timezoneOffset: -8 * 60 },\n        exporting: {\n            sourceHeight: 800,\n            sourceWidth: 600\n        }\n    };\n}\n\nfunction plotNodeHealth (column_data, type) {\n    const node_health_data = [];\n    column_data.forEach((data_list, index) => {\n        const { id, status } = data_list;\n        let color = \"\";\n        if (status === 2) color = \"#f9ff40\";\n        else if (status === 3) color = \"#ff8400\";\n        else if (status === 4) color = \"#ff6961\";\n\n        const each_data = {  \n            name: index + 1,\n            ...data_list,\n            value: 0,\n            id: id + 1,\n            color, \n        }; \n        node_health_data.push(each_data);\n    });  \n    \n    return node_health_data;       \n}\n\n// eslint-disable-next-line max-params\nfunction prepareNodeHealthSummaryChartOption (data, form, setNodeLevelChart, callback) {\n    const { subsurface_column } = form;\n    const divisor = Math.floor(data.length / 25);\n\n    const subtitle = `As of: <b>${moment().format(\"D MMM YYYY, HH:mm\")}</b><br>` +\n    `Note: <b>Click a box to access node-level charts.</b><br>`;\n    \n    return {\n        series: [{\n            name: \"Node Health\",\n            borderColor: \"#444444\",\n            borderWidth: 0.5,\n            data,\n            rowsize: 10,\n            dataLabels: {\n                enabled: true,\n                style: {\n                    textShadow: \"none\",\n                },\n                formatter () {\n                    return `${this.point.id}`;\n                }\n            },\n            events: {\n                click (series, event) {\n                    handleSelectedNode(series.point.id, form, data => {\n                        callback(data);\n                    });\n                    setNodeLevelChart(true);\n                }            \n            },\n        }],\n        chart: {\n            type: \"heatmap\",\n            height: 160 + (divisor * 20),\n            marginTop: 70,\n            marginBottom: 40,\n            resetZoomButton: {\n                position: {\n                    x: 0,\n                    y: -30\n                }\n            },\n        },\n        plotOptions: {\n            series: {\n                cursor: \"pointer\"\n            }\n        },\n        title: {\n            text: `<b>Node Health Summary of ${subsurface_column.toUpperCase()}</b>`,\n            style: { fontSize: \"14px\" }\n        },\n        subtitle: {\n            text: subtitle,\n            style: { fontSize: \"0.75rem\" }\n        },\n        xAxis: {\n            visible: false,\n            categories: [],\n        },\n        yAxis: {\n            reversed: false,\n            categories: [],\n            title: null,\n            labels: {\n                format: \"&ensp;\",\n                useHTML: true\n            },\n        },\n        colorAxis: {\n            stops: [\n                [0, \"#7cb5ec\"],\n                [0.5, \"#ffed49\"],\n                [1, \"#ff1414\"]\n            ],\n            min: 0,\n            max: 2\n        },\n        legend: {\n            enabled: false\n        },\n        tooltip: {\n            formatter () {\n                const {\n                    id_date, flagger,\n                    status, comment, id\n                } = this.point;\n                let final_stat = \"Ok\";\n                let added_info = \"\";\n\n                if (typeof status !== \"undefined\") {\n                    switch (status) {\n                        case 2: final_stat = \"Use with Caution\"; break;\n                        case 3: final_stat = \"Spacial Case\"; break;\n                        case 4: final_stat = \"Not Ok\"; break;\n                        default: final_stat = \"Ok\"; break;\n                    }\n                    // final_stat = status;\n                    added_info = `Identification Date: <b>${moment(id_date).format(\"DD MMM YYYY\")}</b><br/>` +\n                    `Comment: <b>${comment}</b><br/>Flagger: <b>${flagger}</b>`;\n                }\n\n                const tooltip = `Node ID: <b>${id}</b><br/>Status: <b>${final_stat}</b><br/>${added_info}`;\n                return tooltip;\n            }\n        },\n        credits: {\n            enabled: false\n        }\n    };\n}\n\nfunction hideByDefaultRawSeries (series) {\n    const new_series = [];\n    series.forEach(row =>{\n        const temp = {\n            x: row.data[0],\n            y: row.data[1],\n            name: row.data[2]\n        };\n        if (row.name.includes(\"Raw\")) row.visible = false;\n        new_series.push({ ...row, name: row.name, data: temp });\n    });\n    series.data = [...new_series];\n    return series;\n}\n\nfunction plotNodeLevelCharts (subsurface_node_data, input) {\n    const chartOptions = [];\n    subsurface_node_data.forEach((series) => {\n        const { series_name, data: nodes } = series;\n        const final_series = [];\n        nodes.forEach((node_arr) => {\n            const { series: node_series, } = node_arr;\n            final_series.push(...hideByDefaultRawSeries(node_series));\n        });\n        chartOptions.push(createGeneralNodeChart(series_name, final_series, input));\n    });\n    return chartOptions;\n}\n\nfunction createGeneralNodeChart (series_name, data, input) {\n    const { subsurface_column, ts_start, ts_end, node_id } = input;\n    const cap = series_name === \"battery\" ? 1 : 3;\n    const title = series_name.slice(0, cap).toUpperCase() + series_name.slice(cap);\n    \n    return {\n        series: data,\n        chart: {\n            type: \"line\",\n            zoomType: \"x\",\n            panning: true,\n            panKey: \"shift\",\n            height: 400,\n        },\n        title: {\n            // style: { fontSize: \"0\" },\n            text: `<b>${title} Plot of ${subsurface_column.toUpperCase()}</b>`,\n            style: { fontSize: \"10px\" },\n            margin: 20,\n            y: 16\n        },\n        subtitle: {\n            text: `Source: <b>Node ${node_id}</b><br/>As of: <b>${moment(ts_start).format(\"D MMM YYYY, HH:mm\")} - ${moment(ts_end).format(\"D MMM YYYY, HH:mm\")}</b>`,\n            style: { fontSize: \"9px\" }\n        },\n        xAxis: {\n            min: Date.parse(ts_start),\n            max: Date.parse(ts_end),\n            type: \"datetime\",\n            dateTimeLabelFormats: {\n                month: \"%e. %b %Y\",\n                year: \"%Y\"\n            },\n            title: {\n                text: \"<b>Date</b>\"\n            }\n        },\n        yAxis: {\n            title: {\n                text: \"<b>Value</b>\"\n            }\n        },\n        tooltip: {\n            crosshairs: true,\n            shared: true\n        },\n        plotOptions: {\n            series: {\n                marker: {\n                    radius: 3\n                },\n                cursor: \"pointer\"\n            }\n        },\n        legend: {\n            itemStyle: {\n                fontSize: \"10px\"\n            },\n            layout: \"vertical\",\n            align: \"right\",\n            verticalAlign: \"middle\",\n            borderWidth: 0\n        },\n        time: { timezoneOffset: -8 * 60 },\n        credits: {\n            enabled: false\n        }\n    };\n}\n\nfunction NodeLevelChart (props) {\n    const { show, setNodeLevelChart, data, setData } = props;\n    const handleClose = () => {\n        setNodeLevelChart(false);\n        setData(null);\n    };\n    return (\n        <Dialog\n            open={show}\n            onClose={handleClose}\n            maxWidth=\"lg\"\n            fullWidth\n        >\n            { \n                data !== null ? (\n                    <Fragment>\n                        <DialogContent>\n                            <Grid container spacing={1}>\n                                {\n                                    data.map((option, i) => (\n                                        <Grid item xs={12} key={i}>\n                                            <Paper>\n                                                <HighchartsReact\n                                                    highcharts={Highcharts}\n                                                    options={option}\n                                                    allowChartUpdate\n                                                    callback={chart => chart.reflow()}\n                                                />\n                                            </Paper>\n                                        </Grid>\n                                    ))\n                                }\n                            </Grid>\n                        </DialogContent>\n                        <DialogActions>\n                            <Button onClick={handleClose} color=\"secondary\" autoFocus>\n                                Close\n                            </Button>\n                        </DialogActions>\n                    </Fragment>\n                ) : <LinearProgress />\n            }\n        </Dialog>\n    );\n}\n\nasync function handleSelectedNode (node_id, form, callback) {\n    const input = { ...form, node_id };\n    getSubsurfaceNodeLevel(input, data => {\n        const returned_data = plotNodeLevelCharts(data, input);\n        callback(returned_data);\n    });\n}\n\nfunction SubsurfaceGraph (props) {\n    const {\n        match: { params: { tsm_sensor: sensor } },\n        width, input: consolidated_input, disableBack,\n        saveSVG, currentUser, isEOS\n    } = props;\n\n    let ts_end = \"\";\n    let dt_ts_end;\n    let tsm_sensor = sensor;\n\n    const default_range_info = { label: \"3 days\", unit: \"days\", duration: 3 };\n    const [selected_range_info, setSelectedRangeInfo] = useState(default_range_info);\n    const defaul_hour_interval = { label: \"4 hours\", hour_value: \"4\" };\n    const [selected_hour_interval, setSelectedHourInterval] = useState(defaul_hour_interval);\n    \n    if (typeof consolidated_input !== \"undefined\") {\n        const { ts_end: te, tsm_sensor: tsm } = consolidated_input;\n        ts_end = te;\n        dt_ts_end = moment(te);\n        tsm_sensor = tsm;\n    } else {\n        const ts_now = moment();\n        ts_end = ts_now.format(\"YYYY-MM-DD HH:mm:ss\");\n        dt_ts_end = ts_now;\n    }\n\n    const { unit, duration } = selected_range_info;\n    const ts_start = computeForStartTs(dt_ts_end, duration, unit);\n    \n    const disable_back = typeof disableBack === \"undefined\" ? false : disableBack;\n    const save_svg = typeof saveSVG === \"undefined\" ? false : saveSVG;\n\n    const [processed_data, setProcessedData] = useState([]);\n    const chartRefs = useRef([...Array(6)].map(() => createRef()));\n    const [get_svg, setGetSVGNow] = useState(false);\n    const [svg_list, setSVGList] = useState([]);\n\n    const { hour_value } = selected_hour_interval;\n    const input = { \n        ts_end, ts_start, subsurface_column: tsm_sensor, \n        hour_value, include_comms_health: !isEOS\n    };\n    \n    const is_desktop = isWidthDown(width, \"sm\");\n    const default_options = { title: { text: \"Loading\" } };\n\n    const [options, setOptions] = useState([{ title: { text: \"Loading\" } }]);\n    const [node_health_option, setNodeHealthOption] = useState(null);\n    const [comms_health_option, setCommsHealthOption] = useState(null);\n    const [node_level_chart, setNodeLevelChart] = useState(false);\n    const [node_level_data, setNodeLevelData] = useState(null);\n\n    useEffect(() => { \n        setProcessedData([]);\n        setCommsHealthOption(null);\n        getSubsurfacePlotData(input, subsurface_data => {\n            const processed = [];\n            subsurface_data.forEach(({ type, data }) => {\n                const sub = JSON.parse(JSON.stringify(data));\n                let temp = [];\n                if (type === \"column_position\") temp = plotColumnPosition(sub, type);\n                else if (type === \"displacement\") temp = plotDisplacement(sub, type);\n                else if (type === \"velocity_alerts\") temp = plotVelocityAlerts(sub, type);\n\n                if (type === \"comms_health\") {\n                    const option = prepareCommunicationHealthChartOption(data, input);\n                    setCommsHealthOption(option);\n                } else processed.push(...temp);                                                                                                                                                                                                                \n            });\n            \n            setProcessedData(processed);\n        });\n    }, [selected_range_info, selected_hour_interval]);\n                                                            \n    useEffect(() => {\n        const temp = [];\n        processed_data.forEach(data => {\n            const { type } = data;\n            let option;\n            if (type === \"column_position\") option = prepareColumnPositionChartOption(data, input, is_desktop);\n            else if (type === \"displacement\") option = prepareDisplacementChartOption(data, input);\n            else if (type === \"velocity_alerts\") option = prepareVelocityAlertsOption(data, input);\n            \n            temp.push(option);\n        });\n\n        setOptions(temp);\n        if (temp.length > 0 && save_svg) setGetSVGNow(true);\n    }, [processed_data]);\n\n    useEffect(() => {\n        getSurfaceNodeHealth(input, data => {\n            const raw = plotNodeHealth(data);\n            const option = prepareNodeHealthSummaryChartOption(raw, input, setNodeLevelChart, result => {\n                setNodeLevelData(result);\n            });\n            setNodeHealthOption(option);\n        });\n    }, []);\n\n    useEffect(() => {\n        if (get_svg) {\n            const temp = [];\n            chartRefs.current.forEach(ref => {\n                const { current } = ref;\n                if (current !== null) {\n                    const { chart } = current;\n                    const svg = chart.getSVGForExport();\n                    temp.push(svg);\n                }\n            });\n            setSVGList(temp);\n        }\n    }, [get_svg, chartRefs]);\n\n    const svgRef = useRef(null);\n    useEffect(() => {\n        if (svg_list.length > 0) {\n            const svg = svgRef.current.outerHTML;\n            const temp = {\n                user_id: currentUser.user_id,\n                tsm_sensor,\n                site_code: consolidated_input.site_code,\n                chart_type: \"subsurface\",\n                svg\n            };\n\n            saveChartSVG(temp, data => {});\n        }\n    }, [svg_list]);\n\n    return (\n        <Fragment>\n            <Grid container spacing={1} justify=\"space-between\">\n                {\n                    !disable_back && <Grid item sm><BackToMainButton \n                        {...props}\n                    /></Grid>\n                }\n\n                <DateRangeSelector\n                    isSubsurface\n                    selectedRangeInfo={selected_range_info}\n                    setSelectedRangeInfo={setSelectedRangeInfo}\n                    selectedHourInterval={selected_hour_interval}\n                    setSelectedHourInterval={setSelectedHourInterval}\n                />\n            </Grid>\n\n            <div style={{ marginTop: 16 }}>\n                <Grid container spacing={4}>\n                    { \n                        node_health_option && (\n                            <Grid item xs={12} md={12}>\n                                <Paper>\n                                    <HighchartsReact\n                                        highcharts={Highcharts}\n                                        allowChartUpdate\n                                        options={node_health_option}\n                                    />\n                                </Paper>\n                            </Grid>\n                        )\n                    }\n                    \n                    {                           \n                        options.length === 0 && (\n                            <Fragment>\n                                <Grid item xs={12} md={6} key={1}>\n                                    <Paper>\n                                        <HighchartsReact\n                                            highcharts={Highcharts}\n                                            options={default_options}\n                                        />\n                                    </Paper>\n                                </Grid>\n                                <Grid item xs={12} md={6} key={2}>\n                                    <Paper>\n                                        <HighchartsReact\n                                            highcharts={Highcharts}\n                                            options={default_options}\n                                        />\n                                    </Paper>\n                                </Grid>\n                            </Fragment>\n                        )\n                    }\n\n                    { \n                        comms_health_option && (\n                            <Grid item xs={12} md={12}>\n                                <Paper>\n                                    <HighchartsReact\n                                        highcharts={Highcharts}\n                                        allowChartUpdate\n                                        options={comms_health_option}\n                                    />\n                                </Paper>\n                            </Grid>\n                        )\n                    }\n                    \n                    {\n                        options.map((option, i) => {\n                            const chart_update = true;\n                            const ref = chartRefs.current[i];\n                            return (\n                                <Grid item xs={12} md={6} key={i}>\n                                    <Paper>\n                                        <HighchartsReact\n                                            highcharts={Highcharts}\n                                            allowChartUpdate={chart_update}\n                                            options={option}\n                                            ref={ref}\n                                        />\n                                    </Paper>\n                                </Grid>\n                            );\n                        })\n                    }\n                </Grid>\n            </div>\n            \n            {\n                save_svg && (\n                    <Hidden xsUp implementation=\"css\">\n                        <svg \n                            width={1200} height={2400}\n                            viewBox=\"0 0 1200 2400\"\n                            ref={svgRef}\n                        >\n                            {\n                                svg_list.map((c, index) => {\n                                    const is_odd = index % 2 === 1;\n                                    const x = is_odd ? 0 : 600;\n                                    const y = (800 * (Math.floor(index / 2)));\n\n                                    return (\n                                        <Fragment key={index}>\n                                            { /* eslint-disable-next-line react/no-danger */ }\n                                            <svg x={x} y={y} dangerouslySetInnerHTML={{ __html: c }} />\n                                        </Fragment>\n                                    );\n                                })\n                            }\n                        </svg>\n                    </Hidden>\n                )\n            }\n\n            <NodeLevelChart \n                show={node_level_chart} \n                setNodeLevelChart={setNodeLevelChart}\n                data={node_level_data}\n                setData={setNodeLevelData}\n            />\n        </Fragment>\n    );\n}\n\nexport default SubsurfaceGraph;","import React from \"react\";\nimport moment from \"moment\";\nimport { Grid } from \"@material-ui/core\";\n\nimport BackToMainButton from \"./BackToMainButton\";\nimport RainfallGraph from \"./RainfallGraph\";\nimport SurficialGraph from \"./SurficialGraph\";\nimport SubsurfaceGraph from \"./SubsurfaceGraph\";\n\n\nfunction ConsolidatedSiteCharts (props) {\n    const { \n        match: { params: { site_code } },\n        location\n    } = props;\n    const {\n        site: site_data, ts_end,\n        to_include, subsurface_columns\n    } = location;\n    \n    let end_ts = ts_end;\n    let subsurface_cols = subsurface_columns;\n    let show_charts = { ...to_include };\n    if (typeof site_data === \"undefined\") {\n        end_ts = moment();\n        subsurface_cols = [];\n        show_charts = { rainfall: true, surficial: true };\n    }\n\n    const input = { site_code, ts_end: end_ts.format(\"YYYY-MM-DD HH:mm:ss\") };\n    return (\n        <Grid container spacing={1}>\n            <Grid item xs={12}><BackToMainButton {...props} /></Grid>\n\n            {\n                show_charts.rainfall && (\n                    <Grid item xs={12} style={{ marginBottom: 16 }}>\n                        <RainfallGraph {...props} input={input} disableBack />\n                    </Grid>\n                )\n            }\n                \n            {\n                show_charts.surficial && (\n                    <Grid item xs={12} style={{ marginBottom: 16 }}>\n                        <SurficialGraph {...props} input={input} disableBack />\n                    </Grid>\n                )\n            }\n                \n            {\n                subsurface_cols.map(sc => {\n                    const temp = { ...input, tsm_sensor: sc };\n                    return (\n                        <Grid key={sc} item xs={12}>\n                            <SubsurfaceGraph {...props} input={temp} disableBack />\n                        </Grid>\n                    );\n                })\n            }\n        </Grid>\n    );\n}\n\nexport default ConsolidatedSiteCharts;\n","import React, { useState, useEffect } from \"react\";\nimport {\n    Dialog, DialogTitle, DialogContent,\n    DialogContentText, DialogActions,\n    Button, withMobileDialog, Grid,\n    FormControl, FormLabel,\n    FormControlLabel, FormGroup, Checkbox,\n    Typography\n} from \"@material-ui/core\";\nimport moment from \"moment\";\nimport MomentUtils from \"@date-io/moment\";\nimport { MuiPickersUtilsProvider, KeyboardDateTimePicker } from \"@material-ui/pickers\";\nimport { Link } from \"react-router-dom\";\nimport DynaslopeSiteSelectInputForm from \"../../reusables/DynaslopeSiteSelectInputForm\";\nimport { SlideTransition, FadeTransition } from \"../../reusables/TransitionList\";\nimport { getSiteSubsurfaceColumns } from \"../ajax\";\n\nfunction ConsolidatedSiteChartsModal (props) {\n    const {\n        fullScreen, isOpen,\n        clickHandler, isMobile, url\n    } = props;\n    const [site_value, setSiteValue] = useState({ value: null, data: { site_code: null } });\n    const update_site_value = value => setSiteValue(value);\n    const [ts_end, setTsEnd] = useState(moment());\n    const update_ts_end = value => setTsEnd(value);\n\n    const [chart_cboxes, setChartCboxes] = useState({\n        rainfall: true, surficial: true, subsurface: {}\n    });\n    const [subsurface_cols, setSubsurfaceCols] = useState([]);\n    const set_cboxes = (key, sub = null) => event => {\n        const { target: { checked } } = event;\n        let update = checked;\n\n        if (sub !== null) {\n            const { subsurface: temp } = chart_cboxes;\n            temp[sub] = checked;\n            update = temp;\n        }\n\n        setChartCboxes({\n            ...chart_cboxes, [key]: update\n        });\n    };\n\n    useEffect(() => {\n        return (() => {\n            setTsEnd(moment());\n        });\n    }, [isOpen]);\n\n    useEffect(() => {\n        const { data: { site_code } } = site_value;\n        if (site_code !== null) {\n            getSiteSubsurfaceColumns(site_code, data => {\n                setSubsurfaceCols([]);\n                const sub = {};\n                data.forEach(s => {\n                    const is_checked = s.date_deactivated === null;\n                    sub[s.logger.logger_name] = is_checked;\n                });\n                setChartCboxes({ ...chart_cboxes, subsurface: sub });\n                setSubsurfaceCols(data);\n            });   \n        }\n    }, [site_value.data.site_code]);\n\n    const { data: site } = site_value;\n    const subsurface_columns = [];\n    Object.keys(chart_cboxes.subsurface).forEach(key => {\n        if (chart_cboxes.subsurface[key]) subsurface_columns.push(key);\n    });\n\n    return (\n        <Dialog\n            fullWidth\n            fullScreen={fullScreen}\n            open={isOpen}\n            aria-labelledby=\"form-dialog-title\"\n            TransitionComponent={fullScreen ? SlideTransition : FadeTransition}      \n        >\n            <DialogTitle id=\"form-dialog-title\">\n                Consolidate charts per site\n            </DialogTitle>\n            <DialogContent>\n                <DialogContentText>\n                    Fill in the following.\n                </DialogContentText>\n\n                <Grid container spacing={2}>\n                    <Grid item xs={12}>\n                        <DynaslopeSiteSelectInputForm\n                            value={site_value}\n                            changeHandler={update_site_value}\n                        />\n                    </Grid>\n\n                    <MuiPickersUtilsProvider utils={MomentUtils}>\n                        <Grid item xs={12}>\n                            <KeyboardDateTimePicker\n                                required\n                                autoOk\n                                label=\"Data Timestamp\"\n                                value={ts_end}\n                                onChange={update_ts_end}\n                                ampm={false}\n                                placeholder=\"2010/01/01 00:00\"\n                                format=\"YYYY/MM/DD HH:mm\"\n                                mask=\"__/__/____ __:__\"\n                                clearable\n                                disableFuture\n                            />\n                        </Grid>\n                    </MuiPickersUtilsProvider>\n                </Grid>\n\n                <Grid item xs={12} style={{ marginTop: 18 }}>\n                    <FormControl component=\"fieldset\">\n                        <FormLabel component=\"legend\">Charts to Show</FormLabel>\n                        <FormGroup aria-label=\"position\" row>\n                            <FormControlLabel\n                                value=\"rainfall\"\n                                control={<Checkbox\n                                    color=\"primary\"\n                                    onClick={set_cboxes(\"rainfall\")}\n                                    checked={chart_cboxes.rainfall}\n                                />}\n                                label=\"Rainfall\"\n                            />\n                            <FormControlLabel\n                                value=\"surficial\"\n                                control={<Checkbox\n                                    color=\"primary\"\n                                    onClick={set_cboxes(\"surficial\")}\n                                    checked={chart_cboxes.surficial}\n                                />}\n                                label=\"Surficial\"\n                            />\n                        </FormGroup>\n                    </FormControl>\n                </Grid>\n\n                <Grid item xs={12} style={{ marginTop: 8 }}>\n                    <FormControl component=\"fieldset\">\n                        <FormLabel component=\"legend\">Subsurface Columns</FormLabel>\n                        <FormGroup aria-label=\"position\" row>\n                            {\n                                subsurface_cols.map(row => {\n                                    const { date_deactivated, logger: { logger_name } } = row;\n                                    const deactivated = date_deactivated === null ? \"\" : \" (Deactivated)\";\n\n                                    return (\n                                        <FormControlLabel\n                                            key={logger_name}\n                                            value={logger_name}\n                                            control={<Checkbox\n                                                color=\"primary\"\n                                                onClick={set_cboxes(\"subsurface\", logger_name)}\n                                                checked={chart_cboxes.subsurface[logger_name]}\n                                            />}\n                                            label={logger_name.toUpperCase() + deactivated}\n                                        />\n                                    );\n                                })\n                            }\n\n                            {\n                                subsurface_cols.length === 0 && (\n                                    <Typography variant=\"body1\">No site selected</Typography>\n                                )\n                            }\n                        </FormGroup>\n                    </FormControl>\n                </Grid>\n                \n                {\n                    !isMobile && <div style={{ height: 120 }} />\n                }\n            </DialogContent>\n            <DialogActions>\n                <Button \n                    component={Link}\n                    to={{\n                        pathname: `${url}/consolidated/${site.site_code}`,\n                        ts_end,\n                        site,\n                        to_include: chart_cboxes,\n                        subsurface_columns\n                    }}\n                    color=\"primary\"\n                    onClick={clickHandler}\n                    disabled={site_value.value === null}\n                >\n                    View\n                </Button>\n                <Button onClick={clickHandler}>\n                    Cancel\n                </Button>\n            </DialogActions>\n        </Dialog>\n    );\n}\n\nexport default withMobileDialog()(ConsolidatedSiteChartsModal);\n","import React, { useState, useEffect } from \"react\";\nimport {\n    Dialog, DialogTitle, DialogContent,\n    DialogContentText, DialogActions,\n    Button, withMobileDialog, Grid,\n    FormControl, TextField\n} from \"@material-ui/core\";\nimport moment from \"moment\";\nimport MomentUtils from \"@date-io/moment\";\nimport { MuiPickersUtilsProvider, KeyboardDateTimePicker } from \"@material-ui/pickers\";\nimport { useSnackbar } from \"notistack\";\nimport { SlideTransition, FadeTransition } from \"../../reusables/TransitionList\";\nimport { insertEarthquakeEvent } from \"../ajax\";\nimport { getCurrentUser } from \"../../sessions/auth\";\n\nfunction InsertEQevent (props) {\n    const {\n        fullScreen, isOpen, clickHandler, setReloadEqEvent\n    } = props;\n    const [eq_magnitude, set_magnitude] = useState(null);\n    const [eq_depth, set_depth] = useState(null);\n    const [eq_long, set_long] = useState(0);\n    const [eq_lat, set_lat] = useState(0);\n    const [ts, setTs] = useState(moment());\n    const update_ts_end = value => setTs(value);\n    const [is_disable, set_is_disabled] = useState(true);\n    const { enqueueSnackbar, closeSnackbar } = useSnackbar();\n    const { first_name, last_name } = getCurrentUser();\n\n    const snackBarActionFn = key => {\n        return (<Button\n            color=\"primary\"\n            onClick={() => { closeSnackbar(key); }}\n        >\n            Dismiss\n        </Button>);\n    };\n    \n    useEffect(() => setTs(moment()), [isOpen]);\n\n    useEffect(() => {\n        if (eq_depth > 0 && eq_long > 0 && eq_lat > 0 && eq_magnitude >= 0 && eq_magnitude <= 10) {\n            set_is_disabled(false);\n        } else { \n            set_is_disabled(true); \n        }\n    }, [eq_depth, eq_magnitude, eq_lat, eq_long]);\n\n    const saveEQ = () => {\n        const user = `${first_name } ${ last_name}`.split(\" \");\n        let issuer = \"\";\n        user.forEach(element => {\n            issuer += element.charAt(0);\n        });\n        const eq_data = {\n            magnitude: eq_magnitude,\n            depth: eq_depth,\n            \"long\": eq_long,\n            lat: eq_lat,\n            timestamp: ts.format(\"YYYY-MM-DD HH:mm\"),\n            issued_by: issuer\n        };\n\n        insertEarthquakeEvent(eq_data, response => {\n            if (response.status === 200) {\n                enqueueSnackbar(\n                    \"Success saving earthquake event\",\n                    {\n                        variant: \"success\",\n                        autoHideDuration: 7000,\n                        action: snackBarActionFn\n                    }\n                );\n                setReloadEqEvent(true);\n            } else {\n                enqueueSnackbar(\n                    \"Error saving earthquake event\",\n                    {\n                        variant: \"error\",\n                        autoHideDuration: 7000,\n                        action: snackBarActionFn\n                    }\n                );\n            }\n        });\n\n        clickHandler(false);\n    };\n\n    const magnitude_err = (eq_magnitude > 10 || eq_magnitude <= 0) && eq_magnitude !== null;\n    const depth_err = eq_depth <= 0 && eq_magnitude !== null;\n    \n    return (\n        <Dialog\n            fullWidth\n            fullScreen={fullScreen}\n            open={isOpen}\n            aria-labelledby=\"form-dialog-title\"\n            TransitionComponent={fullScreen ? SlideTransition : FadeTransition}      \n        >\n            <DialogTitle id=\"form-dialog-title\">\n                Insert Earthquake Event\n            </DialogTitle>\n            <DialogContent>\n                <DialogContentText>\n                    Fill in the following.\n                </DialogContentText>\n\n                <Grid container spacing={2}>\n                    <MuiPickersUtilsProvider utils={MomentUtils}>\n                        <Grid item xs={12}> \n                            <KeyboardDateTimePicker\n                                required\n                                autoOk\n                                label=\"Data Timestamp\"\n                                value={ts}\n                                onChange={update_ts_end}\n                                ampm={false}\n                                placeholder=\"2010/01/01 00:00\"\n                                format=\"YYYY/MM/DD HH:mm\"\n                                mask=\"____/__/__ __:__\"\n                                clearable\n                                disableFuture\n                            />\n                        </Grid>\n                    </MuiPickersUtilsProvider>\n\n                    <Grid item xs={6}>\n                        <FormControl component=\"fieldset\" fullWidth>\n                            <TextField\n                                required\n                                label=\"Magnitude\"\n                                onChange={event => set_magnitude(event.target.value)}\n                                type=\"number\"\n                                InputProps={{ inputProps: { \n                                    max: 10, min: 1\n                                } }}\n                                fullWidth\n                                helperText={ magnitude_err ? \"Insert magnitude from 0.1 to 10\" : \"\"}\n                                error={magnitude_err}\n                            />\n                        </FormControl>\n                    </Grid>\n\n                    <Grid item xs={6}>\n                        <FormControl component=\"fieldset\" fullWidth>\n                            <TextField\n                                required\n                                label=\"Depth (km)\"\n                                defaultValue=\"\"\n                                onChange={event => set_depth(event.target.value)}\n                                type=\"number\"\n                                fullWidth\n                                helperText={ depth_err ? \"Positive numbers only\" : \"\"}\n                                error={depth_err} \n                            />\n                        </FormControl>\n                    </Grid>\n\n                    <Grid item xs={6}>\n                        <FormControl component=\"fieldset\" fullWidth>\n                            <TextField\n                                type=\"number\"\n                                required\n                                label=\"Latitude\"\n                                defaultValue=\"\"\n                                onChange={event => set_lat(event.target.value)}\n                            />\n                        </FormControl>\n                    </Grid>\n\n                    <Grid item xs={6}>\n                        <FormControl component=\"fieldset\" fullWidth>\n                            <TextField \n                                required\n                                label=\"Longitude\"\n                                type=\"number\"\n                                defaultValue=\"\"\n                                onChange={event => set_long(event.target.value)}\n                            />\n                        </FormControl>\n                    </Grid>\n                </Grid>\n            </DialogContent>\n            <DialogActions>\n                <Button \n                    color=\"primary\"\n                    onClick={() => saveEQ()}\n                    disabled ={is_disable}\n                >\n                    Submit\n                </Button>\n                <Button onClick={clickHandler} color=\"secondary\" >\n                    Cancel\n                </Button>\n            </DialogActions>\n        </Dialog>\n    );\n}\n\nexport default withMobileDialog()(InsertEQevent);\n","import React, { \n    Fragment, useRef, createRef, \n    useState, useEffect \n} from \"react\";\nimport L from \"leaflet\";\nimport \"leaflet/dist/leaflet.css\";\nimport { Map as LeafletMap, TileLayer, Marker, Popup, Circle, CircleMarker, Pane } from \"react-leaflet\";\nimport MarkerIcon from \"leaflet/dist/images/marker-icon.png\";\nimport ShadowIcon from \"leaflet/dist/images/marker-shadow.png\";\nimport RetinaIcon from \"leaflet/dist/images/marker-icon-2x.png\";\nimport { sites } from \"../../../store\";\nimport { prepareSiteAddress } from \"../../../UtilityFunctions\";\n\nconst marker = L.icon({\n    iconUrl: MarkerIcon,\n    shadowUrl: ShadowIcon,\n    iconRetinaUrl: RetinaIcon,\n    iconSize: [25, 41],\n    // [18, 31], // [25, 41], // size of the icon\n    shadowSize: [41, 41],\n    // [31, 31], // [41, 41], // size of the shadow\n    iconAnchor: [12, 41],\n    // [12, 31], // [12, 41], // point of the icon which will correspond to marker's location\n    shadowAnchor: [12, 41],\n    // [12, 31], // [12, 41], // the same for the shadow\n    popupAnchor: [1, -34], // point from which the popup should open relative to the iconAnchor\n    tooltipAnchor: [16, -28]\n});\n\nfunction EarthquakeMap (props) {\n    const { eqEvents, zoomIn } = props;\n\n    const state = {\n        lat: 12.8797,\n        lng: 121.7740,\n        zoom: 5\n    };\n\n    let position = [state.lat, state.lng];\n    let { zoom } = state;\n    if (zoomIn) {\n        const { latitude, longitude } = eqEvents[0];\n        position = [latitude, longitude];\n        zoom = 7;\n    }\n\n    \n    const ref = useRef();\n    const is_one = eqEvents.length === 1;\n    const [show_popup, setShowPopUp] = useState(false);\n    useEffect(() => {\n        if (is_one) setShowPopUp(true);\n    }, [eqEvents]);\n\n    useEffect(() => {\n        if (show_popup) {\n            if (ref !== null) ref.current.leafletElement.openPopup();\n            setShowPopUp(false);\n        }\n    }, [show_popup]);\n\n    const rule = /\\.0*$|(?<=\\.[0-9]{0,2147483646})0*$/;\n\n    return (\n        <LeafletMap style={{ height: 465 }} center={position} zoom={zoom}>\n            <TileLayer\n                attribution='&copy; <a href=\"https://www.mapbox.com/about/maps/\">Mapbox</a>  <a href=\"http://www.openstreetmap.org/copyright\">OpenStreetMap</a> <strong><a href=\"https://www.mapbox.com/map-feedback/\" target=\"_blank\">Improve this map</a></strong>'\n                id=\"mapbox.streets\"\n                url=\"https://api.mapbox.com/styles/v1/mapbox/streets-v11/tiles/{z}/{x}/{y}?access_token=pk.eyJ1IjoibWFwYm94IiwiYSI6ImNpejY4NXVycTA2emYycXBndHRqcmZ3N3gifQ.rJcFIG214AriISLbB6B5aw\"\n            />\n            {\n                eqEvents.map((event, i) => {\n                    const {\n                        latitude, longitude, magnitude,\n                        depth, critical_distance, eq_id, processed\n                    } = event;\n                    const center = [latitude, longitude];\n                    const distance = critical_distance === null ? 0 : parseFloat(critical_distance);\n\n                    return (\n                        <Fragment key={eq_id}>\n                            <Circle center={center} fillColor=\"blue\" radius={distance * 1000} />\n                            <Marker icon={marker} position={center} ref={is_one ? ref : createRef()}>\n                                <Popup>\n                                    Magnitude: <strong>{magnitude.replace(rule, \"\")}</strong> <br/>\n                                    Depth: <strong>{depth.replace(rule, \"\")}</strong> <br/>\n                                    Critical Distance: <strong>{distance} km</strong> <br/>\n                                    Processed: <strong>{processed ? \"Yes\" : \"No\"}</strong>\n                                </Popup>\n                            </Marker>\n                        </Fragment>\n                    );\n                })\n            }\n\n            <Pane style={{ zIndex: 550 }}>{\n                sites.map(site => (\n                    <CircleMarker\n                        key={site.site_id}\n                        center={[site.latitude, site.longitude]}\n                        fillColor=\"green\"\n                        fillOpacity={1}\n                        color=\"black\"\n                        weight={1}\n                        radius={4}\n                        bringToFront\n                    >\n                        <Popup>\n                            <strong>{site.site_code.toUpperCase()}</strong> <br/>\n                            {prepareSiteAddress(site, false)}\n                        </Popup>\n                    </CircleMarker>\n                ))\n            }</Pane>\n\n            {/* <Marker icon={marker} position={position}>\n                <Popup>\n                    A pretty CSS3 popup. <br/> Easily customizable.\n                </Popup>\n            </Marker> */}\n        </LeafletMap>\n    );\n}\n\nexport default EarthquakeMap;\n","import React from \"react\";\n\nimport {\n    AppBar, Tabs, Tab,\n    Typography, Grid\n} from \"@material-ui/core\";\nimport { createMuiTheme, MuiThemeProvider } from \"@material-ui/core/styles\";\nimport MUIDataTable from \"mui-datatables\";\nimport moment from \"moment\";\n\nimport EarthquakeMap from \"./EarthquakeMap\";\n\nconst getMuiTheme = createMuiTheme({\n    overrides: {\n        MUIDataTableBodyCell: {\n            root: {\n                whiteSpace: \"nowrap\"\n            }\n        }\n    }\n});\n\nconst eq_ev_tbl_columns = [\n    { name: \"Timestamp\" },\n    { name: \"Magnitude\" },\n    { name: \"Issuer\" },\n    {\n        name: \"eq_id\",\n        options: {\n            display: false,\n            viewColumns: false,\n            filter: false\n        }\n    }\n];\n\nconst eq_al_tbl_columns = [\n    { name: \"Timestamp\" },\n    { name: \"Magnitude\" },\n    {\n        name: \"eq_id\",\n        options: {\n            display: false,\n            viewColumns: false,\n            filter: false\n        }\n    },\n    {\n        name: \"Sites\",\n        options: {\n            filter: false\n        }\n    }\n];\n\nfunction EarthquakeContainer (props) {\n    const {\n        eqEvents, eqAlerts,\n        eqAlertsPagination, setEqAlTblPage\n    } = props;\n\n    const [tab_value, setTabValue] = React.useState(0);\n    const change_tab_value = (event, new_value) => setTabValue(new_value);\n    \n    const [chosen_events, setChosenEvents] = React.useState([]);\n    const [eq_ev_tbl_data, setEqEventsTable] = React.useState([]);\n    React.useEffect(() => {\n        setChosenEvents([...eqEvents]);\n        const table_data = eqEvents.map(d => [\n            moment(d.ts).format(\"D MMM YYYY, HH:mm\"), \n            parseFloat(d.magnitude),\n            d.issuer.toUpperCase(),\n            d.eq_id\n        ]);\n        setEqEventsTable([...table_data]);\n    }, [eqEvents]);\n\n    const select_map_event = (eq_id, collection) => {\n        const event = collection.filter(ev => ev.eq_id === eq_id);\n        setChosenEvents([...event]);\n    };\n\n    const [eq_al_tbl_data, setEqAlertsTable] = React.useState([]);\n    React.useEffect(() => {\n        const table_data = eqAlerts.map(d => {\n            const { eq_alerts } = d;\n            const sites = eq_alerts.map(a => a.site.site_code.toUpperCase());\n            \n            return [\n                moment(d.ts).format(\"D MMM YYYY, HH:mm\"), \n                parseFloat(d.magnitude),\n                d.eq_id,\n                sites.join(\", \")\n            ];\n        });\n\n        setEqAlertsTable([...table_data]);\n    }, [eqAlerts]);\n\n    const eq_ev_tbl_options = {\n        textLabels: {\n            body: {\n                noMatch: \"No data\"\n            }\n        },\n        selectableRows: \"none\",\n        rowsPerPage: 5,\n        rowsPerPageOptions: [],\n        print: false,\n        download: false,\n        search: false,\n        filter: false,\n        viewColumns: false,\n        responsive: \"standard\",\n        onRowClick (data, meta, e) {\n            select_map_event(data[3], eqEvents);\n        }\n    };\n\n    const eq_al_tbl_options = {\n        textLabels: {\n            body: {\n                noMatch: \"No data\"\n            }\n        },\n        selectableRows: \"none\",\n        count: eqAlertsPagination.count,\n        rowsPerPage: 3,\n        rowsPerPageOptions: [],\n        print: false,\n        download: false,\n        viewColumns: false,\n        responsive: \"standard\",\n        serverSide: true,\n        onChangePage: page => {\n            const { limit } = eqAlertsPagination;\n            const offset = page * limit;\n            setEqAlTblPage({ ...eqAlertsPagination, offset });\n        },\n        onRowClick (data, meta, e) {\n            select_map_event(data[2], eqAlerts);\n        }\n    };\n\n    return (\n        <Grid container spacing={1}>\n            <Grid item xs={12} md={6}>\n                <EarthquakeMap eqEvents={chosen_events} zoomIn={chosen_events.length === 1}/>\n            </Grid>\n\n            <Grid item xs={12} md={6}>\n                <AppBar position=\"static\">\n                    <Tabs\n                        value={tab_value}\n                        onChange={change_tab_value}\n                        variant=\"fullWidth\"\n                    >\n                        <Tab label=\"EQ Events\" />\n                        <Tab label=\"EQ Alerts\" />\n                    </Tabs>\n                </AppBar>\n                {\n                    tab_value === 0 && (\n                        <MuiThemeProvider theme={getMuiTheme}>\n                            <MUIDataTable\n                                title=\"Latest Earthquake Events\"\n                                columns={eq_ev_tbl_columns}\n                                options={eq_ev_tbl_options}\n                                data={eq_ev_tbl_data}\n                                style={{ height: 465 }}\n                            />\n                        </MuiThemeProvider>\n                    )\n                }\n                {\n                    tab_value === 1 && (\n                        <MuiThemeProvider theme={getMuiTheme}>\n                            <MUIDataTable\n                                title={\n                                    <Typography\n                                        variant=\"body1\"\n                                    >\n                                        Earthquake Alerts\n                                    </Typography>\n                                }\n                                columns={eq_al_tbl_columns}\n                                options={eq_al_tbl_options}\n                                data={eq_al_tbl_data}\n                            />\n                        </MuiThemeProvider>\n                    )\n                }\n            </Grid>\n        </Grid>\n    );\n}\n\nexport default EarthquakeContainer;\n","import React from \"react\";\nimport { Button } from \"@material-ui/core\";\nimport { Landscape } from \"@material-ui/icons\";\n\nexport default function InsertMomsButton (props) {\n    const { clickHandler } = props;\n\n    return (\n        <Button\n            variant=\"contained\"\n            color=\"primary\"\n            size=\"small\"\n            onClick={clickHandler}\n            startIcon={<Landscape />}\n        >\n            Insert MOMs\n        </Button>\n    );\n}\n","import React, { Fragment, useState, useEffect } from \"react\";\nimport { Route } from \"react-router-dom\";\n\nimport {\n    Paper, Typography\n} from \"@material-ui/core\";\nimport MUIDataTable from \"mui-datatables\";\nimport moment from \"moment\";\n\nimport { getMOMsInstances } from \"../ajax\";\n\nimport BackToMainButton from \"./BackToMainButton\";\nimport MomsInsertModal from \"../../widgets/moms/MomsInsertModal\";\nimport InsertMomsButton from \"../../widgets/moms/InsertMomsButton\";\n\n\nfunction formatTimestamp (ts) {\n    return moment(ts).format(\"D MMMM YYYY, HH:mm\");\n}\n\nfunction buildName (name) {\n    const { first_name, last_name } = name;\n    return `${first_name} ${last_name}`;\n}\n\nfunction processMomsReportData (moms) {\n    const data = moms.map(report => {\n        const {\n            observance_ts, narrative: n_details, reporter, validator, op_trigger, remarks\n        } = report;\n        const { narrative, timestamp: report_ts } = n_details;\n        return [\n            formatTimestamp(observance_ts), narrative, formatTimestamp(report_ts),\n            buildName(reporter), buildName(validator), remarks, op_trigger\n        ];\n    });\n\n    return data;\n}\n\nfunction MomsInstancesPage (props) {\n    const { history,\n        match: { \n            url, params: { site_code }\n        }\n    } = props;\n\n    const [moms_data, setMOMsData] = useState([]);\n    const [moms_features, setMOMsFeatures] = useState([]);\n    const columns = [\"Type\",\n        {\n            name: \"Name\",\n            options: {\n                filter: false\n            }\n        }, {\n            name: \"Location\",\n            options: {\n                filter: false\n            }\n        }, {\n            name: \"Last Observance Timestamp\",\n            options: {\n                filter: false\n            }\n        }, \"Alert Level\", {\n            name: \"data\",\n            options: {\n                display: false,\n                viewColumns: false,\n                filter: false\n            }\n        }\n    ];\n\n    useEffect(() => {\n        getMOMsInstances(site_code, data => {\n            const tbl_data = data.map(instance => {\n                const {\n                    feature: { feature_type },\n                    feature_name, moms, instance_id,\n                    location\n                } = instance;\n\n                const type = feature_type.charAt(0).toUpperCase() + feature_type.slice(1);\n                const last_mom = moms[0];\n\n                let return_data = [];\n                if (typeof last_mom !== \"undefined\") {\n                    const { observance_ts, op_trigger } = last_mom;\n                    const ts = formatTimestamp(observance_ts);\n                    return_data = [type, feature_name, location, ts, op_trigger, instance_id];\n                } \n\n                return return_data;    \n            });\n            const final_tbl_data = tbl_data.filter( item => {\n                return item.length > 0;\n            });\n\n            const sorted_data = final_tbl_data.sort((a, b) => b[4] - a[4]);\n            setMOMsFeatures(sorted_data);\n            setMOMsData(data);\n        });\n    }, []);\n\n    const [is_moms_modal_open, setMomsModal] = useState(false);\n    const set_moms_modal_fn = bool => () => setMomsModal(bool);\n\n    return (\n        <Fragment>\n            <div style={{ display: \"flex\", justifyContent: \"space-between\" }}>\n                <BackToMainButton {...props} />\n                <InsertMomsButton clickHandler={set_moms_modal_fn(true)} />\n            </div>\n\n            <Paper style={{ marginTop: 16 }}>\n                <MUIDataTable\n                    title={`Manifestation of Movement Features of ${site_code.toUpperCase()}`}\n                    columns={columns}\n                    options={{\n                        textLabels: {\n                            body: {\n                                noMatch: \"No data\"\n                            }\n                        },\n                        selectableRows: \"none\",\n                        rowsPerPage: 5,\n                        rowsPerPageOptions: [],\n                        print: false,\n                        download: false,\n                        responsive: \"standard\",\n                        onRowClick (data, meta, e) {\n                            const instance_id = data[5];\n                            history.push(`${url}/${instance_id}`);\n                        }\n                    }}\n                    data={moms_features}\n                />\n            </Paper>\n\n            <MomsInsertModal\n                {...props}\n                isOpen={is_moms_modal_open}\n                closeHandler={set_moms_modal_fn(false)}\n            />\n            \n            <Route path={`${url}/:instance_id`} render={\n                props => {\n                    return <MomsReportsTable \n                        {...props}\n                        moms_data={moms_data}\n                    />;\n                }\n            }/>\n        </Fragment>\n    );\n}\n\nfunction MomsReportsTable (props) {\n    const { moms_data, match: { params: { instance_id } } } = props;\n    const columns = [\"Observance Timestamp\", \"Narrative\", \"Report Timestamp\", \"Reporter\", \"Validator\", \"Remarks\", \"Alert Level\"];\n\n    const instance_row = moms_data.find(row => row.instance_id === parseInt(instance_id, 10));\n    let moms = [];\n    let subtitle = \"\";\n    if (typeof instance_row !== \"undefined\") {\n        moms = instance_row.moms;\n\n        const { feature: { feature_type }, feature_name } = instance_row;\n        subtitle = `${feature_type} - ${feature_name}`;\n    }\n   \n    const moms_reports = processMomsReportData(moms);\n    return (\n        <Paper style={{ marginTop: 16 }}>\n            <MUIDataTable\n                title={\n                    <Typography variant=\"h6\">\n                        Manifestation of Movement Reports <span style={{ fontSize: \"small\" }}>{subtitle.toUpperCase()}</span>\n                    </Typography>\n                }\n                columns={columns}\n                options={{\n                    textLabels: {\n                        body: {\n                            noMatch: \"No data\"\n                        }\n                    },\n                    selectableRows: \"none\",\n                    rowsPerPage: 5,\n                    rowsPerPageOptions: [],\n                    print: false,\n                    download: false,\n                    responsive: \"standard\",\n                }}\n                data={moms_reports}\n            />\n        </Paper>\n    );\n}\n\nexport default MomsInstancesPage;","import React, { \n    Fragment, useState, \n    useEffect, useContext\n} from \"react\";\nimport { createPortal } from \"react-dom\";\n\nimport {\n    makeStyles, Button, Grid,\n    Paper\n} from \"@material-ui/core\";\nimport { InsertChart, Event } from \"@material-ui/icons\";\nimport withWidth, { isWidthDown } from \"@material-ui/core/withWidth\";\nimport { Route, Switch, Link } from \"react-router-dom\";\n\nimport Highcharts from \"highcharts/highcharts.src\";\nimport heatmap from \"highcharts/modules/heatmap.src\";\nimport HighchartsReact from \"highcharts-react-official\";\nimport moment from \"moment\";\nimport MUIDataTable from \"mui-datatables\";\nimport ContentLoader from \"react-content-loader\";\n\nimport SurficialGraph from \"./SurficialGraph\";\nimport RainfallGraph from \"./RainfallGraph\";\nimport SubsurfaceGraph from \"./SubsurfaceGraph\";\nimport ConsolidatedSiteCharts from \"./ConsolidatedSiteCharts\";\nimport ConsolidateSiteChartsModal from \"./ConsolidateSiteChartsModal\";\nimport InsertEarthquakeModal from \"./InsertEarthquakeModal\";\nimport EarthquakeContainer from \"./EarthquakeContainer\";\nimport MomsInstancesPage from \"./MomsInstancesPage\";\n\nimport { \n    getMOMsAlertSummary, getEarthquakeEvents, getEarthquakeAlerts,\n    getDataPresenceData\n} from \"../ajax\";\nimport { \n    subscribeToWebSocket, unsubscribeToWebSocket,\n    receiveAllSiteRainfallData\n} from \"../../../websocket/monitoring_ws\";\nimport GeneralStyles from \"../../../GeneralStyles\";\nimport PageTitle from \"../../reusables/PageTitle\";\nimport { prepareSiteAddress } from \"../../../UtilityFunctions\";\nimport { GeneralContext } from \"../../contexts/GeneralContext\";\n\nheatmap(Highcharts);\n\nlet ts_now;\nconst format_str = \"D MMM YYYY, HH:mm\";\n\nconst useStyles = makeStyles(theme => {\n    const gen_style = GeneralStyles(theme);\n    \n    return {\n        ...gen_style,\n        tabBar: {\n            ...gen_style.pageContentMargin,\n            margin: 0\n        },\n        tabBarContent: {\n            marginTop: 30\n        }\n    }; \n});\n\nconst MyLoader = () => (\n    <ContentLoader \n        height={600}\n        width={400}\n        speed={1}\n        foregroundColor=\"#f3f3f3\"\n        backgroundColor=\"#ecebeb\"\n    >\n        <rect x=\"0\" y=\"0\" rx=\"0\" ry=\"0\" width=\"400\" height=\"600\" />\n    </ContentLoader>\n);\n\nfunction CustomButtons (change_consolidate_modal_fn, open_eq_modal) {\n    return <span>\n        <Button\n            aria-label=\"Insert Earthquake Event\"\n            variant=\"contained\" \n            color=\"primary\"\n            size=\"small\" \n            style={{ marginRight: 8 }}\n            onClick={open_eq_modal(true)}\n            startIcon={<Event />}\n        >\n            Insert Earthquake Event\n        </Button>\n        <Button\n            aria-label=\"Consolidate by site\"\n            variant=\"contained\" \n            color=\"primary\"\n            size=\"small\" \n            style={{ marginRight: 8 }}\n            onClick={change_consolidate_modal_fn(true)}\n            startIcon={<InsertChart />}\n        >\n            Consolidate by site\n        </Button>\n    </span>;\n}\n\nfunction createCustomLabels (chart, url) {\n    const custom_labels = [];\n    if (chart && Object.keys(chart).length !== 0 && chart.xAxis[0]) {\n        chart.series[0].points.forEach(p => {\n            custom_labels.push(LabelComponent(url, p));\n        });\n    }\n    return custom_labels;\n}\n\nfunction LabelComponent (url, p) {\n    const { data, type, dataLabel } = p;\n\n    return (\n        <div key={data}>\n            {createPortal(\n                <Link \n                    to={`${url}/${type}/${data}`}\n                    style={{ \n                        // textDecoration: \"none\",\n                        fontSize: dataLabel.options.style.fontSize, \n                        // fontWeight: 800,\n                        position: \"absolute\",\n                        fontFamily: \"Lucida Grande, Lucida Sans Unicode, Arial Helvetica, sans-serif\",\n                        color: \"#000000\"\n                    }}\n                >\n                    {data.toUpperCase()}\n                </Link>, dataLabel.div\n            )}\n        </div>\n    );\n}\n\nfunction generateData (data_list, type, is_mobile) {\n    const data = [];\n    let x = 0;\n\n    data_list.forEach((row, i) => {\n        const { last_data, ts_updated, diff_days, event_type } = row;\n\n        let label;\n        let t_data;\n        const value = row.presence;\n        if (type === \"surficial\") {\n            label = row.site_code;\n            t_data = label;\n            if (!row.has_surficial_markers) label += \"*\";\n        } else if (type === \"rainfall\") {\n            label = row.rain_gauge.gauge_name;\n            t_data = label;\n        } else if (type === \"subsurface\") {\n            label = row.tsm_sensor.logger.logger_name;\n            t_data = label;\n        } else {\n            label = row.logger.logger_name;\n            t_data = label;\n        }\n\n        // const y = is_mobile ? i % 5 : i % 10;\n        const y = i % 5;\n        const a = {\n            // x: y, // x : y,\n            // y: 5 - x, // 10 - y : 5 - x,\n            x: y,\n            y: 5 - x,\n            value,\n            label: label.toUpperCase(),\n            data: t_data,\n            type,\n            ts_last_data: last_data,\n            ts_updated,\n            diff_days,\n            event_type\n        };\n        data.push(a);\n        \n        // const cond = is_mobile ? i % 5 === 4 : i % 10 === 9;\n        const cond = i % 5 === 4;\n        if (cond) x += 1;\n    });\n\n    return data;\n}\n\nfunction prepareOptions (is_mobile, type, data_list) {\n    const uc_type = type.charAt(0).toUpperCase() + type.slice(1);\n    const title = `<b>${uc_type} Data Availability</b>`;\n\n    let height = 50;\n    let additional_height = 60;\n    let subtitle_text = `Timestamp: <b>${ts_now.format(format_str)}</b>`;\n    switch (type) {\n        case \"surficial\":\n            subtitle_text += \"<br/>Note: Data presence within four hours<br/>until next release for event sites\" +\n            \"<br/>Data presence from 6AM to 12NN for <br/>routine and extended sites\" +\n            \"<br/><b>*Sites without markers</b>\";\n            break;\n        case \"subsurface\":\n            subtitle_text += \"<br/>Note: Data presence of raw data (not yet filtered)\";\n            height = 95;\n            // additional_height = 100;\n            break;\n        case \"loggers\":\n            height = 95;\n            additional_height = 100;\n            // fallthrough\n        default:\n            break;\n    }\n\n    if (is_mobile)\n        height += additional_height;\n\n    const data = generateData(data_list, type, is_mobile);\n\n    const options = {\n        chart: {\n            type: \"heatmap\",\n            // height: `${height }%`,\n            height: 700, // 600,\n            spacingTop: 12,\n            spacingRight: 18\n        },\n        title: {\n            text: title,\n            style: { fontSize: \"1rem\" },\n            y: 20\n        },\n        subtitle: {\n            text: subtitle_text,\n            style: { fontSize: \"0.70rem\" }\n        },\n        xAxis: {\n            visible: false\n        },\n        yAxis: {\n            visible: false\n        },\n        legend: {\n            enabled: false\n        },\n        colorAxis: {\n            stops: [\n                [0, \"#cccccc\"],\n                [1, \"#7cb5ec\"]\n            ],\n            min: 0,\n            max: 1\n        },\n        tooltip: {\n            outside: true,\n            formatter () {\n                const {\n                    label, type, value, event_type,\n                    ts_last_data, ts_updated, diff_days\n                } = this.point;\n                const presence = value ? \"With\" : \"No\";\n                \n                let type_label;\n                switch (type) {\n                    case \"rainfall\":\n                        type_label = \"Rain gauge\";\n                        break;\n                    case \"surficial\":\n                        type_label = \"Site\";\n                        break;\n                    case \"subsurface\":\n                        type_label = \"Sensor\";\n                        break;\n                    case \"loggers\":\n                        type_label = \"Logger\";\n                        // fallthrough\n                    default:\n                        break;\n                }\n\n                let str = `${type_label}: <b>${label}</b><br/>` + \n                `Presence: <b>${presence} data</b><br/>` + \n                `Last data timestamp: <b>${moment(ts_last_data).format(format_str)}</b><br/>`;\n\n                if (type !== \"surficial\") {\n                    str += `<br/>Last update timestamp: <b>${moment(ts_updated).format(format_str)}</b><br/>` +\n                    `Days since last data: <b>${diff_days}</b><br/>`;\n                } else {\n                    str += `Event type: <b>${event_type}</b>`;\n                }\n\n                return str;\n            }\n        },\n        credits: {\n            enabled: false\n        },\n        series: [{\n            name: \"\",\n            borderWidth: 1,\n            borderColor: \"#444444\",\n            data,\n            dataLabels: {\n                enabled: true,\n                useHTML: true,\n                color: \"#000000\",\n                display: \"none\",\n                style: {\n                    fontWeight: 100,\n                    // fontSize: \"0.75rem\"\n                },\n                formatter () {\n                    const { label } = this.point;\n                    return label;\n                }\n            }\n        }]\n    };\n\n    return options;\n}\n\nfunction formatRainfallSummaryData (data) {\n    const list_1d = [];\n    const list_3d = [];\n    const site_codes = [];\n\n    data.forEach(record => {\n        const {\n            site_code,\n            \"1D cml\": cumulative_1d,\n            \"3D cml\": cumulative_3d,\n            \"half of 2yr max\": threshold_1d,\n            \"2yr max\": threshold_3d,\n            DataSource: data_source\n        } = record;\n\n        const temp_1d = cumulative_1d ? `${cumulative_1d} mm` : \"0 mm\";\n        const temp_3d = cumulative_3d ? `${cumulative_3d} mm` : \"0 mm\";\n\n        const cum_1d = {\n            y: (cumulative_1d / threshold_1d) * 100,\n            data_value: `<b><i>One Day Data</i></b><br>- Cumulative Data: <b>${temp_1d}</b><br>- Threshold: <b>${threshold_1d} mm</b>`,\n            data_source\n        };\n\n        const cum_3d = {\n            y: (cumulative_3d / threshold_3d) * 100,\n            data_value: `<b><i>Three Day Data</i></b><br>- Cumulative Data: <b>${temp_3d}</b><br>- Threshold: <b>${threshold_3d} mm</b>`,\n            data_source\n        };\n\n        list_1d.push(cum_1d);\n        list_3d.push(cum_3d);\n        site_codes.push(site_code.toUpperCase());\n    });\n\n    return {\n        list_1d, list_3d, site_codes\n    };\n}\n\nfunction prepareRainfallSummaryOption (rainfall_summary, ts) {\n    const { site_codes, list_1d, list_3d } = rainfall_summary;\n    const ts_str = ts === null ? \"---\" : moment(ts).format(\"D MMM YYYY, HH:mm\");\n    \n    return {\n        chart: {\n            type: \"column\"\n        },\n        title: {\n            text: \"<b>Cumulative Rainfall Data vs Threshold Plot of Dynaslope Sites</b>\",\n            style: { fontSize: \"1rem\" },\n            y: 20\n        },\n        subtitle: {\n            text: `As of: <b>${ts_str}</b><br>Note: Percentage capped at 100%`,\n        },\n        xAxis: {\n            categories: site_codes,\n            title: {\n                text: \"<b>Sites</b>\"\n            }\n        },\n        yAxis: {\n            min: 0,\n            max: 100,\n            title: {\n                text: \"<b>Threshold Ratio (%)</b>\"\n            }\n        },\n        tooltip: {\n            shared: true,\n            useHTML: true,\n            formatter () {\n                const { x, points } = this;\n                const { data_source } = points[0].point;\n                const source = data_source.replace(/_/g, \" \");\n\n                let str = `<b>${x} (${source.toUpperCase()})</b><br>`;\n                points.forEach(point => {\n                    str += `${point.point.data_value}<br>`;\n                    str += `- Percentage: <b>${point.point.y.toFixed(2)}%</b><br>`;\n                });\n\n                return str;\n            }\n        },\n        plotOptions: {\n            column: {\n                grouping: false,\n                shadow: false\n            }\n        },\n        series: [{\n            name: \"Three-day Cumulative Data\",\n            data: list_3d,\n            pointPadding: 0, \n            color: \"#FF0000\"\n        }, {\n            name: \"One-day Cumulative Data\",\n            data: list_1d,\n            pointPadding: 0.2\n\n        }],\n        credits: {\n            enabled: false\n        },\n    };\n}\n\nfunction Container (props) {\n    const {\n        width, location,\n        match: { path, url }\n    } = props;\n    const classes = useStyles();\n    const is_desktop = isWidthDown(width, \"sm\");\n\n    ts_now = moment();\n\n    const [is_consolidate_modal_open, setIsConsolidateModalOpen] = useState(false);\n    const [is_earthquake_modal, setisEarthquakeModalOpen] = useState(false);\n    const change_consolidate_modal_fn = bool => () => setIsConsolidateModalOpen(bool);\n    const open_eq_modal = bool => () => setisEarthquakeModalOpen(bool);\n\n    const [subsurface_data_presence, setSubsurfaceDataPresence] = useState([]);\n    const [subsurface_dp_option, setSubsurfaceDpOption] = useState(null);\n    const [subsurface_custom_label, setSubsurfaceCustomLabel] = useState(null);\n\n    const [surficial_data_presence, setSurficialDataPresence] = useState([]);\n    const [surficial_dp_option, setSurficialDpOption] = useState(null);\n    const [surficial_custom_label, setSurficialCustomLabel] = useState(null);\n\n    const [rainfall_data_presence, setRainfallDataPresence] = useState([]);\n    const [rainfall_dp_option, setRainfallDpOption] = useState(null);\n    const [rainfall_custom_label, setRainfallCustomLabel] = useState(null);\n\n    const [loggers_data_presence, setLoggersDataPresence] = useState([]);\n    const [loggers_dp_option, setLoggersDpOption] = useState(null);\n    \n    const [chart_instances, setChartInstances] = useState({});\n\n    const [rainfall_summary_option, setRainfallSummaryOption] = useState(null);\n\n    const save_chart_instances_fn = name => chart => {\n        setChartInstances(prev => ({ ...prev, [name]: chart }));\n    };\n\n    useEffect(() => {\n        getDataPresenceData(\"surficial\", data => {\n            setSurficialDataPresence(data);\n        });\n\n        getDataPresenceData(\"tsm\", data => {\n            setSubsurfaceDataPresence(data);\n        });\n\n        getDataPresenceData(\"rain_gauges\", data => {\n            setRainfallDataPresence(data);\n        });\n\n        getDataPresenceData(\"loggers\", data => {\n            setLoggersDataPresence(data);\n        });\n    }, []);\n\n    useEffect(() => {\n        if (surficial_data_presence.length > 0) {\n            const option = prepareOptions(!is_desktop, \"surficial\", surficial_data_presence);\n            setSurficialDpOption(option);\n        }\n    }, [surficial_data_presence, is_desktop]);\n\n    useEffect(() => {\n        if (subsurface_data_presence.length > 0) {\n            const option = prepareOptions(!is_desktop, \"subsurface\", subsurface_data_presence);\n            setSubsurfaceDpOption(option);\n        }\n    }, [subsurface_data_presence, is_desktop]);\n\n    useEffect(() => {\n        if (rainfall_data_presence.length > 0) {\n            const option = prepareOptions(!is_desktop, \"rainfall\", rainfall_data_presence);\n            setRainfallDpOption(option);\n        }\n    }, [rainfall_data_presence, is_desktop]);\n\n    useEffect(() => {\n        if (loggers_data_presence.length > 0) {\n            const option = prepareOptions(!is_desktop, \"loggers\", loggers_data_presence);\n            setLoggersDpOption(option);\n        }\n    }, [loggers_data_presence, is_desktop]);\n\n    useEffect(() => {\n        const temp = createCustomLabels(chart_instances.rainfall, url);\n        setRainfallCustomLabel(temp);\n    }, [chart_instances.rainfall, url]);\n\n    useEffect(() => {\n        const temp = createCustomLabels(chart_instances.surficial, url);\n        setSurficialCustomLabel(temp);\n    }, [chart_instances.surficial, url]);\n\n    useEffect(() => {\n        const temp = createCustomLabels(chart_instances.subsurface, url);\n        setSubsurfaceCustomLabel(temp);\n    }, [chart_instances.subsurface, url]);\n\n    const { setIsReconnecting } = useContext(GeneralContext);\n    \n    useEffect(() => {\n        subscribeToWebSocket(setIsReconnecting);\n\n        receiveAllSiteRainfallData(data => {\n            const { rainfall_summary, ts } = data;\n            const obj = formatRainfallSummaryData(rainfall_summary);\n            const temp = prepareRainfallSummaryOption(obj, ts);\n            setRainfallSummaryOption(temp);\n        });\n\n        return function cleanup () {\n            unsubscribeToWebSocket();\n        };\n    }, []);\n\n    const [moms_alerts, setMOMsAlerts] = useState([]);\n    useEffect(() => {\n        const table_data = [];\n        getMOMsAlertSummary((data) => {\n            data.forEach(site => {\n                const { site_code, moms_alert } = site;\n                const address = prepareSiteAddress(site, true, \"start\");\n                const arr = { site_code, address, moms_alert };\n                table_data.push(arr);\n            });\n\n            setMOMsAlerts(table_data);\n        });  \n    }, [url]);\n\n    const moms_table_options = [\n        {\n            name: \"address\",\n            label: \"Site\",\n            options: {\n                filter: false,\n                customBodyRender: (value, { rowIndex }) => {\n                    const { site_code } = moms_alerts[rowIndex];\n                    return <Link to={`${url}/moms/${site_code}`} style={{ color: \"black\" }}>\n                        {value}\n                    </Link>;\n                }\n            }\n        },\n        {\n            name: \"moms_alert\",\n            label: \"Alert\"\n        }\n    ];\n\n    const [eq_events, setEqEvents] = useState([]);\n    const [reload_eq_event, setReloadEqEvent] = useState(true);\n    useEffect(() => {\n        if (reload_eq_event) {\n            getEarthquakeEvents(data => {\n                setEqEvents(data);\n            });\n            setReloadEqEvent(false);\n        }\n        // console.log(\"eq reloaded\");\n    }, [reload_eq_event]);\n    const [eq_alerts, setEqAlerts] = React.useState([]);\n    const [eq_al_tbl_pagination, setEqAlTblPage] = React.useState({ limit: 5, offset: 0, count: 0 });\n    const [is_first_pass, setFirstPass] = React.useState(true);\n    React.useEffect(() => {\n        getEarthquakeAlerts(eq_al_tbl_pagination, data => {\n            const { count, data: eq_data } = data;\n            setEqAlerts([...eq_data]);\n\n            if (is_first_pass) {\n                setFirstPass(false);\n                setEqAlTblPage({ ...eq_al_tbl_pagination, count });\n            }\n        });\n    }, [eq_al_tbl_pagination, is_first_pass]);\n\n    const is_main_page = location.pathname === path;\n\n    return (\n        <Fragment>\n            <div className={classes.pageContentMargin}>\n                <PageTitle\n                    title=\"Analysis | Site Data Analytics\"\n                    customButtons={is_desktop && is_main_page ? CustomButtons(change_consolidate_modal_fn, open_eq_modal) : false}\n                />\n            </div>\n\n            <div className={classes.pageContentMargin}>\n                <Switch location={location}>\n                    <Route exact path={url} render={\n                        props => (\n                            <Grid container spacing={2}>\n                                <Grid item xs={12} md={6} lg={3}>\n                                    {\n                                        surficial_dp_option !== null ? (\n                                            <Paper elevation={2}>\n                                                <HighchartsReact\n                                                    highcharts={Highcharts}\n                                                    options={surficial_dp_option}\n                                                    callback={save_chart_instances_fn(\"surficial\")}\n                                                    allowChartUpdate={false}\n                                                />\n                                                {surficial_custom_label}\n                                            </Paper>\n                                        ) : (\n                                            <MyLoader style={{ height: \"100%\" }}/>\n                                        )\n                                    }\n                                </Grid>\n\n                                <Grid item xs={12} md={6} lg={3}>\n                                    {\n                                        rainfall_dp_option !== null ? (\n                                            <Paper elevation={2}>\n                                                <HighchartsReact\n                                                    highcharts={Highcharts}\n                                                    options={rainfall_dp_option}\n                                                    callback={save_chart_instances_fn(\"rainfall\")}\n                                                    allowChartUpdate={false}\n                                                />\n                                                {rainfall_custom_label}\n                                            </Paper>\n                                        ) : (\n                                            <MyLoader style={{ height: \"100%\" }}/>\n                                        )\n                                    }\n                                </Grid>\n\n                                <Grid item xs={12} md={6} lg={3}>\n                                    {\n                                        subsurface_dp_option !== null ? (\n                                            <Paper elevation={2}>\n                                                <HighchartsReact\n                                                    highcharts={Highcharts}\n                                                    options={subsurface_dp_option}\n                                                    callback={save_chart_instances_fn(\"subsurface\")}\n                                                    allowChartUpdate={false}\n                                                />\n                                                {subsurface_custom_label}\n                                            </Paper>\n                                        ) : (\n                                            <MyLoader style={{ height: \"100%\" }}/>\n                                        )\n                                    }\n                                </Grid>\n\n                                <Grid item xs={12} md={6} lg={3}>\n                                    {\n                                        loggers_dp_option !== null ? (\n                                            <Paper elevation={2}>\n                                                <HighchartsReact\n                                                    highcharts={Highcharts}\n                                                    options={loggers_dp_option}\n                                                    callback={save_chart_instances_fn(\"loggers\")}\n                                                    allowChartUpdate={false}\n                                                />\n                                            </Paper>\n                                        ) : (\n                                            <MyLoader style={{ height: \"100%\" }}/>\n                                        )\n                                    }\n                                </Grid>\n\n                                <Grid item xs={12}>\n                                    {\n                                        rainfall_summary_option !== null ? (\n                                            <Paper elevation={2}>\n                                                <HighchartsReact\n                                                    highcharts={Highcharts}\n                                                    options={rainfall_summary_option}\n                                                />\n                                            </Paper>\n                                        ) : (\n                                            <div>Loading...</div>\n                                        )\n                                    }\n                                </Grid>\n\n                                <Grid item xs={12} md={12} lg={7}>\n                                    <Paper elevation={2}>\n                                        <EarthquakeContainer\n                                            eqEvents={eq_events}\n                                            eqAlerts={eq_alerts}\n                                            eqAlertsPagination={eq_al_tbl_pagination}\n                                            setEqAlTblPage={setEqAlTblPage}\n                                        />\n                                    </Paper>\n                                </Grid>\n\n                                <Grid item xs={12} md={12} lg={5}>\n                                    <Paper elevation={2}>\n                                        <MUIDataTable\n                                            title=\"Latest MOMs Alert\"\n                                            columns={moms_table_options}\n                                            options={{\n                                                textLabels: {\n                                                    body: {\n                                                        noMatch: \"No data\"\n                                                    }\n                                                },\n                                                selectableRows: \"none\",\n                                                rowsPerPage: 6,\n                                                rowsPerPageOptions: [],\n                                                print: false,\n                                                download: false,\n                                                viewColumns: false,\n                                                responsive: \"standard\"\n                                            }}\n                                            data={moms_alerts}\n                                        />\n                                    </Paper>\n                                </Grid>\n                            </Grid>\n                        )\n                    }/>\n\n                    <Route path={`${url}/surficial/:site_code`} render={\n                        props => (\n                            <SurficialGraph\n                                {...props}\n                                width={width}\n                            />\n                        )\n                    }/>\n\n                    <Route path={`${url}/rainfall/:rain_gauge`} render={\n                        props => <RainfallGraph \n                            {...props}\n                            width={width}\n                            chartType=\"rainfall\"\n                        />} \n                    />\n\n                    <Route path={`${url}/subsurface/:tsm_sensor`} render={\n                        props => <SubsurfaceGraph \n                            {...props}\n                            width={width}\n                            chartType=\"subsurface\"\n                        />} \n                    />\n\n                    <Route path={`${url}/moms/:site_code`} render={\n                        props => <MomsInstancesPage\n                            {...props}\n                            width={width}\n                        />} \n                    />\n\n                    <Route path={`${url}/consolidated/:site_code`} render={\n                        props => <ConsolidatedSiteCharts\n                            {...props}\n                            width={width}\n                        />} \n                    />\n                </Switch>\n            </div>\n\n            <ConsolidateSiteChartsModal\n                isOpen={is_consolidate_modal_open}\n                clickHandler={change_consolidate_modal_fn(false)}\n                url={url}\n            />\n\n            <InsertEarthquakeModal\n                isOpen={is_earthquake_modal}\n                clickHandler={open_eq_modal(false)}\n                setReloadEqEvent={setReloadEqEvent}\n            />\n        </Fragment>\n    );\n}\n\nexport default withWidth()(Container);","import React, { useState, useEffect } from \"react\";\n\nimport HighchartsReact from \"highcharts-react-official\";\nimport moment from \"moment\";\nimport Chroma from \"chroma-js\";\n\nfunction donutChartOption (processed_data) {\n    const categories = [\n        \"Alert 1\",\n        \"Alert 2\",\n        \"Alert 3\"\n    ];\n    const data = processed_data;\n    const alerts_data = [];\n    const trigger_count = [];\n    let i;\n    let j;\n    const data_length = data.length;\n    let drill_data_length;\n\n    // Build the data arrays\n    for (i = 0; i < data_length; i += 1) {\n        const { y, color, drilldown } = data[i];\n        // add alert data\n        alerts_data.push({\n            name: categories[i],\n            y,\n            color\n        });\n  \n        // add drilldown data\n        const { data: d_data, categories: d_categories, trigger_events } = drilldown;\n        drill_data_length = d_data.length;\n        for (j = 0; j < drill_data_length; j += 1) {\n            trigger_count.push({\n                name: d_categories[j],\n                y: d_data[j],\n                color: Chroma(color).brighten((j + 1) * 0.50)\n                .hex(),\n                alert_events: trigger_events[j]\n            });\n        }\n    }\n\n    return { alerts_data, trigger_count };\n}\n\n// eslint-disable-next-line max-params\nfunction getPieChartOption (processed_data, input, setSelectedTrigger, chart) {\n    const { site, start_ts, end_ts } = input;\n\n    const ts_format = \"DD MMM YYYY, HH:mm\";\n    const subtitle = `Range: <b>${moment(start_ts).format(ts_format)} - ${moment(end_ts).format(ts_format)}</b><br/>` +\n    `Site: <b>${site ? site.label : \"All\"}</b><br/>\n    <i>Note: Click on any alert triggers to show related monitoring events.</i>`;\n    const { alerts_data, trigger_count } = donutChartOption(processed_data);\n    \n    return {\n        chart: {\n            plotBackgroundColor: null,\n            plotBorderWidth: null,\n            plotShadow: false,\n            type: \"pie\"\n        },\n        title: {\n            text: \"<b>Monitoring Event Alerts Summary</b>\",\n            y: 22\n        },\n        subtitle: {\n            text: subtitle,\n            style: { fontSize: \"0.75rem\" }\n        },\n        accessibility: {\n            point: {\n                valueSuffix: \"%\"\n            }\n        },\n        plotOptions: {\n            pie: {\n                // shadow: true,\n                center: [\"50%\", \"50%\"]\n            }\n        },\n        series: [{\n            name: \"Alerts\",\n            data: alerts_data,\n            size: \"80%\",\n            tooltip: {\n                pointFormat: \"Count: <b>{point.y} ({point.percentage:.1f}%)</b>\"\n            },\n            dataLabels: {\n                formatter () {\n                    return this.y > 5 ? this.point.name : null;\n                },\n                color: \"#ffffff\",\n                distance: -30\n            }\n        }, {\n            name: \"Count\",\n            data: trigger_count,\n            size: \"80%\",\n            innerSize: \"60%\",\n            dataLabels: {\n                formatter () {\n                // display only if larger than 1\n                    return this.y > 1 ? `<b>${this.point.name}:</b> ${ \n                        this.y}` : null;\n                }\n            },\n            point: {\n                events: {\n                    click (event) {\n                        const { point: {\n                            alert_events, name\n                        } } = event; \n                        setSelectedTrigger({ alert_events, name });\n                        chart.reflow();\n                    }\n                }\n            }\n        }],\n        loading: {\n            hideDuration: 2000\n        },\n        lang: {\n            noData: \"No alert within this period\"\n        },\n        credits: {\n            enabled: false\n        }\n    };\n}\n\n\nfunction applyColor (processed_data, colors) {\n    const temp = [];\n    processed_data.forEach((row, index) => {\n        const updated = {\n            ...row,\n            color: colors[index]\n        };\n        temp.push(updated);\n    });\n    return temp;\n}\n\nfunction PieChart (props) {\n    const {\n        highcharts, data, colors,\n        isLoading, input, setSelectedTrigger\n    } = props;\n    const [chart, setChart] = useState(null);\n\n    let data_with_color = [];\n    if (data !== null) data_with_color = applyColor(data, colors);\n    const [chart_option, setChartOption] = useState(getPieChartOption(data_with_color, input, setSelectedTrigger, chart));\n\n    useEffect(() => {\n        if (chart !== null) {\n            if (isLoading) chart.showLoading();\n            else chart.hideLoading();\n        }\n    }, [chart, isLoading]);\n\n    useEffect(() => {\n        let to_show = false;\n        if (chart !== null && data !== null) {\n            setChartOption(getPieChartOption(data_with_color, input, setSelectedTrigger, chart));\n\n            if (data.length === 0) to_show = true;\n\n            if (to_show) chart.showNoData();\n            else chart.hideNoData();\n        }\n    }, [chart, data]);\n    \n    return (\n        <HighchartsReact\n            highcharts={highcharts}\n            options={chart_option}\n            callback={x => setChart(x)}\n        />\n    );\n}\n\nexport default (PieChart);","import React, { useState, useEffect } from \"react\";\nimport Highcharts from \"highcharts/highcharts.src\";\nimport HighchartsReact from \"highcharts-react-official\";\n\nfunction getStackedBarChartOptions (processed_data, input) {\n    const { site, year } = input;\n    const subtitle = `Year: <b>${year}</b><br/>` +\n    `Site: <b>${site ? site.label : \"All\"}</b>`;\n\n    return {\n        chart: {\n            type: \"column\"\n        },\n        title: {\n            text: \"<b>Monthly Monitoring Event Alerts</b>\",\n            y: 22\n        },\n        subtitle: {\n            text: subtitle,\n            style: { fontSize: \"0.75rem\" }\n        },\n        series: processed_data,\n        xAxis: {\n            categories: [\"January\", \"February\", \"March\", \"April\", \"May\", \"June\",\n                \"July\", \"August\", \"September\", \"October\", \"November\", \"December\"],\n            // text: \"Month\"\n        },\n        yAxis: {\n            min: 0,\n            title: {\n                text: \"<b>Number of heightened alerts</b>\"\n            },\n            stackLabels: {\n                enabled: true,\n                style: {\n                    fontWeight: \"bold\",\n                    color: ( // theme\n                        Highcharts.defaultOptions.title.style &&\n                        Highcharts.defaultOptions.title.style.color\n                    ) || \"gray\"\n                }\n            }\n        },\n        legend: {\n            // align: \"right\",\n            // x: -30,\n            // verticalAlign: \"top\",\n            // y: 25,\n            // floating: true,\n            backgroundColor:\n                Highcharts.defaultOptions.legend.backgroundColor || \"white\",\n            borderColor: \"#CCC\",\n            borderWidth: 1,\n            shadow: false,\n            reversed: true\n        },\n        tooltip: {\n            headerFormat: \"<b>{point.x}</b><br/>\",\n            pointFormat: \"{series.name}: {point.y}<br/>Total: {point.stackTotal}\"\n        },\n        plotOptions: {\n            column: {\n                stacking: \"normal\",\n                dataLabels: {\n                    enabled: true,\n                    formatter () {\n                        if (this.y === 0) return \"\";\n                        return this.y;\n                    },\n                }\n            }\n        },\n        loading: {\n            hideDuration: 2000\n        },\n        lang: {\n            noData: \"No alert within this period\"\n        },\n        credits: {\n            enabled: false\n        }\n    };\n}\n\nfunction applyColor (processed_data, colors) {\n    const temp = [];\n    processed_data.forEach((row, index) => {\n        const updated = {\n            ...row,\n            color: colors[index]\n        };\n        temp.push(updated);\n    });\n    return temp;\n}\n\nfunction StackedBarChart (props) {\n    const { \n        highcharts, data, colors,\n        isLoading, input\n    } = props;\n    const [chart, setChart] = useState(null);\n\n    let data_with_color = [];\n    if (data !== null) {\n        data_with_color = applyColor(data, colors);\n        data_with_color.reverse();\n    }\n    const [chart_option, setChartOption] = useState(getStackedBarChartOptions(data_with_color, input));\n\n    useEffect(() => {\n        if (chart !== null) {\n            if (isLoading) chart.showLoading();\n            else chart.hideLoading();\n        }\n    }, [chart, isLoading]);\n\n    useEffect(() => {\n        let to_show = false;\n        if (chart !== null && data !== null) {\n            setChartOption(getStackedBarChartOptions(data_with_color, input));\n\n            if (data.length === 0) to_show = true;\n\n            if (to_show) chart.showNoData();\n            else chart.hideNoData();\n        }\n    }, [chart, data]);\n\n    return (\n        <HighchartsReact\n            highcharts={highcharts}\n            options={chart_option}\n            callback={x => setChart(x)}\n        />\n    );\n}\n\nexport default (StackedBarChart);","import React from \"react\";\n\nimport { Button } from \"@material-ui/core\";\nimport MUIDataTable from \"mui-datatables\";\nimport moment from \"moment\";\nimport { prepareSiteAddress } from \"../../../UtilityFunctions\";\n\nfunction TriggerEventsTable (props) {\n    const { selectedTrigger, history } = props;\n    const { alert_events, name } = selectedTrigger;\n\n    const table_options = {\n        textLabels: {\n            body: {\n                noMatch: \"No data\"\n            }\n        },\n        selectableRows: \"none\",\n        rowsPerPage: 5,\n        rowsPerPageOptions: [],\n        print: false,\n        download: false,\n        search: false,\n        filter: false,\n        viewColumns: false,\n        responsive: \"simple\"\n    };\n\n    const columns = [\n        { name: \"Event ID\" },\n        { name: \"Site\" },\n        { name: \"Event Start\" },\n        { name: \"Validity\" }\n    ];\n\n    const data = alert_events.map(row => {\n        const { event_id, site, event_start, validity } = row;\n        return [\n            <Button\n                onClick={ret => history.push(`/monitoring/events/${event_id}`)}\n                style={{ color: \"blue\" }}\n            >\n                <u>{event_id}</u>\n            </Button>,\n            prepareSiteAddress(site),\n            moment(event_start).format(\"DD MMMM YYYY, HH:mm\"),\n            moment(validity).format(\"DD MMMM YYYY, HH:mm\")\n        ];\n    });\n\n    return (\n        <MUIDataTable\n            title={`Monitoring Events with \"${name}\" trigger`}\n            columns={columns}\n            options={table_options}\n            data={data}\n        />\n    );\n}\n\nexport default TriggerEventsTable;","import React, { \n    useState, useEffect,\n    Fragment, useReducer\n} from \"react\";\n\nimport {\n    InputLabel, makeStyles, FormControl,\n    Button, Select, MenuItem, Card, CardContent,\n    Typography, Grid, FormHelperText\n} from \"@material-ui/core\";\nimport { MuiPickersUtilsProvider, KeyboardDateTimePicker } from \"@material-ui/pickers\";\n\nimport MomentUtils from \"@date-io/moment\";\nimport moment from \"moment\";\nimport Highcharts from \"highcharts\";\nimport NoDataToDisplay from \"highcharts/modules/no-data-to-display\";\n\nimport GeneralStyles, { alert_1, alert_2, alert_3 } from \"../../../GeneralStyles\";\nimport PageTitle from \"../../reusables/PageTitle\";\nimport DynaslopeSiteSelectInputForm from \"../../reusables/DynaslopeSiteSelectInputForm\";\nimport PieChart from \"./PieChart\";\nimport StackedBarChart from \"./StackedBarChart\";\nimport { getMonitoringAnalyticsData } from \"../ajax\";\nimport TriggerEventsTable from \"./TriggerEventsTable\";\n\n\nwindow.Highcharts = Highcharts;\nNoDataToDisplay(window.Highcharts);\n\nconst useStyles = makeStyles(theme => {\n    const gen = GeneralStyles(theme);\n    return {\n        ...gen,\n        inputGridContainer: {\n            margin: \"12px 0\",\n            [theme.breakpoints.down(\"sm\")]: {\n                margin: \"0 0\"\n            }\n        },\n        buttonGrid: {\n            textAlign: \"right\",\n            [theme.breakpoints.down(\"sm\")]: {\n                textAlign: \"right\"\n            }\n        },\n        button: {\n            fontSize: 16,\n            paddingLeft: 8\n        },\n        alert3: {\n            ...gen.alert3,\n            \"&:hover *\": {\n                color: \"#222222 !important\"\n            },\n        },\n        card: { height: \"auto\" }\n    }; \n});\n\nfunction getHelperText (field, value) {\n    if (value === \"\") return \"Required field\";\n    return \"\";\n}\n\nfunction reducerFunction (state, action) {\n    const { type, field, value } = action;\n    const field_value = state[field];\n    const new_value = value;\n    const new_helper_text = getHelperText(field, value);\n    const reset_data = initReducer(new_value);\n\n    switch (type) {\n        case \"UPDATE\":\n            return { ...state, [field]: {\n                ...field_value,\n                value: new_value,\n                helper_text: new_helper_text\n            } };\n        case \"RESET\":\n            return { ...reset_data };\n        default:\n            return { ...state };\n    }\n}\n\nfunction initReducer (data) {\n    const new_data = {};\n    if (data) {\n\n        Object.keys(data).forEach(key => {\n            const updated_value = data[key] ? data[key] : \"\";\n            const field = new_data[key];\n            const new_helper_text = getHelperText(field, updated_value);\n            new_data[key] = {\n                value: updated_value,\n                helper_text: new_helper_text,\n                required: true\n            };\n        });\n    }\n\n    return new_data;\n}\n\nfunction sanitizeData (data) {\n    const clean_data = {};\n    Object.keys(data).forEach(key => {\n        clean_data[key] = data[key].value;\n    });\n\n    return clean_data;\n}\n\nfunction listOfYears (back = 5) {\n    const year = new Date().getFullYear();\n    return Array.from({ length: back }, (v, i) => year - back + i + 1);\n}\n\nfunction MonitoringAlertsAnalytics (props) {\n    const classes = useStyles();\n    const colors = [alert_1, alert_2, alert_3];\n    const [pie_chart_data, setPieChartData] = useState({\n        data: null,\n        is_loading: true\n    });\n    const [stacked_chart_data, setStackedChartData] = useState({\n        data: null,\n        is_loading: true\n    });\n\n    const ts_now = moment();\n    const ts_year_ago = ts_now.clone().subtract(1, \"year\");\n    const pie_chart_initial_data = {\n        site: \"\",\n        start_ts: ts_year_ago,\n        end_ts: ts_now\n    };\n\n    const stacked_chart_initial_data = {\n        site: \"\",\n        year: moment().format(\"YYYY\")\n    };\n\n    const [pie_chart_filter_data, dispatchPie] = useReducer(reducerFunction, pie_chart_initial_data, initReducer);\n    const [stacked_chart_filter_data, dispatchStacked] = useReducer(reducerFunction, stacked_chart_initial_data, initReducer);\n    const year_list = listOfYears();\n    const [selected_trigger, setSelectedTrigger] = useState(null);\n\n    const update_ts = (field, value) => dispatchPie({ \n        type: \"UPDATE\", field,\n        value: moment(value).format(\"YYYY-MM-DD HH:mm:ss\")\n    });\n\n    const updatePieChartSite = value => {\n        dispatchPie({\n            type: \"UPDATE\", field: \"site\", value\n        });\n    };\n\n    const updateStackedBarSite = value => {\n        dispatchStacked({\n            type: \"UPDATE\", field: \"site\", value\n        });\n    };\n\n    const setChartData = (type, data, is_loading = false) => {\n        const temp = { data, is_loading };\n        if (type === \"pie\") setPieChartData(temp);\n        else if (type === \"stacked\") setStackedChartData(temp);\n    };\n\n    const submitFilter = type => () => {\n        let data_to_sanitize;\n        let temp_data;\n        if (type === \"pie\") {\n            temp_data = pie_chart_data.data;\n            data_to_sanitize = pie_chart_filter_data;\n        } else if (type === \"stacked\") {\n            temp_data = stacked_chart_data.data;\n            data_to_sanitize = stacked_chart_filter_data;\n        }\n\n        setChartData(type, temp_data, true);\n        const sanitized_data = sanitizeData(data_to_sanitize);\n        \n        if (sanitized_data.site) {\n            sanitized_data.site_id = sanitized_data.site.value;\n        }\n        const final_data = {\n            chart_type: type,\n            inputs: sanitized_data\n        };\n        \n        getMonitoringAnalyticsData(final_data, data => {\n            setChartData(type, data);\n        });\n    };\n\n    useEffect(() => {\n        const input_arr = [\n            {\n                chart_type: \"pie\",\n                inputs: pie_chart_initial_data\n            },\n            {\n                chart_type: \"stacked\",\n                inputs: stacked_chart_initial_data\n            }\n        ];\n\n        input_arr.forEach(row => {\n            getMonitoringAnalyticsData(row, data => {\n                setChartData(row.chart_type, data);\n            });\n        });\n    }, []);\n\n    return (\n        <Fragment>\n            <div className={classes.pageContentMargin}>\n                <PageTitle\n                    title=\"Analysis | Monitoring Alerts Analytics\"\n                />\n\n                <Grid container spacing={2}>\n                    <Grid item xs={12}>\n                        <Card className={classes.card}>\n                            <CardContent>\n                                <Typography variant=\"overline\" display=\"block\" gutterBottom>\n                                    Alerts Summary\n                                </Typography>\n\n                                <Grid container spacing={2} justify=\"space-between\">\n                                    <Grid item xs={12} sm={6}>\n                                        <DynaslopeSiteSelectInputForm\n                                            value={pie_chart_filter_data.site.value}\n                                            changeHandler={e => updatePieChartSite(e)}\n                                            isClearable\n                                            customPlaceholder=\"If no input, all sites\"\n                                        />\n                                    </Grid>\n\n                                    <MuiPickersUtilsProvider utils={MomentUtils}>\n                                        <Grid item xs={12} sm={3}>\n                                            <KeyboardDateTimePicker\n                                                required\n                                                autoOk\n                                                label=\"Start Timestamp\"\n                                                value={pie_chart_filter_data.start_ts.value}\n                                                onChange={e => update_ts(\"start_ts\", e)}\n                                                ampm={false}\n                                                placeholder=\"2010/01/01 00:00\"\n                                                format=\"YYYY/MM/DD HH:mm\"\n                                                mask=\"____/__/__ __:__\"\n                                                clearable\n                                                disableFuture\n                                                fullWidth\n                                            />\n                                        </Grid>\n\n                                        <Grid item xs={12} sm={3}>\n                                            <KeyboardDateTimePicker\n                                                required\n                                                autoOk\n                                                label=\"End Timestamp\"\n                                                value={pie_chart_filter_data.end_ts.value}\n                                                onChange={e => update_ts(\"end_ts\", e)}\n                                                ampm={false}\n                                                placeholder=\"2010/01/01 00:00\"\n                                                format=\"YYYY/MM/DD HH:mm\"\n                                                mask=\"____/__/__ __:__\"\n                                                clearable\n                                                disableFuture\n                                                fullWidth\n                                            />\n                                        </Grid>\n                                    </MuiPickersUtilsProvider>\n\n                                    <Grid item xs={12} align=\"right\">\n                                        <Button \n                                            size=\"small\" \n                                            color=\"primary\"\n                                            variant=\"contained\"\n                                            onClick={submitFilter(\"pie\")}\n                                        >\n                                            Submit\n                                        </Button>\n                                    </Grid>\n                                </Grid>\n                            </CardContent>\n                        </Card>\n                    </Grid>\n                    \n                    <Grid item xs={12}>   \n                        <Card className={classes.card}>\n                            <CardContent>\n                                <PieChart\n                                    highcharts={Highcharts}\n                                    data={pie_chart_data.data}\n                                    isLoading={pie_chart_data.is_loading}\n                                    colors={colors}\n                                    input={sanitizeData(pie_chart_filter_data)}\n                                    setSelectedTrigger={setSelectedTrigger}\n                                />\n                            </CardContent>\n                        </Card>\n                    </Grid>\n\n                    {\n                        selected_trigger && (\n                            <Grid item xs={12}>   \n                                <Card className={classes.card}>\n                                    <TriggerEventsTable\n                                        { ...props }\n                                        selectedTrigger={selected_trigger}\n                                    />\n                                </Card>\n                            </Grid>\n                        )\n                    }\n\n                    <Grid item xs={12}>\n                        <Card className={classes.card}>\n                            <CardContent>\n                                <Typography variant=\"overline\" display=\"block\" gutterBottom>\n                                    Monthly Alerts Per Year\n                                </Typography>\n\n                                <Grid container spacing={2}>\n                                    <Grid item xs={12} sm={8}>\n                                        <DynaslopeSiteSelectInputForm\n                                            value={stacked_chart_filter_data.site.value || \"\"}\n                                            changeHandler={e => updateStackedBarSite(e)}\n                                            isClearable\n                                            customPlaceholder=\"If no input, all sites\"\n                                        />\n                                    </Grid>\n\n                                    <Grid item xs={12} sm={4}>\n                                        <FormControl required fullWidth>\n                                            <InputLabel id=\"alert_level_label\">Year</InputLabel>\n                                            <Select\n                                                labelId=\"alert_level_label\"\n                                                id=\"alert_level\"\n                                                value={stacked_chart_filter_data.year.value}\n                                                onChange={e => dispatchStacked({ type: \"UPDATE\", field: \"year\", value: e.target.value })}\n                                                error={Boolean(stacked_chart_filter_data.year.helper_text)}   \n                                            >\n                                                <MenuItem value=\"\">\n                                                    <em>---</em>\n                                                </MenuItem>\n                                                {\n                                                    year_list.map(row => {\n                                                        return (\n                                                            <MenuItem value={row} key={row}>{row}</MenuItem>\n                                                        );\n                                                    })\n                                                }\n                                            </Select>\n                                            <FormHelperText error>{stacked_chart_filter_data.year.helper_text}</FormHelperText>\n                                        </FormControl>\n                                    </Grid>\n                        \n                                    <Grid item xs={12} align=\"right\">\n                                        <Button \n                                            size=\"small\" \n                                            color=\"primary\"\n                                            onClick={submitFilter(\"stacked\")}\n                                            variant=\"contained\"\n                                        >\n                                            Submit\n                                        </Button>\n                                    </Grid>\n                                </Grid>\n                            </CardContent>\n                        </Card>\n                    </Grid>\n\n                    <Grid item xs={12}>\n                        <Card className={classes.card}>\n                            <CardContent>\n                                <Grid container spacing={1} justify=\"space-between\" alignItems=\"center\">\n                                    <Grid item xs={12}>\n                                        <StackedBarChart\n                                            highcharts={Highcharts}\n                                            data={stacked_chart_data.data}\n                                            isLoading={stacked_chart_data.is_loading}\n                                            colors={colors}\n                                            input={sanitizeData(stacked_chart_filter_data)}\n                                        />\n                                    </Grid>\n                            \n                                </Grid>\n                            </CardContent>\n                        </Card>\n                    </Grid>\n                </Grid>\n            </div>\n        </Fragment>\n    );\n}\n\nexport default (MonitoringAlertsAnalytics);","import React, { useState, useEffect } from \"react\";\nimport Highcharts from \"highcharts/highcharts.src\";\nimport HighchartsReact from \"highcharts-react-official\";\nimport moment from \"moment\";\n\nfunction getEWISmsChartOption (processed_data, input, type) {\n    const { start_ts, end_ts } = input;\n    const subtitle = `Range <b>${moment(start_ts).format(\"DD MMM YYYY, HH:ss\")} - ${moment(end_ts).format(\"DD MMM YYYY, HH:ss\")}</b>`;\n    const { month, sent, queud } = processed_data;\n    return {\n        chart: {\n            type: \"column\"\n        },\n        title: {\n            text: `<b>${type} Count of DSL EWI Sent According to Protocol</b>`,\n            style: { fontSize: \"14px\" },\n            margin: 20,\n            y: 16\n        },\n        subtitle: {\n            text: subtitle,\n            style: { fontSize: \"12px\" },\n        },\n        xAxis: {\n            categories: month\n        },\n        yAxis: {\n            min: 0,\n            title: {\n                text: \"<b>EWI SMS Percentage (%)</b>\"\n            },\n            stackLabels: {\n                enabled: false,\n                style: {\n                    fontWeight: \"bold\",\n                    color: ( // theme\n                        Highcharts.defaultOptions.title.style &&\n                        Highcharts.defaultOptions.title.style.color\n                    ) || \"gray\"\n                }\n            }\n        },\n        legend: {\n            align: \"right\",\n            x: -30,\n            verticalAlign: \"top\",\n            y: 25,\n            floating: true,\n            backgroundColor:\n                Highcharts.defaultOptions.legend.backgroundColor || \"white\",\n            borderColor: \"#CCC\",\n            borderWidth: 1,\n            shadow: false\n        },\n        tooltip: {\n            headerFormat: \"<b>{point.x}</b><br/>\",\n            pointFormat: \"{series.name}: {point.y}\"\n        },\n        plotOptions: {\n            column: {\n                grouping: false,\n                shadow: false,\n                dataLabels: {\n                    enabled: true\n                }\n            }\n        },\n        credits: {\n            enabled: false\n        },\n        series: [{\n            name: \"Queued\",\n            data: queud,\n            pointPadding: 0\n        }, {\n            name: \"Sent\",\n            data: sent,\n            pointPadding: 0.1\n        }]\n    };\n}\n\nfunction EwiChart (props) {\n    const { \n        highcharts, data,\n        isLoading, input, type\n    } = props;\n    const [chart, setChart] = useState(null);\n    const default_data = {\n        month: [],\n        sent: [],\n        queud: [],\n    };\n    const [chart_option, setChartOption] = useState(getEWISmsChartOption(default_data, input, type));\n\n    useEffect(() => {\n        if (chart !== null) {\n            if (isLoading) chart.showLoading();\n            else chart.hideLoading();\n        }\n    }, [chart, isLoading]);                  \n\n    useEffect(() => {\n        if (chart !== null && data !== null) {\n            if (data) {\n                setChartOption(getEWISmsChartOption(data, input, type));\n            }\n        }\n    }, [chart, data]);\n\n    return (\n        <HighchartsReact\n            highcharts={highcharts}\n            options={chart_option}\n            callback={x => setChart(x)}\n        />\n    );\n}\n\nexport default EwiChart;","import React, { useState, useEffect } from \"react\";\nimport Highcharts from \"highcharts/highcharts.src\";\nimport HighchartsReact from \"highcharts-react-official\";\nimport moment from \"moment\";\n\nfunction getEwiAckChartOption (processed_data, input, type) {\n    const { start_ts, end_ts, site } = input;\n\n    let site_label = \"All sites\";\n    let title = \"Day of the Week\";\n    if (type === \"hour\") {\n        title = \"Time of the Day\";\n        if (site !== \"\" && site !== null) {\n            const { label } = site;\n            if (label !== undefined) site_label = `${label}`;\n        }\n    }\n\n    const subtitle = `Range <b>${moment(start_ts).format(\"DD MMM YYYY, HH:ss\")} - ${moment(end_ts).format(\"DD MMM YYYY, HH:ss\")}<br>${site_label}</b>`;\n    const { days, data, hours } = processed_data;\n    return {\n        chart: {\n            type: \"column\"\n        },\n        title: {\n            text: `<b>${title} Stakeholders are Most Responsive</b>`,\n            style: { fontSize: \"14px\" },\n            margin: 20,\n            y: 16\n        },\n        subtitle: {\n            text: subtitle,\n            style: { fontSize: \"12px\" }\n        },\n        xAxis: {\n            categories: days || hours\n        },\n        yAxis: {\n            min: 0,\n            title: {\n                text: \"<b>EWI SMS Acknowledgement</b>\"\n            },\n            stackLabels: {\n                enabled: false,\n                style: {\n                    fontWeight: \"bold\",\n                    color: ( // theme\n                        Highcharts.defaultOptions.title.style &&\n                        Highcharts.defaultOptions.title.style.color\n                    ) || \"gray\"\n                }\n            }\n        },\n        tooltip: {\n            headerFormat: \"<b>{point.x}</b><br/>\",\n            pointFormat: \"Total: {point.stackTotal}\"\n        },\n        plotOptions: {\n            column: {\n                stacking: \"normal\",\n                dataLabels: {\n                    enabled: true\n                }\n            }\n        },\n        credits: {\n            enabled: false\n        },\n        series: [{\n            showInLegend: false,\n            data,\n            color: \"#434348\"\n        }]\n    };\n}\n\nfunction EwiAckChart (props) {\n    const { \n        highcharts, data, isLoading, input, type\n    } = props;\n    const [chart, setChart] = useState(null);\n    \n    let default_data;\n    if (type === \"Daily\") {\n        default_data = {\n            days: [],\n            data: []\n        };\n    } else {\n        default_data = {\n            hours: [],\n            data: []\n        };\n    }\n    const [chart_option, setChartOption] = useState(getEwiAckChartOption(default_data, input, type));\n\n    useEffect(() => {\n        if (chart !== null) {\n            if (isLoading) chart.showLoading();\n            else chart.hideLoading();\n        }\n    }, [chart, isLoading]);                  \n\n    useEffect(() => {\n        if (chart !== null && data !== null) {\n            if (data) {\n                setChartOption(getEwiAckChartOption(data, input, type));\n            }\n        }\n    }, [chart, data]);\n\n    return (\n        <HighchartsReact\n            highcharts={highcharts}\n            options={chart_option}\n            callback={x => setChart(x)}\n        />\n    );\n}\n\nexport default EwiAckChart;","import React, { useState, useEffect } from \"react\";\nimport Highcharts from \"highcharts/highcharts.src\";\nimport HighchartsReact from \"highcharts-react-official\";\nimport moment from \"moment\";\n\nfunction getGroundMeasSiteOptions (processed_data, input) {\n    const { start_ts, end_ts } = input;\n    const subtitle = `Range <b>${moment(start_ts).format(\"DD MMM YYYY, HH:ss\")} - ${moment(end_ts).format(\"DD MMM YYYY, HH:ss\")}</b>`;\n    const { sites, expected, received } = processed_data;\n    return {\n        chart: {\n            type: \"column\"\n        },\n        title: {\n            text: \"<b>Ground Measurement Data Received per Site</b>\",\n            style: { fontSize: \"14px\" },\n            margin: 20,\n            y: 16\n        },\n        subtitle: {\n            text: subtitle,\n            style: { fontSize: \"12px\" }\n        },\n        xAxis: {\n            categories: sites,\n            title: {\n                text: \"<b>Sites</b>\"\n            },\n        },\n        yAxis: {\n            min: 0,\n            // max: 100,\n            title: {\n                text: \"<b>No. of Ground Measurement Data</b>\"\n            },\n            stackLabels: {\n                enabled: false,\n                style: {\n                    fontWeight: \"bold\",\n                    color: ( // theme\n                        Highcharts.defaultOptions.title.style &&\n                        Highcharts.defaultOptions.title.style.color\n                    ) || \"gray\"\n                }\n            }\n        },\n        legend: {\n            align: \"right\",\n            x: -30,\n            verticalAlign: \"top\",\n            y: 25,\n            floating: true,\n            backgroundColor:\n                Highcharts.defaultOptions.legend.backgroundColor || \"white\",\n            borderColor: \"#CCC\",\n            borderWidth: 1,\n            shadow: false\n        },\n        tooltip: {\n            headerFormat: \"<b>{point.x}</b><br/>\",\n            pointFormat: \"{series.name}: {point.y}\"\n        },\n        plotOptions: {\n            column: {\n                grouping: false,\n                shadow: false,\n                dataLabels: {\n                    enabled: true\n                }\n            }\n        },\n        credits: {\n            enabled: false\n        },\n        series: [{\n            name: \"Expected\",\n            data: expected,\n            pointPadding: 0\n        }, {\n            name: \"Received\",\n            data: received,\n            pointPadding: 0.2\n        }]\n    };\n}\n\nfunction GroundMeasChart (props) {\n    const { \n        highcharts, data,\n        isLoading, input\n    } = props;\n    \n    const [chart, setChart] = useState(null);\n\n    const [chart_option, setChartOption] = useState(getGroundMeasSiteOptions({\n        sites: null\n    }, input));\n\n    useEffect(() => {\n        if (chart !== null) {\n            if (isLoading) chart.showLoading();\n            else chart.hideLoading();\n        }\n    }, [chart, isLoading]);\n\n    useEffect(() => {\n        if (chart !== null && data !== null) {\n            setChartOption(getGroundMeasSiteOptions(data, input));\n        }\n    }, [chart, data]);\n\n    return (\n        <HighchartsReact\n            highcharts={highcharts}\n            options={chart_option}\n            callback={x => setChart(x)}\n        />\n    );\n}\n\nexport default GroundMeasChart;","import React, { \n    useState, useEffect,\n    Fragment, useReducer\n} from \"react\";\n\nimport {\n    Button, makeStyles,\n    Card, CardContent,\n    Typography, Grid\n} from \"@material-ui/core\";\nimport { MuiPickersUtilsProvider, KeyboardDateTimePicker } from \"@material-ui/pickers\";\n\nimport MomentUtils from \"@date-io/moment\";\nimport moment from \"moment\";\nimport Highcharts from \"highcharts\";\nimport NoDataToDisplay from \"highcharts/modules/no-data-to-display\";\nimport DynaslopeSiteSelectInputForm from \"../../reusables/DynaslopeSiteSelectInputForm\";\n\nimport GeneralStyles from \"../../../GeneralStyles\";\nimport PageTitle from \"../../reusables/PageTitle\";\nimport { getCommsAnalyticsData } from \"../ajax\";\n\nimport EwiChart from \"./EwiChart\";\nimport EwiAckChart from \"./EwiAckChart\";\nimport GroundMeasChart from \"./GroundMeasChart\";\n\nwindow.Highcharts = Highcharts;\nNoDataToDisplay(window.Highcharts);\n\nconst useStyles = makeStyles(theme => {\n    const gen = GeneralStyles(theme);\n    return {\n        ...gen,\n        inputGridContainer: {\n            margin: \"12px 0\",\n            [theme.breakpoints.down(\"sm\")]: {\n                margin: \"0 0\"\n            }\n        },\n        buttonGrid: {\n            textAlign: \"right\",\n            [theme.breakpoints.down(\"sm\")]: {\n                textAlign: \"right\"\n            }\n        },\n        button: {\n            fontSize: 16,\n            paddingLeft: 8\n        },\n        alert3: {\n            ...gen.alert3,\n            \"&:hover *\": {\n                color: \"#222222 !important\"\n            },\n        },\n        card: { height: \"auto\" }\n    }; \n});\n\nfunction getHelperText (field, value) {\n    if (value === \"\") return \"Required field\";\n    return \"\";\n}\n\nfunction reducerFunction (state, action) {\n    const { type, field, value } = action;\n    const field_value = state[field];\n    const new_value = value;\n    const new_helper_text = getHelperText(field, value);\n    const reset_data = initReducer(new_value);\n\n    switch (type) {\n        case \"UPDATE\":\n            return { ...state, [field]: {\n                ...field_value,\n                value: new_value,\n                helper_text: new_helper_text\n            } };\n        case \"RESET\":\n            return { ...reset_data };\n        default:\n            return { ...state };\n    }\n}\n\nfunction initReducer (data) {\n    const new_data = {};\n    if (data) {\n\n        Object.keys(data).forEach(key => {\n            const updated_value = data[key] ? data[key] : \"\";\n            const field = new_data[key];\n            const new_helper_text = getHelperText(field, updated_value);\n            new_data[key] = {\n                value: updated_value,\n                helper_text: new_helper_text,\n                required: true\n            };\n        });\n    }\n\n    return new_data;\n}\n\nfunction sanitizeData (data) {\n    const clean_data = {};\n    Object.keys(data).forEach(key => {\n        clean_data[key] = data[key].value;\n    });\n\n    return clean_data;\n}\n\nfunction CommunicationsAnalyticsContainer (props) {\n    const classes = useStyles();\n\n    const current_date_time = moment().format(\"YYYY-MM-DD HH:mm:ss\");\n    const month_per_quarter = {\n        \"1\": [\"01\", \"02\", \"03\"],\n        \"2\": [\"04\", \"05\", \"06\"],\n        \"3\": [\"07\", \"08\", \"09\"],\n        \"4\": [\"10\", \"11\", \"12\"]\n    };\n\n    const current_quarter = moment(current_date_time).quarter();\n    const start_ts = moment().format(`YYYY-${month_per_quarter[current_quarter][0]}-DD HH:mm:ss`);\n    const sms_initial_filter_data = {\n        start_ts,\n        end_ts: current_date_time,\n        is_loading: true\n    };\n\n    const initial_filter_data = {\n        start_ts: moment().subtract(12, \"months\")\n        .format(\"YYYY-MM-DD HH:mm:ss\"),\n        end_ts: current_date_time,\n        site: \"\"\n    };\n    const initial_data = {\n        data: [],\n        is_loading: true\n    };\n    const [sms_filter_data, dispatchSmsFilter] = useReducer(reducerFunction, sms_initial_filter_data, initReducer);\n    const [ack_filter_data, dispatchAckFilter] = useReducer(reducerFunction, initial_filter_data, initReducer);\n    const [ground_meas_filter_data, dispatchGroundMeasFilter] = useReducer(reducerFunction, initial_filter_data, initReducer);\n    const [per_month_ewi_sms, setPerMonthEwiSms] = useState(initial_data);\n    const [per_quarter_ewi_sms, setPerQuarterEwiSms] = useState(initial_data);\n    const [per_day_ack, setPerDayAck] = useState(initial_data);\n    const [per_hour_ack, setPerHourAck] = useState(initial_data);\n    const [ground_meas_data, setGroundMeasData] = useState(initial_data);\n\n    const update_ts = (field, value, type) => {\n        if (type === \"sms\") {\n            dispatchSmsFilter({ \n                type: \"UPDATE\", field,\n                value: moment(value).format(\"YYYY-MM-DD HH:mm:ss\")\n            });\n        } else if (type === \"ack\") {\n            dispatchAckFilter({ \n                type: \"UPDATE\", field,\n                value: moment(value).format(\"YYYY-MM-DD HH:mm:ss\")\n            });\n        } else if (type === \"ground_meas\") {\n            dispatchGroundMeasFilter({ \n                type: \"UPDATE\", field,\n                value: moment(value).format(\"YYYY-MM-DD HH:mm:ss\")\n            });\n        }\n    };\n\n    const setChartData = (type, chart_data, is_loading = false) => {\n        if (type === \"sms\") {\n            const { data: { per_month, per_quarter } } = chart_data;\n            setPerMonthEwiSms({ data: per_month, is_loading });\n            setPerQuarterEwiSms({ data: per_quarter, is_loading });\n        } else if (type === \"ack\") {\n            const { data: { per_day, per_hour } } = chart_data;\n            setPerDayAck({ data: per_day, is_loading });\n            setPerHourAck({ data: per_hour, is_loading });\n        } else if (type === \"ground_meas\") {\n            const { data } = chart_data;\n            setGroundMeasData({ data, is_loading });\n        }\n    };\n    \n    const submitFilter = type => () => {\n        let input_data;\n        if (type === \"sms\") {\n            input_data = sanitizeData(sms_filter_data);\n        } else if (type === \"ack\") {\n            input_data = sanitizeData(ack_filter_data);\n        } else if (type === \"ground_meas\") {\n            input_data = sanitizeData(ground_meas_filter_data);\n            initial_data.data = null;\n        }\n        setChartData(type, initial_data, true);\n        input_data.chart_type = type;\n        getCommsAnalyticsData(input_data, data => {\n            setChartData(type, data);\n        });\n    };\n\n    const updateSite = value => {\n        dispatchAckFilter({\n            type: \"UPDATE\", field: \"site\", value\n        });\n    };\n\n    useEffect(() => {\n        const input_arr = [\n            {\n                chart_type: \"ack\",\n                inputs: sanitizeData(ack_filter_data)\n            },\n            {\n                chart_type: \"ground_meas\",\n                inputs: sanitizeData(ground_meas_filter_data)\n            },\n            {\n                chart_type: \"sms\",\n                inputs: sanitizeData(sms_filter_data)\n            }\n        ];\n\n        input_arr.forEach(row => {\n            row.inputs.chart_type = row.chart_type;\n            getCommsAnalyticsData(row.inputs, data => {\n                setChartData(row.chart_type, data);\n            });\n        });\n    }, []);\n\n    return (\n        <div className={classes.pageContentMargin}>\n            <PageTitle\n                title=\"Analysis | Communications Analytics\"\n            />\n\n            <Grid container spacing={2}>\n                <Grid item xs={12}>\n                    <Card className={classes.card}>\n                        <CardContent>\n                            <Typography variant=\"overline\" display=\"block\" gutterBottom>\n                                Percentage of EWI SMS Sent\n                            </Typography>\n\n                            <Grid container spacing={2} justify=\"space-between\">\n                                <Grid \n                                    item xs={12}\n                                    container justify=\"space-between\"\n                                    spacing={2} alignItems=\"center\"\n                                >\n                                    <MuiPickersUtilsProvider utils={MomentUtils}>\n                                        <Grid item xs={12} sm>\n                                            <KeyboardDateTimePicker\n                                                required\n                                                autoOk\n                                                label=\"Start Timestamp\"\n                                                ampm={false}\n                                                value={sms_filter_data.start_ts.value}\n                                                onChange={e => update_ts(\"start_ts\", e, \"sms\")}\n                                                placeholder=\"2010/01/01 00:00\"\n                                                format=\"YYYY/MM/DD HH:mm\"\n                                                mask=\"____/__/__ __:__\"\n                                                clearable\n                                                disableFuture\n                                                fullWidth\n                                            />\n                                        </Grid>\n\n                                        <Grid item xs={12} sm>\n                                            <KeyboardDateTimePicker\n                                                required\n                                                autoOk\n                                                label=\"End Timestamp\"\n                                                ampm={false}\n                                                value={sms_filter_data.end_ts.value}\n                                                onChange={e => update_ts(\"end_ts\", e, \"sms\")}\n                                                placeholder=\"2010/01/01 00:00\"\n                                                format=\"YYYY/MM/DD HH:mm\"\n                                                mask=\"____/__/__ __:__\"\n                                                clearable\n                                                disableFuture\n                                                fullWidth\n                                            />\n                                        </Grid>\n                                    </MuiPickersUtilsProvider>\n\n                                    <Grid item xs={12} sm={1} align=\"right\">\n                                        <Button \n                                            size=\"small\" \n                                            color=\"primary\"\n                                            variant=\"contained\"\n                                            onClick={submitFilter(\"sms\")}\n                                        >\n                                            Submit\n                                        </Button>\n                                    </Grid>\n                                </Grid>\n\n                                <Grid item xs={12} container>\n                                    <Grid item xs={12}>\n                                        <EwiChart\n                                            highcharts={Highcharts}\n                                            data={per_month_ewi_sms.data}\n                                            isLoading={per_month_ewi_sms.is_loading}\n                                            type=\"Monthly\"\n                                            input={sanitizeData(sms_filter_data)}\n                                        />\n                                    </Grid>\n\n                                    <Grid item xs={12}>   \n                                        <EwiChart\n                                            highcharts={Highcharts}\n                                            data={per_quarter_ewi_sms.data}\n                                            isLoading={per_quarter_ewi_sms.is_loading}\n                                            type=\"Quarterly\"\n                                            input={sanitizeData(sms_filter_data)}\n                                        />\n                                    </Grid>\n                                </Grid>\n                            </Grid>\n                        </CardContent>\n                    </Card>\n                </Grid>\n\n                <Grid item xs={12}>\n                    <Card className={classes.card}>\n                        <CardContent>\n                            <Typography variant=\"overline\" display=\"block\" gutterBottom>\n                                EWI Acknowledgement\n                            </Typography>\n\n                            <Grid container spacing={2} justify=\"space-between\">\n                                <Grid\n                                    item xs={12}\n                                    container justify=\"space-between\"\n                                    spacing={2} alignItems=\"center\"\n                                >\n                                    <MuiPickersUtilsProvider utils={MomentUtils}>\n                                        <Grid item xs={12} sm>\n                                            <DynaslopeSiteSelectInputForm\n                                                value={ack_filter_data.site.value}\n                                                changeHandler={e => updateSite(e)}\n                                                isClearable\n                                                customPlaceholder=\"If no input, all sites\"\n                                            />\n                                        </Grid>\n\n                                        <Grid item xs={12} sm>\n                                            <KeyboardDateTimePicker\n                                                required\n                                                autoOk\n                                                label=\"Start Timestamp\"\n                                                value={ack_filter_data.start_ts.value}\n                                                ampm={false}\n                                                placeholder=\"2010/01/01 00:00\"\n                                                onChange={e => update_ts(\"start_ts\", e, \"ack\")}\n                                                format=\"YYYY/MM/DD HH:mm\"\n                                                mask=\"____/__/__ __:__\"\n                                                clearable\n                                                disableFuture\n                                                fullWidth\n                                            />\n                                        </Grid>\n\n                                        <Grid item xs={12} sm>\n                                            <KeyboardDateTimePicker\n                                                required\n                                                autoOk\n                                                label=\"End Timestamp\"\n                                                value={ack_filter_data.end_ts.value}\n                                                ampm={false}\n                                                placeholder=\"2010/01/01 00:00\"\n                                                onChange={e => update_ts(\"end_ts\", e, \"ack\")}\n                                                format=\"YYYY/MM/DD HH:mm\"\n                                                mask=\"____/__/__ __:__\"\n                                                clearable\n                                                disableFuture\n                                                fullWidth\n                                            />\n                                        </Grid>\n                                    </MuiPickersUtilsProvider>\n\n                                    <Grid item xs={12} sm={1} align=\"right\">\n                                        <Button \n                                            size=\"small\" \n                                            color=\"primary\"\n                                            variant=\"contained\"\n                                            onClick={submitFilter(\"ack\")}\n                                        >\n                                            Submit\n                                        </Button>\n                                    </Grid>\n                                </Grid>\n\n                                <Grid item xs={12} container>\n                                    <Grid item xs={12}>\n                                        <EwiAckChart\n                                            highcharts={Highcharts}\n                                            data={per_day_ack.data}\n                                            isLoading={per_day_ack.is_loading}\n                                            type=\"day\"\n                                            input={sanitizeData(ack_filter_data)}\n                                        />\n                                    </Grid>\n\n                                    <Grid item xs={12}>\n                                        <EwiAckChart\n                                            highcharts={Highcharts}\n                                            data={per_hour_ack.data}\n                                            isLoading={per_hour_ack.is_loading}\n                                            type=\"hour\"\n                                            input={sanitizeData(ack_filter_data)}\n                                        />\n                                    </Grid>\n                                </Grid>\n                            </Grid>\n                        </CardContent>\n                    </Card>\n                </Grid>\n\n                <Grid item xs={12}>\n                    <Card className={classes.card}>\n                        <CardContent>\n                            <Typography variant=\"overline\" display=\"block\" gutterBottom>\n                                Percentage of ground measurement per site\n                            </Typography>\n\n                            <Grid container spacing={2} justify=\"space-between\">\n                                <Grid\n                                    item xs={12}\n                                    container justify=\"space-between\"\n                                    spacing={2} alignItems=\"center\"\n                                >\n                                    <MuiPickersUtilsProvider utils={MomentUtils}>\n                                        <Grid item xs={12} sm>\n                                            <KeyboardDateTimePicker\n                                                required\n                                                autoOk\n                                                label=\"Start Timestamp\"\n                                                ampm={false}\n                                                value={ground_meas_filter_data.start_ts.value}\n                                                onChange={e => update_ts(\"start_ts\", e, \"ground_meas\")}\n                                                placeholder=\"2010/01/01 00:00\"\n                                                format=\"YYYY/MM/DD HH:mm\"\n                                                mask=\"____/__/__ __:__\"\n                                                clearable\n                                                disableFuture\n                                                fullWidth\n                                            />\n                                        </Grid>\n\n                                        <Grid item xs={12} sm>\n                                            <KeyboardDateTimePicker\n                                                required\n                                                autoOk\n                                                label=\"End Timestamp\"\n                                                ampm={false}\n                                                value={ground_meas_filter_data.end_ts.value}\n                                                onChange={e => update_ts(\"end_ts\", e, \"ground_meas\")}\n                                                placeholder=\"2010/01/01 00:00\"\n                                                format=\"YYYY/MM/DD HH:mm\"\n                                                mask=\"____/__/__ __:__\"\n                                                clearable\n                                                disableFuture\n                                                fullWidth\n                                            />\n                                        </Grid>\n                                    </MuiPickersUtilsProvider>\n\n                                    <Grid item xs={12} sm={1} align=\"right\">\n                                        <Button \n                                            size=\"small\" \n                                            color=\"primary\"\n                                            variant=\"contained\"\n                                            onClick={submitFilter(\"ground_meas\")}\n                                        >\n                                            Submit\n                                        </Button>\n                                    </Grid>\n                                </Grid>\n\n                                <Grid item xs={12}>\n                                    <GroundMeasChart\n                                        highcharts={Highcharts}\n                                        data={ground_meas_data.data}\n                                        isLoading={ground_meas_data.is_loading}\n                                        input={sanitizeData(ground_meas_filter_data)}\n                                    />\n                                </Grid>\n                            </Grid>\n                        </CardContent>\n                    </Card>\n                </Grid>\n            </Grid>\n        </div>\n    );\n}\n\nexport default CommunicationsAnalyticsContainer;","import React, { useState, useEffect } from \"react\";\n\nimport {\n    List, ListItem, ListItemText,\n    OutlinedInput, makeStyles\n} from \"@material-ui/core\";\n\nimport { getLoggersAndSensorsData } from \"../ajax\";\n\nconst useStyles = makeStyles(theme => ({\n    list: {\n        maxHeight: \"60vh\",\n        overflowY: \"auto\",\n        boxShadow: \"0px 2px 1px -1px rgba(0,0,0,0.2), 0px 1px 1px 0px rgba(0,0,0,0.14), 0px 1px 3px 0px rgba(0,0,0,0.12)\",\n        \"&::-webkit-scrollbar\": {\n            width: 5\n        },\n        \"&::-webkit-scrollbar-track\": {\n            boxShadow: \"inset 0 0 5px grey\"\n        },\n        \"&::-webkit-scrollbar-thumb\": {\n            background: \"rgba(127, 127, 127, 0.7)\"\n        }\n    },\n    searchBox: {\n        marginBottom: theme.spacing(3)\n    },\n    sticky: {\n        position: \"sticky\",\n        top: 146,\n        [theme.breakpoints.down(\"sm\")]: {\n            top: 48\n        },\n        backgroundColor: \"white\",\n        zIndex: 1\n    },\n}));\n\nfunction LoggersList (props) {\n    const {\n        selectedLogger, onLoggerClickFn,\n        reloadList, loggers, setLoggers,\n        setReloadList } = props;\n    const classes = useStyles();\n\n    const [loggers_list, setLoggersList] = useState([]);\n    const [search_str, setSearchStr] = useState(null);\n    \n    useEffect(() => {\n        getLoggersAndSensorsData(data => {\n            const { loggers: temp_l, rain_gauges } = data;\n            temp_l.forEach(x => {\n                const { logger_model: { has_rain }, logger_name } = x;\n\n                if (has_rain) {\n                    const rg = rain_gauges.find(y=> y.gauge_name === logger_name);\n                    x.rain_gauge = rg || null;\n                }\n            });\n\n            setLoggers(temp_l);\n            setLoggersList(temp_l);\n            if (temp_l.length > 0) onLoggerClickFn(temp_l[0])();\n            \n        });\n    }, []);\n\n    useEffect(() => {\n        if (reloadList) {\n            setTimeout(() => { \n                getLoggersAndSensorsData(data => {\n                    const { loggers: temp_l, rain_gauges } = data;\n                    temp_l.forEach(x => {\n                        const { logger_model: { has_rain }, logger_name } = x;\n    \n                        if (has_rain) {\n                            const rg = rain_gauges.find(y=> y.gauge_name === logger_name);\n                            x.rain_gauge = rg || null;\n                        }\n                    });\n                    setLoggers(temp_l);\n                });\n                setReloadList(false); \n            }, 1000);\n        }\n    }, [reloadList]);\n\n    useEffect(() => {\n        if (search_str !== null) {\n            const filtered = loggers_list.filter(row => {\n                const { logger_name } = row;\n                const pattern = new RegExp(`${search_str.toLowerCase()}`, \"gi\");\n                return pattern.test(logger_name.toLocaleLowerCase());\n            });\n            setLoggers(filtered);\n        } else {\n            setLoggers(loggers);\n        }\n    }, [search_str]);\n\n    return (\n        <div className={classes.sticky}>\n            <OutlinedInput\n                fullWidth\n                margin=\"dense\"\n                placeholder=\"Search loggers...\"\n                onChange={event => setSearchStr(event.target.value)} \n                className={classes.searchBox}\n            />\n\n            <List aria-label=\"list\" className={classes.list}>\n                {\n                    loggers.map(logger => {\n                        const { logger_name, logger_id } = logger;\n                        const is_selected = selectedLogger !== null && selectedLogger.logger_id === logger_id;\n\n                        return (\n                            <ListItem \n                                button \n                                key={logger.logger_id} \n                                onClick={onLoggerClickFn(logger)}\n                                selected={is_selected}\n                            >\n                                <ListItemText primary={logger_name.toUpperCase()} />\n                            </ListItem>\n                        );\n                    })\n                }\n            </List>\n        </div>\n    );\n}\n\nexport default React.memo(LoggersList);","import React, { \n    Fragment, useState, useEffect\n} from \"react\";\n\nimport {\n    Grid, Typography, Card,\n    CardContent, Button, CardActions,\n    TextField, Divider, FormControl,\n    FormControlLabel, Checkbox, InputLabel,\n    Select, MenuItem, FormHelperText\n} from \"@material-ui/core\";\n\nimport { MuiPickersUtilsProvider, KeyboardDatePicker } from \"@material-ui/pickers\";\nimport MomentUtils from \"@date-io/moment\";\n\nimport { useSnackbar } from \"notistack\";\nimport MaskedInput, { conformToMask } from \"react-text-mask\";\nimport moment from \"moment\";\n\nimport { saveDataUpdate } from \"../ajax\";\nimport { getCurrentUser } from \"../../sessions/auth\";\n\nconst logger_number_mask = [\"(\", \"+\", \"6\", \"3\", \"9\", \")\", \" \", /\\d/, /\\d/, \"-\", /\\d/, /\\d/, /\\d/, \"-\", /\\d/, /\\d/, /\\d/, /\\d/];\nconst conforming_mobile_mask = [\"(\", \"+\", /\\d/, /\\d/, /\\d/, \")\", \" \", /\\d/, /\\d/, \"-\", /\\d/, /\\d/, /\\d/, \"-\", /\\d/, /\\d/, /\\d/, /\\d/];\n\n\nfunction TextMaskCustom (props) {\n    const { inputRef, mask, ...other } = props;\n  \n    return (\n        <MaskedInput\n            {...other}\n            ref={ref => {\n                inputRef(ref ? ref.inputElement : null);\n            }}\n            mask={mask} placeholderChar=\"x\"\n            showMask\n        />\n    );\n}\n\nfunction RainSection (props) {\n    const { rainGauge, saveUpdate } = props;\n    const { date_activated, date_deactivated, rain_id } = rainGauge;\n    const [is_edit, setIsEdit] = useState(false);\n    const initial_data = {\n        value: date_deactivated, helper_text: null\n    };\n    const [date_deact, setDateDeact] = useState(initial_data);\n    \n    useEffect(() => {\n        setDateDeact(initial_data);\n    }, [rainGauge]);\n    \n    const updateDeact = value => {\n        let helper_text = \"\";\n        if (value === null) helper_text = \"Required field\";\n        else if (!value.isValid()) helper_text = \"Enter a valid date\";\n        setDateDeact({\n            value, helper_text\n        });\n    };\n\n    const save = () => {\n        setIsEdit(false);\n        const updated_data = {\n            date_deactivated: date_deact.value.format(\"YYYY-MM-DD\"),\n            section: \"rain\",\n            rain_id\n        };\n        saveUpdate(updated_data);\n    };\n\n    const deact = date_deact.value ? moment(date_deact.value).format(\"DD MMMM YYYY\") : \"---\";\n\n    return <Card variant=\"outlined\">\n        <CardContent component={Grid} container spacing={2}>\n            <Typography variant=\"subtitle1\" display=\"block\" component={Grid} item xs={12}>\n                <strong>RAIN GAUGE</strong>\n            </Typography>\n\n            { !is_edit && <Fragment>\n                <Typography component={Grid}\n                    item xs={12} md={6}\n                    variant=\"body1\" align=\"center\"\n                >\n                    <strong>Date activated:</strong> {moment(date_activated).format(\"DD MMMM YYYY\")}\n                </Typography>\n\n                <Typography component={Grid}\n                    item xs={12} md={6}\n                    variant=\"body1\" align=\"center\"\n                >\n                    <strong>Date deactivated:</strong> {deact}\n                </Typography>\n            </Fragment> }\n\n            { is_edit && <MuiPickersUtilsProvider utils={MomentUtils}>\n                <Grid item xs={12} container justify=\"center\">\n                    <KeyboardDatePicker\n                        required\n                        autoOk\n                        label=\"Date Deactivated\"\n                        value={date_deact.value || null}\n                        onChange={e => updateDeact(e)}\n                        helperText={date_deact.helper_text || \"\"}\n                        error={Boolean(date_deact.helper_text)}\n                        ampm={false}\n                        placeholder=\"2010/01/01\"\n                        format=\"YYYY/MM/DD\"\n                        mask=\"____/__/__\"\n                        clearable\n                        disableFuture\n                    />\n                </Grid> \n            </MuiPickersUtilsProvider> }\n        </CardContent>\n    \n        <CardActions style={{ justifyContent: \"flex-end\" }}>\n            {\n                !is_edit && (\n                    <Button color=\"primary\" onClick={() => setIsEdit(true)}>Edit</Button>\n                )\n            }\n            {\n                is_edit && (\n                    <Fragment>\n                        <Button color=\"primary\" onClick={() => setIsEdit(false)}>Cancel</Button>\n                        <Button color=\"secondary\"\n                            onClick={() => save()}\n                            disabled={Boolean(date_deact.helper_text) || date_deact.helper_text === null}\n                        >\n                            Save\n                        </Button>\n                    </Fragment>\n                )\n            }\n        </CardActions>\n    </Card>;\n}\n\nfunction TiltSection (props) {\n    const { tsmSensor, saveUpdate } = props;\n    const {\n        date_activated, date_deactivated, version,\n        number_of_segments, segment_length, tsm_id\n    } = tsmSensor;\n    const [is_edit, setIsEdit] = useState(false);\n    const initial_data = {\n        value: date_deactivated, helper_text: null\n    };\n    const [date_deact, setDateDeact] = useState(initial_data);\n\n    useEffect(() => {\n        setDateDeact(initial_data);\n    }, [tsmSensor]);\n\n    const updateDeact = value => {\n        let helper_text = \"\";\n        if (value === null) helper_text = \"Required field\";\n        else if (!value.isValid()) helper_text = \"Enter a valid date\";\n        setDateDeact({\n            value, helper_text\n        });\n    };\n\n    const save = () => {\n        setIsEdit(false);\n        const updated_data = {\n            date_deactivated: date_deact.value.format(\"YYYY-MM-DD\"),\n            section: \"tilt\",\n            tsm_id\n        };\n        saveUpdate(updated_data);\n    };\n\n    const deact = date_deact.value ? moment(date_deact.value).format(\"DD MMMM YYYY\") : \"---\";\n\n    return <Card variant=\"outlined\">\n        <CardContent component={Grid} container spacing={2}>\n            <Typography variant=\"subtitle1\" display=\"block\" component={Grid} item xs={12}>\n                <strong>TILT SENSOR</strong>\n            </Typography>\n\n            { !is_edit && <Fragment>\n                <Typography component={Grid}\n                    item xs={12} sm={12} md={4}\n                    variant=\"body1\" align=\"center\"\n                >\n                    <strong>Version:</strong> {version}\n                </Typography>\n\n                <Typography component={Grid}\n                    item xs={12} sm={6} md={4}\n                    variant=\"body1\" align=\"center\"\n                >\n                    <strong>No. of segments:</strong> {number_of_segments}\n                </Typography>\n\n                <Typography component={Grid}\n                    item xs={12} sm={6} md={4}\n                    variant=\"body1\" align=\"center\"\n                >\n                    <strong>Segment length:</strong> {segment_length}\n                </Typography>\n\n                <Typography component={Grid}\n                    item xs={12} md={6}\n                    variant=\"body1\" align=\"center\"\n                >\n                    <strong>Date activated:</strong> {moment(date_activated).format(\"DD MMMM YYYY\")}\n                </Typography>\n\n                <Typography component={Grid}\n                    item xs={12} md={6}\n                    variant=\"body1\" align=\"center\"\n                >\n                    <strong>Date deactivated:</strong> {deact}\n                </Typography>\n            </Fragment>}\n\n            { is_edit && <MuiPickersUtilsProvider utils={MomentUtils}>\n                <Grid item xs={12} container justify=\"center\">\n                    <KeyboardDatePicker\n                        required\n                        autoOk\n                        label=\"Date Deactivated\"\n                        value={date_deact.value || null}\n                        onChange={e => updateDeact(e)}\n                        helperText={date_deact.helper_text || \"\"}\n                        error={Boolean(date_deact.helper_text)}\n                        ampm={false}\n                        placeholder=\"2010/01/01\"\n                        format=\"YYYY/MM/DD\"\n                        mask=\"____/__/__\"\n                        clearable\n                        disableFuture\n                    />\n                </Grid> \n            </MuiPickersUtilsProvider> }\n        </CardContent>\n    \n        <CardActions style={{ justifyContent: \"flex-end\" }}>\n            {\n                !is_edit && (\n                    <Button color=\"primary\" onClick={() => setIsEdit(true)}>Edit</Button>\n                )\n            }\n            {\n                is_edit && (\n                    <Fragment>\n                        <Button color=\"primary\" onClick={() => setIsEdit(false)}>Cancel</Button>\n                        <Button color=\"secondary\"\n                            onClick={() => save()}\n                            disabled={Boolean(date_deact.helper_text) || date_deact.helper_text === null}\n                        >\n                            Save\n                        </Button>\n                    </Fragment>\n                )\n            }\n        </CardActions>\n    </Card>;\n}\n\nfunction AccelerometersSection (props) {\n    const { tsmSensor, saveUpdate } = props;\n    const {\n        version, accelerometers\n    } = tsmSensor;\n    return <Card variant=\"outlined\">\n        <CardContent component={Grid} container spacing={2}>\n            <Typography variant=\"subtitle1\" display=\"block\" component={Grid} item xs={12}>\n                <strong>ACCELEROMETERS</strong>\n            </Typography>\n\n            {\n                accelerometers.map(row => <IndividualAccelerometers\n                    row={row} version={version} key={row.accel_id}\n                    saveUpdate={saveUpdate}\n                />)\n            }\n        </CardContent>\n    </Card>;\n}\n\nfunction IndividualAccelerometers (props) {\n    const { row, version, saveUpdate } = props;\n    const {\n        node_id, accel_number, voltage_min,\n        voltage_max, in_use, date_updated,\n        status, accel_id, tsm_id\n    } = row;\n    const default_flag = { status: \"\", remarks: \"\" };\n\n    const [is_edit, setIsEdit] = useState(false);\n    const [data, setData] = useState({\n        in_use: Boolean(in_use),\n        voltage_max,\n        voltage_min,\n        date_updated,\n        ...default_flag\n    });\n\n    const [add_flag, setAddFlag] = useState(false);\n    useEffect(() => {\n        setData({ ...data, ...default_flag });\n    }, [add_flag]);\n\n    const update_data = (field, value) => {\n        setData({ ...data, [field]: value });\n    };\n\n    const is_disabled = Object.keys(data).some(x => data[x] === \"\");\n\n    const update_ts = data.date_updated !== null ? moment(data.date_updated).format(\"DD MMMM YYYY\") : \"---\";\n    const get_status = stat => {\n        if (stat === 2) return \"Use with caution\";\n        if (stat === 3) return \"Special case\";\n        if (stat === 4) return \"Not OK\";\n        return \"\";\n    };\n\n    const save = () => {\n        setIsEdit(false);\n        const ts_updated = moment().format(\"YYYY-MM-DD\");\n        const updated_data = {\n            ...data,\n            section: \"accelerometers\",\n            accel_id,\n            node_id,\n            tsm_id,\n            has_new_status: add_flag,\n            flagger: getCurrentUser(),\n            ts_updated\n        };\n        saveUpdate(updated_data);\n    };\n\n    return <Fragment key={accel_id}>\n        <Grid item xs={12}><Divider /></Grid>\n\n        <Typography variant=\"subtitle1\" \n            display=\"block\" component={Grid} \n            item xs={12}\n        >\n            <strong><u>Node {node_id}{ version === 1 ? \"\" : `, Accel ${accel_number}`}</u></strong>\n        </Typography>\n\n        {\n            !is_edit && <Fragment>\n                <Typography component={Grid}\n                    item xs={12} sm={4} md={6} lg={2}\n                    variant=\"body1\" align=\"center\"\n                >\n                    <strong>Active:</strong> {data.in_use ? \"Yes\" : \"No\"}\n                </Typography>\n\n                <Typography component={Grid}\n                    item xs={12} sm={4} md={6} lg={3}\n                    variant=\"body1\" align=\"center\"\n                >\n                    <strong>Min Voltage:</strong> {data.voltage_min}\n                </Typography>\n\n                <Typography component={Grid}\n                    item xs={12} sm={4} md={6} lg={3}\n                    variant=\"body1\" align=\"center\"\n                >\n                    <strong>Max Voltage:</strong> {data.voltage_max}\n                </Typography>\n\n                <Typography component={Grid}\n                    item xs={12} sm={12} md={6} lg={4}\n                    variant=\"body1\" align=\"center\"\n                >\n                    <strong>Last Update:</strong> {update_ts}\n                </Typography>\n\n                {\n                    status.length > 0 && <Fragment>\n                        <Typography variant=\"subtitle1\" \n                            display=\"block\" component={Grid} \n                            item xs={12}\n                        >\n                            <strong>Latest Flag</strong>\n                        </Typography>\n\n                        <Typography component={Grid}\n                            item xs={12} sm={12} md={6} lg={4}\n                            variant=\"body1\" align=\"center\"\n                        >\n                            <strong>Status:</strong> {get_status(status[0].status)}\n                        </Typography>\n\n                        <Typography component={Grid}\n                            item xs={12} sm={12} md={6} lg={4}\n                            variant=\"body1\" align=\"center\"\n                        >\n                            <strong>Timestamp:</strong> {moment(status[0].ts_flagged).format(\"DD MMMM YYYY\")}\n                        </Typography>\n\n                        <Typography component={Grid}\n                            item xs={12} sm={12} md={12} lg={4}\n                            variant=\"body1\" align=\"center\"\n                        >\n                            <strong>Flagger:</strong> {status[0].flagger}\n                        </Typography>\n\n                        <Typography component={Grid}\n                            item xs={12}\n                            variant=\"body1\" align=\"center\"\n                        >\n                            <strong>Remarks:</strong> {status[0].remarks || \"---\"}\n                        </Typography>\n                    </Fragment>\n                }\n            </Fragment> }\n\n        {\n            is_edit && <Fragment>\n                <FormControl fullWidth\n                    component={Grid}\n                    item xs={12} sm={3}\n                    style={{ justifyContent: \"center\", alignItems: \"center\" }}\n                >\n                    <FormControlLabel\n                        control={\n                            <Checkbox\n                                checked={data.in_use}\n                                onChange={e => update_data(\"in_use\", e.target.checked)}\n                                name=\"isActive\"\n                                color=\"primary\"\n                            />\n                        }\n                        label=\"Active\"\n                    />\n                </FormControl>\n\n                <Grid item xs={12} sm={3}>\n                    <TextField\n                        fullWidth\n                        required\n                        label=\"Min Voltage\"\n                        type=\"number\"\n                        value={data.voltage_min}\n                        onChange={e => update_data(\"voltage_min\", e.target.value)}\n                        helperText={data.voltage_min ? \"\" : \"Required field\"}\n                        error={!data.voltage_min && data.voltage_min !== 0}\n                    />\n                </Grid>\n\n                <Grid item xs={12} sm={3}>\n                    <TextField\n                        fullWidth\n                        required\n                        label=\"Max Voltage\"\n                        type=\"number\"\n                        value={data.voltage_max}\n                        onChange={e => update_data(\"voltage_max\", e.target.value)}\n                        helperText={data.voltage_max ? \"\" : \"Required field\"}\n                        error={!data.voltage_max && data.voltage_max !== 0}\n                    />\n                </Grid>\n\n                <Grid item xs={12} sm={3} align=\"center\">\n                    <Button color=\"primary\" variant=\"contained\" onClick={() => setAddFlag(!add_flag)}>\n                        { add_flag ? \"Cancel flag\" : \"Add flag\" }\n                    </Button>\n                </Grid>\n\n                {\n                    add_flag && <Fragment>\n                        <Grid item xs={12} sm={3}>\n                            <FormControl required fullWidth \n                                error={!data.status}\n                            >\n                                <InputLabel>Status</InputLabel>\n                                <Select\n                                    value={data.status}\n                                    onChange={e => update_data(\"status\", e.target.value)}\n                                    error={!data.status}\n                                >\n                                    <MenuItem value=\"\">\n                                        <em>None</em>\n                                    </MenuItem>          \n                                    <MenuItem value=\"2\" key=\"2\">Use with caution</MenuItem>\n                                    <MenuItem value=\"3\" key=\"3\">Special case</MenuItem>\n                                    <MenuItem value=\"4\" key=\"4\">Not OK</MenuItem>\n                                </Select>\n                                <FormHelperText error>{data.status ? \"\" : \"Required field\"}</FormHelperText>\n                            </FormControl>\n                        </Grid>\n\n                        <Grid item xs={12} sm={9}>\n                            <TextField\n                                fullWidth\n                                required\n                                label=\"Remarks\"\n                                value={data.remarks}\n                                onChange={e => update_data(\"remarks\", e.target.value)}\n                                helperText={data.remarks ? \"\" : \"Required field\"}\n                                error={!data.remarks}\n                            />\n                        </Grid>\n                    </Fragment>\n                }\n            </Fragment>\n        }\n\n        <Grid item xs={12} align=\"right\">\n            {\n                !is_edit && (\n                    <Button color=\"primary\" onClick={() => setIsEdit(true)}>Edit</Button>\n                )\n            }\n            {\n                is_edit && (\n                    <Fragment>\n                        <Button color=\"primary\" onClick={() => setIsEdit(false)}>Cancel</Button>\n                        <Button color=\"secondary\"\n                            onClick={() => save()}\n                            disabled={is_disabled}\n                        >\n                            Save\n                        </Button>\n                    </Fragment>\n                )\n            }\n        </Grid>\n    </Fragment>;\n}\n\nfunction MainSection (props) {\n    const { selectedLogger, saveUpdate } = props;\n    const {\n        date_activated, date_deactivated, latitude,\n        longitude, logger_id, logger_mobile: { sim_num, mobile_id },\n        logger_model: { logger_type }\n    } = selectedLogger;\n    \n    let conformed_sim = \"---\";\n    if(sim_num){\n        const { conformedValue } = conformToMask(sim_num, conforming_mobile_mask);\n        conformed_sim = conformedValue;\n    }\n\n    const initial_value = {\n        date_deactivated: { value: date_deactivated, helper_text: \"\", required: false },\n        logger_number: { value: conformed_sim, helper_text: \"\", required: true },\n        latitude: { value: latitude, helper_text: \"\", required: true },\n        longitude: { value: longitude, helper_text: \"\", required: true }\n    };\n    const [is_edit, setIsEdit] = useState(false);\n    const [data, setData] = useState(initial_value);\n\n    useEffect(() => {\n        setData(initial_value);\n    }, [selectedLogger]);\n\n    const update = (field, value) => {\n        const field_val = data[field];\n        let helper_text = \"\";\n        if (value === \"\" && Boolean(field_val.required)) helper_text = \"Required field\";\n        if (field === \"date_deactivated\" && value !== null && !value.isValid()) helper_text = \"Enter a valid date\";\n        if (field === \"logger_number\" && value.includes(\"x\")) helper_text = \"Enter complete mobile number\";\n\n        const new_data = { ...data,\n            [field]: { ...field_val, value, helper_text }\n        };\n        setData(new_data);\n    };\n\n    const checkFields = () => {\n        return Object.keys(data).some(key => {\n            const { required, helper_text } = data[key];\n\n            return (\n                required && (helper_text !== \"\" ) ||\n                (!required && (helper_text !== \"\"))\n            );\n        });\n    };\n    const [is_disabled, setIsDisabled] = useState(false);\n    useEffect(() => setIsDisabled(checkFields()), [data]);\n\n    const save = () => {\n        setIsEdit(false);\n        const updated_data = {};\n        Object.keys(data).forEach(key => {\n            const { value } = data[key];\n            let val = value;\n            if (moment.isMoment(value)) val = value.format(\"YYYY-MM-DD\");\n            if (key === \"logger_number\") val = value.replace(/[()+-\\s]/g, \"\");\n            updated_data[key] = val;\n        });\n        updated_data.section = \"loggers\";\n        updated_data.mobile_id = mobile_id;\n        updated_data.logger_id = logger_id;\n        saveUpdate(updated_data);\n    };\n\n    const deact = data.date_deactivated.value ? moment(data.date_deactivated.value).format(\"DD MMMM YYYY\") : \"---\";\n\n    return (\n        <Card variant=\"outlined\">\n            <CardContent component={Grid} container spacing={2}>\n                <Typography variant=\"subtitle1\" display=\"block\" component={Grid} item xs={12}>\n                    <strong>LOGGER INFO</strong>\n                </Typography>\n\n                { !is_edit && <Fragment>\n                    <Typography component={Grid}\n                        item xs={12} sm={6} lg={4}\n                        variant=\"body1\" align=\"center\"\n                    >\n                        <strong>Date installed:</strong> {moment(date_activated).format(\"DD MMMM YYYY\")}\n                    </Typography>\n\n                    <Typography component={Grid}\n                        item xs={12} sm={6} lg={4}\n                        variant=\"body1\" align=\"center\"\n                    >\n                        <strong>Date deactivated:</strong> {deact}\n                    </Typography>\n\n                    <Typography component={Grid}\n                        item xs={12} sm={6} lg={4}\n                        variant=\"body1\" align=\"center\"\n                    >\n                        <strong>Type:</strong> {logger_type.toUpperCase()}\n                    </Typography>\n\n                    <Typography component={Grid}\n                        item xs={12} sm={6} lg={4}\n                        variant=\"body1\" align=\"center\"\n                    >\n                        <strong>Logger number:</strong> {data.logger_number.value}\n                    </Typography>\n\n                    <Typography component={Grid}\n                        item xs={12} sm={6} lg={4}\n                        variant=\"body1\" align=\"center\"\n                    >\n                        <strong>Latitude:</strong> {data.latitude.value}\n                    </Typography>\n\n                    <Typography component={Grid}\n                        item xs={12} sm={6} lg={4}\n                        variant=\"body1\" align=\"center\"\n                    >\n                        <strong>Longitude:</strong> {data.longitude.value}\n                    </Typography>\n                </Fragment>}\n\n                { is_edit && <Fragment>\n                    <MuiPickersUtilsProvider utils={MomentUtils}>\n                        <Grid item xs={6} lg={3}>\n                            <KeyboardDatePicker\n                                autoOk\n                                label=\"Date Deactivated\"\n                                value={data.date_deactivated.value || null}\n                                onChange={e => update(\"date_deactivated\", e)}\n                                helperText={data.date_deactivated.helper_text || \"\"}\n                                error={Boolean(data.date_deactivated.helper_text)}\n                                ampm={false}\n                                placeholder=\"2010/01/01\"\n                                format=\"YYYY/MM/DD\"\n                                mask=\"____/__/__\"\n                                clearable\n                                disableFuture\n                                fullWidth\n                            />\n                        </Grid> \n                    </MuiPickersUtilsProvider>\n                    {\n                        data.logger_number.value !== \"---\" && (\n                            <Grid item xs={6} lg={3}>\n                                <TextField\n                                    required\n                                    fullWidth\n                                    label=\"Logger Number\"\n                                    InputProps={{\n                                        inputComponent: TextMaskCustom,\n                                        inputProps: { mask: logger_number_mask }\n                                    }}\n                                    InputLabelProps={{ shrink: true }}\n                                    value={data.logger_number.value}\n                                    onChange={e => update(\"logger_number\", e.target.value)}\n                                    helperText={data.logger_number.helper_text || \"\"}\n                                    error={Boolean(data.logger_number.helper_text)}\n                                />\n                            </Grid>\n                        )\n                    }\n\n                    <Grid item xs={6} lg={3}>\n                        <TextField\n                            fullWidth\n                            required\n                            label=\"Latitude\"\n                            type=\"number\"\n                            value={data.latitude.value}\n                            onChange={e => update(\"latitude\", e.target.value)}\n                            helperText={data.latitude.helper_text || \"\"}\n                            error={Boolean(data.latitude.helper_text)}\n                        />\n                    </Grid>\n\n                    <Grid item xs={6} lg={3}>\n                        <TextField\n                            fullWidth\n                            required\n                            label=\"Longitude\"\n                            type=\"number\"\n                            value={data.longitude.value}\n                            onChange={e => update(\"longitude\", e.target.value)}\n                            helperText={data.longitude.helper_text || \"\"}\n                            error={Boolean(data.longitude.helper_text)}\n                        />\n                    </Grid>\n                </Fragment> }\n            </CardContent>\n        \n            <CardActions style={{ justifyContent: \"flex-end\" }}>\n                {\n                    !is_edit && (\n                        <Button color=\"primary\" onClick={() => setIsEdit(true)}>Edit</Button>\n                    )\n                }\n                {\n                    is_edit && (\n                        <Fragment>\n                            <Button color=\"primary\" onClick={() => setIsEdit(false)}>Cancel</Button>\n                            <Button color=\"secondary\"\n                                onClick={() => save()}\n                                disabled={is_disabled}\n                            >\n                                Save\n                            </Button>\n                        </Fragment>\n                    )\n                }\n            </CardActions>\n        </Card>\n    );\n}\n\nfunction LoggerDetails (props) {\n    const { selectedLogger, setReloadList } = props;\n    const {\n        logger_name, logger_model: {\n            has_rain, has_tilt\n        }, tsm_sensor, rain_gauge\n    } = selectedLogger;\n\n    const { enqueueSnackbar, closeSnackbar } = useSnackbar();\n\n    const snackBarActionFn = key => {\n        return (<Button\n            color=\"primary\"\n            onClick={() => { closeSnackbar(key); }}\n        >\n            Dismiss\n        </Button>);\n    };\n\n    const save_update = updated_data => {\n        // eslint-disable-next-line no-param-reassign\n        updated_data.has_rain = has_rain;\n        if (has_rain === 1) {\n            // eslint-disable-next-line no-param-reassign\n            updated_data.rain = rain_gauge;\n        }\n        setReloadList(true);\n        console.log(updated_data);\n        saveDataUpdate(updated_data, data => {\n            const { status, message } = data;\n            let variant;\n            if (status === true) {\n                variant = \"success\";\n            } else {\n                variant = \"error\";\n            }\n\n            enqueueSnackbar(\n                message,\n                {\n                    variant,\n                    autoHideDuration: 5000,\n                    action: snackBarActionFn\n                }\n            );\n        });\n    };\n\n    return (\n        <Grid container spacing={2} justify=\"space-evenly\">\n            <Typography\n                component={Grid}\n                item xs={12}\n                variant=\"h6\"\n            >\n                <strong>{logger_name.toUpperCase()}</strong>\n            </Typography>\n\n            <Grid item xs={12}>\n                <MainSection\n                    selectedLogger={selectedLogger}\n                    saveUpdate={save_update} />\n            </Grid>\n\n            {\n                has_rain === 1 && Boolean(rain_gauge) && \n                    <Grid item xs={12}><RainSection rainGauge={rain_gauge} saveUpdate={save_update} /></Grid>\n            }\n\n            {\n                has_tilt === 1 && Boolean(tsm_sensor) &&\n                    <Fragment>\n                        <Grid item xs={12}><TiltSection tsmSensor={tsm_sensor} saveUpdate={save_update} /></Grid>\n                        <Grid item xs={12}><AccelerometersSection tsmSensor={tsm_sensor} saveUpdate={save_update} /></Grid>\n                    </Fragment>\n            }\n        </Grid>\n    );\n}\n\nexport default LoggerDetails;","import React, { useReducer, useState, useEffect } from \"react\";\n\nimport {\n    Grid, FormControl, TextField,\n    Typography, Card, CardContent\n} from \"@material-ui/core\";\n\nimport { MuiPickersUtilsProvider, KeyboardDatePicker } from \"@material-ui/pickers\";\nimport MomentUtils from \"@date-io/moment\";\nimport moment from \"moment\";\n\nfunction sanitizeData (data) {\n    const get_value = obj => {\n        return Object.keys(obj).reduce((bank, key) => {\n            const temp_bank = { ...bank };\n            const { value } = obj[key];\n            let temp_value = value;\n    \n            if (typeof value === \"undefined\") {\n                temp_value = get_value(obj[key]);\n            }\n            \n            if (value === \"\") {\n                temp_value = null;\n            }\n\n            if (key === \"site\") {\n                temp_value = value.data;\n            }\n\n            if (moment.isMoment(value)) {\n                temp_value = value.format(\"YYYY-MM-DD HH:mm:ss\");\n            }\n    \n            temp_bank[key] = temp_value;\n            return temp_bank;\n        }, {});\n    };\n\n    const clean_data = get_value(data);\n    return clean_data;\n}\n\nlet getHelperText = null;\nfunction reducerFunction (state, action) {\n    const { type, field, value } = action;\n    const field_value = state[field];\n\n    const new_value = value;\n    const test_helper_value = value;\n\n    const { required } = field_value;\n    const new_helper_text = getHelperText(field, test_helper_value, required);\n\n    switch (type) {\n        case \"UPDATE\":\n            return { ...state, [field]: {\n                ...field_value,\n                value: new_value,\n                helper_text: new_helper_text\n            } };\n        default:\n            return { ...state };\n    }\n}\n\nfunction TiltForm (props) {\n    const {\n        onTiltFormUpdate, initReducer, getHelperText: ght,\n        checkInputFields\n    } = props;\n    getHelperText = ght;\n\n    const initial_data = {\n        date_activated: null,\n        version: \"\",\n        segment_length: \"\",\n        number_of_segment: \"\"\n    };\n    const [segment_list, setSegmentList] = useState([]);\n    const [tsm_data, dispatch] = useReducer(reducerFunction, initial_data, initReducer);\n\n    const onNumberOfSegmentChange = value => {\n        dispatch({ type: \"UPDATE\", field: \"number_of_segment\", value });\n        const len = value !== \"\" ? parseInt(value, 10) : 0;\n        const arr = Array.from(Array(len), (v, i) => null);\n        setSegmentList([...arr]);\n    };\n    \n    const onSegmentInputChange = (value, index) => {\n        const copy = [...segment_list];\n        copy[index] = value;\n        setSegmentList(copy);\n    };\n\n    useEffect(() => {\n        const has_reg_error = checkInputFields(tsm_data);\n        const has_segment_error = segment_list.some(x => x === null || x === \"\");\n        const has_error = has_reg_error || has_segment_error;\n        \n        const value = {\n            ...tsm_data,\n            segment_list: {\n                value: segment_list\n            }\n        };\n\n        const clean_data = sanitizeData(value);\n        onTiltFormUpdate(clean_data, has_error);\n    }, [tsm_data, segment_list]);\n\n    return (\n        <Card variant=\"outlined\"><CardContent component={Grid} container spacing={2}>\n            <Typography variant=\"h6\" display=\"block\" component={Grid} item xs={12}>\n                <strong>Tilt Sensor</strong>\n            </Typography>\n\n            <MuiPickersUtilsProvider utils={MomentUtils}>\n                <Grid item xs={6} md={3}>\n                    <KeyboardDatePicker\n                        autoOk\n                        label=\"Date Activated\"\n                        value={tsm_data.date_activated.value || null}\n                        onChange={e => dispatch({ type: \"UPDATE\", field: \"date_activated\", value: e })}\n                        helperText={tsm_data.date_activated.helper_text || \"\"}\n                        error={Boolean(tsm_data.date_activated.helper_text)}\n                        ampm={false}\n                        placeholder=\"2010/01/01\"\n                        format=\"YYYY/MM/DD\"\n                        mask=\"____/__/__\"\n                        clearable\n                        disableFuture\n                        fullWidth\n                    />\n                </Grid> \n            </MuiPickersUtilsProvider>\n\n            <Grid item xs={6} md={2}>\n                <FormControl fullWidth>\n                    <TextField\n                        required\n                        label=\"Version\"\n                        type=\"number\"\n                        value={tsm_data.version.value}\n                        onChange={e => dispatch({ type: \"UPDATE\", field: \"version\", value: e.target.value })}\n                        helperText={tsm_data.version.helper_text || \"\"}\n                        error={Boolean(tsm_data.version.helper_text)}\n                    />\n                </FormControl>\n            </Grid>\n\n            <Grid item xs={6} md={3}>\n                <FormControl fullWidth>\n                    <TextField\n                        required\n                        label=\"Segment Length\"\n                        type=\"number\"\n                        value={tsm_data.segment_length.value}\n                        onChange={e => dispatch({ type: \"UPDATE\", field: \"segment_length\", value: e.target.value })}\n                        helperText={tsm_data.segment_length.helper_text || \"\"}\n                        error={Boolean(tsm_data.segment_length.helper_text)}\n                    />\n                </FormControl>\n            </Grid>\n\n            <Grid item xs={6} md={4}>\n                <FormControl fullWidth>\n                    <TextField\n                        required\n                        label=\"Number of Segment\"\n                        type=\"number\"\n                        value={tsm_data.number_of_segment.value}\n                        onChange={e => onNumberOfSegmentChange(e.target.value)}\n                        helperText={tsm_data.number_of_segment.helper_text || \"\"}\n                        error={Boolean(tsm_data.number_of_segment.helper_text)}\n                    />\n                </FormControl>\n            </Grid>\n                    \n            {\n                segment_list.length !== 0 && (\n                    <Typography variant=\"overline\" display=\"block\" component={Grid} item xs={12}>\n                        Segments\n                    </Typography>\n                )\n            }\n\n            {\n                segment_list.length !== 0 && (\n                    segment_list.map((value, i) => (\n                        <Grid item xs={4} sm={3} lg={2} key={`segment_container_${i + 1}`}>\n                            <FormControl fullWidth>\n                                <TextField\n                                    required\n                                    label={`Segment ${i + 1}`}\n                                    key={`segment_${i + 1}`}\n                                    type=\"number\"\n                                    placeholder=\"Enter ID\"\n                                    InputLabelProps={{\n                                        shrink: true,\n                                    }}\n                                    value={value || \"\"}\n                                    onChange={e => onSegmentInputChange(e.target.value, i)}\n                                    helperText={value === \"\" ? \"Required field\" : \"\"}\n                                    error={Boolean(value === \"\")}\n                                />\n                            </FormControl>\n                        </Grid>\n                    ))\n                )\n            }\n        </CardContent></Card>\n    );\n}\n\nexport default TiltForm;","import React, { useState, useEffect, useReducer } from \"react\";\n\nimport {\n    Card, CardContent,\n    Grid, Typography, Button,\n    TextField, Checkbox, Radio,\n    FormControl, InputLabel, MenuItem,\n    Select, FormLabel, FormGroup, FormControlLabel,\n    FormHelperText, RadioGroup, Divider\n} from \"@material-ui/core\";\nimport { MuiPickersUtilsProvider, KeyboardDatePicker } from \"@material-ui/pickers\";\nimport MomentUtils from \"@date-io/moment\";\n\nimport MaskedInput from \"react-text-mask\";\nimport moment from \"moment\";\nimport { useSnackbar } from \"notistack\";\n\nimport TiltForm from \"./TiltForm\";\nimport { saveLoggerDeployment } from \"../ajax\";\n\nimport DynaslopeSiteSelectInputForm from \"../../reusables/DynaslopeSiteSelectInputForm\";\nimport { capitalizeFirstLetter } from \"../../../UtilityFunctions\";\n\nconst logger_number_mask = [\"(\", \"+\", \"6\", \"3\", \"9\", \")\", \" \", /\\d/, /\\d/, \"-\", /\\d/, /\\d/, /\\d/, \"-\", /\\d/, /\\d/, /\\d/, /\\d/];\n\nfunction TextMaskCustom (props) {\n    const { inputRef, mask, ...other } = props;\n  \n    return (\n        <MaskedInput\n            {...other}\n            ref={ref => {\n                inputRef(ref ? ref.inputElement : null);\n            }}\n            mask={mask} placeholderChar=\"x\"\n            showMask\n        />\n    );\n}\n\nfunction removeMobileNumberMask (logger_number) {\n    const altered = logger_number.replace(/[()+-\\s]/g, \"\");\n    return altered;\n}\n\nfunction sanitizeData (data) {\n    const get_value = obj => {\n        return Object.keys(obj).reduce((bank, key) => {\n            const temp_bank = { ...bank };\n            const { value } = obj[key];\n            let temp_value = value;\n    \n            if (typeof value === \"undefined\") {\n                temp_value = get_value(obj[key]);\n            }\n            \n            if (value === \"\") {\n                temp_value = null;\n            } \n            \n            if (key === \"logger_number\") {\n                temp_value = removeMobileNumberMask(value);\n            }\n\n            if (key === \"site\") {\n                temp_value = value.data;\n            }\n\n            if (moment.isMoment(value)) {\n                temp_value = value.format(\"YYYY-MM-DD\");\n            }\n    \n            temp_bank[key] = temp_value;\n            return temp_bank;\n        }, {});\n    };\n\n    const clean_data = get_value(data);\n    return clean_data;\n}\n\nfunction getHelperText (field, value, required) {\n    if (value === \"\" && required) return \"Required field\";\n\n    if (field === \"logger_number\") {\n        if (value.includes(\"x\")) return \"Enter complete mobile number\";\n    }\n\n    if ([\"date_installed\", \"date_activated\"].includes(field)) {\n        if (value !== null && !value.isValid()) return \"Enter a valid date\";\n    }\n\n    if ([\"installed_sensors\", \"personnel\"].includes(field)) {\n        if (value.length === 0) return true;\n    }\n \n    if (field === \"version\" || field === \"segment_length\" || field === \"number_of_segment\") {\n        if (value === 0 || value === \"0\") return \"Invalid value\";\n    }\n\n    if (field === \"segment_list\") {\n        const check_segment_value = Object.keys(value).some(key => {\n            const { segment_value } = value[key];\n            return segment_value === \"\";\n        });\n\n        if (check_segment_value) return \"Invalid segment value inserted\";\n    }\n    \n    return \"\";\n}\n\nfunction reducerFunction (state, action) {\n    const { type, field, value } = action;\n    let field_value = state[field];\n\n    let new_value = value;\n    let test_helper_value = value;\n    if ([\"installed_sensors\", \"personnel\"].includes(field)) {\n        const { name, checked } = value;\n        const { value: val } = field_value;\n        if (checked) {\n            val.push(name);\n            new_value = val;\n        } else {\n            new_value = val.filter(x => x !== name);\n        }\n\n        test_helper_value = new_value;\n    }\n    \n    try {\n        // only UPDATE_SENSOR will enter this\n        if (field === \"tilt\") {\n            const { tilt_data, test_value } = value;\n            new_value = tilt_data;\n            test_helper_value = test_value;\n        }\n\n        const { sensor } = value;\n        if (state.installed_sensors.value.includes(sensor)) {\n            const { data } = value;\n            new_value = data;\n            test_helper_value = data;\n            field_value = state[sensor][field];\n        }\n    } catch (error) {\n        // sensor checkboxes will enter this from DELETE_ATTRIBUTE\n    }\n\n    let required = false;\n    try {\n        const { required: r } = field_value;\n        required = r;\n    } catch (error) {\n        // sensor checkboxes will enter this from ADD_ATTRIBUTE\n    }\n\n    const new_helper_text = getHelperText(field, test_helper_value, required);\n\n    switch (type) {\n        case \"UPDATE\":\n            return { ...state, [field]: {\n                ...field_value,\n                value: new_value,\n                helper_text: new_helper_text\n            } };\n        case \"ADD_ATTRIBUTE\":\n            return { ...state, [field]: value };\n        case \"UPDATE_SENSOR\":\n            // eslint-disable-next-line no-case-declarations\n            const { sensor } = value;\n            return { ...state, [sensor]: {\n                [field]: {\n                    ...field_value,\n                    value: new_value,\n                    helper_text: new_helper_text\n                }\n            } };\n        case \"UPDATE_TILT\":\n            return { ...state, [field]: {\n                ...field_value,\n                value: new_value,\n                helper_text: new_helper_text\n            } };\n        case \"DELETE_ATTRIBUTE\":\n            // eslint-disable-next-line no-param-reassign\n            delete state[field];\n            return state;\n        case \"RESET\":\n            // eslint-disable-next-line no-case-declarations\n            const reset_data = initReducer(new_value);\n            return { ...reset_data };\n        default:\n            return { ...state };\n    }\n}\n\nfunction initReducer (data) {\n    const new_data = {};\n    const not_required_list = [\"date_activated\"];\n    Object.keys(data).forEach(key => {\n        const new_helper_text = null;\n        const required = !not_required_list.includes(key);\n        new_data[key] = {\n            value: data[key],\n            helper_text: new_helper_text,\n            required\n        };\n    });\n\n    return new_data;\n}\n\nconst personnel_list = [\n    \"brain\", \"kate\", \"sky\",\n    \"jec\", \"kennex\", \"reyn\",\n    \"web\", \"oscar\", \"dan\",\n    \"arnel\", \"troy\"\n];\n\nfunction AddLoggerForm (props) {\n    const { setIsAddLogger, setReloadList } = props;\n    const initial_data = {\n        site: \"\", \n        logger_name: \"\",\n        date_installed: null,\n        latitude: \"\",\n        longitude: \"\",\n        location_description: \"\",\n        network: \"\",\n        logger_number: \"\",\n        logger_type: \"\",\n        installed_sensors: [],\n        personnel: []\n    };\n\n    const [deployment_data, dispatch] = useReducer(reducerFunction, initial_data, initReducer);\n    const [is_submit_disabled, setIsSubmitDisabled] = useState(true);\n    const { enqueueSnackbar, closeSnackbar } = useSnackbar();\n\n    const snackBarActionFn = key => {\n        return (<Button\n            color=\"primary\"\n            onClick={() => { closeSnackbar(key); }}\n        >\n            Dismiss\n        </Button>);\n    };\n\n    const clearFields = () => dispatch({ type: \"RESET\", value: initial_data });\n\n    const checkCheckbox = (field, value) => deployment_data[field].value.includes(value);\n    const onCheckboxChange = field => e => {\n        const { name, checked } = e.target;\n        dispatch({ type: \"UPDATE\", field, value: { name, checked } });\n\n        if (field === \"installed_sensors\") {\n            if (checked) {\n                let add_data = initReducer({ date_activated: null });\n                if (name === \"tilt\") add_data = { required: true, helper_text: null, value: null };\n\n                dispatch({ type: \"ADD_ATTRIBUTE\", field: name, value: add_data });\n            } else {\n                dispatch({ type: \"DELETE_ATTRIBUTE\", field: name });\n            }\n        }\n    };\n\n    const onTiltFormUpdate = (tilt_data, has_error) => {\n        const value = { test_value: !has_error || \"\", tilt_data };\n        dispatch({ type: \"UPDATE_TILT\", field: \"tilt\", value });\n    };\n\n    const checkInputFields = obj => {\n        return Object.keys(obj).some(key => {\n            const { required, helper_text } = obj[key];\n\n            if (typeof required === \"undefined\") {\n                return checkInputFields(obj[key]);\n            }\n\n            return (\n                required && (helper_text !== \"\" || helper_text === null) ||\n                (!required && (helper_text !== \"\" && helper_text !== null))\n            );\n        });\n    };\n\n    useEffect(() => {\n        const { logger_type } = deployment_data;\n        const { value: type } = logger_type;\n        \n        if (type === \"router\"){\n            deployment_data.logger_number = {required: false, helper_text: \"\", value: \"has_value\"}\n            deployment_data.network = {required: false, helper_text: \"\", value: \"has_value\"}\n        }\n        \n        const isd = checkInputFields(deployment_data);\n        setIsSubmitDisabled(isd);\n    }, [deployment_data]);\n\n    const save_deployment_data = () => {\n        const cleaned_data = sanitizeData(deployment_data);\n        cleaned_data.date_installed = moment(cleaned_data.date_installed).format(\"YYYY-MM-DD\");\n        const { installed_sensors } = cleaned_data;\n\n        if (installed_sensors.includes(\"tilt\")) {\n            cleaned_data.tilt.date_activated = moment(cleaned_data.tilt.date_activated).format(\"YYYY-MM-DD\");\n        }\n        \n        console.log(cleaned_data);\n        saveLoggerDeployment(cleaned_data, data => {\n            const { status, message } = data;\n            let variant;\n            if (status) {\n                variant = \"success\";\n                setIsAddLogger(false);\n                setReloadList(true);\n            } else {\n                variant = \"error\";\n            }\n\n            enqueueSnackbar(\n                message,\n                {\n                    variant,\n                    autoHideDuration: 5000,\n                    action: snackBarActionFn\n                }\n            );\n        });\n    };\n\n    return (\n        <Grid container spacing={2} justify=\"space-evenly\">\n            <Typography\n                component={Grid}\n                item xs={12}\n                variant=\"h6\"\n            >\n                <strong>Logger Deployment Form</strong>\n            </Typography>\n\n            <Grid item xs={12}><Card variant=\"outlined\"><CardContent component={Grid} container spacing={2}>\n                <Grid item xs={6} lg={4}>\n                    <DynaslopeSiteSelectInputForm\n                        required\n                        value={deployment_data.site.value}\n                        changeHandler={value => dispatch({ type: \"UPDATE\", field: \"site\", value })}\n                    />  \n                </Grid>\n            \n                <Grid item xs={6} lg={4}>\n                    <TextField\n                        required\n                        fullWidth\n                        label=\"Logger Name\"\n                        value={deployment_data.logger_name.value}\n                        onChange={e => dispatch({ type: \"UPDATE\", field: \"logger_name\", value: e.target.value })}\n                        helperText={deployment_data.logger_name.helper_text || \"\"}\n                        error={Boolean(deployment_data.logger_name.helper_text)}\n                    />\n                </Grid>\n                {\n                    deployment_data.logger_type.value !== \"router\" && (\n                        <Grid item xs={6} lg={4}>\n                            <TextField\n                                required\n                                fullWidth\n                                label=\"Logger Number\"\n                                InputProps={{\n                                    inputComponent: TextMaskCustom,\n                                    inputProps: { mask: logger_number_mask }\n                                }}\n                                InputLabelProps={{ shrink: true }}\n                                value={deployment_data.logger_number.value}\n                                onChange={e => dispatch({ type: \"UPDATE\", field: \"logger_number\", value: e.target.value })}\n                                helperText={deployment_data.logger_number.helper_text || \"\"}\n                                error={Boolean(deployment_data.logger_number.helper_text)}\n                            />\n                        </Grid>\n                    )\n                }\n\n                <MuiPickersUtilsProvider utils={MomentUtils}>\n                    <Grid item xs={6} lg={4}>\n                        <KeyboardDatePicker\n                            required\n                            autoOk\n                            label=\"Date Installed\"\n                            value={deployment_data.date_installed.value || null}\n                            onChange={e => dispatch({ type: \"UPDATE\", field: \"date_installed\", value: e })}\n                            helperText={deployment_data.date_installed.helper_text || \"\"}\n                            error={Boolean(deployment_data.date_installed.helper_text)}\n                            ampm={false}\n                            placeholder=\"2010/01/01\"\n                            format=\"YYYY/MM/DD\"\n                            mask=\"____/__/__\"\n                            clearable\n                            disableFuture\n                            fullWidth\n                        />\n                    </Grid>\n                </MuiPickersUtilsProvider>\n\n                <Grid item xs={6} lg={4}>\n                    <TextField\n                        fullWidth\n                        required\n                        label=\"Latitude\"\n                        type=\"number\"\n                        value={deployment_data.latitude.value}\n                        onChange={e => dispatch({ type: \"UPDATE\", field: \"latitude\", value: e.target.value })}\n                        helperText={deployment_data.latitude.helper_text || \"\"}\n                        error={Boolean(deployment_data.latitude.helper_text)}\n                    />\n                </Grid>\n\n                <Grid item xs={6} lg={4}>\n                    <TextField\n                        fullWidth\n                        required\n                        label=\"Longitude\"\n                        type=\"number\"\n                        value={deployment_data.longitude.value}\n                        onChange={e => dispatch({ type: \"UPDATE\", field: \"longitude\", value: e.target.value })}\n                        helperText={deployment_data.longitude.helper_text || \"\"}\n                        error={Boolean(deployment_data.longitude.helper_text)}\n                    />\n                </Grid>\n                {\n                    deployment_data.logger_type.value !== \"router\" && (\n                        <Grid item xs={12} sm={6} md={5} lg={3}>\n                            <FormControl required fullWidth error={Boolean(deployment_data.network.helper_text)}>\n                                <InputLabel id=\"network\">Main Network of Location</InputLabel>\n                                <Select\n                                    labelId=\"network-select-label\"\n                                    id=\"network-select-id\"\n                                    value={deployment_data.network.value}\n                                    onChange={e => dispatch({ type: \"UPDATE\", field: \"network\", value: e.target.value })}\n                                    error={Boolean(deployment_data.network.helper_text)}\n                                >\n                                    <MenuItem value=\"\">\n                                        <em>None</em>\n                                    </MenuItem>          \n                                    <MenuItem value=\"Globe\" key=\"globe\">Globe</MenuItem>\n                                    <MenuItem value=\"Smart\" key=\"smart\">Smart</MenuItem>\n                                </Select>\n                                <FormHelperText error>{deployment_data.network.helper_text}</FormHelperText>\n                            </FormControl>\n                        </Grid>\n                    )\n                }\n\n                <Grid item xs={12} sm={6} md={7} lg={9}>\n                    <TextField\n                        fullWidth\n                        required\n                        label=\"Location Description\"\n                        value={deployment_data.location_description.value}\n                        onChange={e => dispatch({ type: \"UPDATE\", field: \"location_description\", value: e.target.value })}\n                        helperText={deployment_data.location_description.helper_text || \"\"}\n                        error={Boolean(deployment_data.location_description.helper_text)}\n                    />\n                </Grid>\n\n                <Grid item xs={12}><Divider style={{ margin: \"8px 0\" }}/></Grid>\n\n                <FormControl\n                    component={Grid}\n                    item xs={12} lg={6} container\n                    alignItems=\"center\"\n                >\n                    <FormLabel component=\"legend\" required>Logger Type</FormLabel>\n                    <RadioGroup\n                        row\n                        aria-label=\"logger_type_group\"\n                        name=\"logger_type\"\n                        value={deployment_data.logger_type.value}\n                        onChange={e => dispatch({ type: \"UPDATE\", field: \"logger_type\", value: e.target.value })}\n                        style={{ justifyContent: \"center\" }}\n                    >              \n                        <FormControlLabel\n                            value=\"masterbox\"\n                            control={<Radio color=\"primary\"/>}\n                            label=\"Master Box\"\n                            key=\"master_box\"\n                        />\n                        <FormControlLabel\n                            value=\"arq\"\n                            control={<Radio color=\"primary\"/>}\n                            label=\"ARQ\"\n                            key=\"arq\"\n                        />\n                        <FormControlLabel\n                            value=\"router\"\n                            control={<Radio color=\"primary\"/>}\n                            label=\"Router\"\n                            key=\"router\"\n                        />\n                        <FormControlLabel\n                            value=\"gateway\"\n                            control={<Radio color=\"primary\"/>}\n                            label=\"Gateway\"\n                            key=\"gateway\"\n                        />                                 \n                    </RadioGroup>\n                    {/* <FormHelperText error>{deployment_data.logger_type.helper_text}</FormHelperText> */}\n                </FormControl>\n\n                <FormControl\n                    component={Grid}\n                    item xs={12} lg={6} container\n                    alignItems=\"center\"\n                    error={Boolean(deployment_data.installed_sensors.helper_text)}\n                >\n                    <FormLabel component=\"legend\" required>Installed Sensors</FormLabel>\n                    <FormGroup row style={{ justifyContent: \"center\" }}>\n                        <FormControlLabel\n                            control={<Checkbox\n                                name=\"rain\" \n                                checked={checkCheckbox(\"installed_sensors\", \"rain\")}\n                                onChange={onCheckboxChange(\"installed_sensors\")}\n                            />}\n                            label=\"Rain\"\n                        />\n                        <FormControlLabel\n                            control={<Checkbox\n                                name=\"tilt\"\n                                checked={checkCheckbox(\"installed_sensors\", \"tilt\")}\n                                onChange={onCheckboxChange(\"installed_sensors\")}\n                            />}\n                            label=\"Tilt\"\n                        />\n                        <FormControlLabel\n                            control={<Checkbox\n                                name=\"piezo\"\n                                checked={checkCheckbox(\"installed_sensors\", \"piezo\")}\n                                onChange={onCheckboxChange(\"installed_sensors\")}\n                            />}\n                            label=\"Piezometer\"\n                        />\n                        <FormControlLabel\n                            control={<Checkbox\n                                name=\"soms\"\n                                checked={checkCheckbox(\"installed_sensors\", \"soms\")}\n                                onChange={onCheckboxChange(\"installed_sensors\")}\n                            />}\n                            label=\"Soil Moisture\"\n                        />\n                    </FormGroup>\n                    {\n                        deployment_data.installed_sensors.helper_text && <FormHelperText>\n                            Select at least one\n                        </FormHelperText>\n                    }\n                </FormControl>\n\n                <FormControl\n                    component={Grid}\n                    item xs={12} container\n                    alignItems=\"center\"\n                    error={Boolean(deployment_data.personnel.helper_text)}\n                >\n                    <FormLabel component=\"legend\" required>Personnel</FormLabel>\n                    <FormGroup row style={{ justifyContent: \"center\" }}>\n                        {\n                            personnel_list.map(row => (\n                                <FormControlLabel\n                                    key={row}\n                                    control={<Checkbox\n                                        name={row}\n                                        checked={checkCheckbox(\"personnel\", row)}\n                                        onChange={onCheckboxChange(\"personnel\")}\n                                    />}\n                                    label={`${capitalizeFirstLetter(row)}`}\n                                />\n                            ))\n                        }\n                    </FormGroup>\n                    {\n                        deployment_data.personnel.helper_text && <FormHelperText>\n                            Select at least one\n                        </FormHelperText>\n                    }\n                </FormControl>\n\n            </CardContent></Card></Grid>\n\n            {\n                deployment_data.installed_sensors.value.includes(\"rain\") && <Grid item xs={12} md={4}>\n                    <Card variant=\"outlined\"><CardContent component={Grid} container spacing={2}>\n                        <Typography variant=\"h6\" display=\"block\" component={Grid} item xs={12}>\n                            <strong>Rain Gauge</strong>\n                        </Typography>\n\n                        <MuiPickersUtilsProvider utils={MomentUtils}>\n                            <Grid item xs={12}>\n                                <KeyboardDatePicker\n                                    autoOk\n                                    label=\"Date Activated\"\n                                    value={deployment_data.rain.date_activated.value || null}\n                                    onChange={e => dispatch({ type: \"UPDATE_SENSOR\", field: \"date_activated\", value: { data: e, sensor: \"rain\" } })}\n                                    helperText={deployment_data.rain.date_activated.helper_text || \"\"}\n                                    error={Boolean(deployment_data.rain.date_activated.helper_text)}\n                                    ampm={false}\n                                    placeholder=\"2010/01/01\"\n                                    format=\"YYYY/MM/DD\"\n                                    mask=\"____/__/__\"\n                                    clearable\n                                    disableFuture\n                                    fullWidth\n                                />\n                            </Grid> \n                        </MuiPickersUtilsProvider>\n                    </CardContent></Card>\n                </Grid>\n            }\n\n            {\n                deployment_data.installed_sensors.value.includes(\"piezo\") && <Grid item xs={12} md={4}>\n                    <Card variant=\"outlined\"><CardContent component={Grid} container spacing={2}>\n                        <Typography variant=\"h6\" display=\"block\" component={Grid} item xs={12}>\n                            <strong>Piezometer</strong>\n                        </Typography>\n\n                        <MuiPickersUtilsProvider utils={MomentUtils}>\n                            <Grid item xs={12}>\n                                <KeyboardDatePicker\n                                    autoOk\n                                    label=\"Date Activated\"\n                                    value={deployment_data.piezo.date_activated.value || null}\n                                    onChange={e => dispatch({ type: \"UPDATE_SENSOR\", field: \"date_activated\", value: { data: e, sensor: \"piezo\" } })}\n                                    helperText={deployment_data.piezo.date_activated.helper_text || \"\"}\n                                    error={Boolean(deployment_data.piezo.date_activated.helper_text)}\n                                    ampm={false}\n                                    placeholder=\"2010/01/01\"\n                                    format=\"YYYY/MM/DD\"\n                                    mask=\"____/__/__\"\n                                    clearable\n                                    disableFuture\n                                    fullWidth\n                                />\n                            </Grid> \n                        </MuiPickersUtilsProvider>\n                    </CardContent></Card>\n                </Grid>\n            }\n\n            {\n                deployment_data.installed_sensors.value.includes(\"soms\") && <Grid item xs={12} md={4}>\n                    <Card variant=\"outlined\"><CardContent component={Grid} container spacing={2}>\n                        <Typography variant=\"h6\" display=\"block\" component={Grid} item xs={12}>\n                            <strong>Soil Moisture</strong>\n                        </Typography>\n\n                        <MuiPickersUtilsProvider utils={MomentUtils}>\n                            <Grid item xs={12}>\n                                <KeyboardDatePicker\n                                    autoOk\n                                    label=\"Date Activated\"\n                                    value={deployment_data.soms.date_activated.value || null}\n                                    onChange={e => dispatch({ type: \"UPDATE_SENSOR\", field: \"date_activated\", value: { data: e, sensor: \"soms\" } })}\n                                    helperText={deployment_data.soms.date_activated.helper_text || \"\"}\n                                    error={Boolean(deployment_data.soms.date_activated.helper_text)}\n                                    ampm={false}\n                                    placeholder=\"2010/01/01\"\n                                    format=\"YYYY/MM/DD\"\n                                    mask=\"____/__/__\"\n                                    clearable\n                                    disableFuture\n                                    fullWidth\n                                />\n                            </Grid> \n                        </MuiPickersUtilsProvider>\n                    </CardContent></Card>\n                </Grid>\n            }\n\n            {\n                deployment_data.installed_sensors.value.includes(\"tilt\") && <Grid item xs={12}>\n                    <TiltForm\n                        onTiltFormUpdate={onTiltFormUpdate}\n                        initReducer={initReducer}\n                        getHelperText={getHelperText}\n                        checkInputFields={checkInputFields}\n                    />\n                </Grid>\n            }\n\n            <Grid item xs={12} container justify=\"flex-end\">\n                <Button\n                    color=\"primary\"\n                    onClick={e => setIsAddLogger(false)}\n                >\n                    Cancel\n                </Button>\n                \n                <Button\n                    color=\"primary\"\n                    onClick={e => clearFields()}\n                >\n                    Clear\n                </Button>\n\n                <Button\n                    variant=\"contained\"\n                    color=\"secondary\"\n                    style={{ marginRight: 8 }}\n                    onClick={save_deployment_data}\n                    disabled={is_submit_disabled}\n                >\n                    Submit\n                </Button>\n            </Grid>\n        </Grid>\n    );\n}\n\nexport default AddLoggerForm;","import React, { \n    Fragment, useState\n} from \"react\";\n\nimport {\n    Grid, useTheme, useMediaQuery,\n    Button\n} from \"@material-ui/core\";\nimport { AddBox } from \"@material-ui/icons\";\nimport { makeStyles } from \"@material-ui/core/styles\";\n\nimport LoggersList from \"./LoggersList\";\nimport LoggerDetails from \"./LoggerDetails\";\nimport AddLoggerForm from \"./AddLoggerForm\";\n\nimport GeneralStyles from \"../../../GeneralStyles\";\nimport PageTitle from \"../../reusables/PageTitle\";\n\nconst useStyles = makeStyles(theme => {\n    const gen_style = GeneralStyles(theme);\n    \n    return {\n        ...gen_style,\n        tabBar: {\n            ...gen_style.pageContentMargin,\n            margin: 0\n        },\n        tabBarContent: {\n            marginTop: 16\n        },\n        sticky: {\n            position: \"sticky\",\n            top: 146,\n            [theme.breakpoints.down(\"sm\")]: {\n                top: 48\n            },\n            backgroundColor: \"white\",\n            zIndex: 1\n        },\n        noFlexGrow: { flexGrow: 0 },\n        paper: {\n            position: \"fixed\",\n            right: 0,\n            top: 116,\n            width: 400\n        },\n        overflow: {\n            overflowY: \"auto\",\n            height: \"calc(100vh - 250px)\",\n            [theme.breakpoints.down(\"md\")]: {\n                height: \"80vh\"\n            }\n        },\n        insetDivider: { padding: \"8px 70px !important\" },\n        nested: { paddingLeft: theme.spacing(4) },\n        hidden: { display: \"none !important\" },\n        form_message_style: {\n            color: \"red\",\n            fontStyle: \"italic\"\n        },\n    };\n});\n\nfunction CustomButtons (setIsAddLogger) {\n    return <span>\n        <Button\n            aria-label=\"Add logger\"\n            variant=\"contained\" \n            color=\"primary\"\n            size=\"small\" \n            onClick={() => setIsAddLogger(true)}\n            startIcon={<AddBox />}\n        >\n            Add logger\n        </Button>\n    </span>;\n}\n\nfunction Container (props) {\n    const classes = useStyles();\n    const theme = useTheme();\n    const is_desktop = useMediaQuery(theme.breakpoints.up(\"sm\"));\n    \n    const [is_add_logger, setIsAddLogger] = useState(false);\n    const [selected_logger, setSelectedLogger] = useState(null);\n    const [reload_list, setReloadList] = useState(false);\n    const [loggers, setLoggers] = useState([]);\n    const onLoggerClickFn = logger => () => {\n        setSelectedLogger(logger);\n        console.log(\"Selected logger\", logger);\n    };\n\n    return (\n        <Fragment>\n            <div className={classes.pageContentMargin}>\n                <PageTitle\n                    title=\"Analysis | Loggers and Sensors Form\"\n                    className={classes.sticky}\n                    customButtons={is_desktop ? CustomButtons(setIsAddLogger) : false}\n                />\n\n                <Grid\n                    container spacing={2} \n                    justify=\"space-evenly\"\n                >\n                    <Grid item xs={12} sm={3} lg={2}>\n                        <LoggersList\n                            selectedLogger={selected_logger}\n                            onLoggerClickFn={onLoggerClickFn}\n                            reloadList={reload_list}\n                            loggers={loggers}\n                            setLoggers={setLoggers}\n                            setReloadList={setReloadList}\n                        />\n                    </Grid>\n\n                    <Grid item xs={12} sm={9} lg={10}>\n                        { !is_add_logger && selected_logger !== null && <LoggerDetails\n                            selectedLogger={selected_logger}\n                            setReloadList={setReloadList}\n                        />}\n                        { is_add_logger && <AddLoggerForm setIsAddLogger={setIsAddLogger} setReloadList={setReloadList} /> }\n                    </Grid>\n                </Grid>\n            </div>\n        </Fragment>\n    );\n}\n\nexport default Container;","import React from \"react\";\n\nimport List from \"@material-ui/core/List\";\nimport ListItem from \"@material-ui/core/ListItem\";\nimport ListItemText from \"@material-ui/core/ListItemText\";\nimport ListItemIcon from \"@material-ui/core/ListItemIcon\";\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\nimport Dialog from \"@material-ui/core/Dialog\";\nimport { SaveAlt, Block } from \"@material-ui/icons\";\n\n\nfunction MessageOptionsModal (props) {\n    const {\n        onClose, open, isUnregistered,\n        setBlockModal, setSaveContactModal\n    } = props;\n\n    const handleClose = () => {\n        onClose();\n    };\n\n    const handleSave = () => {\n        onClose();\n        setSaveContactModal(true);\n    };\n\n    const handleBlock = () => {\n        onClose();\n        setBlockModal(true);\n    };\n\n    return (\n        <Dialog onClose={handleClose} aria-labelledby=\"simple-dialog-title\" open={open}>\n            <DialogTitle id=\"simple-dialog-title\">Message options</DialogTitle>\n            <List>\n                {\n                    isUnregistered && (\n                        <ListItem button onClick={handleSave}>\n                            <ListItemIcon>\n                                <SaveAlt />\n                            </ListItemIcon>\n                            <ListItemText primary=\"Save number\" />\n                        </ListItem>\n                    )\n                }\n                <ListItem button onClick={handleBlock}>\n                    <ListItemIcon>\n                        <Block />\n                    </ListItemIcon>\n                    <ListItemText primary=\"Block number\" />\n                </ListItem>\n            </List>\n        </Dialog>\n    );\n}\n\nexport default MessageOptionsModal;","import React, { useState } from \"react\";\nimport Button from \"@material-ui/core/Button\";\nimport TextField from \"@material-ui/core/TextField\";\nimport Dialog from \"@material-ui/core/Dialog\";\nimport DialogActions from \"@material-ui/core/DialogActions\";\nimport DialogContent from \"@material-ui/core/DialogContent\";\nimport DialogContentText from \"@material-ui/core/DialogContentText\";\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\nimport { useSnackbar } from \"notistack\";\nimport { getCurrentUser } from \"../../sessions/auth\";\nimport { saveBlockedContact } from \"../ajax\";\n\nfunction BlockNumberModal (props) {\n    const {\n        open, setBlockModal, mobileDetails,\n        setOpenOptions\n    } = props;\n    const { sim_num, mobile_id } = mobileDetails;\n    const { enqueueSnackbar, closeSnackbar } = useSnackbar();\n    const snackBarActionFn = key => {\n        return (<Button\n            color=\"primary\"\n            onClick={() => { closeSnackbar(key); }}\n        >\n            Dismiss\n        </Button>);\n    };\n\n    const [reason, setReason] = useState(\"\");\n    const [error_text, setErrorText] = useState(null);\n    const { user_id } = getCurrentUser();\n\n    const handleChange = event => {\n        const { target: { value } } = event;\n        setReason(value);\n\n        let text = \"\";\n        if (value === \"\") text = \"This is a required field\";\n        setErrorText(text);\n    };\n\n    const handleClose = () => setBlockModal(false);\n    const handleExited = () => setReason(\"\");\n\n    const handleBlock = () => {\n        if (reason === \"\") {\n            setErrorText(\"This is a required field\");\n        } else {\n            setBlockModal(false);\n            \n            const payload = {\n                mobile_id,\n                reporter_id: user_id,\n                reason\n            };\n\n            console.log(payload);\n            saveBlockedContact(payload, data => {\n                const { status, message } = data;\n                console.log(data);\n                if (status) {\n                    enqueueSnackbar(\n                        message,\n                        {\n                            variant: \"success\",\n                            autoHideDuration: 4000,\n                            action: snackBarActionFn\n                        }\n                    );\n                } else {\n                    enqueueSnackbar(\n                        message,\n                        {\n                            variant: \"error\",\n                            autoHideDuration: 3000,\n                            action: snackBarActionFn\n                        }\n                    );\n                }\n            });\n            setOpenOptions(false);\n\n        }\n    };\n\n    return (\n        <Dialog\n            open={open}\n            onExited={handleExited}\n            aria-labelledby=\"form-dialog-title\"\n        >\n            <DialogTitle id=\"form-dialog-title\">{`Block mobile number (+${sim_num})`}</DialogTitle>\n            <DialogContent>\n                <DialogContentText>\n                    Provide the reason for blocking this mobile number from Chatterbox\n                </DialogContentText>\n                <TextField\n                    autoFocus\n                    value={reason}\n                    onChange={handleChange}\n                    margin=\"dense\"\n                    id=\"reason\"\n                    label=\"Reason\"\n                    multiline\n                    fullWidth\n                    required\n                    placeholder=\"Enter reason\"\n                    inputProps={{\n                        maxLength: 500\n                    }}\n                    error={reason === \"\"}\n                    helperText={error_text}\n                />\n            </DialogContent>\n            <DialogActions>\n                <Button onClick={handleClose} color=\"primary\">\n                    Cancel\n                </Button>\n                <Button onClick={handleBlock} color=\"secondary\">\n                    Block\n                </Button>\n            </DialogActions>\n        </Dialog>\n    );\n}\n\nexport default React.memo(BlockNumberModal);","import React, {\n    useState, useEffect, useReducer,\n    Fragment, useContext\n} from \"react\";\n\nimport {\n    Button, Grid, Typography,\n    IconButton, Avatar, TextField,\n    Hidden, Divider, FormControlLabel, \n    Checkbox, FormControl, MenuItem, FormHelperText,\n    Select, InputLabel\n} from \"@material-ui/core\";\nimport { \n    Delete as DeleteIcon,\n    Close, Person, AddCircle\n} from \"@material-ui/icons\";\nimport { useSnackbar } from \"notistack\";\n\nimport MaskedInput, { conformToMask } from \"react-text-mask\";\n\nimport SelectInputForm from \"../../reusables/SelectInputForm\";\nimport DynaslopeSiteSelectInputForm from \"../../reusables/DynaslopeSiteSelectInputForm\";\nimport { getAllOrganizations, saveContact } from \"../ajax\";\nimport { GeneralContext } from \"../../contexts/GeneralContext\";\n\nconst mobile_number_mask = [\"(\", \"+\", \"6\", \"3\", \"9\", \")\", \" \", /\\d/, /\\d/, \"-\", /\\d/, /\\d/, /\\d/, \"-\", /\\d/, /\\d/, /\\d/, /\\d/];\nconst conforming_mobile_mask = [\"(\", \"+\", /\\d/, /\\d/, /\\d/, \")\", \" \", /\\d/, /\\d/, \"-\", /\\d/, /\\d/, /\\d/, \"-\", /\\d/, /\\d/, /\\d/, /\\d/];\n\nfunction prepareGeographicalList (data, category) {\n    let list = [];\n    if (category === \"municipality\") {\n        const municipalities = data.map(({ municipality, province }) => ({ id: municipality, label: `${municipality}, ${province}` }));\n        list = [...municipalities];\n    } else if ([\"province\", \"region\"].includes(category)) {\n        const unique = [...new Set(data.map(x => x[category]).sort())];\n        const selection = unique.map(x => ({ id: x, label: x })); \n        list = [...selection];\n    }\n    return list;\n}\n\nfunction TextMaskCustom (props) {\n    const { inputRef, mask, ...other } = props;\n  \n    return (\n        <MaskedInput\n            {...other}\n            ref={ref => {\n                inputRef(ref ? ref.inputElement : null);\n            }}\n            mask={mask} placeholderChar=\"x\"\n            showMask\n        />\n    );\n}\n\nfunction conformTextMask (mobile_number) {\n    const { conformedValue } = conformToMask(mobile_number, conforming_mobile_mask);\n    return conformedValue;\n}\n\nfunction removeNumberMask (data, type, area_code) {\n    const altered_data = [];\n    \n    if (type === \"mobile\") {\n        data.forEach((row, index) => {\n            const { mobile_number } = row;\n            mobile_number.sim_num = mobile_number.sim_num.replace(/[()+-\\s]/g, \"\");\n            altered_data.push(row);\n        });\n    } else {\n        data.forEach((row, index) => {\n            delete row.mobile_id;\n            const { landline_id, pte_code } = row;\n            if (landline_id === undefined) {\n                row.landline_id = 0;\n            }\n            row.landline_num = row.landline_num.replace(/[()+-\\s]/g, \"\");\n            row.pte_code = parseInt(pte_code);\n            if (isNaN(pte_code)) {\n                row.pte_code = 0;\n            }\n            row.area_code = parseInt(area_code);\n            altered_data.push(row);\n        });\n    }\n\n    return altered_data;\n}\n\nfunction userAffiliation (scope, site_details) {\n    const { municipality, province, region, site_id } = site_details;\n    let site = \"\";\n    let location = \"\";\n\n    if (scope === 0 || scope === 1) {\n        site = { value: site_id };\n        location = \"\";\n    } else if (scope === 2) {\n        site = \"\";\n        location = municipality;\n    } else if (scope === 3) {\n        site = \"\";\n        location = province;\n    } else if (scope === 4) {\n        site = \"\";\n        location = region;\n    }\n\n    return { site, location };\n}\n\nfunction contactFormValidation (user_details, contact_numbers, affiliation) {\n    const { first_name, last_name } = user_details;\n    const { scope, site, office, location } = affiliation;\n    const { mobile_nums, landline_nums } = contact_numbers;\n    let is_sim_num_invalid = false;\n    let is_affiliation_invalid = false;\n    let is_landline_num_invalid = false;\n    let button_state = null;\n\n    mobile_nums.forEach((row, index) => {\n        const { mobile_number: { sim_num } } = row;\n        if (is_sim_num_invalid === false) {\n            if (sim_num === \"\") { is_sim_num_invalid = true; }\n            else { is_sim_num_invalid = sim_num.includes(\"x\"); }\n        }\n    });\n\n    if (landline_nums.length !== 0)\n        landline_nums.forEach((row, index) => {\n            const { landline_num } = row;\n            if (is_landline_num_invalid === false) {\n                if (landline_num === \"\") { is_landline_num_invalid = true; }\n                else { is_landline_num_invalid = landline_num.includes(\"x\"); }\n            }\n        });\n\n    if (scope === 0 || scope === 1) {\n        if (site === \"\" || office === \"\") { is_affiliation_invalid = true; }\n        else { is_affiliation_invalid = false; }\n    } else if (scope === 2 || scope === 3 || scope === 4) {\n        if (location === \"\" || office === \"\") { is_affiliation_invalid = true; }\n        else { is_affiliation_invalid = false; }\n    } else if (scope === 5) {\n        if (location === \"\") { is_affiliation_invalid = true; }\n        else { is_affiliation_invalid = false; }\n    }\n\n    if (first_name === \"\" || last_name === \"\" || is_sim_num_invalid === true || is_affiliation_invalid === true || is_landline_num_invalid === true) {\n        button_state = true;\n    } else { button_state = false; }\n\n    return button_state;\n}\n\nfunction reducerFunction (state, action) {\n    const { type, category, payload } = action;\n    const state_copy = [...state];\n\n    let addend = {\n        status: 1, has_delete: true\n    };\n\n    if (category === \"email\") {\n        addend = \"\";\n    } else if (category === \"mobile\") {\n        addend = { ...addend, mobile_number: { sim_num: \"\", mobile_id: 0 } };\n    } else if (category === \"landline\") {\n        addend = { ...addend, landline_num: \"\" };\n    }\n\n    switch (type) {\n        case \"UPDATE\":\n            if (category === \"email\") {\n                state_copy[payload.key] = payload.value;\n            } else if (category === \"mobile\") {\n                if (payload.data === \"sim_num\") {\n                    state_copy[payload.key].mobile_number[payload.data] = payload.value;\n                } else {\n                    state_copy[payload.key][payload.data] = payload.value;\n                }\n            } else {\n                state_copy[payload.key][payload.data] = payload.value;\n            }\n            return [...state_copy];\n        case \"ADD\":\n            return [...state_copy, addend];\n        case \"DELETE\":\n            state_copy.splice(payload.key, 1);\n            return [...state_copy];\n        default:\n            break;\n    }\n\n    return [];\n}\n\nfunction getOfficesList (scope, offices_list = []) {\n    // const office_list = offices_obj[scope];\n    // const o = office_list.map(x => ({ id: x.toLowerCase(), label: x }));\n    const o = offices_list.filter(x => x.scope === scope)\n    .map(x => ({ id: x.name.toLowerCase(), label: x.name.toUpperCase() }));\n    return o;\n}\n\nfunction ContactForm (props) {\n    const {\n        setContactForm, chosenContact, isEditMode,\n        setContactFormForEdit, handleClose, isFromChatterbox,\n        setSnackbarKey\n    } = props;\n\n    const [offices_list, setOfficesList] = useState([]);\n\n    let initial_mobiles = [{\n        mobile_number: { sim_num: \"\", mobile_id: 0 }, status: 1\n    }];\n    \n    let initial_landlines = [];\n    let initial_emails = [];\n    let initial_scope = 0;\n    let initial_office = \"\";\n    let initial_office_list = [];\n    let initial_site = \"\";\n    let initial_location = \"\";\n    let initial_status = true;\n    let initial_ewi_recipient = true;\n    let initial_ground_reminder_recipient = false;\n    let initial_ewi_restriction = 0;\n    const initial_save_button_state = false;\n    let initial_user_details = {\n        first_name: \"\", last_name: \"\",\n        middle_name: \"\", nickname: \"\", user_id: 0\n    };\n    let initial_area_code = 0;\n    \n    const { sites } = useContext(GeneralContext);\n    if (isEditMode || isFromChatterbox) {\n        const {\n            mobile_numbers, ewi_recipient, ewi_restriction, landline_numbers,\n            emails, first_name, last_name, middle_name, nickname,\n            user_id, organizations, status, ground_reminder_recipient\n        } = chosenContact;\n        initial_user_details = { first_name, last_name, middle_name, nickname, user_id };\n        \n        if (organizations.length !== 0) {\n            const { scope, name } = organizations[0].organization;\n            const site_details = organizations[0].site;\n            initial_scope = scope;\n            initial_office = name;\n            initial_office_list = getOfficesList(scope, offices_list);\n            const { site, location } = userAffiliation(scope, site_details);\n            initial_site = site;\n            initial_location = location;\n            const { value } = site;\n            const temp_area_code = sites.filter(x => x.site_id === value);\n            initial_area_code = temp_area_code[0].area_code;\n        }\n\n        if (ewi_restriction !== null) {\n            if (ewi_restriction.length !== 0) {\n                const { alert_level } = ewi_restriction;\n                initial_ewi_restriction = alert_level;\n            }\n        }\n        const updated_mobile_numbers = mobile_numbers.map((row, index) => {\n            const new_data = JSON.parse(JSON.stringify(row));\n            const { mobile_number: { sim_num } } = new_data;\n            new_data.mobile_number.sim_num = conformTextMask(sim_num);\n            return new_data;\n        });\n\n        initial_mobiles = updated_mobile_numbers;\n        initial_landlines = landline_numbers;\n        initial_emails = emails;\n        initial_ewi_recipient = ewi_recipient === 1;\n        initial_ground_reminder_recipient = ground_reminder_recipient === 1;\n        initial_status = status === 1;\n    }\n\n    const municipalities = prepareGeographicalList(sites, \"municipality\");\n    const provinces = prepareGeographicalList(sites, \"province\");\n    const regions = prepareGeographicalList(sites, \"region\");\n\n    const scope_list = [\n        { id: 0, label: \"Community\" },\n        { id: 1, label: \"Barangay\" },\n        { id: 2, label: \"Municipal\", select_label: \"Municipality\", list: municipalities },\n        { id: 3, label: \"Provincial\", select_label: \"Province\", list: provinces },\n        { id: 4, label: \"Regional\", select_label: \"Region\", list: regions },\n        { id: 5, label: \"National\" }\n    ];\n\n    const restriction_list = [\n        { id: 0, label: \"No restrictions\" },\n        { id: -1, label: \"Do not send on extended and routine monitoring\" },\n        { id: 1, label: \"Do not send on Alert 1\" },\n        { id: 2, label: \"Do not send on Alert 2 and below\" }\n    ];\n    const [user_details, setUserDetails] = useState(initial_user_details);\n    const [scope, setScope] = useState(initial_scope);\n    const [site, setSite] = useState(initial_site);\n    const [location, setLocation] = useState(initial_location);\n    const [offices, setOffices] = useState(initial_office_list);\n    const [office, setOffice] = useState(initial_office);\n    const [mobile_nums, setMobileNums] = useReducer(reducerFunction, initial_mobiles);\n    const [landline_nums, setLandlineNums] = useReducer(reducerFunction, initial_landlines);\n    const [emails, setEmails] = useReducer(reducerFunction, initial_emails);\n    const [is_ewi_recipient, setEwiRecipient] = useState(initial_ewi_recipient);\n    const [is_ground_reminder_recipient, setGroundReminderRecipient] = useState(initial_ground_reminder_recipient);\n    const [is_active, setIsActive] = useState(initial_status);\n    const { enqueueSnackbar, closeSnackbar } = useSnackbar();\n    const [restriction, setRestriction] = useState(initial_ewi_restriction);\n    const [save_button_state, setSaveButtonState] = useState(initial_save_button_state);\n    const [area_code, setAreaCode] = useState(initial_area_code);\n\n    const closeButtonFn = () => {\n        if (isFromChatterbox) handleClose();\n        if (isEditMode) return setContactFormForEdit(false);\n        return setContactForm(false);\n    };\n\n    const nameChangeHandler = attr => event => {\n        setUserDetails({ ...user_details, [attr]: event.target.value });\n    };\n\n    const ewiRecipientHandler = event => setEwiRecipient(event.target.checked);\n    const groundReminderRecipientHandler = event => setGroundReminderRecipient(event.target.checked);\n    const isActiveHandler = event => setIsActive(event.target.checked);\n\n    const snackBarActionFn = key => (<Button\n        color=\"primary\"\n        onClick={() => { closeSnackbar(key); }}\n    >\n        Dismiss\n    </Button>);\n\n    useEffect(() => {\n        getAllOrganizations(data => {\n            setOfficesList(data);\n        });\n    }, []);\n\n    useEffect(() => {\n        if (site) {\n            const { value } = site;\n            const temp_area_code = sites.filter(x => x.site_id === value);\n            setAreaCode(temp_area_code[0].area_code);\n        }\n    }, [site]);\n\n    useEffect(() => {\n        if (scope !== \"\") {\n            const o = getOfficesList(scope, offices_list);\n            setOffices(o);\n\n            if (!isEditMode) {\n                setSite(\"\");\n                setLocation(\"\");\n                setOffice(\"\");\n            }\n        }\n    }, [scope, offices_list]);\n\n    useEffect(() => {\n        let button_state = true;\n        const affiliation = {\n            scope, site, office, location\n        };\n\n        const contact_numbers = {\n            mobile_nums, landline_nums\n        };\n\n        button_state = contactFormValidation(user_details, contact_numbers, affiliation);\n        setSaveButtonState(button_state);\n    }, [\n        user_details, mobile_nums, landline_nums,\n        scope, site, office, location\n    ]);\n\n    const queueUpdatingSnackbar = () => {\n        if (!isFromChatterbox) {\n            const key = enqueueSnackbar(\n                \"Updating contacts list...\",\n                { variant: \"warning\", persist: true }\n            );\n        \n            setSnackbarKey(key);\n        }\n    };\n\n    const handleLandlineNumbers = (event, index) => {\n        const data = {\n            type: \"UPDATE\",\n            payload: {\n                data: \"landline_num\",\n                value: event.target.value,\n                key: index\n            },\n            category: \"landline\"\n        };\n        setLandlineNums(data);\n    };\n\n    const handlePTEcode = (event, index) => {\n        const data = {\n            type: \"UPDATE\",\n            payload: {\n                data: \"pte_code\",\n                value: event.target.value,\n                key: index\n            },\n            category: \"landline\"\n        };\n        setLandlineNums(data);\n    };\n\n    const handleAddNewLandlineNumber = () => {\n\n    };\n\n    const saveFunction = () => {\n        const mobile_numbers = removeNumberMask(mobile_nums, \"mobile\");\n        const landline_numbers = removeNumberMask(landline_nums, \"landline\", area_code);\n        const ewi_recipient = is_ewi_recipient ? 1 : 0;\n        const ground_reminder_recipient = is_ground_reminder_recipient ? 1 : 0;\n        const active = is_active ? 1 : 0;\n        const final_data = {\n            user: {\n                ...user_details,\n                emails,\n                ewi_recipient,\n                ground_reminder_recipient,\n                restriction,\n                status: active\n            },\n            affiliation: {\n                site,\n                location,\n                scope,\n                office\n            },\n            contact_numbers: {\n                mobile_numbers,\n                landline_numbers\n            }\n        };\n\n        const snack_key = enqueueSnackbar(\n            \"Saving contact...\",\n            {\n                variant: \"warning\",\n                persist: true,\n                action: snackBarActionFn\n            }\n        );\n\n        closeButtonFn();\n        \n        saveContact(final_data, data => {\n            const { status, message } = data;\n            let variant;\n            closeSnackbar(snack_key);\n            if (status === true) {\n                queueUpdatingSnackbar();\n                variant = \"success\";\n            } else {\n                variant = \"error\";\n            }\n\n            enqueueSnackbar(\n                message,\n                {\n                    variant,\n                    autoHideDuration: 5000,\n                    action: snackBarActionFn\n                }\n            );\n        });\n    };\n \n    return (\n        <Grid\n            container spacing={1} \n            alignItems=\"center\" justify=\"space-evenly\"\n        >\n            {\n                !isFromChatterbox && <Fragment>\n                    <Grid item xs={2} style={{ textAlign: \"-webkit-center\" }}>\n                        <Avatar><Person /></Avatar>\n                    </Grid>\n\n                    <Grid item xs={9}>\n                        <Typography variant=\"h5\" align=\"center\">\n                            Contact Form\n                        </Typography>\n                    </Grid>\n    \n                    <Grid item xs={1} >\n                        <IconButton edge=\"start\" onClick={closeButtonFn}>\n                            <Close />\n                        </IconButton>\n                    </Grid>\n\n                    <Grid item xs={12} style={{ padding: \"12px 4px\" }} >\n                        <Divider />\n                    </Grid>\n                </Fragment>\n            }\n\n            <Grid item xs={12}>\n                <Typography variant=\"h6\" align=\"center\">\n                    Personal Details\n                </Typography>\n            </Grid>\n\n            <Grid item xs={6}>\n                <TextField\n                    label=\"First Name\"\n                    value={user_details.first_name}\n                    onChange={nameChangeHandler(\"first_name\")}\n                    margin=\"dense\"\n                    required\n                    error={user_details.first_name === \"\"}\n                />\n            </Grid>\n\n            <Grid item xs={6}>\n                <TextField\n                    label=\"Last Name\"\n                    value={user_details.last_name}\n                    onChange={nameChangeHandler(\"last_name\")}\n                    margin=\"dense\"\n                    required\n                    error={user_details.last_name === \"\"}\n                />\n            </Grid>\n\n            <Grid item xs={6}>\n                <TextField\n                    label=\"Middle Name\"\n                    value={user_details.middle_name || \"\"}\n                    onChange={nameChangeHandler(\"middle_name\")}\n                    margin=\"dense\"\n                />\n            </Grid>\n\n            <Grid item xs={6}>\n                <TextField\n                    label=\"Nickname\"\n                    value={user_details.nickname || \"\"}\n                    onChange={nameChangeHandler(\"nickname\")}\n                    margin=\"dense\"\n                />\n            </Grid>\n\n            <Grid item xs={12}>\n                <Typography variant=\"h6\" align=\"center\">\n                    Affiliation\n                </Typography>\n            </Grid>\n\n            <Grid item xs={12}>\n                <SelectInputForm\n                    div_id=\"scope\"\n                    label=\"Scope\"\n                    changeHandler={event => setScope(event.target.value)}\n                    value={scope}\n                    list={scope_list}\n                    mapping={{ id: \"id\", label: \"label\" }}\n                    required\n                    error={scope === \"\"}\n                />\n            </Grid>\n\n            {\n                [0, 1].includes(scope) && (\n                    <Grid item xs={6}>\n                        <DynaslopeSiteSelectInputForm\n                            value={site}\n                            changeHandler={value => setSite(value)}\n                        />\n                    </Grid>\n                )\n            }\n\n            {\n                [2, 3, 4].includes(scope) && (\n                    <Grid item xs={6}>\n                        <SelectInputForm\n                            div_id=\"location\"\n                            label={scope_list[scope].select_label}\n                            changeHandler={event => setLocation(event.target.value)}\n                            value={location}\n                            list={scope_list[scope].list}\n                            mapping={{ id: \"id\", label: \"label\" }}\n                            required\n                            error={location === \"\"}\n                        />\n                    </Grid>\n                )\n            }\n\n            {\n                offices.length > 0 && <Grid item xs={6}>\n                    <SelectInputForm\n                        div_id=\"office\"\n                        label=\"Office\"\n                        changeHandler={event => setOffice(event.target.value)}\n                        value={office}\n                        list={offices}\n                        mapping={{ id: \"id\", label: \"label\" }}\n                        required\n                        error={office === \"\"}\n                    />\n                </Grid>\n            }\n\n            <Grid item xs={6} style={{ textAlign: \"center\" }}>\n                <FormControl>\n                    <FormControlLabel\n                        control={\n                            <Checkbox\n                                checked={is_active}\n                                onChange={isActiveHandler}\n                                value=\"checkedA\"\n                                color=\"primary\"\n                            />\n                        }\n                        label=\"Active\"\n                    />\n                </FormControl>\n            </Grid>\n            \n            <Grid item xs={6} style={{ textAlign: \"center\" }}>\n                <FormControl>\n                    <FormControlLabel\n                        control={\n                            <Checkbox\n                                checked={is_ewi_recipient}\n                                onChange={ewiRecipientHandler}\n                                value=\"checkedB\"\n                                color=\"primary\"\n                            />\n                        }\n                        label=\"EWI Recipient\"\n                    />\n                </FormControl>\n            </Grid>\n\n            <Grid item xs={12} style={{ textAlign: \"center\" }}>\n                <FormControl>\n                    <FormControlLabel\n                        control={\n                            <Checkbox\n                                checked={is_ground_reminder_recipient}\n                                onChange={groundReminderRecipientHandler}\n                                value=\"checkedC\"\n                                color=\"primary\"\n                            />\n                        }\n                        label=\"Ground Data Reminder Recipient\"\n                    />\n                </FormControl>\n            </Grid>\n\n            <Grid item xs={12}>\n                <SelectInputForm\n                    div_id=\"ewi_restriction\"\n                    label=\"Ewi Restriction\"\n                    changeHandler={event => setRestriction(event.target.value)}\n                    value={restriction}\n                    list={restriction_list}\n                    mapping={{ id: \"id\", label: \"label\" }}\n                    required\n                    error={restriction === \"\"}\n                />\n            </Grid>\n\n            <Grid item xs={12}>\n                <Typography variant=\"h6\" align=\"center\">\n                    Contact Information\n                </Typography>\n            </Grid>\n\n            <Grid item xs={12}>\n                <Typography variant=\"body1\" align=\"center\">\n                    Mobile\n                </Typography>\n            </Grid>\n\n            {\n                mobile_nums.map((row, index) => {\n                    const { mobile_number: { sim_num }, status, has_delete } = row;\n                    const enable_delete = typeof has_delete !== \"undefined\";\n                    let is_sim_num_invalid = true;\n                    if (sim_num === \"\") {\n                        is_sim_num_invalid = true;\n                    } else {\n                        is_sim_num_invalid = sim_num.includes(\"x\");\n                    }\n                    return (\n                        <Fragment key={index}>\n                            <Grid item xs={7}>\n                                <FormControl fullWidth>\n                                    <TextField\n                                        label=\"Mobile Number\"\n                                        value={sim_num}\n                                        onChange={event => setMobileNums({\n                                            type: \"UPDATE\",\n                                            payload: {\n                                                data: \"sim_num\",\n                                                value: event.target.value,\n                                                key: index\n                                            },\n                                            category: \"mobile\"\n                                        })}\n                                        InputProps={{\n                                            inputComponent: TextMaskCustom,\n                                            inputProps: { mask: mobile_number_mask }\n                                        }}\n                                        required\n                                        error={is_sim_num_invalid}\n                                    />\n                                </FormControl>\n                            </Grid>\n\n                            <Grid item xs={3} style={{ textAlign: \"center\" }}>\n                                <FormControlLabel\n                                    style={{ margin: 0 }}\n                                    control={\n                                        <Checkbox\n                                            checked={Boolean(status)}\n                                            onChange={event => setMobileNums({\n                                                type: \"UPDATE\",\n                                                payload: {\n                                                    data: \"status\",\n                                                    value: event.target.checked ? 1 : 0,\n                                                    key: index\n                                                },\n                                                category: \"mobile\"\n                                            })}\n                                            color=\"primary\"\n                                        />\n                                    }\n                                    label=\"Active\"\n                                />\n                            </Grid>\n                            {\n                                index !== 0 && enable_delete ? (\n                                    <Grid item xs={2} style={{ textAlign: \"center\" }}>\n                                        <IconButton\n                                            edge=\"end\"\n                                            size=\"small\"\n                                            aria-label=\"delete\"\n                                            onClick={() => setMobileNums({\n                                                type: \"DELETE\",\n                                                payload: { key: index }\n                                            })}\n                                        >\n                                            <DeleteIcon />\n                                        </IconButton>\n                                    </Grid>\n                                ) : (\n                                    <Hidden>\n                                        <Grid item xs={2} />\n                                    </Hidden>\n                                )\n                            }        \n                        </Fragment>\n                    );\n                })\n            }\n\n            <Grid item xs={12} style={{ textAlign: \"right\" }}>\n                <Button \n                    variant=\"contained\"\n                    color=\"primary\"\n                    size=\"small\"\n                    startIcon={<AddCircle />}\n                    onClick={() => setMobileNums({ type: \"ADD\", category: \"mobile\" })}\n                >\n                    Add number\n                </Button>\n            </Grid>\n\n            <Grid item xs={12}>\n                <Typography variant=\"body1\" align=\"center\">\n                    Landline\n                </Typography>\n            </Grid>\n\n            {\n                landline_nums.length === 0 && (\n                    <Grid item xs={12}>\n                        <Typography variant=\"body2\" color=\"textSecondary\" align=\"center\" paragraph>\n                            No landline number saved\n                        </Typography>\n                    </Grid>\n                )\n            }\n\n            {\n                landline_nums.map((row, index) => {\n                    const { landline_num, pte_code } = row;\n                    let is_landline_valid = true;\n                    if (landline_num === \"\" ) {\n                        is_landline_valid = true;\n                    } else {\n                        is_landline_valid = landline_num.includes(\"x\");\n                    }\n                    return (\n                        <Fragment key={index}>\n                            <Grid item xs={3}>\n                                <FormControl fullWidth>\n                                    <TextField\n                                        label=\"Area Code\"\n                                        value={`0${area_code}`}\n                                    />\n                                </FormControl>\n                            </Grid>\n                            <Grid item xs={3} style={{ textAlign: \"center\" }}>\n                                <FormControl fullWidth>\n                                    <InputLabel id=\"select-pte-cod-labele\">PTE Code</InputLabel>\n                                    <Select\n                                        labelId=\"select-pte-code-label\"\n                                        id=\"select-pte-code\"\n                                        required\n                                        value={pte_code || 0}\n                                        onChange={event => handlePTEcode(event, index)}\n                                    >\n                                        <MenuItem value={0}>\n                                            <em>---</em>\n                                        </MenuItem>\n                                        <MenuItem value={3}>3 - Bayan Telco</MenuItem>\n                                        <MenuItem value={5}>5 - Eastern Comms. PH</MenuItem>\n                                        <MenuItem value={6}>6 - ABS-CBN Convergence</MenuItem>\n                                        <MenuItem value={7}>7 - Globe Telecom, Inc.</MenuItem>\n                                        <MenuItem value={8}>8 - PLDT, Inc.</MenuItem>\n                                    </Select>\n                                </FormControl>\n                            </Grid>\n                            <Grid item xs={5}>\n                                <FormControl fullWidth>\n                                    <TextField\n                                        label=\"Landline Number\"\n                                        value={landline_num}\n                                        onChange={event => handleLandlineNumbers(event, index)}\n                                        InputProps={{\n                                            inputComponent: TextMaskCustom,\n                                            inputProps: { mask: [/\\d/, /\\d/, /\\d/, \"-\", /\\d/, /\\d/, /\\d/, /\\d/] }\n                                        }}\n                                        required\n                                        error={is_landline_valid}\n                                    />\n                                </FormControl>\n                            </Grid>\n\n                            <Grid item xs={1} style={{ textAlign: \"center\" }}>\n                                <IconButton\n                                    edge=\"end\"\n                                    size=\"small\"\n                                    aria-label=\"delete\"\n                                    onClick={() => setLandlineNums({\n                                        type: \"DELETE\",\n                                        payload: { key: index }\n                                    })}\n                                >\n                                    <DeleteIcon />\n                                </IconButton>\n                            </Grid>\n                                \n                        </Fragment>\n                    );\n                })\n            }\n\n            <Grid item xs={12} style={{ textAlign: \"right\" }}>\n                <Button \n                    variant=\"contained\"\n                    color=\"primary\"\n                    size=\"small\"\n                    startIcon={<AddCircle />}\n                    onClick={() => setLandlineNums({ type: \"ADD\", category: \"landline\" })}\n                >\n                    Add number\n                </Button>\n            </Grid>\n\n            <Grid item xs={12}>\n                <Typography variant=\"body1\" align=\"center\">\n                    Email\n                </Typography>\n            </Grid>\n\n            {\n                emails.length === 0 && (\n                    <Grid item xs={12}>\n                        <Typography variant=\"body2\" color=\"textSecondary\" align=\"center\" paragraph>\n                            No email address saved\n                        </Typography>\n                    </Grid>\n                )\n            }\n\n            {\n                emails.map((email, index) => (\n                    <Fragment key={index}>\n                        <Grid item xs={10}>\n                            <FormControl fullWidth>\n                                <TextField\n                                    label=\"Email\"\n                                    value={email.email}\n                                    onChange={event => setEmails({\n                                        type: \"UPDATE\",\n                                        payload: {\n                                            value: event.target.value,\n                                            key: index\n                                        },\n                                        category: \"email\"\n                                    })}\n                                />\n                            </FormControl>\n                        </Grid>\n\n                        <Grid item xs={2} style={{ textAlign: \"center\" }}>\n                            <IconButton\n                                edge=\"end\"\n                                size=\"small\"\n                                aria-label=\"delete\"\n                                onClick={() => setEmails({\n                                    type: \"DELETE\",\n                                    payload: { key: index }\n                                })}\n                            >\n                                <DeleteIcon />\n                            </IconButton>\n                        </Grid>\n                    </Fragment>\n                ))\n            }\n\n            <Grid item xs={12} style={{ textAlign: \"right\" }}>\n                <Button \n                    variant=\"contained\"\n                    color=\"primary\"\n                    size=\"small\"\n                    startIcon={<AddCircle />}\n                    onClick={() => setEmails({ type: \"ADD\", category: \"email\" })}\n                >\n                    Add email\n                </Button>\n            </Grid>\n\n            <Grid item xs={12} style={{ padding: \"16px 4px\" }} >\n                <Divider />\n            </Grid>\n\n            <Grid item xs={12} style={{ textAlign: \"right\" }}>\n                <Button \n                    color=\"secondary\" \n                    variant=\"contained\"\n                    style={{ marginRight: 6 }} \n                    onClick={() => saveFunction()}\n                    disabled={save_button_state}\n                >\n                    Save\n                </Button>\n                <Button variant=\"contained\" onClick={closeButtonFn}>\n                    Cancel\n                </Button>\n            </Grid>\n        </Grid>\n    );\n}\n\nexport default React.memo(ContactForm);","import io from \"socket.io-client\";\nimport { host } from \"../config\";\n\nlet socket;\n\nfunction connectToWebsocket () {\n    if (typeof socket === \"undefined\" || socket === null) {\n        socket = io(`${host}/communications`, {\n            reconnectionDelay: 10000,\n            reconnectionAttempts: 30,\n            transports: [\"websocket\"]\n        });\n    }\n}\n\nfunction subscribeToWebSocket (reconnect_callback, page) {\n    connectToWebsocket();\n\n    if (page === \"chatterbox\") {\n        socket.emit(\"get_latest_messages\");\n        socket.emit(\"get_all_mobile_numbers\");\n        socket.emit(\"get_all_contacts\");\n    } else if (page === \"contacts\") {\n        socket.emit(\"get_all_contacts\");\n    }\n\n    socket.on(\"reconnecting\", () => {\n        reconnect_callback(true);\n    });\n\n    socket.on(\"reconnect\", () => {\n        reconnect_callback(false);\n    });\n\n    socket.on(\"reconnect_failed\", () => {\n        // reconnect_callback(false);\n        console.log(\"failed\");\n    });\n}\n\nfunction sendWSMessage (key) {\n    connectToWebsocket();\n\n    socket.emit(key);\n}\n\nfunction receiveLatestMessages (callback) {\n    connectToWebsocket();\n\n    socket.on(\"receive_latest_messages\", data => {\n        console.log(\"Latest messages\", data);\n        callback(data);\n    });\n}\n\nfunction removeReceiveLatestMessages () {\n    socket.removeListener(\"receive_latest_messages\");\n}\n\nfunction receiveAllContacts (callback) {\n    connectToWebsocket();\n\n    socket.on(\"receive_all_contacts\", data => {\n        console.log(\"All Contacts\", data);\n        callback(data);\n    });\n}\n\nfunction removeReceiveAllContacts () {\n    socket.removeListener(\"receive_all_contacts\");\n}\n\nfunction receiveMobileIDRoomUpdate (callback) {\n    connectToWebsocket();\n\n    socket.on(\"receive_mobile_id_room_update\", data => {\n        console.log(\"Mobile ID Room Update\", data);\n        callback(data);\n    });\n}\n\nfunction removeReceiveMobileIDRoomUpdateListener () {\n    socket.removeListener(\"receive_mobile_id_room_update\");\n}\n\nfunction receiveAllMobileNumbers (callback) {\n    connectToWebsocket();\n\n    socket.on(\"receive_all_mobile_numbers\", data => {\n        console.log(\"All Saved Mobile Numbers\", data);\n        callback(data);\n    });\n}\n\nfunction removeReceiveAllMobileNumbers () {\n    socket.removeListener(\"receive_all_mobile_numbers\");\n}\n\nfunction receiveSearchResults (callback) {\n    socket.on(\"receive_search_results\", data => {\n        console.log(\"Chatterbox Search Results\", data);\n        callback(data);\n    });\n}\n\nfunction removeReceiveSearchResults () {\n    socket.removeListener(\"receive_search_results\");\n}\n\nfunction sendMessageToDB (data, callback) {\n    socket.emit(\"send_message_to_db\", data, ret => {\n        if (typeof callback !== \"undefined\")\n            callback(ret);\n    });\n}\n\nfunction unsubscribeToWebSocket () {\n    socket.close();\n}\n\n\nexport {\n    socket, subscribeToWebSocket, unsubscribeToWebSocket, \n    receiveMobileIDRoomUpdate, removeReceiveMobileIDRoomUpdateListener,\n    sendMessageToDB, receiveSearchResults, removeReceiveSearchResults,\n    receiveAllMobileNumbers, receiveLatestMessages, receiveAllContacts,\n    removeReceiveAllContacts, removeReceiveLatestMessages, sendWSMessage,\n    removeReceiveAllMobileNumbers\n};","import React, { createContext, useState, useEffect, useReducer } from \"react\";\nimport { receiveAllContacts, removeReceiveAllContacts } from \"../../../websocket/communications_ws\";\n\nexport const CommsContext = createContext();\n\nconst initial_state = {\n    sites: [],\n    orgs: [],\n    only_ewi_recipients: false,\n    include_inactive_numbers: false,\n    ts_start: null,\n    ts_end: null,\n    string_search: \"\",\n    tag_search: { value: \"\" },\n    mobile_number_search: \"\",\n    name_search: \"\"\n};\n\nfunction reducer (state, action) {\n    const { type, value } = action;\n\n    switch (type) {\n        case \"UPDATE_SITES\": {\n            let temp_value = value;\n            if (temp_value === null) {\n                temp_value = [];\n            }\n\n            return {\n                ...state,\n                sites: temp_value\n            };\n        }\n\n        case \"UPDATE_ORGS\": {\n            let temp_value = value;\n            if (temp_value === null) {\n                temp_value = [];\n            }\n\n            return {\n                ...state,\n                orgs: temp_value\n            };\n        }\n\n        case \"UPDATE_ONLY_EWI_RECIPIENTS\": {\n            return {\n                ...state,\n                only_ewi_recipients: value\n            };\n        }\n\n        case \"UPDATE_INCLUDE_INACTIVE_NUMBERS\": {\n            return {\n                ...state,\n                include_inactive_numbers: value\n            };\n        }\n\n        case \"UPDATE_TS_START\": {\n            return {\n                ...state,\n                ts_start: value\n            };\n        }\n\n        case \"UPDATE_TS_END\": {\n            return {\n                ...state,\n                ts_end: value\n            };\n        }\n\n        case \"UPDATE_STRING_SEARCH\": {\n            return {\n                ...state,\n                string_search: value\n            };\n        }\n\n        case \"UPDATE_TAG_SEARCH\": {\n            let temp_value = value;\n            if (temp_value === null) {\n                temp_value = { value: \"\" };\n            }\n\n            return {\n                ...state,\n                tag_search: temp_value\n            };\n        }\n\n        case \"UPDATE_MOBILE_NUMBER_SEARCH\": {\n            return {\n                ...state,\n                mobile_number_search: value\n            };\n        }\n\n        case \"UPDATE_NAME_SEARCH\": {\n            let temp_value = value;\n            if (temp_value === null) {\n                temp_value = \"\";\n            }\n\n            return {\n                ...state,\n                name_search: temp_value\n            };\n        }\n\n        case \"UPDATE_ALL_DATA\":\n            return { ...value };\n\n        case \"RESET\":\n            return { ...initial_state };\n\n        default: return { ...state };\n    }\n}\n\nexport function CommsProvider ({ children }) {\n    const [contacts, setContacts] = useState([]);\n    const [search_state, search_dispatch] = useReducer(reducer, initial_state);\n    \n    useEffect(() => {\n        receiveAllContacts(data => setContacts(data));\n\n        return () => { removeReceiveAllContacts(); };\n    }, []);\n\n    const value = { contacts, search_state, search_dispatch };\n    return <CommsContext.Provider value={value}>\n        {children}\n    </CommsContext.Provider>;\n}","import React, { useState, useContext } from \"react\";\n\nimport Dialog from \"@material-ui/core/Dialog\";\nimport DialogContent from \"@material-ui/core/DialogContent\";\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\nimport DialogContentText from \"@material-ui/core/DialogContentText\";\nimport FormControl from \"@material-ui/core/FormControl\";\nimport Radio from \"@material-ui/core/Radio\";\nimport RadioGroup from \"@material-ui/core/RadioGroup\";\nimport FormControlLabel from \"@material-ui/core/FormControlLabel\";\nimport DialogActions from \"@material-ui/core/DialogActions\";\nimport Button from \"@material-ui/core/Button\";\nimport Grid from \"@material-ui/core/Grid\";\nimport Checkbox from \"@material-ui/core/Checkbox\";\nimport Tooltip from \"@material-ui/core/Tooltip\";\n\nimport { useSnackbar } from \"notistack\";\n\nimport ContactForm from \"../contacts/ContactForm\";\nimport SelectMultipleWithSuggest from \"../../reusables/SelectMultipleWithSuggest\";\nimport { CommsContext } from \"./CommsContext\";\nimport { attachMobileNumberToExistingUser } from \"../ajax\";\n\nfunction SaveContactModal (props) {\n    const {\n        open, setSaveContactModal, mobileDetails\n    } = props;\n    const { sim_num, mobile_id } = mobileDetails;\n    const unknown_number = {\n        mobile_number: { sim_num, mobile_id },\n        priority: 0,\n        status: 1\n    };\n\n    const data = {\n        emails: [],\n        ewi_recipient: [],\n        ewi_restriction: [],\n        landline_numbers: [],\n        first_name: \"\",\n        last_name: \"\",\n        middle_name: \"\",\n        nickname: \"\",\n        user_id: 0,\n        organizations: [],\n        status: 0,\n        mobile_numbers: [unknown_number]\n    };\n    const initial_user_data = data;\n\n    const { contacts } = useContext(CommsContext);\n    const [save_type, setSaveType] = useState(\"existing\");\n    const [is_edit_mode, setEditMode] = useState(true);\n    const [selected_contact, setSelectedContact] = useState(null);\n    const [is_active, setIsActive] = useState(true);\n    const { enqueueSnackbar } = useSnackbar();\n\n    const options = contacts.map(row => {\n        const { user_id, first_name, last_name } = row;\n        return {\n            label: `${first_name} ${last_name}`,\n            value: user_id,\n            data: row\n        };\n    });\n\n    const setContactForm = bool => {\n        setEditMode(false);\n    };\n\n    const setContactFormForEdit = bool => {\n        setEditMode(bool);\n    };\n\n    const handleClose = () => {\n        setSaveContactModal(false);\n    };\n\n    const handleSave = () => {\n        const input = {\n            user_id: selected_contact.value,\n            mobile_id,\n            status: is_active ? 1 : 0\n        };\n\n        attachMobileNumberToExistingUser(input, ret => {\n            const { status, message } = ret;\n            let variant;\n            if (status === true) {\n                handleClose();\n                variant = \"success\";\n            } else {\n                variant = \"error\";\n            }\n\n            enqueueSnackbar(\n                message,\n                {\n                    variant,\n                    autoHideDuration: 4000\n                }\n            );\n        });\n    };\n\n    return (\n        <Dialog\n            open={open}\n            aria-labelledby=\"form-dialog-title\"\n        >\n            <DialogTitle id=\"form-dialog-title\">{`Save mobile number (+${sim_num})`}</DialogTitle>\n            <DialogContent>\n                <DialogContentText>\n                    Choose whether to add number to an existing contact or fill-out a new contact form.\n                </DialogContentText>\n                <FormControl component=\"fieldset\" style={{ display: \"flex\", marginBottom: 16 }}>\n                    <RadioGroup\n                        aria-label=\"save-number-options\"\n                        name=\"save-number-options\"\n                        row\n                        style={{ justifyContent: \"space-around\" }}\n                        value={save_type}\n                        onChange={e => setSaveType(e.target.value)}\n                    >\n                        <FormControlLabel value=\"existing\" control={<Radio />} label=\"Add to existing contact\" />\n                        <FormControlLabel value=\"new\" control={<Radio />} label=\"Create new contact\" />\n                    </RadioGroup>\n                </FormControl>\n\n                {\n                    save_type === \"existing\" && (\n                        <Grid container spacing={2} style={{ marginBottom: 200 }}>\n                            <Grid item xs={8}>\n                                <SelectMultipleWithSuggest\n                                    label=\"Contact Person\"\n                                    options={options}\n                                    value={selected_contact}\n                                    changeHandler={e => setSelectedContact(e)}\n                                    placeholder=\"Type name of contact person\"\n                                    openMenuOnClick={false}\n                                    renderDropdownIndicator={false}\n                                    isClearable\n                                />\n                            </Grid>\n\n                            <Grid item xs={4}>\n                                <Tooltip\n                                    title=\"Inactive numbers will not receive EWI if a contact is an EWI recipient.\"\n                                    arrow\n                                >\n                                    <FormControlLabel\n                                        control={\n                                            <Checkbox\n                                                checked={is_active}\n                                                onChange={e => setIsActive(e.target.checked)}\n                                                name=\"is_active\"\n                                                color=\"primary\"\n                                            />\n                                        }\n                                        label=\"Set as active\"\n                                    />\n                                </Tooltip>\n                            </Grid>\n                        </Grid>\n                    )\n                }\n                \n                { \n                    save_type === \"new\" && (\n                        <ContactForm\n                            setContactForm={setContactForm}\n                            chosenContact={initial_user_data}\n                            isEditMode={is_edit_mode}\n                            setContactFormForEdit={setContactFormForEdit}\n                            handleClose={handleClose}\n                            isFromChatterbox\n                        />\n                    )\n                }\n            </DialogContent>\n\n            {\n                save_type === \"existing\" && (\n                    <DialogActions>\n                        <Button variant=\"text\" onClick={handleSave} color=\"secondary\">\n                            Save\n                        </Button>\n                        <Button variant=\"text\" onClick={handleClose} color=\"primary\">\n                            Cancel\n                        </Button>\n                    </DialogActions>\n                )\n            }\n        </Dialog>\n    );\n}\n\nexport default React.memo(SaveContactModal);","import React, { Fragment } from \"react\";\nimport { Link } from \"react-router-dom\";\n\nimport {\n    List, ListItem, ListItemAvatar,\n    ListItemText, Avatar, Grid, \n    Chip, Typography, makeStyles,\n    IconButton, Paper\n} from \"@material-ui/core\";\nimport { isWidthUp } from \"@material-ui/core/withWidth\";\nimport {\n    CallReceived, CallMade, MoreVert,\n    Cancel, RadioButtonUnchecked, CheckCircle,\n    MobileOff\n} from \"@material-ui/icons\";\n\nimport moment from \"moment\";\n\nimport GenericAvatar from \"../../../images/generic-user-icon.jpg\";\nimport { getUserOrganizations, simNumFormatter } from \"../../../UtilityFunctions\";\nimport OptionsModal from \"./OptionsModal\";\nimport BlockNumberModal from \"./BlockNumberModal\";\nimport SaveContactModal from \"./SaveContactModal\";\n\nconst useStyles = makeStyles(theme => ({\n    inline: {\n        display: \"inline\",\n    },\n    overflowEllipsis: {\n        fontSize: \"inherit\",\n        textOverflow: \"ellipsis\",\n        whiteSpace: \"nowrap\",\n        overflow: \"hidden\"\n    },\n    link: { textDecoration: \"none\" },\n    noFlexGrow: { flexGrow: 0 },\n    hidden: { display: \"none !important\" },\n    sentIcon: { fontSize: \"1.10rem\" }\n}));\n\nexport function mobileUserFormatter (users, first_message) {\n    const sender_arr = [];\n    let orgs_arr = [];\n    users.forEach(row => {\n        const { user, status } = row;\n        const { first_name, last_name, organizations } = user;\n        const sender = `${first_name} ${last_name}`;\n        const orgs = getUserOrganizations(organizations);\n        if (users.length === 1) orgs_arr = [...orgs];\n        let org = sender;\n        let level = null;\n        if (orgs.length > 0) {\n            org = `${orgs[0].toUpperCase()}: ${orgs.slice(1).join(\", \")}`;\n            level = orgs[0];\n        }\n        \n        sender_arr.push({ sender, org, level, inactive: !status });\n    });\n\n    return { sender_arr, orgs_arr };\n}\n\nfunction returnTS (ts_received) {\n    const moment_ts = moment(ts_received);\n    const is_today = moment_ts.isSame(moment(), \"day\");\n    const ts = is_today ? moment_ts.format(\"HH:mm\") : moment_ts.format(\"MMM D\");\n\n    return ts;\n}\n\nfunction SecondaryInformation (classes, first_message) {\n    const { \n        sms_msg: message, ts: msg_ts, \n        source, send_status, ts_sent\n    } = first_message;\n    const ts = returnTS(msg_ts);\n\n    return (\n        <Grid \n            container \n            justify=\"space-between\"\n            spacing={0}\n        >\n            <Grid item xs={1} style={{ flexBasis: 0, marginRight: 6 }}>\n                {\n                    source === \"inbox\" ? (\n                        <CallReceived fontSize=\"small\" />\n                    ) : (\n                        <CallMade fontSize=\"small\" />\n                    )\n                }\n            </Grid>\n            <Grid item xs className={classes.overflowEllipsis}>\n                {message}\n            </Grid>\n            <Grid\n                item\n                style={{ marginRight: 8 }}\n                className={classes.noFlexGrow}\n            >\n                {ts}\n            </Grid>\n            <Grid item style={{ paddingTop: 2, marginRight: 8 }}>\n                {\n                    (send_status === 0 || (send_status === null && ts_sent !== null)) && <RadioButtonUnchecked className={classes.sentIcon} />\n                }\n                {\n                    send_status > 0 && send_status <= 5 && (\n                        <CheckCircle color=\"primary\" className={classes.sentIcon} />\n                    )\n                }\n                {\n                    (send_status === -1 || send_status > 5) && <Cancel color=\"error\" className={classes.sentIcon} />\n                }\n            </Grid>\n        </Grid>\n    );\n}\n\n// eslint-disable-next-line max-params\nfunction MessageListItem (row, props, openOptionsModal, index) {\n    const { messages, mobile_details } = row;\n    const { classes, url, width, async, is_desktop, searchFilters } = props;\n\n    const { mobile_id, sim_num, users } = mobile_details;\n    const sim_number = simNumFormatter(sim_num);\n    let senders = [{ sender: sim_number, org: sim_number, inactive: false }];\n    let orgs = [];\n\n    const is_unknown = users.length === 0; // users === null;\n    if (!is_unknown) {\n        const { sender_arr, orgs_arr } = mobileUserFormatter(users);\n        senders = sender_arr;\n        orgs = orgs_arr;\n    }\n\n    let search_filters = null;\n    if (typeof searchFilters !== \"undefined\") {\n        search_filters = { ...searchFilters };\n\n        if (messages.length > 0) {\n            const [first_message] = messages;\n            const { is_per_convo, ts } = first_message;\n\n            if (is_per_convo) {\n                search_filters.ts_end = ts;\n            }\n        }\n    }\n    \n    const no_convo_message = searchFilters ? \"No conversations\" : \"No conversation yet\";\n    \n    const on_option_button_click = e => {\n        e.preventDefault();\n        openOptionsModal(is_unknown, mobile_details);\n    };\n\n    const InactiveIcon = <MobileOff\n        style={{ color: \"red\", marginRight: 6 }}\n        fontSize=\"small\" titleAccess=\"Inactive number\"/>;\n\n    return (\n        <Link \n            to={{\n                pathname: `${url}/${mobile_id}`,\n                state: {\n                    async, search_filters,\n                    test: \"data\"\n                }\n            }} \n            key={`${index}-${mobile_id}`} \n            className={classes.link}\n        >\n            <ListItem alignItems=\"center\" button>\n                <ListItemAvatar>\n                    <Avatar alt=\"User\" src={GenericAvatar} className={classes.bigAvatar} />\n                </ListItemAvatar>\n                <ListItemText\n                    primary={\n                        <Grid container spacing={0} justify=\"flex-start\" alignItems=\"center\">\n                            <Grid item xs className={classes.noFlexGrow}>\n                                <Typography \n                                    variant=\"body1\" \n                                    className={classes.overflowEllipsis}\n                                    component=\"div\"\n                                    style={{ display: \"flex\", alignItems: \"center\" }}\n                                >\n                                    {senders.map((row, i) => {\n                                        return (\n                                            <Fragment key={`${row.sender}-${mobile_id}`}>\n                                                {senders.length > 1 && row.inactive && InactiveIcon}\n                                                <span title={row.org} \n                                                    style={{ paddingRight: 4 }}\n                                                >\n                                                    {row.sender}{i < senders.length - 1 && \",\"}\n                                                </span>\n                                            </Fragment>\n                                        );\n                                    })}\n                                </Typography>\n                            </Grid>\n                            \n                            {\n                                orgs.map((x, i) => {\n                                    const color = i === 0 ? \"secondary\" : \"primary\";\n                                    return (\n                                        <Grid key={i} item xs className={classes.noFlexGrow}>\n                                            <Chip color={color} size=\"small\" label={x} />\n                                        </Grid>\n                                    );\n                                })\n                            }\n\n                            <Grid \n                                item xs={6} sm\n                                container justify={isWidthUp(\"sm\", width) ? \"flex-end\" : \"flex-start\"}\n                                alignItems=\"center\"\n                            >\n                                {\n                                    (senders.length === 1 && senders[0].inactive) && InactiveIcon\n                                }\n\n                                <Typography \n                                    variant=\"subtitle2\" \n                                    color=\"textSecondary\"\n                                >\n                                    {sim_number}\n                                </Typography>\n                            </Grid>\n                            <Grid \n                                item xs \n                                style={{ \n                                    textAlign: \"right\",\n                                    flexGrow: is_desktop ? 0 : 1,\n                                    flexBasis: \"auto\" \n                                }}\n                            >\n                                <IconButton size=\"small\" onClick={on_option_button_click}>\n                                    <MoreVert />\n                                </IconButton>\n                            </Grid>\n                        </Grid>\n                    }\n                    primaryTypographyProps={{\n                        className: classes.overflowEllipsis\n                    }}\n                    secondary={\n                        messages.length > 0 ? (\n                            SecondaryInformation(classes, messages[0])\n                        ) : (\n                            <div style={{ textAlign: \"center\" }}>{no_convo_message}</div>\n                        )\n                    }\n                    secondaryTypographyProps={{ component: \"div\" }}\n                />\n            </ListItem>\n        </Link>\n    );\n}\n\nfunction MessageList (comp_props) {\n    const { messagesArr, hidden } = comp_props;\n    const classes = useStyles();\n    const props = { ...comp_props, classes };\n\n    const [open_options, setOpenOptions] = React.useState(false);\n    const [is_unregistered, setIfUnregistered] = React.useState(false);\n    const [open_block_modal, setBlockModal] = React.useState(false);\n    const [open_save_contact_modal, setSaveContactModal] = React.useState(false);\n    const [chosen_mobile, setChosenMobile] = React.useState({});\n\n    const openOptionsModal = (is_unreg, mobile_details) => {\n        setIfUnregistered(is_unreg);\n        setChosenMobile(mobile_details);\n        setOpenOptions(true);\n    };\n\n    const handleOptionsClose = value => {\n        setOpenOptions(false);\n    };\n    \n    return (\n        <Fragment>\n            {\n                messagesArr.length === 0 ? (\n                    <Paper\n                        style={{\n                            height: \"30vh\", padding: 60, display: \"flex\",\n                            justifyContent: \"center\", alignItems: \"center\",\n                            background: \"gainsboro\", border: \"4px solid #CCCCCC\",\n                            marginTop: 30\n                        }}\n                        className={ hidden ? classes.hidden : \"\" }\n                    >\n                        <div>No conversations</div>\n                    </Paper>\n                ) : (\n                    <List dense className={ hidden ? classes.hidden : \"\" }>\n                        {\n                            messagesArr.map((row, index) => MessageListItem(row, props, openOptionsModal, index))\n                        }\n                    </List>\n                )\n            }\n\n            <OptionsModal \n                open={open_options}\n                onClose={handleOptionsClose}\n                isUnregistered={is_unregistered}\n                setBlockModal={setBlockModal}\n                setSaveContactModal={setSaveContactModal}\n            />\n\n            <BlockNumberModal\n                open={open_block_modal}\n                setBlockModal={setBlockModal}\n                mobileDetails={chosen_mobile}\n                setOpenOptions={setOpenOptions}\n            />\n\n            <SaveContactModal\n                open={open_save_contact_modal}\n                setSaveContactModal={setSaveContactModal}\n                mobileDetails={chosen_mobile}\n                setOpenOptions={setOpenOptions}\n            />\n        </Fragment>\n    );\n}\n\nexport default MessageList;","import React, { useState, useEffect, Fragment } from \"react\";\n\nimport {\n    Dialog, DialogTitle, DialogContent,\n    DialogContentText, DialogActions,\n    Button, withMobileDialog, makeStyles,\n    Radio, RadioGroup, FormControlLabel,\n    FormLabel,\n    CircularProgress\n} from \"@material-ui/core\";\n\nimport axios from \"axios\";\nimport moment from \"moment\";\n\nimport GeneralStyles from \"../../../GeneralStyles\";\nimport SelectMultipleWithSuggest from \"../../reusables/SelectMultipleWithSuggest\";\nimport { SlideTransition, FadeTransition } from \"../../reusables/TransitionList\";\nimport { host } from \"../../../config\";\nimport { handleUpdateInsertTags, handleDeleteTags } from \"../ajax\";\nimport { getCurrentUser } from \"../../sessions/auth\";\nimport { mobileUserFormatter } from \"./MessageList\";\nimport DynaslopeSiteSelectInputForm from \"../../reusables/DynaslopeSiteSelectInputForm\";\n\nconst useStyles = makeStyles(theme => GeneralStyles(theme));\n\nfunction prepareContactPerson (mobileDetails) {\n    const { sim_num, users } = mobileDetails;\n    let name = sim_num;\n\n    if (users.length > 0) {\n        const formatted_users = mobileUserFormatter(users, false);\n        const { sender_arr } = formatted_users;\n        const temp = [];\n        sender_arr.forEach(row => {\n            const { sender, level, inactive } = row;\n            if (!inactive) {\n                const position = level !== null ? `${level} ` : \"\";\n                temp.push(`${position}${sender}`);\n            }\n        });\n\n        if (temp.length > 0) name = temp.join(\", \");\n        if (temp.length > 1) name += \"(shared number)\";\n    }\n\n    return name;\n}\n\nfunction useFetchTagOptions (tag_selection) {\n    const [tags, update_tags] = useState([]);\n    const cancel_token = axios.CancelToken;\n    const source = cancel_token.source();\n\n    useEffect(() => {\n        const api_link = `${host}/api/chatterbox/get_message_tag_options/sms${tag_selection}_users`;\n\n        axios.get(api_link, { cancelToken: source.token })\n        .then(({ data }) => {\n            const arr = data.map(row => ({\n                value: row.tag_id,\n                label: row.tag\n            }));\n\n            update_tags(arr);\n        })\n        .catch(error => {\n            console.log(error);\n        });\n\n        // return source.cancel();\n    }, [tag_selection]);\n\n    return tags;\n}\n\nfunction preparePassedTags (tag_obj) {\n    const { tags } = tag_obj;\n\n    const tag_arr = tags.map(x => ({\n        value: x.tag_id,\n        label: x.tag.tag\n    }));\n\n    return tag_arr;\n}\n\nfunction ChatterboxTagModal (props) {\n    const {\n        fullScreen, isOpen,\n        closeHandler, tagOption,\n        tagObject, mobileDetails, message\n    } = props;\n\n    const classes = useStyles();\n\n    const tag_options = useFetchTagOptions(tagOption);\n    const [tags, update_tags] = useState(null);\n    const [orig_tags, setOrigTags] = useState([]);\n    const [has_fyi_tag, setHasFyiTag] = useState(false);\n    const [has_permission_tag, setHasPermissionTag] = useState(false);\n    const [sites, setSites] = useState(null);\n    const [fyi_purpose, setFyiPurspose] = useState(\"\");\n    const [permission_purpose, setPermissionPurpose] = useState(\"\");\n\n    const [has_rainfall_tag, setHasRainfallTag] = useState(false);\n    const [attach_narrative_to, setAttachNarrativeTo] = useState(\"\");\n\n    const is_saved_number = mobileDetails.users.length > 0;\n\n    useEffect(() => {\n        let fyi_bool = false;\n        let permission_bool = false;\n        let rainfall_bool = false;\n        if (tags !== null) {\n            fyi_bool = tags.some(x => x.label === \"#AlertFYI\");\n            permission_bool = tags.some(x => x.label === \"#Permission\");\n            rainfall_bool = tags.some(x => x.label === \"#RainInfo\");\n        }\n\n        setHasFyiTag(fyi_bool);\n        setHasPermissionTag(permission_bool);\n        setHasRainfallTag(rainfall_bool);\n    }, [tags]);\n\n    const [is_disabled, setIsDisabled] = useState(false);\n\n    useEffect(() => {\n        let bool = false;\n        if (is_saved_number) {\n            if (has_fyi_tag) {\n                if (sites === null || fyi_purpose === \"\") bool = true;\n            }\n\n            if (has_permission_tag) {\n                if (sites === null || permission_purpose === \"\") bool = true;\n            }\n\n            if (has_rainfall_tag) {\n                bool = sites === null && attach_narrative_to === \"specified-sites\" || attach_narrative_to === \"\";\n            }\n        } else {\n            bool = true;\n        }\n        setIsDisabled(bool);\n    }, [\n        has_fyi_tag, sites, fyi_purpose, \n        has_permission_tag, permission_purpose,\n        has_rainfall_tag, attach_narrative_to\n    ]);\n\n    useEffect(() => {\n        const tag_arr = preparePassedTags(tagObject);\n        update_tags(tag_arr);\n        setOrigTags(tag_arr);\n    }, [tagObject]);\n\n    const update_tags_fn = value => update_tags(value);\n\n    const submitTagHandler = () => {\n        const { id, source, ts } = tagObject;\n\n        let contact_person = null;\n        let site_id_list = [];\n\n        if (!has_fyi_tag) {\n            mobileDetails.users.forEach(row => {\n                const { user } = row;\n\n                const user_organizations = user.organizations;\n                user_organizations.forEach(org => {\n                    const { site: { site_id } } = org;\n                    !site_id_list.includes(site_id) && site_id_list.push(site_id);\n                });\n            });\n\n            contact_person = prepareContactPerson(mobileDetails);\n        }\n        \n        if (has_fyi_tag || (has_rainfall_tag && attach_narrative_to === \"specified-sites\")) {\n            site_id_list = [];\n            site_id_list = sites.map(x => x.value);\n        }\n\n        const var_key_id = source === \"inbox\" ? \"inbox_id\" : \"outbox_id\";\n\n        // DELETE MISSING TAGS\n        let missing_tags = [];\n        // console.log(orig_tags, tags);\n        if (orig_tags.length > 0) {\n            if (tags === null) missing_tags = [...orig_tags];\n            else {\n                missing_tags = orig_tags.filter(row => !tags.some(x => x.value === row.value));\n            }\n        }\n\n        if (missing_tags.length > 0) {\n            // console.log(\"missing_tags\", missing_tags);\n            const delete_tag_id_list = missing_tags.map(tag => {\n                return tag.value;\n            });\n            const delete_payload = {\n                tag_type: `sms${source}_user_tags`,\n                tag_details: {\n                    [var_key_id]: id,\n                    delete_tag_id_list\n                }\n            };\n            console.log(\"delete_payload\", delete_payload);\n            handleDeleteTags(delete_payload, response => {\n                console.log(\"untag response\", response);\n            });\n        }\n\n        // ADD NEW TAGS\n        let new_tags = [];\n        // eslint-disable-next-line\n        if (tags !== null) new_tags = tags.filter((i => a => a !== orig_tags[i] || !++i)(0));\n        if (new_tags.length > null) {\n            // console.log(\"new_tags\", new_tags);\n            const tag_id_list = new_tags.map(tag => {\n                return tag.value;\n            });\n\n            let final_message = message;\n            if (has_fyi_tag) {\n                final_message = fyi_purpose;\n            } else if (has_permission_tag) {\n                final_message = permission_purpose;\n            }\n            const payload = {\n                tag_type: `sms${source}_user_tags`,\n                contact_person,\n                message: final_message,\n                tag_details: {\n                    user_id: getCurrentUser().user_id,\n                    [var_key_id]: id,\n                    tag_id_list,\n                    site_id_list,\n                    ts: moment().format(\"YYYY-MM-DD HH:mm:ss\"),\n                    ts_message: ts\n                }\n            };\n            console.log(\"PAYLOAD\", payload);\n            handleUpdateInsertTags(payload, response => {\n                console.log(\"tag response\", response);\n            });\n        }\n\n        closeHandler();\n    };\n\n    return (\n        <Dialog\n            fullWidth\n            fullScreen={fullScreen}\n            open={isOpen}\n            aria-labelledby=\"form-dialog-title\"\n            TransitionComponent={fullScreen ? SlideTransition : FadeTransition}\n        >\n            <DialogTitle id=\"form-dialog-title\">\n                Chatterbox Message Tagging\n            </DialogTitle>\n            <DialogContent>\n                <DialogContentText>\n                    Attach or remove tags to a message.\n                </DialogContentText>\n\n                <DialogContentText className={classes.dyna_error}>\n                    NOTE: You must manually remove any site logs created (if any)\n                    by a tag when removing a tag to a message.\n                </DialogContentText>\n\n                {\n                    tag_options.length === 0 ? <div style={{ \n                        display: \"flex\", justifyContent: \"center\"\n                    }}>\n                        <CircularProgress />\n                    </div> : <Fragment>\n                        <SelectMultipleWithSuggest\n                            label=\"Tags\"\n                            options={tag_options}\n                            value={tags}\n                            changeHandler={update_tags_fn}\n                            placeholder=\"Select tags\"\n                            renderDropdownIndicator={false}\n                            openMenuOnClick\n                            isMulti\n                        />\n\n                        {\n                            has_fyi_tag && <div style={{ marginTop: 18 }}>\n                                <DialogContentText color=\"textPrimary\">\n                                    Alert FYI\n                                </DialogContentText>\n\n                                <DynaslopeSiteSelectInputForm\n                                    value={sites}\n                                    changeHandler={value => setSites(value)}\n                                    isMulti\n                                    required\n                                />\n\n                                <FormLabel component=\"legend\" style={{ marginTop: 24 }}>Purpose</FormLabel>\n                                <RadioGroup\n                                    aria-label=\"fyi-purpose\"\n                                    name=\"fyi-purpose\"\n                                    row\n                                    style={{ justifyContent: \"space-around\" }}\n                                    value={fyi_purpose}\n                                    onChange={e => setFyiPurspose(e.target.value)}\n                                >\n                                    <FormControlLabel value=\"alert raising\" control={<Radio />} label=\"Alert raising\" />\n                                    <FormControlLabel value=\"alert lowering\" control={<Radio />} label=\"Alert lowering\" />\n                                </RadioGroup>\n                            </div>\n                        }\n\n                        {\n                            has_rainfall_tag && <div style={{ marginTop: 18 }}>\n                                <DialogContentText color=\"textPrimary\">\n                                    Rain Information\n                                </DialogContentText>\n\n                                <FormLabel component=\"legend\" style={{ marginTop: 12 }}>Attach narrative to</FormLabel>\n                                <RadioGroup\n                                    aria-label=\"attach-narrative\"\n                                    name=\"attach-narrative\"\n                                    row\n                                    style={{ justifyContent: \"space-around\", marginBottom: 12 }}\n                                    value={attach_narrative_to}\n                                    onChange={e => setAttachNarrativeTo(e.target.value)}\n                                >\n                                    <FormControlLabel value=\"default-sites\" control={<Radio />} label=\"All sites of stakeholder\" />\n                                    <FormControlLabel value=\"specified-sites\" control={<Radio />} label=\"Specify sites\" />\n                                </RadioGroup>\n\n                                {\n                                    attach_narrative_to === \"specified-sites\" && <DynaslopeSiteSelectInputForm\n                                        value={sites}\n                                        changeHandler={value => setSites(value)}\n                                        isMulti\n                                        required\n                                    />\n                                }\n                            </div>\n                        }\n\n                        {\n                            has_permission_tag && <div style={{ marginTop: 18 }}>\n                                <DialogContentText color=\"textPrimary\">\n                                    Permission\n                                </DialogContentText>\n\n                                <DynaslopeSiteSelectInputForm\n                                    value={sites}\n                                    changeHandler={value => setSites(value)}\n                                    isMulti\n                                    required\n                                />\n\n                                <FormLabel component=\"legend\" style={{ marginTop: 24 }}>Purpose</FormLabel>\n                                <RadioGroup\n                                    aria-label=\"permission-purpose\"\n                                    name=\"permission-purpose\"\n                                    row\n                                    style={{ justifyContent: \"space-around\" }}\n                                    value={permission_purpose}\n                                    onChange={e => setPermissionPurpose(e.target.value)}\n                                >\n                                    <FormControlLabel value=\"alert 3 raising\" control={<Radio />} label=\"Alert 3 Raising\" />\n                                    <FormControlLabel value=\"alert 3 lowering\" control={<Radio />} label=\"Alert 3 Lowering\" />\n                                    <FormControlLabel value=\"on demand raising\" control={<Radio />} label=\"On Demand Raising\" />\n                                </RadioGroup>\n                            </div>\n                        }\n                    </Fragment>\n                }\n            </DialogContent>\n            <DialogActions>\n                <Button\n                    color=\"primary\"\n                    onClick={submitTagHandler}\n                    disabled={is_disabled}\n                >\n                    Submit\n                </Button>\n                <Button onClick={closeHandler}>\n                    Cancel\n                </Button>\n            </DialogActions>\n        </Dialog>\n    );\n}\n\nexport default withMobileDialog()(ChatterboxTagModal);\n","import React, { useState, useEffect, Fragment } from \"react\";\nimport moment from \"moment\";\n\nimport List from \"@material-ui/core/List\";\nimport ListItem from \"@material-ui/core/ListItem\";\nimport ListItemText from \"@material-ui/core/ListItemText\";\nimport ListItemAvatar from \"@material-ui/core/ListItemAvatar\";\nimport Avatar from \"@material-ui/core/Avatar\";\nimport Button from \"@material-ui/core/Button\";\nimport Typography from \"@material-ui/core/Typography\";\nimport { IconButton, Tooltip, makeStyles, CircularProgress } from \"@material-ui/core\";\nimport {\n    TurnedIn, TurnedInNot, Refresh,\n    RadioButtonUnchecked, CheckCircle, Cancel\n} from \"@material-ui/icons\";\nimport GenericAvatar from \"../../../images/generic-user-icon.jpg\";\nimport ChatterboxTagModal from \"./ChatterboxTagModal\";\nimport { loadMoreMessages, resendMessage } from \"../ajax\";\n\nconst useStyles = makeStyles(theme => ({\n    root: {\n        width: \"100%\",\n        backgroundColor: theme.palette.background.paper,\n    },\n    inline: {\n        display: \"inline\",\n    },\n    chatItemSent: {\n        justifyContent: \"flex-end\"\n    },\n    chatBubble: {\n        flexGrow: 0,\n        maxWidth: \"65%\",\n        [theme.breakpoints.down(\"xs\")]: {\n            maxWidth: \"75%\"\n        },\n        [theme.breakpoints.up(\"md\")]: {\n            maxWidth: \"50%\"\n        }, \n        paddingLeft: \"12px !important\",\n        paddingRight: 12,\n        paddingTop: 12,\n        paddingBottom: 6,\n        border: \"solid 1px rgba(215, 215, 215, 1)\",\n        backgroundColor: \"rgba(245, 245, 245, 1)\"\n    },\n    chatBubbleReceived: {\n        marginLeft: 14,\n        \"&:before\": {\n            content: \"''\",\n            left: 69,\n            right: \"auto\",\n            top: 14,\n            border: \"18px solid\",\n\n            position: \"absolute\",\n            width: 0,\n            height: 0,\n            bottom: \"auto\",\n            borderColor: \"rgba(215, 215, 215, 1) transparent transparent transparent\",\n        },\n        \"&:after\": {\n            content: \"''\",\n            left: 71.5,\n            right: \"auto\",\n            top: 15,\n            border: \"20px solid\",\n\n            position: \"absolute\",\n            width: 0,\n            height: 0,\n            bottom: \"auto\",\n            borderColor: \"rgba(245, 245, 245, 1) transparent transparent transparent\",\n        }\n    },\n    chatBubbleSent: {\n        marginRight: 14,\n        \"&:before\": {\n            content: \"''\",\n            left: \"auto\",\n            right: 69,\n            top: 14,\n            border: \"18px solid\",\n\n            position: \"absolute\",\n            width: 0,\n            height: 0,\n            bottom: \"auto\",\n            borderColor: \"rgba(215, 215, 215, 1) transparent transparent transparent\",\n        },\n        \"&:after\": {\n            content: \"''\",\n            left: \"auto\",\n            right: 71.5,\n            top: 15,\n            border: \"20px solid\",\n\n            position: \"absolute\",\n            width: 0,\n            height: 0,\n            bottom: \"auto\",\n            borderColor: \"rgba(245, 245, 245, 1) transparent transparent transparent\",\n        }\n    },\n    chatMessage: {\n        display: \"flex\",\n        alignItems: \"flex-start\",\n        justifyContent: \"space-between\",\n        fontSize: \"0.75rem\",\n        lineHeight: \"1.25em\"\n    },\n    timestampArea: { \n        display: \"flex\",\n        justifyContent: \"flex-end\",\n        alignItems: \"center\",\n        marginTop: 12\n    },\n    timestamp: {\n        fontSize: \"0.65rem\",\n    },\n    tagButton: {\n        padding: 0,\n        zIndex: 1\n    },\n    sentIcon: {\n        fontSize: \"1rem\"\n    }\n}));\n\nfunction arrowGenerator (color) {\n    return {\n        \"&[x-placement*=\\\"bottom\\\"] $arrow\": {\n            top: 0,\n            left: 0,\n            marginTop: \"-0.95em\",\n            width: \"2em\",\n            height: \"1em\",\n            \"&::before\": {\n                borderWidth: \"0 1em 1em 1em\",\n                borderColor: `transparent transparent ${color} transparent`,\n            },\n        },\n        \"&[x-placement*=\\\"top\\\"] $arrow\": {\n            bottom: 0,\n            left: 0,\n            marginBottom: \"-0.95em\",\n            width: \"2em\",\n            height: \"1em\",\n            \"&::before\": {\n                borderWidth: \"1em 1em 0 1em\",\n                borderColor: `${color} transparent transparent transparent`,\n            },\n        },\n        \"&[x-placement*=\\\"right\\\"] $arrow\": {\n            left: 0,\n            marginLeft: \"-0.95em\",\n            height: \"2em\",\n            width: \"1em\",\n            \"&::before\": {\n                borderWidth: \"1em 1em 1em 0\",\n                borderColor: `transparent ${color} transparent transparent`,\n            },\n        },\n        \"&[x-placement*=\\\"left\\\"] $arrow\": {\n            right: 0,\n            marginRight: \"-0.95em\",\n            height: \"2em\",\n            width: \"1em\",\n            \"&::before\": {\n                borderWidth: \"1em 0 1em 1em\",\n                borderColor: `transparent transparent transparent ${color}`,\n            },\n        },\n    };\n}\n\nconst useStylesBootstrap = makeStyles(theme => ({\n    arrow: {\n        position: \"absolute\",\n        fontSize: 6,\n        \"&::before\": {\n            content: \"\\\"\\\"\",\n            margin: \"auto\",\n            display: \"block\",\n            width: 0,\n            height: 0,\n            borderStyle: \"solid\",\n        },\n    },\n    popper: arrowGenerator(theme.palette.common.black),\n    tooltip: {\n        position: \"relative\",\n        backgroundColor: theme.palette.common.black,\n    },\n    tooltipPlacementLeft: {\n        margin: \"0 8px\",\n    },\n    tooltipPlacementRight: {\n        margin: \"0 8px\",\n    },\n    tooltipPlacementTop: {\n        margin: \"8px 0\",\n    },\n    tooltipPlacementBottom: {\n        margin: \"8px 0\",\n    },\n}));\n  \nfunction BootstrapTooltip (props) {\n    const { arrow, ...classes } = useStylesBootstrap();\n    const [arrowRef, setArrowRef] = React.useState(null);\n    const { title } = props;\n\n    return (\n        <Tooltip\n            classes={classes}\n            PopperProps={{\n                popperOptions: {\n                    modifiers: {\n                        arrow: {\n                            enabled: Boolean(arrowRef),\n                            element: arrowRef,\n                        },\n                    },\n                },\n            }}\n            {...props}\n            title={\n                <React.Fragment>\n                    {title}\n                    <span className={arrow} ref={setArrowRef} />\n                </React.Fragment>\n            }\n        />\n    );\n}\n\n// eslint-disable-next-line max-params\nfunction chatBubbleCreator (classes, message_row, set_gdt_fn, on_resend_click) {\n    const {\n        convo_id,\n        source, sms_msg: message,\n        ts, ts_sent, send_status,\n        tags\n    } = message_row;\n\n    const tag_object = {\n        tags,\n        source,\n        id: message_row[`${source}_id`],\n        ts\n    };\n\n    const is_you = source === \"outbox\";\n    const timestamp = moment(ts).format(\"M/D/YYYY HH:mm:ss\");\n\n    const avatar_component = <ListItemAvatar style={{ textAlign: \"-webkit-center\" }}>\n        <Avatar alt=\"Remy Sharp\" src={GenericAvatar} />\n    </ListItemAvatar>;\n\n    const has_tag = tags.length > 0;\n    const tag_icon = has_tag\n        ? <TurnedIn fontSize=\"small\" color=\"primary\" />\n        : <TurnedInNot fontSize=\"small\" color=\"primary\" />;\n    \n    const tag_summary = tags.map(x => x.tag.tag).join(\", \");\n\n    const bubble_area = <ListItemText\n        className={`${classes.chatBubble} ${is_you ? classes.chatBubbleSent : classes.chatBubbleReceived}`}\n        primary={\n            <Typography component=\"span\" className={classes.chatMessage} variant=\"body2\" color=\"textPrimary\">\n                <span style={{ paddingRight: 6, zIndex: 1 }}>{message}</span>\n                <BootstrapTooltip disableFocusListener disableHoverListener={!has_tag} title={tag_summary}>\n                    <IconButton className={classes.tagButton} onClick={set_gdt_fn(true, tag_object, message)}>\n                        {tag_icon}\n                    </IconButton>\n                </BootstrapTooltip>\n            </Typography>\n        }\n        secondary={\n            <Fragment>\n                <div \n                    className={classes.timestamp}\n                    style={{ paddingRight: is_you ? 6 : 0 }}\n                >\n                    {timestamp}\n                </div>\n                {\n                    (send_status >= 0 && send_status < 5 && send_status !== null) && (\n                        <BootstrapTooltip disableFocusListener title=\"SENDING\">\n                            <RadioButtonUnchecked className={classes.sentIcon} />\n                        </BootstrapTooltip>\n                    )\n                }\n                {\n                    send_status === 5 && (\n                        <BootstrapTooltip disableFocusListener title={ `SENT: ${moment(ts_sent).format(\"M/D/YYYY HH:mm:ss\")}` }>\n                            <CheckCircle color=\"primary\" className={classes.sentIcon} />\n                        </BootstrapTooltip>\n                    )\n                }\n                {\n                    (send_status === -1 || send_status > 5) && (\n                        <Fragment>\n                            <BootstrapTooltip disableFocusListener title=\"UNSENT\">\n                                <Cancel color=\"error\" className={classes.sentIcon} />\n                            </BootstrapTooltip>\n                            <BootstrapTooltip disableFocusListener title=\"Resend\">\n                                <Refresh \n                                    color=\"action\"\n                                    className={classes.sentIcon}\n                                    onClick={() => on_resend_click(message_row)}\n                                />\n                            </BootstrapTooltip>\n                        </Fragment>\n                    )\n                }\n            </Fragment>\n        }\n        secondaryTypographyProps={{ component: \"div\", className: classes.timestampArea }}\n    />;\n\n    let arr = [avatar_component, bubble_area];\n    if (is_you) arr = arr.reverse();\n    const [first, second] = arr;\n\n    return <ListItem\n        alignItems=\"flex-start\"\n        className={is_you ? classes.chatItemSent : \"\"}\n        key={convo_id}\n    >\n        {first}{second}\n    </ListItem>;\n}\n\nfunction ChatThread (props) {\n    const { message_list, mobileDetails, searchFilters, setScrollToBottom } = props;\n    const classes = useStyles();\n\n    const [messages, setMessages] = useState([]);\n    const [is_gdt_modal_open, set_is_gdt_modal_open] = useState(false);\n    const [selected_message, setSelectedMessage] = useState(\"\");\n    const default_tag_obj = {\n        id: \"\", source: \"\", tags: []\n    };\n\n    const [tag_object, update_tag_object] = useState(default_tag_obj);\n    const [message_batch, setMessageBatch] = useState(1);\n    const [loaded_messages, setLoadedMessages] = useState([]);\n    const [is_loading, setIsLoading] = useState(false);\n\n    useEffect(() => {\n        const initial_messages = message_list.slice(0).reverse();\n        setMessages(initial_messages);\n        setLoadedMessages(initial_messages);\n        setScrollToBottom(true);\n    }, [message_list, setScrollToBottom]);\n\n    const set_gdt_fn = (bool, obj = default_tag_obj, message) => () => {\n        update_tag_object(obj);\n        set_is_gdt_modal_open(bool);\n        setSelectedMessage(message);\n        // create API to save tag\n    };\n\n    const onLoadMessageClick = () => {\n        const { mobile_id } = mobileDetails;\n        setIsLoading(true);\n        loadMoreMessages(mobile_id, message_batch, data => {\n            setIsLoading(false);\n            setLoadedMessages(data);\n            const reversed = data.slice(0).reverse();\n            setMessages(reversed.concat(messages));\n        });\n        setMessageBatch(message_batch + 1);\n    };\n\n    const onResendClick = message_row => {\n        const { convo_id } = message_row;\n        const temp = messages.map(row => {\n            if (row.convo_id === convo_id)\n                row.send_status = 0;\n            return row;\n        });\n        setMessages(temp);\n        resendMessage(convo_id);\n    };\n\n    const no_convo_message = searchFilters ? \"No conversations\" : \"No conversation yet\";\n\n    return (\n        <Fragment>\n            {\n                message_list.length === 0 && (\n                    <Typography variant=\"subtitle1\" align=\"center\" style={{ marginTop: 8 }}>\n                        { no_convo_message }\n                    </Typography>\n                )\n            }\n\n            {\n                loaded_messages.length >= 20 && (\n                    <Button\n                        color=\"primary\"\n                        size=\"small\"\n                        fullWidth\n                        onClick={onLoadMessageClick}\n                        endIcon={is_loading && <CircularProgress size=\"1.5rem\" />}\n                    >\n                        <strong>Load{is_loading && \"ing\"} more messages...</strong>\n                    </Button>\n                )\n            }\n                \n            <List className={classes.root}>\n                {\n                    messages.map(row => chatBubbleCreator(classes, row, set_gdt_fn, onResendClick))\n                }\n            </List>\n\n            <ChatterboxTagModal\n                isOpen={is_gdt_modal_open}\n                closeHandler={set_gdt_fn(false)}\n                tagOption={tag_object.source} // UPDATE THIS FOR GOD SAKE\n                tagObject={tag_object}\n                mobileDetails={mobileDetails}\n                message={selected_message}\n            />\n        </Fragment>\n    );\n}\n\nexport default ChatThread;","import React, { Fragment, useState, useEffect, useRef } from \"react\";\n\nimport { \n    IconButton, Typography, Divider,\n    Grid, Chip, makeStyles, Avatar,\n    Button, Menu, MenuItem, Box,\n    Tooltip\n} from \"@material-ui/core\";\nimport {\n    KeyboardArrowLeft, MoreVert, AssignmentLate,\n    MobileOff\n} from \"@material-ui/icons\";\n\nimport ContentLoader from \"react-content-loader\";\nimport { useSnackbar } from \"notistack\";\n\nimport ChatThread from \"./ChatThread\";\nimport GeneralStyles from \"../../../GeneralStyles\";\nimport MessageInputTextbox from \"./MessageInputTextbox\";\nimport GenericAvatar from \"../../../images/generic-user-icon.jpg\";\nimport { simNumFormatter } from \"../../../UtilityFunctions\";\nimport { \n    receiveMobileIDRoomUpdate,\n    removeReceiveMobileIDRoomUpdateListener\n} from \"../../../websocket/communications_ws\";\nimport { mobileUserFormatter } from \"./MessageList\";\nimport { sendMessage } from \"../ajax\";\nimport { getCurrentUser } from \"../../sessions/auth\";\nimport SaveContactModal from \"./SaveContactModal\";\n\nconst useStyles = makeStyles(theme => {\n    const gen_style = GeneralStyles(theme);\n    \n    return {\n        regularContainer: {\n            ...gen_style.pageContentMargin,\n            margin: 0,\n            padding: \"16px 0\"\n        },\n        chatInputContainer: {\n            ...gen_style.pageContentMargin\n        },\n        divider: {\n            ...gen_style.pageContentMargin,\n            margin: 0\n        },\n        sticky: {\n            position: \"sticky\",\n            top: 56,\n            [theme.breakpoints.up(\"sm\")]: {\n                top: 63\n            },\n            [theme.breakpoints.up(\"md\")]: {\n                top: 118\n            },\n            backgroundColor: \"white\",\n            borderBottom: \"1px solid rgba(0, 0, 0, 0.12)\",\n            zIndex: 3\n        },\n        chatHead: {\n            paddingLeft: 8,\n            [theme.breakpoints.up(\"md\")]: {\n                paddingLeft: 0\n            },\n            display: \"flex\",\n            alignItems: \"center\"\n        },\n        backButton: {\n            padding: 0,\n            marginRight: 12\n        },\n        backIcon: {\n            width: 40,\n            height: 40\n        },\n        noFlexGrow: { flexGrow: 0 }\n    };\n});\n\nconst AvatarWithText = () => (\n    <ContentLoader\n        height={70}\n        width={800}\n        speed={2}\n        foregroundColor=\"#f3f3f3\"\n        backgroundColor=\"#ecebeb\"\n        viewBox=\"0 0 800 70\"\n        preserveAspectRatio=\"xMinYMin slice\"\n        style={{ height: \"100%\", width: \"100%\" }}\n    >\n        <rect x=\"69\" y=\"7\" rx=\"4\" ry=\"4\" width=\"663\" height=\"19\" /> \n        <rect x=\"70\" y=\"35\" rx=\"3\" ry=\"3\" width=\"293\" height=\"14\" /> \n        <rect x=\"0\" y=\"120\" rx=\"3\" ry=\"3\" width=\"201\" height=\"6\" /> \n        <circle cx=\"30\" cy=\"30\" r=\"30\" />\n    </ContentLoader>\n);\n\nconst ChatLoader = props => {\n    return (\n        <ContentLoader\n            height={160}\n            width={446}\n            speed={2}\n            foregroundColor=\"#f3f3f3\"\n            backgroundColor=\"#ecebeb\"\n            viewBox=\"3 0 446 160\"\n            preserveAspectRatio=\"xMinYMin slice\"\n            style={{ height: \"100%\", width: \"100%\" }}\n        >\n            <circle cx=\"19\" cy=\"25\" r=\"16\" />\n            <rect x=\"40\" y=\"12\" rx=\"5\" ry=\"5\" width=\"220\" height=\"10\" />\n            <rect x=\"40\" y=\"29\" rx=\"5\" ry=\"5\" width=\"220\" height=\"10\" />\n\n            <circle cx=\"420\" cy=\"71\" r=\"16\" />\n            <rect x=\"179\" y=\"76\" rx=\"5\" ry=\"5\" width=\"220\" height=\"10\" />\n            <rect x=\"179\" y=\"58\" rx=\"5\" ry=\"5\" width=\"220\" height=\"10\" />\n            \n            <circle cx=\"21\" cy=\"117\" r=\"16\" />\n            <rect x=\"45\" y=\"104\" rx=\"5\" ry=\"5\" width=\"220\" height=\"10\" />\n            <rect x=\"45\" y=\"122\" rx=\"5\" ry=\"5\" width=\"220\" height=\"10\" />\n        </ContentLoader>\n    );\n};\n  \nfunction RecipientFormatter (props) {\n    const { mobile_details, classes, saveNumberModal, searchFilters } = props;\n    const { users, sim_num } = mobile_details;\n    const sim_number = simNumFormatter(sim_num);\n    const [anchorEl, setAnchor] = useState(null);\n    \n    let senders = [{ sender: sim_number, org: sim_number, inactive: false }];\n    let orgs = [];\n\n    const is_unknown = users.length === 0; // users === null;\n    if (!is_unknown) {\n        const { sender_arr, orgs_arr } = mobileUserFormatter(users);\n        senders = sender_arr;\n        orgs = orgs_arr;\n    }\n\n    const handleClick = event => {\n        setAnchor(event.currentTarget);\n    };\n\n    const handleClose = () => {\n        setAnchor(null);\n    };\n\n    const handleMenuClick = () => {\n        setAnchor(null);\n        saveNumberModal();\n    };\n\n    const InactiveIcon = <MobileOff\n        style={{ color: \"red\", marginRight: 6 }}\n        fontSize=\"small\" titleAccess=\"Inactive number\"/>;\n\n    return (\n        <Grid container alignItems=\"center\">\n            <div style={{ marginRight: 12 }}>\n                <Avatar alt=\"User\" src={GenericAvatar} className={classes.bigAvatar} />\n            </div>\n            \n            <div>\n                <Grid \n                    container\n                    spacing={0} \n                    justify=\"flex-start\"\n                    alignItems=\"center\"\n                >\n\n                    <Grid item xs>\n                        <Typography \n                            variant=\"body1\"\n                            component=\"div\"\n                            style={{ display: \"flex\", alignItems: \"center\" }}\n                        >\n                            {senders.map((row, i) => {\n                                return (\n                                    <Fragment key={row.sender}>\n                                        {senders.length > 1 && row.inactive && InactiveIcon}\n                                        <span title={row.org} \n                                            style={{ paddingRight: 4 }}\n                                        >\n                                            {row.sender}{i < senders.length - 1 && \",\"}\n                                        </span>\n                                    </Fragment>\n                                );\n                            })}\n                        </Typography>\n                    </Grid>\n                    {\n                        orgs.map((x, i) => {\n                            const color = i === 0 ? \"secondary\" : \"primary\";\n                            return (\n                                <Grid key={i} item xs className={classes.noFlexGrow}>\n                                    <Chip color={color} size=\"small\" label={x} />\n                                </Grid>\n                            );\n                        })\n                    }        \n                </Grid>\n\n                {\n                    !is_unknown && (\n                        <Grid container alignItems=\"center\">\n                            {\n                                (senders.length === 1 && senders[0].inactive) && InactiveIcon\n                            }\n\n                            <Typography \n                                variant=\"subtitle2\" \n                                color=\"textSecondary\"\n                            >\n                                {sim_number}\n                            </Typography>\n                        </Grid>\n                    )\n                }\n            </div>\n\n            <Box ml={1} flex=\"display\">\n                {\n                    searchFilters && (\n                        <Tooltip title=\"Filters enabled\" arrow>\n                            <AssignmentLate color=\"primary\" />\n                        </Tooltip>\n                    )\n                }\n            </Box>\n\n            {\n                is_unknown && (\n                    <Grid \n                        container item xs\n                        justify=\"flex-end\"\n                    >\n                        <IconButton \n                            size=\"small\"\n                            aria-controls=\"simple-menu\"\n                            aria-haspopup=\"true\"\n                            onClick={handleClick}\n                        >\n                            <MoreVert/>\n                        </IconButton>\n                \n                        <Menu\n                            id=\"simple-menu\"\n                            anchorEl={anchorEl}\n                            getContentAnchorEl={null}\n                            keepMounted\n                            open={Boolean(anchorEl)}\n                            onClose={handleClose} \n                            anchorOrigin={{\n                                vertical: \"bottom\",\n                                horizontal: \"center\",\n                            }}\n                            transformOrigin={{\n                                vertical: \"top\",\n                                horizontal: \"center\",\n                            }}\n                        >\n                            <MenuItem\n                                style={{ \n                                    fontSize: 12\n                                }}\n                                key=\"save_unknown\" \n                                onClick={handleMenuClick}\n                            >\n                                Save unknown number\n                            </MenuItem>\n                        </Menu>\n                    </Grid>\n                )\n            }\n        </Grid>\n    );\n}\n\nconst goBack = history => e => {\n    e.preventDefault();\n    history.goBack();\n};\n\nfunction ConversationWindow (props) {\n    const {\n        history,\n        match: { params: { mobile_id } },\n        location: { state }, socket\n    } = props;\n\n    let search_filters = null;\n    if (typeof state !== \"undefined\") {\n        const { search_filters: sf } = state;\n        search_filters = sf;\n    }\n\n    const classes = useStyles();\n    const current_user = getCurrentUser();\n\n    const { enqueueSnackbar, closeSnackbar } = useSnackbar();\n    const [open_save_contact_modal, setSaveContactModal] = useState(false);\n    const [conversation_details, setConversationDetails] = useState({\n        message_list: null,\n        mobile_details: {}\n    });\n    const [composed_message, setComposedMessage] = useState(\"\");\n    const handle_message_fn = event => setComposedMessage(event.target.value);\n    const [priority, setPriority] = useState(\"\");\n    const [ts_sending, setTsSending] = useState(null);\n\n    useEffect(() => {\n        if (typeof socket !== \"undefined\") {\n            socket.emit(\"join_mobile_id_room\", {\n                mobile_id, search_filters\n            });\n\n            receiveMobileIDRoomUpdate(data => {\n                const { mobile_details, messages } = data;\n                setConversationDetails({\n                    mobile_details,\n                    message_list: messages\n                });\n            });\n        }\n\n        return () => {\n            if (typeof socket !== \"undefined\") {\n                socket.emit(\"leave_mobile_id_room\", mobile_id);\n                removeReceiveMobileIDRoomUpdateListener();\n            }\n        };\n    }, [socket, mobile_id, search_filters]);\n\n    const { mobile_details, message_list } = conversation_details;\n\n    const snackBarActionFn = key => {\n        return (<Button\n            color=\"primary\"\n            onClick={() => { closeSnackbar(key); }}\n        >\n            Dismiss\n        </Button>);\n    };\n\n    const on_send_message_fn = () => {\n        const { mobile_id: m_id, gsm_id } = mobile_details;\n\n        const formatted_message = `${composed_message} - ${current_user.nickname} from PHIVOLCS-DYNASLOPE`;\n\n        const payload = {\n            sms_msg: formatted_message,\n            recipient_list: [\n                {\n                    mobile_id: m_id,\n                    gsm_id\n                }\n            ],\n            is_ewi: false,\n            priority: parseInt(priority, 10) || null,\n            ts_sending: ts_sending ? ts_sending.format(\"YYYY-MM-DD HH:mm:ss\") : null,\n            user_id: current_user.user_id\n        };\n\n        sendMessage(payload, response => {\n            if (response.status) {\n                enqueueSnackbar(\n                    \"EWI SMS Sent!\",\n                    {\n                        variant: \"success\",\n                        autoHideDuration: 7000,\n                        action: snackBarActionFn\n                    }\n                );\n                setComposedMessage(\"\");\n            } else {\n                enqueueSnackbar(\n                    response.message,\n                    {\n                        variant: \"error\",\n                        autoHideDuration: 7000,\n                        action: snackBarActionFn\n                    }\n                );\n            }\n        }, () => {\n            enqueueSnackbar(\n                \"Error sending EWI SMS...\",\n                {\n                    variant: \"error\",\n                    autoHideDuration: 7000,\n                    action: snackBarActionFn\n                }\n            );\n        });\n    };\n\n    const saveNumberModal = () => {\n        setSaveContactModal(true);\n    };\n\n    const convo_end_ref = useRef(null);\n    const [scrollToBottom, setScrollToBottom] = useState(false);\n    useEffect(() => {\n        convo_end_ref.current.scrollIntoView();\n    }, [scrollToBottom]);\n\n    return (\n        <Fragment>\n            {\n                message_list == null\n                    ? <div \n                        className={classes.regularContainer} \n                        style={{ paddingLeft: 16, paddingBottom: 0 }}\n                    >\n                        <AvatarWithText />\n                    </div>\n                    : <div className={`${classes.regularContainer} ${classes.sticky}`}>\n                        <div className={classes.chatHead}>\n                            <IconButton\n                                aria-label=\"Back\"\n                                color=\"primary\"\n                                className={classes.backButton}\n                                onClick={goBack(history)}\n                            >\n                                <KeyboardArrowLeft className={classes.backIcon} />\n                            </IconButton>\n                     \n                            <RecipientFormatter \n                                mobile_details={mobile_details}\n                                classes={classes} \n                                saveNumberModal={saveNumberModal}\n                                searchFilters={search_filters}\n                            />\n                        </div>\n                    </div>\n            }\n\n            <div className={classes.regularContainer}>\n                { \n                    message_list === null\n                        ? <div style={{ padding: \"0 16px\" }}><ChatLoader style={{ height: \"100%\" }} /></div>\n                        : <ChatThread\n                            message_list={message_list}\n                            searchFilters={search_filters}\n                            mobileDetails={mobile_details}\n                            setScrollToBottom={setScrollToBottom}\n                        />\n                }\n            </div>\n\n            {\n                message_list !== null && (\n                    <Fragment>\n                        <Divider className={classes.divider}/>\n\n                        <div className={classes.chatInputContainer}>\n                            <MessageInputTextbox \n                                value={composed_message}\n                                disableSend={composed_message === \"\"}\n                                setComposedMessage={setComposedMessage}\n                                messageChangeHandler={handle_message_fn}\n                                sendButtonClickHandler={on_send_message_fn}\n                                setPriority={setPriority}\n                                setTsSending={setTsSending}\n                                priority={priority}\n                                tsSending={ts_sending}\n                            />\n                        </div>\n                    </Fragment>\n                )\n            }\n\n            <div \n                style={{ \"float\": \"left\", clear: \"both\" }}\n                ref={convo_end_ref} \n            />\n\n            <SaveContactModal\n                open={open_save_contact_modal}\n                setSaveContactModal={setSaveContactModal}\n                mobileDetails={mobile_details}\n            />\n        </Fragment>\n    );\n}\n\nexport default ConversationWindow;\n","import React from \"react\";\nimport {\n    Dialog, DialogTitle, DialogContent,\n    DialogContentText, DialogActions,\n    Button, withMobileDialog, IconButton,\n    makeStyles\n} from \"@material-ui/core\";\nimport { Close } from \"@material-ui/icons\";\nimport SendMessageForm from \"./SendMessageForm\";\nimport { SlideTransition, FadeTransition } from \"../../reusables/TransitionList\";\n\nconst useStyle = makeStyles(theme => ({\n    dialogContent: {\n        \"&::-webkit-scrollbar-track\": {\n            boxShadow: \"inset 0 0 5px grey\"\n        },\n        \"&::-webkit-scrollbar-thumb\": {\n            background: \"rgba(127, 127, 127, 0.7)\"\n        }\n    }\n}));\n\nfunction SendMessageModal (props) {\n    const {\n        fullScreen, modalStateHandler,\n        modalState, recipientsList\n    } = props;\n    const classes = useStyle();\n\n    return (\n        <Dialog\n            fullWidth\n            fullScreen={fullScreen}\n            open={modalState}\n            aria-labelledby=\"form-dialog-title\"\n            TransitionComponent={fullScreen ? SlideTransition : FadeTransition}\n                    \n        >\n            <DialogTitle id=\"form-dialog-title\">\n                <div style={{ display: \"flex\", alignItems: \"center\", justifyContent: \"space-between\" }}>\n                    <span>Send a Message</span>\n                    <IconButton \n                        color=\"inherit\" \n                        onClick={modalStateHandler}\n                        aria-label=\"Close\"\n                        style={{ padding: 0 }}\n                    >\n                        <Close />\n                    </IconButton>\n                </div>\n            </DialogTitle>\n\n            <DialogContent className={classes.dialogContent}>\n                <DialogContentText>\n                    Choose your recipients and compose a message, then send it.\n                </DialogContentText>\n                        \n                <div style={{ marginTop: 20 }}>\n                    <SendMessageForm \n                        isMobile={fullScreen}\n                        textboxValue=\"\"\n                        recipientsList={recipientsList}\n                        modalStateHandler={modalStateHandler}\n                    />\n                </div>\n            </DialogContent>\n            <DialogActions>\n                <Button onClick={modalStateHandler} color=\"primary\">\n                    Cancel\n                </Button>\n            </DialogActions>\n        </Dialog>\n    );\n}\n\nexport default withMobileDialog()(SendMessageModal);\n","import React from \"react\";\nimport {\n    Fab, withStyles, Zoom\n} from \"@material-ui/core\";\nimport withWidth, { isWidthUp } from \"@material-ui/core/withWidth\";\nimport AddIcon from \"@material-ui/icons/Add\";\nimport { compose } from \"recompose\";\n\nconst styles = theme => ({\n    fab: {\n        position: \"fixed\",\n        bottom: theme.spacing(2),\n        right: theme.spacing(2),\n        zIndex: 1\n    }\n});\n\nfunction CircularAddButton (props) {\n    const { classes, clickHandler, width } = props;\n\n    return (\n        <Zoom in unmountOnExit style={{\n            transitionDelay: \"100ms\",\n        }}>\n            <Fab \n                color=\"secondary\" \n                aria-label=\"Add\" \n                className={classes.fab}\n                size={isWidthUp(\"md\", width) ? \"large\" : \"medium\"}\n                onClick={clickHandler}\n            >\n                <AddIcon />\n            </Fab>\n        </Zoom>\n    );\n}\n\nexport default compose(\n    withStyles(styles),\n    withWidth()\n)(CircularAddButton);\n","import React, {\n    useState, useEffect, useContext, Fragment\n} from \"react\";\nimport { Link } from \"react-router-dom\";\n\nimport {\n    Dialog, DialogTitle, DialogContent,\n    DialogContentText, DialogActions,\n    Button, withMobileDialog, FormControlLabel,\n    Checkbox, Grid, Divider, Typography,\n    TextField, FormControl\n} from \"@material-ui/core\";\nimport MomentUtils from \"@date-io/moment\";\nimport { MuiPickersUtilsProvider, KeyboardDateTimePicker } from \"@material-ui/pickers\";\nimport moment from \"moment\";\n\nimport SelectMultipleWithSuggest from \"../../reusables/SelectMultipleWithSuggest\";\nimport { SlideTransition, FadeTransition } from \"../../reusables/TransitionList\";\nimport DynaslopeSiteSelectInputForm from \"../../reusables/DynaslopeSiteSelectInputForm\";\n\nimport { GeneralContext } from \"../../contexts/GeneralContext\";\nimport { CommsContext } from \"./CommsContext\";\n\n\nfunction SearchMessageModal (props) {\n    const {\n        fullScreen, modalStateHandler,\n        setSearchResultsToEmpty,\n        modalState, url, tagList,\n        recipientsList\n    } = props;\n\n    const { organizations: orgs_list } = useContext(GeneralContext);\n    const { search_state, search_dispatch } = useContext(CommsContext);\n\n    const { \n        sites, orgs: organizations, only_ewi_recipients, include_inactive_numbers,\n        ts_start, ts_end, string_search, tag_search, mobile_number_search,\n        name_search\n    } = search_state;\n\n    const [org_options, setOrgOptions] = useState([]);\n    const [options, setOptions] = useState([]);\n    useEffect(() => {\n        const temp = orgs_list.map(row => {\n            let pre = \"\";\n            switch (row.scope) {\n                case 1:\n                    pre = \"Barangay \"; break;\n                case 2:\n                    pre = \"Municipal \"; break;\n                case 3:\n                    pre = \"Provincial \"; break;\n                case 4:\n                    pre = \"Regional \"; break;\n                case 5:\n                    pre = \"National \"; break;\n                default:\n                    break;\n            }\n\n            return {\n                value: row.org_id,\n                label: pre + row.name.toUpperCase()\n            };\n        });\n        setOrgOptions(temp);\n    }, [orgs_list]);\n\n    const [is_search_disabled, setIsSearchDisabled] = useState(true);\n    const has_site_or_org = sites.length > 0 || organizations.length > 0;\n    const are_ts_all_null = [ts_start, ts_end].every(x => x === null);\n    const has_date_filter = [ts_start, ts_end].every(x => x !== null) || are_ts_all_null;\n\n    const compound_fn = () => {\n        modalStateHandler();\n        setSearchResultsToEmpty();\n    };\n\n    useEffect(() => {\n        let bool = true;\n\n        if (has_site_or_org) {\n            if (has_date_filter) bool = false;\n        } else if (has_date_filter && !are_ts_all_null) bool = false;\n\n        if (mobile_number_search || name_search || string_search || tag_search.label) {\n            bool = false;\n        }\n        \n        setIsSearchDisabled(bool);\n    }, [\n        sites, organizations, ts_start, ts_end,\n        mobile_number_search, name_search, string_search,\n        tag_search, are_ts_all_null, has_date_filter,\n        has_site_or_org\n    ]);\n\n    useEffect(() => {\n        if (typeof recipientsList !== \"undefined\") {\n            const temp = recipientsList.map(row => {\n                const { label, mobile_id, org, sim_num } = row;\n                let fin_label = label;\n                if (org !== \"\") fin_label = `${label} (${org})`;\n                fin_label += ` - ${sim_num}`;\n\n                const chip_label = `${label} - ${sim_num}`;\n\n                return {\n                    label: fin_label,\n                    chipLabel: chip_label,\n                    value: mobile_id,\n                    sim_num,\n                    data: row\n                };\n            });\n\n            setOptions(temp);\n        }\n    }, [recipientsList]);\n\n    return (\n        <Dialog\n            fullWidth\n            fullScreen={fullScreen}\n            open={modalState}\n            aria-labelledby=\"form-dialog-title\"\n            TransitionComponent={fullScreen ? SlideTransition : FadeTransition}\n                \n        >\n            <DialogTitle id=\"form-dialog-title\">\n                Search Chatterbox\n            </DialogTitle>\n\n            <DialogContent>\n                <DialogContentText>\n                    Fill in at least one field from any of the filters. NOTE: the broader the search \n                    filters, the longer the query might run.\n                </DialogContentText>\n\n                <Grid container spacing={2}>\n                    <Typography\n                        variant=\"subtitle1\"\n                        component={Grid} item xs={12}\n                    >\n                        CONTACT FILTERS\n                    </Typography>\n\n                    <Grid item xs={12}>\n                        <DynaslopeSiteSelectInputForm\n                            value={sites}\n                            changeHandler={value => search_dispatch({ type: \"UPDATE_SITES\", value })}\n                            isMulti\n                            disabled={\n                                Boolean(mobile_number_search || name_search)\n                            }\n                        />     \n                    </Grid>\n\n                    <Grid item xs={12}>\n                        <SelectMultipleWithSuggest\n                            label=\"Organization(s)\"\n                            options={org_options}\n                            value={organizations}\n                            changeHandler={value => search_dispatch({ type: \"UPDATE_ORGS\", value })}\n                            placeholder=\"Select organization(s)\"\n                            renderDropdownIndicator={false}\n                            openMenuOnClick\n                            isMulti\n                            isDisabled={\n                                Boolean(mobile_number_search || name_search)\n                            }\n                        />\n                    </Grid>\n\n                    <Grid item xs={12}>\n                        <Typography variant=\"body1\" align=\"center\">OR</Typography>    \n                    </Grid>\n\n                    <Grid item xs={12}>\n                        <SelectMultipleWithSuggest\n                            label=\"Saved Contact\"\n                            options={options}\n                            value={name_search}\n                            changeHandler={value => search_dispatch({ type: \"UPDATE_NAME_SEARCH\", value })}\n                            placeholder=\"Select contact\"\n                            renderDropdownIndicator\n                            openMenuOnClick\n                            isMulti\n                            isDisabled={Boolean(has_site_or_org || mobile_number_search)}\n                        />\n                    </Grid>\n\n                    <Grid item xs={12}>\n                        <Typography variant=\"body1\" align=\"center\">OR</Typography>    \n                    </Grid>\n\n                    <Grid item xs={12}>\n                        <FormControl fullWidth> \n                            <TextField\n                                id=\"mobile-number-filter\"\n                                label=\"Mobile Number\"\n                                type=\"number\"\n                                value={mobile_number_search}\n                                onChange={e => search_dispatch({ type: \"UPDATE_MOBILE_NUMBER_SEARCH\", value: e.target.value })}\n                                placeholder=\"Start number entry with 639 or enter last four digits\"\n                                InputLabelProps={{\n                                    shrink: true,\n                                }}\n                                disabled={Boolean(has_site_or_org || name_search)}\n                            />\n                        </FormControl>\n                    </Grid>\n\n                    <Grid item xs={12}><Divider /></Grid>\n\n                    <Typography\n                        variant=\"subtitle1\"\n                        component={Grid} item xs={12}\n                    >\n                        MESSAGE FILTERS\n                    </Typography>\n\n                    <Typography\n                        variant=\"subtitle2\"\n                        component={Grid} item xs={12}\n                    >\n                        Note: Date filters required for tag and string search.\n                    </Typography>\n                \n                    <MuiPickersUtilsProvider utils={MomentUtils}>\n                        <Grid item xs={12} sm={6}> \n                            <KeyboardDateTimePicker\n                                autoOk\n                                label=\"Start Date/Time\"\n                                value={ts_start}\n                                onChange={value => search_dispatch({ type: \"UPDATE_TS_START\", value })}\n                                ampm={false}\n                                placeholder=\"2010/01/01 00:00\"\n                                format=\"YYYY/MM/DD HH:mm\"\n                                mask=\"____/__/__ __:__\"\n                                clearable\n                                disableFuture\n                                fullWidth\n                                InputLabelProps={{\n                                    shrink: true,\n                                }}\n                                error={ts_start === null && ts_end !== null}\n                                helperText={\n                                    ts_start === null && ts_end !== null &&\n                                    \"Both date/time must have values\"\n                                }\n                            />\n                        </Grid>\n\n                        <Grid item xs={12} sm={6}> \n                            <KeyboardDateTimePicker\n                                autoOk\n                                label=\"End Date/Time\"\n                                value={ts_end}\n                                onChange={value => search_dispatch({ type: \"UPDATE_TS_END\", value })}\n                                ampm={false}\n                                placeholder=\"2010/01/01 00:00\"\n                                format=\"YYYY/MM/DD HH:mm\"\n                                mask=\"____/__/__ __:__\"\n                                clearable\n                                disableFuture\n                                fullWidth\n                                InputLabelProps={{\n                                    shrink: true,\n                                }}\n                                error={ts_start !== null && ts_end === null}\n                                helperText={\n                                    ts_start !== null && ts_end === null &&\n                                    \"Both date/time must have values\"\n                                }\n                            />\n                        </Grid>\n                    </MuiPickersUtilsProvider>\n               \n                    <Grid item xs={12}>\n                        <FormControl fullWidth> \n                            <TextField\n                                id=\"string-filter\"\n                                label=\"Keyword\"\n                                value={string_search}\n                                onChange={e => search_dispatch({ type: \"UPDATE_STRING_SEARCH\", value: e.target.value })}\n                                placeholder=\"Enter keyword\"\n                                InputLabelProps={{\n                                    shrink: true,\n                                }}\n                                disabled={are_ts_all_null}\n                            />\n                        </FormControl>\n                    </Grid>\n        \n                    <Grid item xs={12}>\n                        <SelectMultipleWithSuggest\n                            label=\"Tag\"\n                            options={tagList}\n                            value={tag_search}\n                            changeHandler={value => search_dispatch({ type: \"UPDATE_TAG_SEARCH\", value })}\n                            placeholder=\"Select tags\"\n                            renderDropdownIndicator={false}\n                            openMenuOnClick\n                            isDisabled={are_ts_all_null}\n                            isClearable\n                        />\n                    </Grid>\n\n                    <Grid item xs={12}><Divider /></Grid>\n\n                    {\n                        !is_search_disabled && <Fragment>\n                            <Grid item xs={12} sm={6}>\n                                <FormControlLabel\n                                    control={\n                                        <Checkbox\n                                            checked={only_ewi_recipients}\n                                            onChange={x => search_dispatch({ type: \"UPDATE_ONLY_EWI_RECIPIENTS\", value: x.target.checked })}\n                                            name=\"onlyEWIRecipients\"\n                                        />\n                                    }\n                                    label=\"Only EWI recipients\"\n                                />  \n                            </Grid>\n\n                            <Grid item xs={12} sm={6}>\n                                <FormControlLabel\n                                    control={\n                                        <Checkbox\n                                            checked={include_inactive_numbers}\n                                            onChange={x => search_dispatch({ type: \"UPDATE_INCLUDE_INACTIVE_NUMBERS\", value: x.target.checked })}\n                                            name=\"includeInactiveNumbers\"\n                                        />\n                                    }\n                                    label=\"Include inactive numbers\"\n                                />  \n                            </Grid>\n                        </Fragment>\n                    }\n                </Grid>\n            </DialogContent>\n            <DialogActions>\n                <Button onClick={modalStateHandler}>\n                    Cancel\n                </Button>\n                <Button onClick={() => search_dispatch({ type: \"RESET\" })}>\n                    RESET\n                </Button>\n                <Button\n                    onClick={compound_fn}\n                    color=\"secondary\"\n                    disabled={is_search_disabled}\n                    component={Link}\n                    to={{\n                        pathname: `${url}/search_results`,\n                        state: {\n                            sites, organizations, only_ewi_recipients, include_inactive_numbers,\n                            ts_start: ts_start ? moment(ts_start).format(\"YYYY-MM-DD HH:mm:ss\") : ts_start,\n                            ts_end: ts_end ? moment(ts_end).format(\"YYYY-MM-DD HH:mm:ss\") : ts_end,\n                            string_search,\n                            tag_search,\n                            mobile_number_search,\n                            name_search\n                        }\n                    }} \n                >\n                    Search\n                </Button>\n            </DialogActions>\n        </Dialog>\n    );\n}\n\nexport default withMobileDialog()(SearchMessageModal);\n","import React, { useState, useEffect } from \"react\";\n\nimport { \n    IconButton, Typography,\n    makeStyles, Button, Box,\n    Grid, Hidden, Divider\n} from \"@material-ui/core\";\nimport { ArrowBackIos, NavigateNext, NavigateBefore } from \"@material-ui/icons\";\nimport { isWidthDown } from \"@material-ui/core/withWidth\";\n\nimport GeneralStyles from \"../../../GeneralStyles\";\nimport PageTitle from \"../../reusables/PageTitle\";\nimport MessageList from \"./MessageList\";\n\nimport { receiveSearchResults, removeReceiveSearchResults } from \"../../../websocket/communications_ws\";\nimport { capitalizeFirstLetter } from \"../../../UtilityFunctions\";\n\n\nconst useStyles = makeStyles(theme => {\n    const gen_style = GeneralStyles(theme);\n    \n    return {\n        ...gen_style,\n        regularContainer: {\n            ...gen_style.pageContentMargin,\n            margin: 0,\n            padding: \"16px 0\"\n        },\n        chatInputContainer: {\n            ...gen_style.pageContentMargin\n        },\n        divider: {\n            ...gen_style.pageContentMargin,\n            margin: 0\n        },\n        backButton: {\n            padding: 0,\n            marginRight: 12\n        },\n        backIcon: {\n            width: 40,\n            height: 40\n        }\n    };\n});\n  \nconst goBack = history => e => {\n    e.preventDefault();\n    history.goBack();\n};\n\nfunction BackToMainButton (props) {\n    const { width, history } = props;\n\n    return (\n        isWidthDown(width, \"sm\") ? (<Button\n            variant=\"contained\"\n            color=\"primary\"\n            size=\"small\" \n            onClick={goBack(history)}\n            startIcon={<ArrowBackIos />}\n        >\n            Back to conversation list\n        </Button>) : (<IconButton\n            variant=\"contained\"\n            color=\"primary\"\n            size=\"small\" \n            onClick={goBack(history)}\n        >\n            <ArrowBackIos />\n        </IconButton>)\n    );\n}\n\nfunction SearchResultsPage (props) {\n    const {\n        location, socket, width,\n        url, is_desktop,\n        searchResults, setSearchResults,\n        ListLoader\n    } = props;\n    const classes = useStyles();\n    const { state } = location;\n    const {\n        sites, organizations, only_ewi_recipients,\n        include_inactive_numbers, ts_start, ts_end,\n        string_search, tag_search,\n        mobile_number_search, name_search\n    } = state;\n\n    const [is_loading, setIsLoading] = useState(false);\n    const has_no_input = sites === null && organizations === null;\n    const has_string_or_tag = string_search !== \"\" || tag_search.value !== \"\";\n    const [updated_offset, setUpdateOffset] = useState(0);\n    const [fetch_new_data, setFetchNewData] = useState(false);\n\n    const previousButtonHandler = () => {\n        if (updated_offset > 0) {\n            const temp_offset = updated_offset - 20;\n            setUpdateOffset(temp_offset);\n            setFetchNewData(true);\n        }\n    };\n    \n    const nextButtonHandler = () => {\n        const temp_offset = updated_offset + 20;\n        setUpdateOffset(temp_offset);\n        setFetchNewData(true);\n    };\n\n    useEffect(() => {\n        const has_no_search_results = searchResults.length === 0;\n        if ((!has_no_input && has_no_search_results) || fetch_new_data) {\n            setIsLoading(true);\n            \n            const input = {\n                site_ids: sites.map(s => s.value),\n                org_ids: organizations.map(o => o.value),\n                only_ewi_recipients,\n                include_inactive_numbers,\n                ts_start,\n                ts_end,\n                string_search,\n                tag_search,\n                mobile_number_search,\n                name_search,\n                updated_offset\n            };\n            \n            if (typeof socket !== \"undefined\") {\n                socket.emit(\"get_search_results\", input);\n\n                receiveSearchResults(data => {\n                    setIsLoading(false);\n                    setSearchResults(data);\n                    setFetchNewData(false);\n                });\n            }\n        }\n\n        return () => {\n            if (typeof socket !== \"undefined\") {\n                removeReceiveSearchResults();\n            }\n        };\n    }, [\n        socket, sites, organizations,\n        ts_start, ts_end, updated_offset,\n        fetch_new_data\n    ]);\n\n    return (\n        <div className={classes.pageContentMargin}>\n            <PageTitle\n                title=\"Communications | Chatterbox\"\n            />\n\n            <Grid container>\n                <div><BackToMainButton {...props}/></div>\n\n                <Hidden smDown>\n                    <Grid item xs={12} style={{ marginBottom: 12 }} />\n                </Hidden>\n\n                <Typography\n                    component={Grid} item xs\n                    variant=\"h5\"\n                >\n                    Search Results\n                </Typography>\n\n                <Hidden smUp>\n                    <Grid item xs={12} style={{ marginBottom: 8 }} />\n                </Hidden>\n            </Grid>\n\n            <Box display=\"flex\" flexWrap=\"wrap\">\n                {\n                    sites.length !== 0 && <Box mr={2}>\n                        <Typography variant=\"subtitle2\">\n                            <strong>Site(s):</strong> { sites.map(x => x.data.site_code.toUpperCase()).join(\", \") }\n                        </Typography>\n                    </Box>\n                }\n\n                {\n                    organizations.length !== 0 && <Box mr={2}>\n                        <Typography variant=\"subtitle2\">\n                            <strong>Organizations(s):</strong> { organizations.map(x => x.label).join(\", \") }\n                        </Typography>\n                    </Box>\n                }\n\n                {\n                    ts_start && <Box mr={2}>\n                        <Typography variant=\"subtitle2\"><strong>Start Date/Time: </strong>{ts_start}</Typography>\n                    </Box>\n                }\n\n                {\n                    ts_end && <Box mr={2}>\n                        <Typography variant=\"subtitle2\"><strong>End Date/Time: </strong>{ts_end}</Typography>\n                    </Box>\n                }\n\n                {\n                    string_search && <Box mr={2}>\n                        <Typography variant=\"subtitle2\"><strong>String: </strong>{string_search}</Typography>\n                    </Box>\n                }\n\n                {\n                    tag_search.label && <Box mr={2}>\n                        <Typography variant=\"subtitle2\"><strong>Tag: </strong>{tag_search.label}</Typography>\n                    </Box>\n                }\n\n                {\n                    mobile_number_search && <Box mr={2}>\n                        <Typography variant=\"subtitle2\"><strong>Mobile Number: </strong>{mobile_number_search}</Typography>\n                    </Box>\n                }\n\n                {\n                    name_search.length !== 0 && <Box mr={2}>\n                        <Typography variant=\"subtitle2\"><strong>Has name search</strong></Typography>\n                    </Box>\n                }\n\n                <Box mr={2}>\n                    <Typography variant=\"subtitle2\">\n                        <strong>Only EWI Recipients:</strong> {capitalizeFirstLetter(only_ewi_recipients.toString())}\n                    </Typography>\n                </Box>\n\n                <Box mr={2}>\n                    <Typography variant=\"subtitle2\">\n                        <strong>Include Inactive Numbers:</strong> {capitalizeFirstLetter(include_inactive_numbers.toString())}\n                    </Typography>\n                </Box>\n            </Box>\n            \n            <Divider style={{ marginTop: 12 }} />\n            {\n                has_string_or_tag && !is_loading && (\n                    <Box display=\"flex\" flexDirection=\"row-reverse\">\n                        {\n                            // >= 20 because logic at the back says 20 from inbox\n                            // then 20 from outbox\n                            searchResults.length >= 20 && (\n                                <Button\n                                    size=\"small\"\n                                    style={{ margin: 10 }}\n                                    onClick={nextButtonHandler}\n                                    variant=\"contained\"\n                                    color=\"primary\"\n                                    endIcon={<NavigateNext />}\n                                >\n                                    Next\n                                </Button>\n                            )\n                        }\n\n                        {\n                            updated_offset > 0 && <Button\n                                size=\"small\"\n                                style={{ margin: 10 }}\n                                onClick={previousButtonHandler}\n                                variant=\"contained\"\n                                color=\"primary\"\n                                startIcon={<NavigateBefore />}\n                            >\n                                Previous\n                            </Button>\n                        }\n                    </Box>\n                )\n            }\n            \n            {\n                has_no_input && (\n                    <Typography variant=\"h6\" align=\"center\">\n                        <strong>No search input</strong>\n                    </Typography>\n                )\n            }\n\n            {\n                // eslint-disable-next-line no-nested-ternary\n                is_loading ? (\n                    <div style={{ width: \"100%\" }}>\n                        <ListLoader />\n                    </div>\n                ) : (\n                    searchResults.length > 0 ? (\n                        <MessageList\n                            width={width}\n                            url={url}\n                            messagesArr={searchResults}\n                            searchFilters={{ ts_start, ts_end }}\n                            hidden={false}\n                            is_desktop={is_desktop}\n                        />\n                    ) : (\n                        <Typography \n                            variant=\"h6\" align=\"center\"\n                            style={{ paddingTop: \"5em\" }}\n                        >\n                            <strong>No results found</strong>\n                        </Typography>\n                    )\n                )\n            }\n        </div>\n    );\n}\n\nexport default SearchResultsPage;\n","import React, { useState, Fragment } from \"react\";\nimport {\n    List, ListItem, ListItemAvatar,\n    ListItemText, Avatar, Grid, \n    Typography, makeStyles, Paper, Dialog,\n    DialogTitle, DialogContent, DialogActions,\n    Button, Divider\n} from \"@material-ui/core\";\nimport { isWidthUp } from \"@material-ui/core/withWidth\";\n\nimport moment from \"moment\";\nimport { useSnackbar } from \"notistack\";\n\nimport GenericAvatar from \"../../../images/generic-user-icon.jpg\";\nimport { cancelQueuedMessage } from \"../ajax\";\nimport { getCurrentUser } from \"../../sessions/auth\";\n\nconst useStyles = makeStyles(theme => ({\n    inline: {\n        display: \"inline\",\n    },\n    overflowEllipsis: {\n        fontSize: \"inherit\",\n        textOverflow: \"ellipsis\",\n        whiteSpace: \"nowrap\",\n        overflow: \"hidden\"\n    },\n    link: { textDecoration: \"none\" },\n    noFlexGrow: { flexGrow: 0 },\n    hidden: { display: \"none !important\" },\n    sentIcon: { fontSize: \"1.10rem\" }\n}));\n\nfunction CancelQueueModal (props) {\n    const {\n        onClose, open, chosenMessage\n    } = props;\n    const { enqueueSnackbar, closeSnackbar } = useSnackbar();\n    const loading_message = \"Canceling queued message...\";\n    const success_message = \"Queued message succesfully canceled!\";\n    const error_message = \"Error canceling queued message...\";\n\n    const {\n        ts, sms_msg, ts_sending,\n        task_id, recipients\n    } = chosenMessage;\n    const current_user = getCurrentUser();\n\n    const handleClose = () => {\n        onClose();\n    };\n\n    const snackBarActionFn = key => {\n        return (<Button\n            color=\"primary\"\n            onClick={() => { closeSnackbar(key); }}\n        >\n            Dismiss\n        </Button>);\n    };\n\n    const onCancelClick = () => {\n        const payload = {\n            is_ewi: false,\n            task_id,\n            user_id: current_user.user_id\n        };\n\n        const loading_snackbar = enqueueSnackbar(\n            loading_message,\n            {\n                variant: \"warning\",\n                persist: true\n            }\n        );\n\n        onClose();\n\n        cancelQueuedMessage(payload, response => {\n            closeSnackbar(loading_snackbar);\n            const { message, status } = response;\n            let temp = message;\n            let variant;\n\n            if (status) {\n                variant = \"success\";\n                temp = success_message;\n            } else variant = \"error\";\n        \n            enqueueSnackbar(\n                temp,\n                {\n                    variant,\n                    autoHideDuration: 7000,\n                    action: snackBarActionFn\n                }\n            );\n        }, () => {\n            closeSnackbar(loading_snackbar);\n            enqueueSnackbar(\n                error_message,\n                {\n                    variant: \"error\",\n                    autoHideDuration: 7000,\n                    action: snackBarActionFn\n                }\n            );\n        });\n    };\n\n    return (\n        <Dialog onClose={handleClose} aria-labelledby=\"simple-dialog-title\" open={open}>\n            <DialogTitle id=\"simple-dialog-title\">Queued Message</DialogTitle>\n            <DialogContent>\n                <Grid container>\n                    <Typography variant=\"body2\" component={Grid} item xs={6}>\n                        Created: <strong>{moment(ts).format(\"D MMM YYYY, HH:mm\")}</strong>\n                    </Typography>\n\n                    <Typography variant=\"body2\" component={Grid} item xs={6} align=\"right\">\n                        Sending time: <strong>{moment(ts_sending).format(\"D MMM YYYY, HH:mm\")}</strong>\n                    </Typography>\n                </Grid>\n\n                <Divider style={{ margin: \"12px 0\" }}/>\n\n                <Typography variant=\"body1\" gutterBottom>\n                    Recipient(s): <strong>{recipients}</strong>\n                </Typography>\n\n                <Typography variant=\"body1\">\n                    {sms_msg}\n                </Typography>\n            </DialogContent>\n            <DialogActions>\n                <Button onClick={onCancelClick} color=\"secondary\">\n                    Cancel Sending\n                </Button>\n                <Button onClick={handleClose} color=\"primary\">\n                    Close\n                </Button>\n            </DialogActions>\n        </Dialog>\n    );\n}\n\nfunction formatRecipients (recipient_list_preview, recipient_list) {\n    let preview = recipient_list_preview.map(x => {\n        const { first_name, last_name } = x.users[0].user;\n        return `${first_name } ${ last_name}`;\n    }).join(\", \");\n\n    if (recipient_list_preview.length === 5) preview = `${preview} and ${recipient_list.length - 5} others`;\n\n    return preview;\n}\n\n// eslint-disable-next-line max-params\nfunction QueuedRow (row, props, openOptionsModal, index) {\n    const { ts_sending, sms_msg, recipient_list_preview, recipient_list } = row;\n    const { classes, width } = props;\n\n    const recipients = formatRecipients(recipient_list_preview, recipient_list);\n\n    const on_option_button_click = e => {\n        e.preventDefault();\n        const temp = { ...row, recipients };\n        openOptionsModal(temp);\n    };\n\n    return <ListItem alignItems=\"center\" button key={`i${ index}`} onClick={on_option_button_click}>\n        <ListItemAvatar>\n            <Avatar alt=\"User\" src={GenericAvatar} className={classes.bigAvatar} />\n        </ListItemAvatar>\n        <ListItemText\n            primary={\n                <Grid container spacing={0} justify=\"flex-start\" alignItems=\"center\">\n                    <Grid item xs className={classes.noFlexGrow}>\n                        <Typography \n                            variant=\"body1\" \n                            className={classes.overflowEllipsis}\n                            component=\"div\"\n                            style={{ display: \"flex\", alignItems: \"center\" }}\n                        >\n                            {/* {senders.map((row, i) => {\n                                return (\n                                    <Fragment key={`${row.sender}-${mobile_id}`}>\n                                        {senders.length > 1 && row.inactive && InactiveIcon}\n                                        <span title={row.org} \n                                            style={{ paddingRight: 4 }}\n                                        >\n                                            {row.sender}{i < senders.length - 1 && \",\"}\n                                        </span>\n                                    </Fragment>\n                                );\n                            })} */}\n                            { recipients }\n                        </Typography>\n                    </Grid>\n                \n                    <Grid \n                        item xs={6} sm\n                        container \n                        justify={isWidthUp(\"sm\", width) ? \"flex-end\" : \"flex-start\"}\n                        alignItems=\"center\"\n                    >\n                        {/* {\n                            (senders.length === 1 && senders[0].inactive) && InactiveIcon\n                        } */}\n\n                        <Typography \n                            variant=\"subtitle2\" \n                            color=\"textSecondary\"\n                        >\n                            Sending time: {moment(ts_sending).format(\"D MMM YYYY, HH:mm\")}\n                        </Typography>\n                    </Grid>\n                    {/* <Grid \n                        item xs \n                        style={{ \n                            textAlign: \"right\",\n                            flexGrow: is_desktop ? 0 : 1,\n                            flexBasis: \"auto\" \n                        }}\n                    >\n                        <IconButton size=\"small\" onClick={on_option_button_click}>\n                            <MoreVert />\n                        </IconButton>\n                    </Grid> */}\n                </Grid>\n            }\n            primaryTypographyProps={{\n                className: classes.overflowEllipsis\n            }}\n            secondary={\n                // messages.length > 0 ? (\n                //     SecondaryInformation(classes, messages[0])\n                // ) : (\n                //     <div style={{ textAlign: \"center\" }}>{no_convo_message}</div>\n                // )\n                sms_msg\n            }\n            secondaryTypographyProps={{ component: \"div\" }}\n        />\n    </ListItem>;\n}\n\nfunction QueuedMessages (comp_props) {\n    const { messagesArr, hidden } = comp_props;\n    const classes = useStyles();\n    const props = { ...comp_props, classes };\n\n    const [open_options, setOpenOptions] = useState(false);\n    const [chosen_message, setChosenMessage] = useState(null);\n\n    const openOptionsModal = row => {\n        setChosenMessage(row);\n        setOpenOptions(true);\n    };\n\n    const handleOptionsClose = value => {\n        setOpenOptions(false);\n    };\n    \n    return (\n        <Fragment>\n            {\n                messagesArr.length === 0 ? (\n                    <Paper\n                        style={{\n                            height: \"30vh\", padding: 60, display: \"flex\",\n                            justifyContent: \"center\", alignItems: \"center\",\n                            background: \"gainsboro\", border: \"4px solid #CCCCCC\",\n                            marginTop: 30\n                        }}\n                        className={ hidden ? classes.hidden : \"\" }\n                    >\n                        <div>No queued messages</div>\n                    </Paper>\n                ) : (\n                    <List dense className={ hidden ? classes.hidden : \"\" }>\n                        {\n                            messagesArr.map((row, index) => QueuedRow(row, props, openOptionsModal, index))\n                        }\n                    </List>\n                    // <div className={ hidden ? classes.hidden : \"\" }>\n                    //     {\n                    //         messagesArr.map((row, index) => QueuedRow(row, props, index))\n                    //     }\n                    // </div>\n                )\n            }\n\n            {\n                chosen_message !== null && <CancelQueueModal\n                    open={open_options}\n                    setOpenOptions={setOpenOptions}\n                    chosenMessage={chosen_message}\n                    onClose={handleOptionsClose}\n                />\n            }\n        </Fragment>\n    );\n}\n\nexport default QueuedMessages;","import React, {\n    Fragment, useState,\n    useEffect, useContext\n} from \"react\";\nimport { Route, Switch } from \"react-router-dom\";\n\nimport { \n    Button, Badge, makeStyles, IconButton,\n    Dialog, DialogTitle, DialogContent, Typography, Divider\n} from \"@material-ui/core\";\nimport withWidth, { isWidthUp } from \"@material-ui/core/withWidth\";\nimport { Create, Search, Info } from \"@material-ui/icons\";\n\nimport ContentLoader from \"react-content-loader\";\n\nimport GeneralStyles from \"../../../GeneralStyles\";\nimport PageTitle from \"../../reusables/PageTitle\";\nimport MessageList from \"./MessageList\";\nimport ConversationWindow from \"./ConversationWindow\";\nimport TabBar from \"../../reusables/TabBar\";\nimport SendMessageModal from \"./SendMessageModal\";\nimport CircularAddButton from \"../../reusables/CircularAddButton\";\nimport SearchMessageModal from \"./SearchMessageModal\";\nimport SearchResultsPage from \"./SearchResultsPage\";\nimport QueuedMessages from \"./QueuedMessages\";\n\nimport { CommsProvider } from \"./CommsContext\";\nimport { GeneralContext } from \"../../contexts/GeneralContext\";\n\nimport {\n    socket, subscribeToWebSocket, removeReceiveLatestMessages,\n    receiveAllMobileNumbers, receiveLatestMessages,\n    removeReceiveAllMobileNumbers\n} from \"../../../websocket/communications_ws\";\nimport { getAllTags } from \"../ajax\";\n\nconst useStyles = makeStyles(theme => {\n    const gen_style = GeneralStyles(theme);\n    \n    return {\n        ...gen_style,\n        tabBar: {\n            ...gen_style.pageContentMargin,\n            margin: 0\n        },\n        tabBarContent: {\n            marginTop: 16\n        },\n\n    }; \n});\n\nconst ListLoader = () => (\n    <ContentLoader \n        speed={2}\n        foregroundColor=\"#f3f3f3\"\n        backgroundColor=\"#ecebeb\"\n        viewBox=\"0 0 600 400\"\n        style={{ width: \"100%\" }}\n    >\n        <circle cx=\"47\" cy=\"48\" r=\"26\" /> \n        <rect x=\"90\" y=\"36\" rx=\"0\" ry=\"0\" width=\"489\" height=\"29\" /> \n        <circle cx=\"47\" cy=\"108\" r=\"26\" /> \n        <rect x=\"90\" y=\"96\" rx=\"0\" ry=\"0\" width=\"489\" height=\"29\" /> \n        <circle cx=\"49\" cy=\"168\" r=\"26\" /> \n        <rect x=\"90\" y=\"156\" rx=\"0\" ry=\"0\" width=\"489\" height=\"29\" />\n        <circle cx=\"49\" cy=\"228\" r=\"26\" /> \n        <rect x=\"90\" y=\"216\" rx=\"0\" ry=\"0\" width=\"489\" height=\"29\" />\n        <circle cx=\"49\" cy=\"288\" r=\"26\" /> \n        <rect x=\"90\" y=\"276\" rx=\"0\" ry=\"0\" width=\"489\" height=\"29\" />\n        <circle cx=\"49\" cy=\"348\" r=\"26\" /> \n        <rect x=\"90\" y=\"336\" rx=\"0\" ry=\"0\" width=\"489\" height=\"29\" />\n    </ContentLoader>\n);\n\nfunction ChatterboxInfoModal (props) {\n    const { modalState, modalStateHandler } = props;\n    \n    return (\n        <Dialog onClose={modalStateHandler} aria-labelledby=\"simple-dialog-title\" open={modalState}>\n            <DialogTitle id=\"simple-dialog-title\">Chatterbox Information</DialogTitle>\n            <DialogContent>\n                <Typography variant=\"h6\" gutterBottom align=\"center\">Inbox</Typography>\n                <Typography variant=\"body1\" gutterBottom align=\"justify\">\n                    &emsp;&emsp;Inbox tab contains the list of our contacts who recently sent a message to our server.\n                    The first contact in the list is the most recent message sender, and so on.<br/><br/>\n                    &emsp;&emsp;Unlike a regular message list on a messaging app, outbound messages to our contacts do not affect\n                    the order of the list nor the appearance of a contact on the list (because our server sends\n                    a lot of messages, especially when routine, that incoming messages might get unnoticed).\n                </Typography>\n                <Divider style={{ margin: \"8px 0\" }} />\n                <Typography variant=\"h6\" gutterBottom align=\"center\">Unsent</Typography>\n                <Typography variant=\"body1\" gutterBottom align=\"justify\">\n                    &emsp;&emsp;Unsent tab displays conversation threads which contains unsent messages within one day span.\n                    Unsent messages refer to messages in the process of sending or messages with failed sending attempt.\n                </Typography>\n            </DialogContent>\n        </Dialog>\n    );\n}\n\nfunction Container (comp_props) {\n    const { location, match: { url }, width } = comp_props;\n    const classes = useStyles();\n    const [chosen_tab, setChosenTab] = useState(0);\n    const [is_open_send_modal, setIsOpenSendModal] = useState(false);\n    const [is_open_search_modal, setIsOpenSearchModal] = useState(false);\n    const [message_collection, setMessagesCollection] = useState({\n        inbox: null,\n        unsent: null,\n        queue: null\n    });\n    const [tabs_array, setTabsArray] = useState([\n        { label: \"Inbox\", href: \"inbox\" },\n        { label: \"Unsent\", href: \"unsent\" },\n        { label: \"Queued\", href: \"queued\" }\n    ]);\n    const [search_results, setSearchResults] = useState([]);\n    const [recipients_list, setRecipientsList] = useState([]);\n    const [tag_list, setTagList] = useState([]);\n\n    const [is_open_info_modal, setIsOpenInfoModal] = useState(false);\n    const set_modal_fn = (key, bool) => () => {\n        if (key === \"send\") setIsOpenSendModal(bool);\n        else if (key === \"search\") setIsOpenSearchModal(bool);\n        else if (key === \"info\") setIsOpenInfoModal(bool);\n    };\n\n    const { setIsReconnecting } = useContext(GeneralContext);\n    useEffect(() => {\n        subscribeToWebSocket(setIsReconnecting, \"chatterbox\");\n    }, [setIsReconnecting]);\n\n    useEffect(() => {\n        receiveLatestMessages(data => {\n            setMessagesCollection(data);\n            \n            const { \n                unsent: { length: unsent_length },\n                queue: { length: q_length }\n            } = data;\n            let unsent_label = \"Unsent\";\n            if (unsent_length > 0) {\n                unsent_label = <Badge\n                    style={{ padding: \"0 8px\" }}\n                    color=\"secondary\" \n                    badgeContent={unsent_length}\n                    overlap=\"rectangle\"\n                >\n                    Unsent\n                </Badge>;\n            }\n\n            let q_label = \"Queued\";\n            if (q_length > 0) {\n                q_label = <Badge\n                    style={{ padding: \"0 8px\" }}\n                    color=\"secondary\" \n                    badgeContent={q_length}\n                    overlap=\"rectangle\"\n                >\n                    Queued\n                </Badge>;\n            }\n            setTabsArray(prev => [\n                ...prev.slice(0, 1),\n                { label: unsent_label, href: \"unsent\" },\n                { label: q_label, href: \"queued\" }\n            ]);\n        });\n\n        return () => {\n            removeReceiveLatestMessages();\n        };\n    }, []);\n\n    useEffect(() => {\n        receiveAllMobileNumbers(data => {\n            setRecipientsList(data);\n        });\n\n        return () => {\n            removeReceiveAllMobileNumbers();\n        };\n    }, []);\n\n    useEffect(() => {\n        getAllTags(all_tags => {\n            const tags = all_tags.map(row => ({\n                value: row.tag_id,\n                label: `${row.tag} (${row.source.match(/sms(.*)_/)[1]})`,\n                source: row.source\n            }));\n\n            setTagList(tags);\n        });\n    }, []);\n\n    const is_desktop = isWidthUp(\"md\", width);\n\n    const custom_buttons = <span>\n        <IconButton \n            color=\"primary\"\n            aria-label=\"Chatterbox info\"\n            onClick={set_modal_fn(\"info\", true)}\n        >\n            <Info fontSize=\"large\" />\n        </IconButton>\n\n        <Button\n            aria-label=\"Compose message\"\n            variant=\"contained\" \n            color=\"primary\"\n            size=\"small\" \n            style={{ marginRight: 8 }}\n            onClick={set_modal_fn(\"send\", true)}\n            startIcon={<Create/>}\n        >\n            Compose\n        </Button>\n\n        <Button \n            aria-label=\"Search messages\"\n            variant=\"contained\"\n            color=\"primary\"\n            size=\"small\"\n            onClick={set_modal_fn(\"search\", true)}\n            startIcon={<Search />}\n        >\n            Search\n        </Button>\n    </span>;\n\n    return (\n        <CommsProvider>\n            <Switch location={location}>\n                <Route exact path={url} \n                    render={ props => (\n                        <Fragment>\n                            <div className={classes.pageContentMargin}>\n                                <PageTitle\n                                    title=\"Communications | Chatterbox\" \n                                    customButtons={is_desktop ? custom_buttons : false}\n                                />\n                            </div>\n\n                            <div className={classes.tabBar}>\n                                <TabBar \n                                    chosenTab={chosen_tab}\n                                    onSelect={tab => setChosenTab(tab)}\n                                    tabsArray={tabs_array}\n                                />\n                            </div>\n\n                            <div className={`${classes.tabBar} ${classes.tabBarContent}`}>\n                                {\n                                    message_collection.inbox === null ? (\n                                        <ListLoader />\n                                    ) : (\n                                        <MessageList\n                                            width={width}\n                                            url={url}\n                                            messagesArr={message_collection.inbox}\n                                            hidden={chosen_tab !== 0}\n                                            is_desktop={is_desktop}\n                                        />\n                                    )\n                                }\n\n                                {\n                                    chosen_tab === 1 && (\n                                        message_collection.unsent === null ? (\n                                            <div style={{ width: \"100%\" }}><ListLoader /></div>\n                                        ) : (\n                                            <MessageList\n                                                width={width}\n                                                url={url}\n                                                messagesArr={message_collection.unsent}\n                                                hidden={chosen_tab !== 1}\n                                                is_desktop={is_desktop}\n                                            />\n                                        )\n                                    )\n                                }\n\n                                {\n                                    chosen_tab === 2 && (\n                                        message_collection.queue === null ? (\n                                            <div style={{ width: \"100%\" }}><ListLoader /></div>\n                                        ) : (\n                                            <QueuedMessages\n                                                width={width}\n                                                url={url}\n                                                messagesArr={message_collection.queue}\n                                                hidden={chosen_tab !== 2}\n                                                is_desktop={is_desktop}\n                                            />\n                                        )\n                                    )\n                                }\n                            </div>\n\n                            { !is_desktop && <CircularAddButton clickHandler={set_modal_fn(\"send\", true)} />}\n\n                            <SendMessageModal\n                                modalStateHandler={set_modal_fn(\"send\", false)} \n                                modalState={is_open_send_modal}\n                                recipientsList={recipients_list}\n                            />\n\n                            <SearchMessageModal \n                                modalStateHandler={set_modal_fn(\"search\", false)}\n                                modalState={is_open_search_modal}\n                                setSearchResultsToEmpty={() => setSearchResults([])}\n                                url={url}\n                                recipientsList={recipients_list}\n                                tagList={tag_list}\n                            />\n\n                            <ChatterboxInfoModal\n                                modalStateHandler={set_modal_fn(\"info\", false)} \n                                modalState={is_open_info_modal}\n                            />\n                        </Fragment>\n                    )}\n                />\n            \n                <Route path={`${url}/search_results`} render={\n                    props => <SearchResultsPage\n                        {...props}\n                        messageCollection={message_collection}\n                        socket={socket}\n                        url={url}\n                        width={width}\n                        is_desktop={is_desktop}\n                        searchResults={search_results}\n                        setSearchResults={setSearchResults}\n                        ListLoader={ListLoader}\n                    />\n                } \n                />\n\n                <Route path={`${url}/:mobile_id`} render={\n                    props => <ConversationWindow \n                        {...props}\n                        messageCollection={message_collection}\n                        socket={socket}\n                    /> } \n                />\n            </Switch>\n        </CommsProvider>\n    );\n\n}\n\nexport default withWidth()(Container);\n","import React from \"react\";\n\nimport {\n    Grid, Typography,\n    List, ListItem, ListItemAvatar,\n    ListItemText, Avatar, Chip,\n    Tooltip\n} from \"@material-ui/core\";\nimport { Person, Star } from \"@material-ui/icons\";\n\nimport { getUserOrganizations, getUserContactPriority } from \"../../../UtilityFunctions\";\n\nconst MemoizedItem = React.memo(props => {\n    const { classes, row, index, onContactClickFn } = props;\n\n    const { user_id, first_name, last_name, organizations } = row;\n    const orgs = getUserOrganizations(organizations);\n    const is_priority = getUserContactPriority(organizations);\n\n    return (\n        <ListItem \n            button\n            onClick={onContactClickFn(row, index)}\n            key={user_id}\n        >\n            <ListItemAvatar>\n                <Avatar>\n                    <Person />\n                </Avatar>\n            </ListItemAvatar>\n            <ListItemText\n                primary={\n                    <Grid \n                        container\n                        spacing={0}\n                        justify=\"flex-start\"\n                        alignItems=\"center\"\n                    >\n                        <Grid \n                            item xl\n                            style={{ flexGrow: 1 }}\n                        >\n                            <Typography \n                                variant=\"body1\" \n                                style={{ marginRight: 8 }}\n                            >\n                                {`${last_name}, ${first_name}`}\n                            </Typography>\n                        </Grid>\n                        {\n                            orgs.map((x, i) => {\n                                const bool = i === 0;\n                                const color = bool ? \"secondary\" : \"primary\";\n\n                                if (bool && is_priority) {\n                                    return (\n                                        <Grid key={i} item xs className={classes.noFlexGrow}>\n                                            <Tooltip \n                                                arrow\n                                                disableFocusListener\n                                                title=\"Contact Priority\"\n                                                placement=\"top\"\n                                            >\n                                                <Chip\n                                                    color={color} size=\"small\"\n                                                    label={x}\n                                                    icon={<Star style={{ color: \"gold\" }}/>}\n                                                />\n                                            </Tooltip>\n                                        </Grid>\n                                    );\n                                }\n\n                                return (\n                                    <Grid key={i} item xs className={classes.noFlexGrow}>\n                                        <Chip color={color} size=\"small\" label={x} />\n                                    </Grid>\n                                );\n                            })\n                        }\n                    </Grid>\n                }\n            />\n        </ListItem>           \n    );\n});\n\nfunction ContactList (props) {\n    const {\n        contacts, onContactClickFn, classes\n    } = props;\n\n    return (\n        <List dense style={{ paddingTop: 0 }}>\n            {\n                contacts.map((row, index) => {\n                    return <MemoizedItem \n                        row={row}\n                        index={index}\n                        onContactClickFn={onContactClickFn}\n                        classes={classes}\n                        key={`list-${index}`}\n                    />;\n                })\n            }\n        </List>\n    );\n}\n\nexport default ContactList;","import React from \"react\";\n\nimport {\n    Grid, Typography,\n    List, ListItem, ListItemAvatar,\n    ListItemText, Avatar\n} from \"@material-ui/core\";\nimport { Block } from \"@material-ui/icons\";\n\n\nfunction BlockedContactList (props) {\n    const { blocked_numbers, onBlockContactClickFn, } = props;\n    if (blocked_numbers.length === 0) {\n        return (<div>No blocked contact</div>);\n    }\n    return (\n        <List dense style={{ paddingTop: 0 }}>\n            {\n                blocked_numbers.map(row => {\n                    const { mobile_number } = row;\n                    const { mobile_id, sim_num } = mobile_number;\n                    return (\n                        <ListItem \n                            button\n                            onClick={onBlockContactClickFn(row)}\n                            key={mobile_id}\n                        >\n                            <ListItemAvatar>\n                                <Avatar>\n                                    <Block />\n                                </Avatar>\n                            </ListItemAvatar>\n                            <ListItemText\n                                primary={\n                                    <Grid \n                                        container\n                                        spacing={0}\n                                        justify=\"flex-start\"\n                                        alignItems=\"center\"\n                                    >\n                                        <Grid \n                                            item xl\n                                            style={{ flexGrow: 1 }}\n                                        >\n                                            <Typography \n                                                variant=\"body1\" \n                                                style={{ marginRight: 8 }}\n                                            >\n                                                {`+${sim_num}`}\n                                            </Typography>\n                                        </Grid>   \n                                    </Grid>\n                                }\n                            />\n                        </ListItem>\n                    );\n                })\n            }\n        </List>\n    );\n}\n\nexport default React.memo(BlockedContactList);","import React, { Fragment } from \"react\";\n\nimport {\n    Grid, Typography, Paper\n} from \"@material-ui/core\";\n\nfunction groupSimPrefixesByNetwork (sim_prefixes) {\n    const smart = [];\n    const globe = [];\n\n    sim_prefixes.forEach(row => {\n        const { prefix, network_id } = row;\n        const prefix_code = `0${prefix}`;\n        if (network_id === 1) {\n            globe.push(prefix_code);\n        } else {\n            smart.push(prefix_code);\n        }\n    });\n\n    return [\n        { network: \"Globe\", prefixes: globe },\n        { network: \"Smart\", prefixes: smart }\n    ];\n}\n\nfunction SimGroup (props) {\n    const { row: { network, prefixes } } = props;\n\n    return (\n        <Fragment>\n            <Typography \n                variant=\"h5\"\n                style={{ marginBottom: 12 }}\n            >\n                {network}\n            </Typography>\n\n            <Paper style={{ padding: \"24px 16px\" }}>\n                <Grid\n                    container spacing={3}\n                >\n                    {\n                        prefixes.map(row => {\n                            return (\n                                <Typography \n                                    variant=\"body1\"\n                                    component={Grid}\n                                    item xs={2}\n                                    align=\"center\"\n                                    key={row}\n                                >\n                                    {row}\n                                </Typography>\n                            );\n                        })\n                    }\n                </Grid>\n            </Paper>\n        </Fragment>\n    );\n}\n\nfunction SimPrefixesList (props) {\n    const { sim_prefixes } = props;\n    const groups = groupSimPrefixesByNetwork(sim_prefixes);\n\n    return (\n        <Fragment>\n            {\n                groups.map(row => (\n                    <Fragment key={row.network}>\n                        <SimGroup row={row} />\n                        <div style={{ marginBottom: 24 }} />\n                    </Fragment>\n                ))\n            }\n        </Fragment>\n    );\n}\n\nexport default React.memo(SimPrefixesList);","import React, { useState, useEffect, Fragment } from \"react\";\nimport {\n    Accordion, AccordionDetails,\n    AccordionSummary, makeStyles, Button,\n    Grid, Typography, Divider, CardActions,\n    CardContent, FormControl, Radio, Card,\n    RadioGroup, FormControlLabel, FormLabel\n} from \"@material-ui/core\";\nimport {\n    ArrowBack, Save\n} from \"@material-ui/icons\";\nimport ExpandMoreIcon from \"@material-ui/icons/ExpandMore\";\nimport { saveUpdatedPrimaryContact } from \"../ajax\";\nimport { capitalizeFirstLetter } from \"../../../UtilityFunctions\";\nimport { sendWSMessage } from \"../../../websocket/communications_ws\";\n\nconst useStyles = makeStyles(theme => ({\n    root: {\n        width: \"100%\"\n    },\n    icons: {\n        fontSize: \"1.15rem\",\n        [theme.breakpoints.down(\"xs\")]: {\n            fontSize: \"1.7rem\"\n        }\n    },\n    details: {\n        alignItems: \"center\",\n    },\n    column: {\n        flexBasis: \"33.33%\",\n    },\n    helper: {\n        borderLeft: `2px solid ${theme.palette.divider}`,\n        padding: `${theme.spacing()}px ${theme.spacing(2)}px`,\n    },\n    link: {\n        color: theme.palette.primary.main,\n        textDecoration: \"none\",\n        \"&:hover\": {\n            textDecoration: \"underline\",\n        },\n    },\n    title: {\n        fontSize: 14,\n    },\n    pos: {\n        marginBottom: 12,\n    },\n}));\n\nfunction createHeader (scope, org_name) {\n    let office = \"\";\n\n    if (scope === 0) office = \"community\";\n    else if (scope === 1) office = \"barangay\";\n    else if (scope === 2) office = \"municipal\";\n    else if (scope === 3) office = \"provincial\";\n    else if (scope === 4) office = \"regional\";\n    else if (scope === 5) office = \"national\";\n    \n    const header = `${capitalizeFirstLetter(office)} ${org_name.toUpperCase()}`;\n    const offices = `${office}_${org_name}`;\n\n    return {\n        header,\n        offices\n    };\n}\n\nfunction SelectPrimaryContact (props) {\n    const {\n        checkbox_data,\n        updatePrimary,\n        contact_per_org,\n        setContactsPerOrg,\n        contacts_key,\n        classes, } = props;\n    const [value, setValue] = useState(0);\n    const updated_org_primary_contact = [];\n    \n    useEffect(() => {\n        let has_primary = false;\n        // eslint-disable-next-line no-shadow\n        if (checkbox_data.find(contact => contact.primary_contact === 1)) {\n            if ( has_primary === false) {\n                has_primary = true;\n                const data = checkbox_data.find(contact => contact.primary_contact === 1);\n                const u_org_id = data.user_org_id.toString();\n                setValue(u_org_id);\n            }\n        }\n    }, []);\n    \n    const handleChange = event => {\n        setValue(event.target.value);\n    };\n\n    const savePrimary = () => {\n        updatePrimary();\n        const selected_value = parseInt(value, 10);\n        checkbox_data.forEach((row, index) => {\n            let is_primary = 0;\n            if (selected_value === row.user_org_id) {\n                is_primary = 1;\n            }\n            // eslint-disable-next-line no-param-reassign\n            row.primary_contact = is_primary;\n            updated_org_primary_contact.push(row);\n        });\n\n        contact_per_org[contacts_key] = updated_org_primary_contact;\n        setContactsPerOrg(contact_per_org);\n        saveUpdatedPrimaryContact(updated_org_primary_contact, data => {\n            sendWSMessage(\"update_all_contacts\");\n        });\n    };\n\n    return (\n        <Fragment>\n            <Grid item xs={12} key=\"contact_radio_button\">\n                <FormControl component=\"fieldset\" style={{ display: \"flex\" }}>\n                    <FormLabel component=\"legend\" style={{ textAlign: \"center\", marginBottom: 8 }}>\n                        Choose primary contact.\n                    </FormLabel>\n\n                    <RadioGroup \n                        aria-label=\"choose_primary_contact\"\n                        name=\"choose_primary_contact\"\n                        value={value}\n                        onChange={handleChange}\n                        row\n                        style={{ justifyContent: \"space-around\" }}\n                    >\n                        {\n                            checkbox_data.map((row, index) => {\n                                const { contact_person, user_org_id } = row;\n                                const { first_name, last_name } = contact_person;\n                                \n                                return (\n                                    <FormControlLabel\n                                        value={user_org_id.toString()}\n                                        control={<Radio color=\"primary\"/>}\n                                        label={`${first_name} ${last_name}`}\n                                        key={`contact_radio_button_${index + 1}`}\n                                    />\n                                );\n                            })\n                        }\n                    </RadioGroup>\n                </FormControl>\n            </Grid>\n            <Grid item xs={12}><Divider /></Grid>\n            <Grid container item xs={12} justify=\"flex-end\">\n                <Button\n                    variant=\"contained\"\n                    color=\"secondary\"\n                    size=\"small\"\n                    className={classes.button}\n                    style={{ marginRight: 8 }}\n                    startIcon={<Save />}\n                    onClick={savePrimary}\n                >\n                    Save\n                </Button>\n                <Button\n                    variant=\"contained\"\n                    color=\"primary\"\n                    size=\"small\"\n                    className={classes.button}\n                    startIcon={<ArrowBack />}\n                    onClick={() => updatePrimary()}\n                >\n                    Back\n                </Button>\n            </Grid>\n        </Fragment>\n    );\n}\n\nfunction AllContacts (props) {\n    const { siteData, classes, isUpdatePrimary, setIsUpdatePrimary } = props;\n    const [orgs, setOrgs] = useState([]);\n    const [contact_per_org, setContactsPerOrg] = useState({});\n    const [checkbox_data, setCheckboxData] = useState([]);\n    const [contacts_key, setContactKey] = useState([]);\n\n    useEffect(() => {\n        setIsUpdatePrimary(false);\n    \n        const initial_contact_per_org = {};\n        const initial_orgs = [];\n        siteData.forEach((row, index) => {\n            const { org_name, scope } = row;\n            const { offices } = createHeader(scope, org_name);\n            const key = initial_contact_per_org[offices];\n            if (key === undefined) {\n                initial_contact_per_org[offices] = [row];\n                initial_orgs.push(offices);\n            } else {\n                initial_contact_per_org[offices].push(row);\n            }\n        });\n    \n        setContactsPerOrg(initial_contact_per_org);\n        setOrgs(initial_orgs);\n    }, [siteData]);\n\n    const updatePrimary = key => {\n        setIsUpdatePrimary(!isUpdatePrimary);\n        if (key !== undefined) {\n            setCheckboxData(contact_per_org[key]);\n            setContactKey(key);\n        }\n    };\n\n    if (isUpdatePrimary) {\n        return (\n            <SelectPrimaryContact\n                checkbox_data={checkbox_data}\n                updatePrimary={updatePrimary}\n                contact_per_org={contact_per_org}\n                setContactsPerOrg={setContactsPerOrg}\n                contacts_key={contacts_key}\n                classes={classes}\n            />\n        );\n    }\n\n    return orgs.map((row, index) => {\n        const { scope, org_name } = contact_per_org[row][0];\n        const { header: contact_scope } = createHeader(scope, org_name);\n        const primary_contact = contact_per_org[row].find(x => x.primary_contact === 1);\t\n        let primary = \"No primary contact set\";\n        if (typeof primary_contact !== \"undefined\") {\n            const { contact_person: { first_name, last_name } } = primary_contact;\n            primary = `${first_name} ${last_name}`;\n        }\n        \n        return (\n            <Grid item xs={12} sm={6} lg={4} align=\"center\" key={`contact_per_org_${index + 1}`}>\n                <Card className={classes.root} key={`contact_per_org_card_${index + 1}`}>\n                    <CardContent key={`contact_per_org_content_${index + 1}`}>\n                        <Typography variant=\"subtitle2\">\n                            {contact_scope}\n                        </Typography>\n                        <Typography variant=\"body1\">{primary}</Typography>\n                    </CardContent>\n                    <CardActions disableSpacing>\n                        <Grid container justify=\"flex-end\">\n                            <Button \n                                size=\"small\" color=\"primary\"\n                                onClick={() => updatePrimary(row)}\n                            >\n                                Update\n                            </Button>\n                        </Grid>\n                    </CardActions>\n                </Card>\n            </Grid>\n        );\n    });\n}\n\nfunction ContactPrioritization (props) {\n    const { siteLabel, siteID, siteData } = props;\n    const [ isUpdatePrimary, setIsUpdatePrimary ] = useState(false);\n    const classes = useStyles();\n    \n    return (\n        <Fragment key={`site_ID${siteID + 1}`}>\n            <Accordion>\n                <AccordionSummary expandIcon={<ExpandMoreIcon />}>\n                    <Typography variant=\"body1\">{siteLabel}</Typography>\n                </AccordionSummary>\n                <Divider />\n                <AccordionDetails className={classes.details}>\n                    <Grid container spacing={3} style={{ marginTop: 6 }}>\n                        <AllContacts \n                            siteData={siteData}\n                            classes={classes}\n                            isUpdatePrimary={isUpdatePrimary}\n                            setIsUpdatePrimary={setIsUpdatePrimary}\n                        />\n                    </Grid>\n                </AccordionDetails>\n                <Divider />\n            </Accordion>\n        </Fragment>\n    );\n}\n\nfunction areStakeHoldersSame (prev, current) {\n    return prev.siteData.length === current.siteData.length;\n}\n\nexport default React.memo(ContactPrioritization, areStakeHoldersSame);\n","import React, {\n    useState, useEffect, useContext\n} from \"react\";\nimport {\n    Dialog, DialogTitle, DialogContent,\n    DialogContentText, DialogActions,\n    Button, withMobileDialog, IconButton\n} from \"@material-ui/core\";\nimport { Close } from \"@material-ui/icons\";\nimport SelectMultipleWithSuggest from \"../../reusables/SelectMultipleWithSuggest\";\nimport { SlideTransition, FadeTransition } from \"../../reusables/TransitionList\";\nimport { GeneralContext } from \"../../contexts/GeneralContext\";\nimport DynaslopeSiteSelectInputForm from \"../../reusables/DynaslopeSiteSelectInputForm\";\nimport ContactList from \"./ContactList\";\n\n\nfunction SearchContactsModal (props) {\n    const {\n        fullScreen, \n        modalState, modalStateHandler,\n        isMobile, contactsArray, classes,\n        setChosenContact, setSlideOpen\n    } = props;\n\n    const {\n        organizations: orgs_list\n    } = useContext(GeneralContext);\n\n    const [org_options, setOrgOptions] = useState([]);\n    useEffect(() => {\n        const temp = orgs_list.map(row => {\n            let pre = \"\";\n            switch (row.scope) {\n                case 1:\n                    pre = \"Barangay \"; break;\n                case 2:\n                    pre = \"Municipal \"; break;\n                case 3:\n                    pre = \"Provincial \"; break;\n                case 4:\n                    pre = \"Regional \"; break;\n                case 5:\n                    pre = \"National \"; break;\n                default:\n                    break;\n            }\n\n            return {\n                value: row.org_id,\n                label: pre + row.name.toUpperCase()\n            };\n        });\n        setOrgOptions(temp);\n    }, [orgs_list]);\n\n    const [sites, setSites] = useState(null);\n    const [organization, setOrganizations] = useState(null);\n    const [results, set_results] = useState([]);\n\n    const onContactClickFn = React.useCallback(row => () => {\n        setChosenContact(row);\n        modalStateHandler();\n        setSlideOpen(true);\n    }, []);\n\n    const handleChange = name => value => {\n        if (name === \"sites\") {\n            setSites(value);\n        } else if (name === \"organizations\") {\n            setOrganizations(value);\n        }\n    };\n \n    useEffect(() => {\n        let filtered = [];\n\n        if (organization !== null) {\n            const orgs = organization.map(org => {\n                return org.value;\n            });\n\n            const population = contactsArray;\n            filtered = population.filter(row => {\n                const { organizations } = row;\n                let org_id = null;\n                if (organizations.length !== 0) \n                    // eslint-disable-next-line prefer-destructuring\n                    org_id = organizations[0].organization.org_id; \n\n                return orgs.includes(org_id);         \n            });\n        }\n\n        if (sites !== null) {\n            const site_codes = sites.map(site => {\n                return site.data.site_code;\n            });\n\n            let population = contactsArray;\n            if (filtered.length !== 0) population = filtered;\n\n            filtered = [];\n            population.forEach(row => {\n                const { organizations } = row;\n                organizations.every(value => {\n                    const { site: { site_code } } = value;\n                    if (site_codes.includes(site_code)) {\n                        filtered.push(row);\n                        return false;\n                    }\n                    return true;\n                });\n            });\n        }\n\n        if (filtered.length > 0) set_results(filtered);\n        else set_results(null);\n    }, [organization, sites]);\n\n    const ListContent = () => {\n        if (results !== null) {\n            return (\n                <ContactList \n                    {...props} \n                    contacts={results}\n                    classes = {classes}\n                    onContactClickFn={onContactClickFn}\n\n                />); }\n        return null;\n    };\n\n    return (\n        <Dialog\n            fullWidth\n            fullScreen={fullScreen}\n            open={modalState}\n            aria-labelledby=\"form-dialog-title\"\n            TransitionComponent={fullScreen ? SlideTransition : FadeTransition}         \n        >\n\n            <DialogTitle id=\"form-dialog-title\">\n                <div style={{ display: \"flex\", alignItems: \"center\", justifyContent: \"space-between\" }}>\n                    <span>Search contacts</span>\n                    <IconButton \n                        color=\"inherit\" \n                        onClick={modalStateHandler}\n                        aria-label=\"Close\"\n                        style={{ padding: 0 }}\n                    >\n                        <Close />\n                    </IconButton>\n                </div>\n            </DialogTitle>\n            <DialogContent style={{ overflowY: \"auto\" }}>\n                <DialogContentText>\n                    Fill in the following \n                </DialogContentText>\n\n                <div style={{ margin: \"24px 0\" }}>\n                    <DynaslopeSiteSelectInputForm\n                        value={sites}\n                        changeHandler={value => setSites(value)}\n                        isMulti\n                    />     \n                </div>\n\n                <div style={{ margin: \"24px 0\" }}>\n                    <SelectMultipleWithSuggest\n                        label=\"Organizations\"\n                        options={org_options}\n                        value={organization}\n                        changeHandler={handleChange(\"organizations\")}\n                        placeholder=\"Select organizations\"\n                        renderDropdownIndicator={false}\n                        openMenuOnClick\n                        isMulti\n                    />\n                </div>\n\n                {ListContent()}\n                \n                {\n                    !isMobile && <div style={{ height: 240 }} />\n                }    \n            </DialogContent>\n            <DialogActions>\n                <Button onClick={modalStateHandler}>\n                    Close\n                </Button>\n            </DialogActions>\n        </Dialog>\n    );\n}\n\nexport default withMobileDialog()(SearchContactsModal);\n","import React, {\n    Fragment, useState,\n    useEffect, useContext\n} from \"react\";\n\nimport {\n    Button, Grid, Typography,\n    List, ListItem, ListItemAvatar,\n    ListItemText, ListItemSecondaryAction, IconButton,\n    Avatar, TextField, Hidden,\n    ListItemIcon, Chip,\n    Paper, Divider, Slide, \n    Backdrop, Tooltip, AppBar, InputAdornment,\n    Toolbar, Dialog, Collapse,\n    makeStyles\n} from \"@material-ui/core\";\nimport { \n    Close, Call, Person, PersonAdd, ViewList,\n    Block, Edit, PhoneAndroid, MailOutline,\n    Phone, SimCard, FormatListNumbered,\n    Sort, Star\n} from \"@material-ui/icons\";\n\nimport moment from \"moment\";\nimport ContentLoader from \"react-content-loader\";\nimport { useSnackbar } from \"notistack\";\n\nimport GeneralStyles from \"../../../GeneralStyles\";\nimport PageTitle from \"../../reusables/PageTitle\";\nimport {\n    subscribeToWebSocket, receiveAllContacts,\n    removeReceiveAllContacts\n} from \"../../../websocket/communications_ws\";\nimport {\n    getUserOrganizations, prepareSiteAddress,\n    getUserContactPriority\n} from \"../../../UtilityFunctions\";\nimport ContactList from \"./ContactList\";\nimport BlockedContactList from \"./BlockedContactList\";\nimport SimPrefixesList from \"./SimPrefixesList\";\nimport ContactPrioritization from \"./ContactPrioritization\";\nimport { SlideTransition } from \"../../reusables/TransitionList\";\nimport ContactForm from \"./ContactForm\";\nimport { GeneralContext } from \"../../contexts/GeneralContext\";\nimport { getBlockedContacts, getSimPrefixes, getSiteStakeHolders } from \"../ajax\";\nimport SearchContactsModal from \"./SearchContactsModal\";\n\nconst useStyles = makeStyles(theme => {\n    const gen_style = GeneralStyles(theme);\n    \n    return {\n        ...gen_style,\n        tabBar: {\n            ...gen_style.pageContentMargin,\n            margin: 0\n        },\n        tabBarContent: {\n            marginTop: 16\n        },\n        sticky: {\n            position: \"sticky\",\n            top: 146,\n            [theme.breakpoints.down(\"sm\")]: {\n                top: 48\n            },\n            backgroundColor: \"white\",\n            zIndex: 1\n        },\n        noFlexGrow: { flexGrow: 0 },\n        paper: {\n            position: \"fixed\",\n            right: 0,\n            top: 116,\n            width: 400\n        },\n        overflow: {\n            overflowY: \"auto\",\n            height: \"calc(100vh - 250px)\",\n            [theme.breakpoints.down(\"md\")]: {\n                height: \"80vh\"\n            }\n        },\n        insetDivider: { padding: \"8px 70px !important\" },\n        nested: { paddingLeft: theme.spacing(4) },\n        hidden: { display: \"none !important\" }\n    };\n\n});\n\nconst Loader = props => (\n    <ContentLoader\n        speed={2}\n        width={700}\n        height={350}\n        viewBox=\"0 0 700 350\"\n        {...props}\n    >\n        <rect x=\"4\" y=\"8\" rx=\"3\" ry=\"3\" width=\"8\" height=\"317\" />\n        <rect x=\"7\" y=\"317\" rx=\"3\" ry=\"3\" width=\"669\" height=\"8\" />\n        <rect x=\"669\" y=\"9\" rx=\"3\" ry=\"3\" width=\"7\" height=\"313\" />\n        <rect x=\"5\" y=\"8\" rx=\"3\" ry=\"3\" width=\"669\" height=\"7\" />\n        <rect x=\"114\" y=\"52\" rx=\"6\" ry=\"6\" width=\"483\" height=\"15\" />\n        <circle cx=\"77\" cy=\"60\" r=\"15\" />\n        <rect x=\"116\" y=\"105\" rx=\"6\" ry=\"6\" width=\"420\" height=\"15\" />\n        <circle cx=\"78\" cy=\"113\" r=\"15\" />\n        <rect x=\"115\" y=\"158\" rx=\"6\" ry=\"6\" width=\"483\" height=\"15\" />\n        <circle cx=\"78\" cy=\"166\" r=\"15\" />\n        <rect x=\"117\" y=\"211\" rx=\"6\" ry=\"6\" width=\"444\" height=\"15\" />\n        <circle cx=\"79\" cy=\"219\" r=\"15\" />\n        <rect x=\"117\" y=\"263\" rx=\"6\" ry=\"6\" width=\"483\" height=\"15\" />\n        <circle cx=\"80\" cy=\"271\" r=\"15\" />\n    </ContentLoader>\n);\n  \n\nfunction IndividualContact (props) {\n    const {\n        contact, chosenContact, setSlideOpen,\n        classes, setContactFormForEdit, siteOrgs,\n        isContactPriority\n    } = props;\n    \n    const { sites, org } = siteOrgs;\n    const {\n        status, emails, ewi_recipient,\n        landline_numbers, mobile_numbers,\n        ewi_restriction, ground_reminder_recipient\n    } = chosenContact;\n\n    return (\n        <Grid\n            container \n            spacing={1} \n            alignItems=\"center\"\n            justify=\"space-evenly\"\n        >\n            <Grid item xs={2}>\n                <Avatar>\n                    <Person />\n                </Avatar>\n            </Grid>\n\n            <Grid item xs={7}>\n                <Typography variant=\"h5\" align=\"center\">\n                    {contact}\n                </Typography>\n            </Grid>\n\n            <Grid item xs={1} >\n                <Hidden smDown lgUp>\n                    <IconButton onClick={() => setSlideOpen(false)}>\n                        <Close />\n                    </IconButton>\n                </Hidden>\n            </Grid>\n\n            <Grid item xs={12} style={{ padding: \"12px 4px\" }} >\n                <Divider />\n            </Grid>\n\n            <Grid item xs={12}>\n                <Typography variant=\"h6\" align=\"center\" paragraph>\n                    Affiliation\n                </Typography>\n            </Grid>\n\n            {\n                org !== null ? (\n                    <Fragment>\n                        <Grid item xs={12} container justify=\"center\">\n                            <Tooltip \n                                arrow\n                                disableFocusListener \n                                disableHoverListener={!isContactPriority}\n                                title=\"Contact Priority\"\n                                placement=\"top\"\n                            >\n                                <Chip \n                                    color=\"secondary\"\n                                    label={\n                                        <Typography variant=\"body1\">\n                                            { org.toUpperCase() }\n                                        </Typography>\n                                    }\n                                    icon={isContactPriority ? <Star style={{ color: \"gold\" }} /> : null}\n                                />\n                            </Tooltip>\n                        </Grid>\n\n                        <Grid item xs={12} container justify=\"center\">\n                            {\n                                sites.map(site => {\n                                    const { site_code } = site;\n                                    const address = prepareSiteAddress(site, false);\n\n                                    return (\n                                        <Tooltip key={site_code} title={address} aria-label={address}>\n                                            <Chip color=\"primary\" label={\n                                                <Typography variant=\"body2\">\n                                                    { site_code.toUpperCase() }\n                                                </Typography>\n                                            } />\n                                        </Tooltip>\n                                    );\n                                })\n                            }\n                        </Grid>\n                    </Fragment>\n                ) : (\n                    <Grid item xs={12}>\n                        <Typography color=\"textSecondary\" variant=\"body2\" align=\"center\" paragraph>\n                            No affiliations saved\n                        </Typography>\n                    </Grid>\n                )\n            }\n\n            <Grid item xs={12} className={classes.insetDivider} >\n                <Divider />\n            </Grid>\n\n            <Grid item xs={12}>\n                <Typography variant=\"body1\" align=\"center\">\n                    <strong>Status</strong>\n                </Typography>\n            </Grid>\n\n            <Grid item xs={12}>\n                <Typography variant=\"body2\" align=\"center\">\n                    { status === 0 ? \"Inactive\" : \"Active\" }\n                </Typography>\n            </Grid>\n\n            <Grid item xs={12} className={classes.insetDivider} >\n                <Divider />\n            </Grid>\n\n            <Grid item xs={12}>\n                <Typography variant=\"body1\" align=\"center\">\n                    <strong>EWI Recipient</strong>\n                </Typography>\n            </Grid>\n\n            <Grid item xs={12}>\n                <Typography variant=\"body2\" align=\"center\">\n                    { ewi_recipient === 0 ? \"No\" : \"Yes\" }\n                </Typography>\n            </Grid>\n\n            {\n                ewi_restriction && (\n                    <Fragment>\n                        <Grid item xs={12} className={classes.insetDivider} >\n                            <Divider />\n                        </Grid>\n\n                        <Grid item xs={12}>\n                            <Typography variant=\"body1\" align=\"center\">\n                                <strong>EWI Restriction</strong>\n                            </Typography>\n                        </Grid>\n\n                        <Grid item xs={12}>\n                            <Typography variant=\"body2\" align=\"center\">\n                                Do not send on {\n                                    ewi_restriction.alert_level === -1 ? \"routine and extended monitoring\"\n                                        : `Alert ${ewi_restriction.alert_level}`\n                                } { ewi_restriction.alert_level > 1 && \"and below\" }\n                            </Typography>\n                        </Grid>\n                    </Fragment>\n                )\n            }\n\n            <Grid item xs={12} className={classes.insetDivider} >\n                <Divider />\n            </Grid>\n\n            <Grid item xs={12}>\n                <Typography variant=\"body1\" align=\"center\">\n                    <strong>Ground Data Reminder Recipient</strong>\n                </Typography>\n            </Grid>\n\n            <Grid item xs={12}>\n                <Typography variant=\"body2\" align=\"center\">\n                    { ground_reminder_recipient === 0 ? \"No\" : \"Yes\" }\n                </Typography>\n            </Grid>\n\n            <Grid item xs={12} style={{ padding: \"12px 4px\" }} >\n                <Divider />\n            </Grid>\n\n            <Grid item xs={12}>\n                <Typography variant=\"h6\" align=\"center\">\n                    Contact Information\n                </Typography>\n            </Grid>\n\n            <Grid item xs={12} className={classes.insetDivider} >\n                <Divider />\n            </Grid>\n\n            <Grid item xs={12}>\n                <Typography variant=\"subtitle1\" align=\"center\">\n                    Mobile\n                </Typography>\n            </Grid>\n\n            <Grid item xs={12}>\n                <List dense>\n                    {\n                        mobile_numbers.length === 0 ? (\n                            <Grid item xs={12}>\n                                <Typography color=\"textSecondary\" variant=\"body2\" align=\"center\">\n                                    No mobile numbers saved\n                                </Typography>\n                            </Grid>\n                        ) : (\n                            mobile_numbers.map(num => (\n                                <ListItem key={num.mobile_number.mobile_id}>\n                                    <ListItemAvatar>\n                                        <Avatar>\n                                            <PhoneAndroid />\n                                        </Avatar>\n                                    </ListItemAvatar>\n                                    <ListItemText\n                                        primary={`+${num.mobile_number.sim_num}`}\n                                        // secondary={`Priority: ${num.priority}`}\n                                    />\n                                    <ListItemSecondaryAction>\n                                        {/* <IconButton edge=\"end\" aria-label=\"delete\">\n                                            <DeleteIcon />\n                                        </IconButton> */}\n                                        <ListItemText\n                                            secondary={`Status: ${num.status === 0 ? \"Inactive\" : \"Active\"}`}\n                                        />\n                                    </ListItemSecondaryAction>\n                                </ListItem>\n                            ))\n                        )\n                    }\n                </List>\n            </Grid>\n\n            <Grid item xs={12} className={classes.insetDivider} >\n                <Divider />\n            </Grid>\n\n            <Grid item xs={12}>\n                <Typography variant=\"subtitle1\" align=\"center\">\n                    Landline\n                </Typography>\n            </Grid>\n\n            <Grid item xs={12}>\n                {\n                    landline_numbers.length === 0 ? (\n                        <Grid item xs={12}>\n                            <Typography color=\"textSecondary\" variant=\"body2\" align=\"center\">\n                                No landline numbers saved\n                            </Typography>\n                        </Grid>\n                    ) : (\n                        <List dense>\n                            {\n                                landline_numbers.map(num => (\n                                    <ListItem key={num.landline_id}>\n                                        <ListItemAvatar>\n                                            <Avatar>\n                                                <Call />\n                                            </Avatar>\n                                        </ListItemAvatar>\n                                        <ListItemText\n                                            primary={\n                                                `${num.area_code === 0 ? \"\": `(0${num.area_code})`} ${num.pte_code === 0 ? \"\" : num.pte_code}${num.landline_num}`\n                                            }\n                                        />\n                                    </ListItem>\n                                ))\n                            }\n                        </List>\n                    )\n                }\n            </Grid>\n\n            <Grid item xs={12} className={classes.insetDivider} >\n                <Divider />\n            </Grid>\n\n            <Grid item xs={12}>\n                <Typography variant=\"subtitle1\" align=\"center\">\n                    Email\n                </Typography>\n            </Grid>\n\n            <Grid item xs={12}>\n                {\n                    emails.length === 0 ? (\n                        <Grid item xs={12}>\n                            <Typography color=\"textSecondary\" variant=\"body2\" align=\"center\">\n                                No email addresses saved\n                            </Typography>\n                        </Grid>\n                    ) : (\n                        <List dense>\n                            {\n                                emails.map(row => (\n                                    <ListItem key={row.email_id}>\n                                        <ListItemAvatar>\n                                            <Avatar>\n                                                <MailOutline />\n                                            </Avatar>\n                                        </ListItemAvatar>\n                                        <ListItemText\n                                            primary={`+${row.email}`}\n                                        />\n                                    </ListItem>\n                                ))\n                            }\n                        </List>\n                    )\n                }\n            </Grid>\n\n            <Grid item xs={12} style={{ padding: \"12px 4px\" }} >\n                <Divider />\n            </Grid>\n\n            <Grid item xs={12} style={{ textAlign: \"right\" }}>\n                <Button \n                    color=\"secondary\" \n                    variant=\"contained\"\n                    startIcon={<Edit />}\n                    onClick={() => setContactFormForEdit(true)}\n                >\n                    Edit\n                </Button>\n            </Grid>\n        </Grid>\n    );\n}\n\nfunction BlockedContact (props) {\n    const { chosenContact, setSlideOpen } = props;\n    if (chosenContact.length === 0) {\n        return (\n            <Grid\n                container \n                spacing={1} \n                alignItems=\"center\"\n                justify=\"space-evenly\"\n            >\n                <Grid item xs={7}>\n                    <Typography variant=\"caption\" display=\"block\">\n                        No initial blocked contact\n                    </Typography>\n                </Grid>\n            </Grid>\n        );\n    }\n\n    const { mobile_number, reporter, ts, reason } = chosenContact;\n    const { sim_num, users } = mobile_number;\n    const { first_name: reporter_first_name, last_name: reporter_last_name } = reporter;\n    let contact_name = \"No contact details\";\n    if (users.length > 0) {\n        contact_name = users.map(x => `${x.user.last_name}, ${x.user.first_name}`).join(\" | \");\n    }\n    const date_reported = moment(ts).format(\"MMMM D, YYYY, HH:mm:ss\");\n    return (\n        <Grid\n            container \n            spacing={1} \n            alignItems=\"center\"\n            justify=\"space-evenly\"\n        >\n            <Grid item xs={1}>\n                <Avatar>\n                    <Phone />\n                </Avatar>\n            </Grid>\n\n            <Grid item xs={7}>\n                <Typography variant=\"h5\" align=\"center\">\n                    {`+${sim_num}`}\n                </Typography>\n            </Grid>\n\n            <Grid item xs={1} >\n                <Hidden smDown lgUp>\n                    <IconButton onClick={() => setSlideOpen(false)}>\n                        <Close />\n                    </IconButton>\n                </Hidden>\n            </Grid>\n\n            <Grid item xs={12} style={{ padding: \"12px 4px\" }} >\n                <Divider />\n            </Grid>\n\n            <Grid item xs={12}>\n                <Typography variant=\"h6\" align=\"center\">\n                    Details\n                </Typography>\n            </Grid>\n\n            <Grid item xs={12}>\n                <Typography variant=\"body1\" align=\"center\">\n                    {contact_name}\n                </Typography>\n            </Grid>\n\n            <Grid item xs={12} style={{ padding: \"12px 4px\" }} >\n                <Divider />\n            </Grid>\n\n            <Grid item xs={12}>\n                <Typography variant=\"h6\" align=\"center\">\n                    Reason\n                </Typography>\n            </Grid>\n\n            <Grid item xs={12}>\n                <Typography variant=\"body2\" align=\"center\">\n                    <i>{reason}</i>\n                </Typography>\n            </Grid>\n\n            <Grid item xs={12}>\n                <Typography variant=\"body2\" align=\"center\">\n                    {date_reported}\n                </Typography>\n            </Grid>\n\n            <Grid item xs={12} style={{ padding: \"12px 4px\" }} >\n                <Divider />\n            </Grid>\n\n            <Grid item xs={12}>\n                <Typography variant=\"h6\" align=\"center\">\n                    Reporter\n                </Typography>\n            </Grid>\n\n            <Grid item xs={12}>\n                <Typography variant=\"body1\" align=\"center\">\n                    {`${reporter_last_name}, ${reporter_first_name}`}\n                </Typography>\n            </Grid>\n\n            <Grid item xs={12} style={{ padding: \"12px 4px\" }} >\n                <Divider />\n            </Grid>\n\n            <Grid item xs={12} style={{ textAlign: \"right\" }}>\n                <Button \n                    color=\"secondary\" \n                    variant=\"contained\"\n                    startIcon={<PersonAdd />}\n                    disabled\n                >\n                    Unblock (soon)\n                </Button>\n            </Grid>\n        </Grid>\n    );\n}\n\nconst SearchBar = ({ search_str, setSearchStr, inputProps }) => (\n    <TextField  \n        margin=\"dense\"\n        hiddenLabel \n        fullWidth\n        variant=\"outlined\"\n        placeholder=\"Type contact name\"\n        InputProps={inputProps}\n        value={search_str}\n        onChange={event => setSearchStr(event.target.value)}  \n    /> \n);\n\nfunction Container (props) {\n    const classes = useStyles();\n    \n    const [contacts, setContacts] = useState([]);\n    const [contacts_array, setContactsArray] = useState([]);\n    const [chosen_contact, setChosenContact] = useState({});\n    const [chosen_contact_index, setChosenContactIndex] = useState(0);\n\n    const [is_slide_open, setSlideOpen] = useState(false);\n    const [is_contact_form_open, setContactFormOpen] = useState(false);\n    const [is_edit_mode, setEditMode] = useState(false);\n    const [search_str, setSearchStr] = useState(\"\");\n\n    const [blocked_number_array, setBlockedNumberArray] = useState([]);\n    const [blocked_chosen_contact, setBlockedChosenContact] = useState([]);\n    const [sim_prefixes_list, setSimPrefixesList] = useState([]);\n    const [site_stakeholders, setSiteStakeholders] = useState([]);\n\n    const [tab_selected, setTabSelected] = useState(\"active_numbers\");\n    const [snackbar_key, setSnackbarKey] = useState(null);\n\n    const [modal_state, setModalState] = useState(false);\n    const onContactClickFn = React.useCallback((row, index) => () => {\n        setChosenContact(row);\n        setChosenContactIndex(index);\n        setSlideOpen(true);\n    }, []);\n\n    const onBlockContactClickFn = React.useCallback(row => () => {\n        setBlockedChosenContact(row);\n        setSlideOpen(true);\n    }, []);\n\n    const setContactForm = bool => {\n        setSlideOpen(bool);\n        setContactFormOpen(bool);\n        setEditMode(false);\n    };\n\n    const setContactFormForEdit = bool => {\n        setEditMode(bool);\n        setContactFormOpen(bool);\n    };\n\n    const selectedTab = key => {\n        setTabSelected(key);\n    };\n\n    const modal_handler = (event) =>{   \n        setModalState(!modal_state);\n    };\n\n    const { enqueueSnackbar, closeSnackbar } = useSnackbar();\n    const { setIsReconnecting, sites } = useContext(GeneralContext);\n    const [get_contact_priotitization, setGetContactPrioritization] = useState(false);\n    useEffect(() => {\n        subscribeToWebSocket(setIsReconnecting, \"contacts\");\n        receiveAllContacts(data => {\n            setContacts(data);\n\n            let temp = {};\n            if (data.length > 0) temp = data[chosen_contact_index];\n            setChosenContact(temp);\n            setGetContactPrioritization(true);\n\n            if (snackbar_key !== null) {\n                closeSnackbar(snackbar_key);\n                setSnackbarKey(null);\n                enqueueSnackbar(\n                    \"Loading contacts list successful!\",\n                    { variant: \"success\", autoHideDuration: 5000 }\n                );\n            }\n        });\n\n        return () => removeReceiveAllContacts();\n    }, [chosen_contact_index, snackbar_key]);\n\n    useEffect(() => {\n        const { length } = search_str;\n        if (length > 2) {\n            const filtered = contacts.filter(row => {\n                const { first_name, last_name } = row;\n                const name = `${first_name} ${last_name}`;\n                const pattern = new RegExp(`${search_str}`, \"gi\");\n                return pattern.test(name);          \n            });\n            setContactsArray(filtered);\n        } else if (length === 0) setContactsArray(contacts);\n    }, [contacts, search_str]);\n\n    useEffect(() => {\n        getBlockedContacts(data => {\n            const { status, blocked_numbers } = data;\n            if (status) {\n                setBlockedNumberArray(blocked_numbers);\n                if (blocked_numbers.length !== 0) {\n                    setBlockedChosenContact(blocked_numbers[0]);\n                }\n            }\n        });\n\n        getSimPrefixes(data => {\n            const { status, prefixes } = data;\n            if (status) {\n                setSimPrefixesList(prefixes);\n            }\n        });\n    }, []);\n\n    useEffect(() => {\n        if (get_contact_priotitization) {\n            getSiteStakeHolders(data => {\n                setSiteStakeholders(data);\n            });\n            setGetContactPrioritization(false);\n        }\n    }, [get_contact_priotitization]);\n\n    let contact = \"\";\n    let site_orgs = null;\n    let is_priority = false;\n    // eslint-disable-next-line no-prototype-builtins\n    if (chosen_contact.hasOwnProperty(\"user_id\")) {\n        const { first_name, last_name, organizations } = chosen_contact;\n        contact = `${first_name} ${last_name}`;\n        site_orgs = getUserOrganizations(organizations, true);\n        is_priority = getUserContactPriority(organizations);\n    }\n\n    const set_modal_fn = (key, bool) => () => {\n        setModalState(bool);\n    };\n\n    const PaperDialogContent = () => {\n        if (is_contact_form_open) return (\n            <ContactForm\n                setContactForm={setContactForm}\n                chosenContact={chosen_contact}\n                setSnackbarKey={setSnackbarKey}\n                isEditMode={is_edit_mode}\n                setContactFormForEdit={setContactFormForEdit}\n                isFromChatterbox={false}\n            /> \n        );\n        \n        if (contact !== \"\") {\n            return (\n                <IndividualContact \n                    contact={contact}\n                    chosenContact={chosen_contact}\n                    setSlideOpen={setSlideOpen}\n                    classes={classes}\n                    setContactFormForEdit={setContactFormForEdit}\n                    siteOrgs={site_orgs}\n                    isContactPriority={is_priority}\n                />\n            );\n        }\n    };\n\n    const SearchComp = <SearchBar search_str={search_str} setSearchStr={setSearchStr}\n        inputProps={{ \n            endAdornment: <InputAdornment position=\"end\">\n                <IconButton  \n                    aria-controls=\"sortContacts\" \n                    aria-haspopup=\"true\" \n                    onClick={modal_handler} \n                    color=\"primary\">\n                    <Sort/> \n                </IconButton>                  \n            </InputAdornment> \n        }}\n    />;\n    \n    return (\n        <div className={classes.pageContentMargin}>\n            <PageTitle\n                title=\"Communications | Contacts\" \n            />\n            <Grid container spacing={4}>\n                <Hidden mdUp>\n                    <Grid item xs={12} className={classes.sticky} style={{ paddingBottom: 0 }}>\n                        {SearchComp}\n                    </Grid>\n                </Hidden>\n\n                <Hidden smDown>\n                    <Grid item md={4} lg={3}>\n                        <div className={classes.sticky}>\n                            {SearchComp}\n                          \n                            <List component=\"nav\" aria-label=\"main\">\n                                <ListItem \n                                    button\n                                    onClick={() => selectedTab(\"active_numbers\")}\n                                    selected={tab_selected === \"active_numbers\"}\n                                >\n                                    <ListItemIcon>\n                                        <ViewList />\n                                    </ListItemIcon>\n                                    <ListItemText primary=\"Active Contacts\" />\n                                </ListItem>\n\n                                <Collapse in={tab_selected === \"active_numbers\"} timeout=\"auto\" unmountOnExit>\n                                    <List component=\"div\" disablePadding>\n                                        <ListItem \n                                            button \n                                            onClick={() => setContactForm(true)}\n                                            className={classes.nested}\n                                        >\n                                            <ListItemIcon>\n                                                <PersonAdd />\n                                            </ListItemIcon>\n                                            <ListItemText primary=\"Add Contact\" />\n                                        </ListItem>\n                                    </List>\n                                </Collapse>\n\n                                <ListItem \n                                    button \n                                    onClick={() => selectedTab(\"blocked_numbers\")}\n                                    selected={tab_selected === \"blocked_numbers\"}\n                                >\n                                    <ListItemIcon>\n                                        <Block />\n                                    </ListItemIcon>\n                                    <ListItemText primary=\"Blocked Contacts\" />\n                                </ListItem>\n\n                                <ListItem\n                                    button\n                                    onClick={() => selectedTab(\"contact_prioritization\")}\n                                    selected={tab_selected === \"contact_prioritization\"}\n                                >\n                                    <ListItemIcon>\n                                        <FormatListNumbered />\n                                    </ListItemIcon>\n                                    <ListItemText primary=\"Contact Prioritization\" />\n                                </ListItem>\n\n                                <ListItem\n                                    button\n                                    onClick={() => selectedTab(\"sim_prefixes\")}\n                                    selected={tab_selected === \"sim_prefixes\"}\n                                >\n                                    <ListItemIcon>\n                                        <SimCard />\n                                    </ListItemIcon>\n                                    <ListItemText primary=\"SIM Prefixes\" />\n                                </ListItem>\n                            </List>\n                        </div>\n                    </Grid>\n                </Hidden>\n\n                <Grid item xs={12} md={8} lg={9}>\n                    {\n                        contacts.length === 0\n                            ? <div style={{ width: \"100%\" }}><Loader /></div>\n                            : (\n                                <Fragment>\n                                    <Hidden xsUp={tab_selected !== \"active_numbers\"} implementation=\"css\">\n                                        <Grid container spacing={4}>\n                                            <Grid item xs={12} lg={7}>\n                                                <ContactList \n                                                    classes={classes}\n                                                    contacts={contacts_array}\n                                                    onContactClickFn={onContactClickFn}\n                                                />\n                                            </Grid>\n                            \n                                            <Hidden mdDown>\n                                                <Grid item lg={5}>\n                                                    {\n                                                        contact !== \"\" && (\n                                                            <Paper \n                                                                elevation={1}\n                                                                style={{ padding: 16, zIndex: 2 }}\n                                                                className={`${classes.sticky} ${classes.overflow}`}\n                                                                variant=\"outlined\"\n                                                            >\n                                                                { PaperDialogContent() }\n                                                            </Paper>\n                                                        )\n                                                    }\n                                                </Grid>\n\n                                                <Backdrop open={is_contact_form_open} style={{ zIndex: 1 }} />\n                                            </Hidden>\n\n                                            <Hidden smDown lgUp>\n                                                <Slide direction=\"left\" in={is_slide_open} mountOnEnter unmountOnExit>\n                                                    <Paper \n                                                        elevation={4}\n                                                        className={`${classes.paper} ${classes.overflow}`}\n                                                        style={{ padding: 24, zIndex: 2 }}\n                                                    >\n                                                        { PaperDialogContent() }\n                                                    </Paper>\n                                                </Slide>\n                        \n                                                <Backdrop open={is_slide_open} style={{ zIndex: 1 }} />\n                                            </Hidden>\n                \n                                            <Hidden mdUp>\n                                                <Dialog \n                                                    fullScreen\n                                                    open={is_slide_open}\n                                                    TransitionComponent={SlideTransition}\n                                                >\n                                                    <AppBar style={{ position: \"relative\" }}>\n                                                        <Toolbar>\n                                                            <IconButton edge=\"start\" color=\"inherit\" onClick={() => setContactForm(false)} aria-label=\"close\">\n                                                                <Close />\n                                                            </IconButton>\n                                                        </Toolbar>\n                                                    </AppBar>\n                                                    <Paper elevation={0} style={{ padding: 16 }}>\n                                                        { PaperDialogContent() }\n                                                    </Paper>\n                                                </Dialog>\n                                            </Hidden>\n                                        </Grid>\n                                    </Hidden>\n        \n                                    <Hidden xsUp={tab_selected !== \"blocked_numbers\"} implementation=\"css\">\n                                        <Grid container spacing={4}>\n                                            <Grid item xs={12} lg={7}>\n                                                <BlockedContactList\n                                                    blocked_numbers={blocked_number_array}\n                                                    onBlockContactClickFn={onBlockContactClickFn}\n                                                />\n                                            </Grid>\n\n                                            <Hidden mdDown>\n                                                <Grid item lg={5}>\n                                                    <Paper \n                                                        elevation={1}\n                                                        style={{ padding: 16, zIndex: 2 }}\n                                                        className={classes.sticky}\n                                                        variant=\"outlined\"\n                                                    >\n                                                        <BlockedContact\n                                                            chosenContact={blocked_chosen_contact}\n                                                            setSlideOpen={setSlideOpen}\n                                                        />\n                                                    </Paper>\n                                                </Grid>\n                                            </Hidden>\n\n                                            <Hidden smDown lgUp>\n                                                <Slide direction=\"left\" in={is_slide_open} mountOnEnter unmountOnExit>\n                                                    <Paper \n                                                        elevation={4}\n                                                        className={`${classes.paper} ${classes.overflow}`}\n                                                        style={{ padding: 24, zIndex: 2 }}\n                                                    >\n                                                        <BlockedContact\n                                                            chosenContact={blocked_chosen_contact}\n                                                            setSlideOpen={setSlideOpen}\n                                                        />\n                                                    </Paper>\n                                                </Slide>\n                        \n                                                <Backdrop open={is_slide_open} style={{ zIndex: 1 }} />\n                                            </Hidden>\n                \n                                            <Hidden mdUp>\n                                                <Dialog \n                                                    fullScreen\n                                                    open={is_slide_open}\n                                                    TransitionComponent={SlideTransition}\n                                                >\n                                                    <AppBar style={{ position: \"relative\" }}>\n                                                        <Toolbar>\n                                                            <IconButton edge=\"start\" color=\"inherit\" onClick={() => setContactForm(false)} aria-label=\"close\">\n                                                                <Close />\n                                                            </IconButton>\n                                                        </Toolbar>\n                                                    </AppBar>\n                                                    <Paper elevation={0} style={{ padding: 16 }}>\n                                                        <BlockedContact\n                                                            chosenContact={blocked_chosen_contact}\n                                                            setSlideOpen={setSlideOpen}\n                                                        />\n                                                    </Paper>\n                                                </Dialog>\n                                            </Hidden>\n                                        </Grid>\n                                    </Hidden>\n\n                                    <Hidden xsUp={tab_selected !== \"contact_prioritization\"} implementation=\"css\">\n                                        <Typography variant=\"body1\" style={{ marginBottom: 12 }}>\n                                            <strong><i>\n                                                Note: Contact priority can only be chosen from stakeholders that are currently active and EWI recipients.\n                                            </i></strong>\n                                        </Typography>\n                        \n                                        {\n                                            site_stakeholders.length !== 0 && (\n                                                sites.map((row, index) => {\n                                                    const { site_id, site_code } = row;\n                                                    const site_label = prepareSiteAddress(row, true, \"start\");\n                                                    const site_data = site_stakeholders[site_code];\n                                    \n                                                    return (\n                                                        <ContactPrioritization\n                                                            siteLabel={site_label}\n                                                            siteID={site_id}\n                                                            siteData={site_data}\n                                                            key={index}\n                                                        />\n                                                    );\n                                                })\n                                            )\n                                        }\n                                    </Hidden>\n\n                                    <Hidden xsUp={tab_selected !== \"sim_prefixes\"} implementation=\"css\">\n                                        <SimPrefixesList\n                                            sim_prefixes={sim_prefixes_list}\n                                        />\n                                    </Hidden>\n                                </Fragment>\n                            )\n                    }\n                </Grid>\n            </Grid>\n\n            <SearchContactsModal\n                modalStateHandler={set_modal_fn(\"search\", false)}\n                modalState={modal_state}\n                setSlideOpen={setSlideOpen}\n                contactsArray = {contacts_array}\n                classes = {classes}\n                chosenContact = {chosen_contact}\n                setChosenContact= {setChosenContact}\n            />\n        </div>\n    );\n}\n\nexport default Container;\n","import React, {\n    useState\n} from \"react\";\n\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport {\n    Button, Grid, TextField\n} from \"@material-ui/core\";\nimport ChipInput from \"material-ui-chip-input\";\n\nimport { green, red } from \"@material-ui/core/colors\";\nimport Snackbar from \"@material-ui/core/Snackbar\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport CloseIcon from \"@material-ui/icons/Close\";\n\n// import CKEditor from \"@ckeditor/ckeditor5-react\";\n// import ClassicEditor from \"@ckeditor/ckeditor5-build-classic\";\nimport ReactQuill from \"react-quill\";\nimport \"react-quill/dist/quill.snow.css\";\n\nimport GeneralStyles from \"../../../GeneralStyles\";\nimport PageTitle from \"../../reusables/PageTitle\";\n\nimport { sendEmail } from \"./ajax\";\n\nconst useStyles = makeStyles(theme => {\n    const gen_style = GeneralStyles(theme);\n    \n    return {\n        ...gen_style,\n        sticky: {\n            position: \"sticky\",\n            top: 146,\n            [theme.breakpoints.down(\"sm\")]: {\n                top: 48\n            },\n            backgroundColor: \"white\",\n            // borderBottom: \"1px solid rgba(0, 0, 0, 0.12)\",\n            zIndex: 1\n        },\n        noFlexGrow: { flexGrow: 0 },\n        paper: {\n            position: \"fixed\",\n            right: 0,\n            top: 116,\n            height: \"100%\",\n            width: 400\n        },\n        insetDivider: { padding: \"8px 70px !important\" }\n    }; \n});\n\n\nconst recip_default = {\n    to: [], cc: [], bcc: []\n};\n\n\nfunction MailBoxContainer (props) {\n    const classes = useStyles();\n    const { siteId } = props;\n    const [recipients_dict, setRecipientsDict] = useState(recip_default);\n    const [is_snackbar_notif_open, set_snackbar_notif_fn] = useState(false);\n    const [snack_bar_data, set_snack_bar_data] = useState({});    \n    // const [sender, setSender] = useState(\"\");\n    const [subject, setSubject] = useState(\"\");\n    const [mail_body, setMailBody] = useState(\"\");\n    // const [toggled_cc, setToggledCC] = useState(false);\n    // const [toggled_bcc, setToggledBCC] = useState(false);\n\n    const handleAddChip = (key, chip) => {\n        const temp = recipients_dict[key].push(chip);\n        setRecipientsDict({\n            ...recipients_dict,\n            ...temp\n        });\n    };\n\n    const handleDeleteChip = (key, chip, index) => {\n        const temp = recipients_dict[key].splice( recipients_dict[key].indexOf(chip), 1 );\n        setRecipientsDict({\n            ...recipients_dict,\n            ...temp\n        });\n    };\n\n    const handleSend = () => {\n        const { to, cc, bcc } = recipients_dict;\n\n        const payload = {\n            recipients: [ ...to, ...cc, ...bcc ],\n            subject,\n            mail_body\n        };\n        console.log(\"payload\", payload);\n        \n        sendEmail(payload, ret => {\n            console.log(\"AXIOS Response\", ret);\n            const { status } = ret;\n            if (status) {\n                set_snack_bar_data({ text: \"Email sent!\", color: green[600] });\n                setRecipientsDict(recip_default);\n                setSubject(\"\");\n                setMailBody(\"\");\n            } else {\n                set_snack_bar_data({ text: \"Email sent!\", color: red[600] });\n            }\n            set_snackbar_notif_fn(true);\n        });\n    };\n\n    const handleDiscard = () => {\n        setRecipientsDict({\n            to: [],\n            cc: [],\n            bcc: []\n        });\n        setSubject(\"\");\n        setMailBody(\"\");\n    };\n\n    // const handleToggles = key => event => {\n    //     if (key === \"cc\") ;\n    //     else if (key === \"bcc\") setToggledBCC(!toggled_bcc);\n    // };\n    const config = {\n        // toolbar: [\"heading\", \"|\", \"bold\", \"italic\", \"link\", \"bulletedList\", \"numberedList\", \"blockQuote\", \"|\", \"undo\", \"redo\"]\n        height: 500\n    };\n\n    return (\n        <div className={classes.pageContentMargin}>\n            <PageTitle\n                title=\"Communications | MailBox\" \n                // customButtons={\n                //     (\n                //         <Fragment>\n                //             <Button onClick={ret => setToggledCC(!toggled_cc)}>Cc</Button>\n                //             <Button onClick={ret => setToggledBCC(!toggled_bcc)}>Bcc</Button>\n                //         </Fragment>\n                //     )\n                // }\n            />\n            <Grid container spacing={4} alignItems=\"center\">\n                <Grid item xs={12} container spacing={1} key=\"sending_options\">\n                    <Grid item xs={12} sm={6} >\n                        <ChipInput \n                            label=\"To\"\n                            value={recipients_dict.to}\n                            onAdd={(chip) => handleAddChip(\"to\", chip)}\n                            onDelete={(chip, index) => handleDeleteChip(\"to\", chip, index)}\n                            fullWidth\n                            required\n                        />\n                    </Grid>\n\n                    <Grid item xs={12} sm={6} >\n                        <TextField\n                            label=\"Subject\"\n                            value={subject}\n                            onChange={ret => setSubject(ret.target.value)}\n                            margin=\"dense\"\n                            fullWidth\n                        />\n                    </Grid>\n\n                    <Grid item xs={12} sm={6} >\n                        <ChipInput \n                            label=\"Cc\"\n                            value={recipients_dict.cc}\n                            onAdd={(chip) => handleAddChip(\"cc\", chip)}\n                            onDelete={(chip, index) => handleDeleteChip(\"cc\", chip, index)}\n                            fullWidth\n                        />\n                    </Grid>\n\n                    <Grid item xs={12} sm={6} >\n                        <ChipInput \n                            label=\"Bcc\"\n                            value={recipients_dict.bcc}\n                            onAdd={(chip) => handleAddChip(\"bcc\", chip)}\n                            onDelete={(chip, index) => handleDeleteChip(\"bcc\", chip, index)}\n                            fullWidth\n                        />\n                    </Grid>\n                </Grid>\n                <Grid item xs={12} key=\"message_body\">\n                    {/* <CKEditor\n                        editor={ClassicEditor}\n                        data={mail_body}\n                        config={config}\n                        onInit={editor => {\n                            // You can store the \"editor\" and use when it is needed.\n                            editor.setData(mail_body);\n                            // console.log(Array.from(editor.ui.componentFactory.names()));\n                            // console.log(\"PLUGINS: \", ClassicEditor.builtinPlugins.map( plugin => plugin.pluginName ));\n                        }}\n                        onChange={(event, editor) => {\n                            const data = editor.getData();\n                            setMailBody(data);\n                        }}\n                    /> */}\n                    <ReactQuill theme=\"snow\" value={mail_body} onChange={setMailBody}/>\n                </Grid>\n\n                <Grid item xs={12} key=\"buttons\">\n                    <Button color=\"secondary\" onClick={handleSend}>SEND</Button>\n                    <Button color=\"primary\" onClick={handleDiscard}>Discard/Reset</Button>\n                </Grid>\n            </Grid>\n\n            <Snackbar\n                anchorOrigin={{\n                    vertical: \"bottom\",\n                    horizontal: \"right\",\n                }}\n                open={is_snackbar_notif_open}\n                autoHideDuration={6000}\n                onClose={ret => set_snackbar_notif_fn(false)}\n                ContentProps={{\n                    \"aria-describedby\": \"message-id\",\n                }}\n                message={<span id=\"message-id\">{snack_bar_data.text}</span>}\n                action={[\n                    <IconButton\n                        key=\"close\"\n                        aria-label=\"close\"\n                        color=\"inherit\"\n                        className={classes.close}\n                        onClick={ret => set_snackbar_notif_fn(false)}\n                    >\n                        <CloseIcon />\n                    </IconButton>,\n                ]}\n                style={{ backgroundColor: snack_bar_data.color }}\n            />\n        </div>\n    );\n}\n\nexport default (MailBoxContainer);\n\n\n\n\n\n// DUMPING MIGHT BE REUSED CODE\n// {\n//     toggled_cc && (\n//         <Grid item xs={6} >\n//             <TextField\n//                 label=\"Cc\"\n//                 value={recipients_dict.cc}\n//                 onChange={recipientChangeHandler(\"cc\")}\n//                 margin=\"dense\"\n//                 required\n//                 error={recipients_dict.cc === \"\"}\n//                 fullWidth\n//             />\n//         </Grid>\n//     )\n// }\n// {\n//     toggled_bcc && (\n//         <Grid item xs={6} >\n//             <TextField\n//                 label=\"Bcc\"\n//                 value={recipients_dict.bcc}\n//                 onChange={recipientChangeHandler(\"bcc\")}\n//                 margin=\"dense\"\n//                 required\n//                 error={recipients_dict.bcc === \"\"}\n//                 fullWidth\n//             />\n//         </Grid>\n//     )\n// }","import React, { useState, useEffect, Fragment } from \"react\";\n\nimport {\n    Typography, Grid, Divider,\n    Avatar, makeStyles, Tooltip,\n    Badge, withStyles\n} from \"@material-ui/core\";\nimport { Stars, CheckCircle, RemoveCircle } from \"@material-ui/icons\";\n\nimport GeneralStyles from \"../../../GeneralStyles\";\nimport GenericAvatar from \"../../../images/generic-user-icon.jpg\";\nimport { getCommunityStakeholders } from \"../ajax\";\n\nconst useStyle = makeStyles(theme => {\n    const general_styles = GeneralStyles(theme);\n    return {\n        ...general_styles,\n        customPaper: {\n            padding: 8,\n            marginTop: 20,\n            textAlign: \"center\"\n        },\n        bigAvatar: {\n            margin: 10,\n            width: 40,\n            height: 40\n        }\n    };\n});\n\nconst StyledBadge = withStyles((theme) => ({\n    badge: {\n        right: 14,\n        top: 48,\n        padding: \"0 4px\",\n    },\n}))(Badge);\n\nfunction prepareOrgList (classes, community_orgs) {\n    const lgu = [];\n    const non_lgu = [];\n    Object.keys(community_orgs).forEach(x => {\n        let temp = non_lgu;\n        if (/lewc|lgu/i.test(x)) temp = lgu;\n        temp.push(x);\n    });\n\n\n    return lgu.concat(non_lgu).map((org, org_index, arr) => {\n        const user_list_for_ui = community_orgs[org].map((user, user_index) => {\n            const {\n                last_name, first_name, salutation, status, primary_contact\n            } = user;\n\n            const sal = salutation || \"\";\n            let title = \"Active\";\n            let icon = <CheckCircle style={{ color: \"green\" }} />;\n            if (Boolean(primary_contact) && status) {\n                title = \"Contact Priority\";\n                icon = <Stars style={{ color: \"gold\" }} />;\n            } else if (!status) {\n                title = \"Inactive\";\n                icon = <RemoveCircle style={{ color: \"gray\" }} />;\n            }\n\n            const primary_badge = <Tooltip \n                arrow\n                title={title}\n                placement=\"top\"\n                enterTouchDelay={200}\n            >\n                { icon }\n            </Tooltip>;\n\n            return (\n                <Grid \n                    item xs={12} sm={6} md={4} lg={3} justify=\"center\" \n                    alignItems=\"center\" container spacing={1}\n                    key={`staff_${user_index + 1}`}\n                >\n                    <StyledBadge\n                        badgeContent={primary_badge}\n                    >\n                        <Avatar \n                            alt=\"Stakeholder\" src={GenericAvatar} \n                            className={classes.bigAvatar}\n                        />\n                    </StyledBadge>\n\n                    <Typography \n                        variant=\"subtitle1\" \n                        color={ status ? \"textPrimary\" : \"textSecondary\" }\n                    >\n                        {`${sal} ${first_name} ${last_name}`}\n                    </Typography>\n                </Grid>\n            );\n        });\n\n        return (\n            <Fragment key={`fragment_${org_index + 1}`}>\n                <Grid item xs={12} key={`org_label_${org_index + 1}`}>\n                    <Typography variant=\"subtitle1\" >\n                        <strong>{org.toUpperCase()}</strong>\n                    </Typography>\n                </Grid>\n\n                <Grid item xs={12} justify=\"space-evenly\"\n                    alignItems=\"center\" container spacing={1}\n                    key={`staff_list_${org_index + 1}`}\n                >\n                    {user_list_for_ui}\n                </Grid>\n\n                {\n                    arr.length > org_index + 1 && (\n                        <Grid item xs={12}>\n                            <Divider style={{ margin: \"16px 0\" }} />\n                        </Grid>\n                    )\n                }\n            </Fragment>            \n        );\n    });\n}\n\nfunction SiteStakeholdersList (props) {\n    const classes = useStyle();\n    const { siteCode } = props;\n\n    const [community_contacts, setCommunityContacts] = useState(null);\n\n    useEffect(() => {\n        getCommunityStakeholders(siteCode, com_orgs => {\n            console.log(com_orgs);\n            const comm_contacts_ui = prepareOrgList(classes, com_orgs);\n            setCommunityContacts(comm_contacts_ui);\n        });\n    }, []);\n\n    return (\n        <Fragment>\n            <Grid item xs={12} align=\"center\">\n                <Typography variant=\"h6\" color=\"textPrimary\" gutterBottom>\n                    <strong>Site Stakeholders</strong>\n                </Typography>\n            </Grid>\n\n            <Grid item xs={12} align=\"center\" container spacing={1} justify=\"center\">\n                {\n                    // eslint-disable-next-line \n                    community_contacts === null ? (\n                        \"Loading...\"\n                    ) : (\n                        community_contacts.length !== 0 ? (\n                            community_contacts\n                        ) : (\n                            \"No site stakeholders\"\n                        )\n                    )\n                }\n                \n            </Grid>\n        </Fragment>\n    );\n}\n\nexport default SiteStakeholdersList;\n","import axios from \"axios\";\nimport { host } from \"../../config\";\n\n\nexport function getCommunityStakeholders (site_code, callback) {\n    axios.get(`${host}/api/users/get_community_orgs_by_site/${site_code}`)\n    .then(response => {\n        const { data } = response;\n        callback(data);\n    });\n}\n\nexport function getSiteSummary (site_id, callback) {\n    axios.get(`${host}/api/monitoring/get_current_monitoring_summary_per_site/${site_id}`)\n    .then(response => {\n        const { data } = response;\n        callback(data);\n    });\n}\n\nexport function getSiteSeason (site_code, callback) {\n    axios.get(`${host}/api/sites/get_site_season/${site_code}`)\n    .then(response => {\n        const { data } = response;\n        callback(data);\n    })\n    .catch(error => {\n        console.log(error);\n    });\n}\n\nexport function getSeasons (callback) {\n    axios.get(`${host}/api/sites/get_seasons`)\n    .then(response => {\n        const { data } = response;\n        callback(data);\n    })\n    .catch(error => {\n        console.log(error);\n    });\n}\n\nexport function saveSiteInformation (input, callback) {\n    const api_link = `${host}/api/sites/save_site_information`;\n    axios.post(api_link, input)\n    .then(response => {\n        const { data } = response;\n        callback(data);\n        console.log(\"Save site info data reponse\", data);\n    })\n    .catch(error => {\n        console.error(error);\n    });\n}\n","\nimport React from \"react\";\n\nimport { Button, IconButton } from \"@material-ui/core\";\nimport { ArrowBackIos } from \"@material-ui/icons\";\nimport { isWidthDown } from \"@material-ui/core/withWidth\";\n\nconst goBack = history => e => {\n    e.preventDefault();\n    history.push(\"/community/site_info\");\n    history.replace(\"/community/site_info\");\n};\n\nfunction BackToMainButton (props) {\n    const { width, history } = props;\n\n    return (\n        isWidthDown(width, \"sm\") ? (<Button\n            variant=\"contained\"\n            color=\"primary\"\n            size=\"small\" \n            onClick={goBack(history)}\n        >\n            <ArrowBackIos style={{ fontSize: 16 }}/> Back\n        </Button>) : (<IconButton\n            variant=\"contained\"\n            color=\"primary\"\n            size=\"small\" \n            onClick={goBack(history)}\n            style={{ marginLeft: 6 }}\n        >\n            <ArrowBackIos />\n        </IconButton>)\n    );\n}\n\nexport default BackToMainButton;\n","import React, { useState, useEffect, useReducer } from \"react\";\nimport {\n    Grid, Checkbox, TextField, Typography,\n    FormControl, InputLabel, Select,\n    MenuItem, Radio, RadioGroup,\n    FormLabel, FormControlLabel\n} from \"@material-ui/core\";\nimport { capitalizeFirstLetter, monthSorter } from \"../../../UtilityFunctions\";\n\nconst region_list = [\n    \"I\", \"II\", \"III\", \"IV-A\", \"IV-B\",\n    \"V\", \"VI\", \"VII\", \"VIII\", \"IX\",\n    \"X\", \"XI\", \"XII\", \"XIII\", \"CAR\",\n    \"NCR\", \"BARMM\"\n];\n\nfunction arrangeSeasons (seasons, current_season) {\n    const season_data = seasons[current_season - 1];\n    const dry = [];\n    const wet = [];\n    \n    Object.keys(season_data).forEach(key => {\n        if (season_data[key] === \"d\" || season_data[key] === \"w\")\n            if (season_data[key] === \"d\") dry.push(key);\n            else wet.push(key);\n    });\n\n    monthSorter(dry);\n    monthSorter(wet);\n\n    const list = [\n        { key: \"dry\", list: dry },\n        { key: \"wet\", list: wet }\n    ];\n\n    return list;\n}\n\nfunction sanitizeData (data) {\n    const clean_data = {};\n    Object.keys(data).forEach(key => {\n        clean_data[key] = data[key].value;\n    });\n\n    return clean_data;\n}\n\nfunction getHelperText (field, value) {\n    if (value === \"\") return \"Required field\";\n\n    if (field === \"site_code\") {\n        if (value.length < 3) return \"Site code must be three-lettered keyword\";\n    }\n\n    return \"\";\n}\n\nfunction reducerFunction (state, action) {\n    const { type, field, value } = action;\n    const field_value = state[field];\n    const new_helper_text = getHelperText(field, value);\n    \n    let new_value = value;\n    if ([\"purok\", \"sitio\", \"households\"].includes(field)) { new_value = value || null; }\n    if (field === \"season\") new_value = parseInt(value, 10);\n\n    switch (type) {\n        case \"UPDATE\":\n            return { ...state, [field]: {\n                ...field_value,\n                value: new_value,\n                helper_text: new_helper_text\n            } };\n        default:\n            return { ...state };\n    }\n}\n\nfunction initReducer (data) {\n    const new_data = {};\n    const not_required = [\"sitio\", \"purok\", \"active\", \"site_id\"];\n    Object.keys(data).forEach(key => {\n        new_data[key] = {\n            value: data[key],\n            helper_text: null,\n            required: !not_required.includes(key)\n        };\n    });\n\n    return new_data;\n}\n\nfunction EditSiteInformationForm (props) {\n    const {\n        siteInformation, setSiteInformationData,\n        seasons, setIsDisabled\n    } = props;\n\n    const [site_data, dispatch] = useReducer(reducerFunction, siteInformation, initReducer);\n    const [seasonPreview, setSeasonPreview] = useState([]);\n    \n    const seasonChangeHandler = event => {\n        const selected_season = event.target.value;\n        dispatch({ type: \"UPDATE\", field: \"season\", value: selected_season });\n        const arrangedSeasons = arrangeSeasons(seasons, selected_season);\n        setSeasonPreview(arrangedSeasons);\n    };\n\n    useEffect(() => {\n        const is_disable_save = Object.keys(site_data).some(key => {\n            const { required, helper_text } = site_data[key];\n            return required && helper_text !== \"\" && helper_text !== null;\n        });\n    \n        setIsDisabled(is_disable_save);\n        setSiteInformationData(sanitizeData(site_data));\n    }, [site_data]);\n    \n    useEffect(() => {\n        if (site_data.season.value !== null) {\n            const arrangedSeasons = arrangeSeasons(seasons, site_data.season.value);\n            setSeasonPreview(arrangedSeasons);\n        }\n    }, [site_data.season.value]);\n\n    return (\n        <Grid container spacing={2}>\n            <Grid item xs={12} sm={6}>\n                <TextField\n                    label=\"Site code\"\n                    fullWidth\n                    required\n                    inputProps={{\n                        maxLength: 3\n                    }}\n                    value={site_data.site_code.value.toUpperCase()}\n                    onChange={e => dispatch({ type: \"UPDATE\", field: \"site_code\", value: e.target.value })}\n                    helperText={site_data.site_code.helper_text || \"\"}\n                    error={Boolean(site_data.site_code.helper_text)}\n                />\n            </Grid>\n\n            <Grid item xs={6}>\n                <TextField\n                    label=\"Purok\"\n                    fullWidth\n                    placeholder=\"Enter purok if available\"\n                    InputLabelProps={{ shrink: true }}\n                    value={site_data.purok.value || \"\"}\n                    onChange={e => dispatch({ type: \"UPDATE\", field: \"purok\", value: e.target.value })}\n                />\n            </Grid>\n\n            <Grid item xs={6}>\n                <TextField\n                    label=\"Sitio\"\n                    fullWidth\n                    placeholder=\"Enter sitio if available\"\n                    InputLabelProps={{ shrink: true }}\n                    value={site_data.sitio.value || \"\"}\n                    onChange={e => dispatch({ type: \"UPDATE\", field: \"sitio\", value: e.target.value })}\n                />\n            </Grid>\n\n            <Grid item xs={6}>\n                <TextField\n                    label=\"Barangay\"\n                    fullWidth\n                    required\n                    value={site_data.barangay.value}\n                    onChange={e => dispatch({ type: \"UPDATE\", field: \"barangay\", value: e.target.value })}\n                    helperText={site_data.barangay.helper_text || \"\"}\n                    error={Boolean(site_data.barangay.helper_text)}\n                />\n            </Grid>\n\n            <Grid item xs={6}>\n                <TextField\n                    label=\"Municipality\"\n                    fullWidth\n                    required\n                    value={site_data.municipality.value}\n                    onChange={e => dispatch({ type: \"UPDATE\", field: \"municipality\", value: e.target.value })}\n                    helperText={site_data.municipality.helper_text || \"\"}\n                    error={Boolean(site_data.municipality.helper_text)}\n                />\n            </Grid>\n\n            <Grid item xs={6}>\n                <TextField\n                    label=\"Province\"\n                    fullWidth\n                    required\n                    value={site_data.province.value}\n                    onChange={e => dispatch({ type: \"UPDATE\", field: \"province\", value: e.target.value })}\n                    helperText={site_data.province.helper_text || \"\"}\n                    error={Boolean(site_data.province.helper_text)}\n                />\n            </Grid>\n\n            <Grid item xs={6}>\n                <FormControl\n                    required fullWidth\n                    error={Boolean(site_data.region.helper_text)}\n                >\n                    <InputLabel id=\"region\">Region</InputLabel>\n                    <Select\n                        labelId=\"region-select-label\"\n                        id=\"region-select-id\"\n                        required\n                        value={site_data.region.value}\n                        onChange={e => dispatch({ type: \"UPDATE\", field: \"region\", value: e.target.value })}\n                    >\n                        <MenuItem value=\"\">\n                            <em>None</em>\n                        </MenuItem>\n                        {\n                            region_list.map((item, i) => (\n                                <MenuItem value={item} key={i}>{item}</MenuItem>\n                            ))\n                        }\n                    </Select>\n                </FormControl>\n            </Grid>\n\n            <Grid item xs={6}>\n                <TextField\n                    label=\"PSGC\"\n                    fullWidth\n                    type=\"number\"\n                    required\n                    value={site_data.psgc.value}\n                    onChange={e => dispatch({ type: \"UPDATE\", field: \"psgc\", value: e.target.value })}\n                    helperText={site_data.psgc.helper_text || \"\"}\n                    error={Boolean(site_data.psgc.helper_text)}\n                />\n            </Grid>\n\n            <Grid item xs={12}>\n                <TextField\n                    label=\"Elements at Risk\"\n                    fullWidth\n                    required\n                    value={site_data.households.value || \"\"}\n                    onChange={e => dispatch({ type: \"UPDATE\", field: \"households\", value: e.target.value })}\n                    helperText={site_data.households.helper_text || \"\"}\n                    error={Boolean(site_data.households.helper_text)}\n                />\n            </Grid>\n\n            <Grid item xs={6} container justify=\"center\" alignItems=\"center\">\n                <FormControl>\n                    <FormControlLabel\n                        control={\n                            <Checkbox\n                                checked={site_data.active.value}\n                                onChange={e => dispatch({ type: \"UPDATE\", field: \"active\", value: e.target.checked })}\n                                value=\"checkedA\"\n                                color=\"primary\"\n                            />\n                        }\n                        label=\"Active site\"\n                    />\n                </FormControl>\n            </Grid>\n\n            <Grid item xs={6}>\n                <FormControl component=\"fieldset\" required error={Boolean(site_data.season.helper_text)}>\n                    <FormLabel component=\"legend\">Season</FormLabel>\n                    <RadioGroup\n                        row\n                        aria-label=\"season_group\"\n                        name=\"season\"\n                        value={site_data.season.value.toString()}\n                        onChange={seasonChangeHandler}\n                    >\n                        {\n                            seasons.map((row, index) => {\n                                const { season_group_id } = row;\n                                return (\n                                    <FormControlLabel\n                                        value={season_group_id.toString()}\n                                        control={<Radio color=\"primary\"/>}\n                                        label={`Season  ${season_group_id}`}\n                                        key={`season_${season_group_id}`} />\n                                );\n                            })\n                        }\n                    </RadioGroup>\n                </FormControl>\n            </Grid>\n            \n            <Grid item container xs={12}>\n                {\n                    seasonPreview.map(row => {\n                        const { key, list } = row;\n\n                        return (\n                            <Grid item xs={6} key={key}>\n                                <Typography variant=\"subtitle1\" color=\"textSecondary\" align=\"center\">\n                                    { capitalizeFirstLetter(key) }\n                                </Typography>\n                                <Typography variant=\"subtitle1\" color=\"textPrimary\" align=\"center\">\n                                    {\n                                        list.map(l => capitalizeFirstLetter(l)).join(\", \")\n                                    }\n                                </Typography>\n                            </Grid>\n                        );\n                    })\n                }\n            </Grid>\n        </Grid>\n    );\n}\n\nexport default EditSiteInformationForm;\n","import React, { useState, useContext } from \"react\";\n\nimport {\n    Dialog, DialogTitle, DialogContent,\n    DialogActions, Button, withMobileDialog,\n    DialogContentText, \n} from \"@material-ui/core\";\nimport { useSnackbar } from \"notistack\";\n\nimport EditSiteInformationForm from \"./EditSiteInformationForm\";\nimport { saveSiteInformation } from \"../ajax\";\nimport { GeneralContext } from \"../../contexts/GeneralContext\";\n\nfunction EditSiteInformationModal (props) {\n    const {\n        fullScreen, isOpen, seasons,\n        editButtonAction, siteInformation\n    } = props;\n\n    const { setRefreshSites } = useContext(GeneralContext);\n\n    const [site_information_data, setSiteInformationData] = useState(null);\n    const [is_disabled, setIsDisabled] = useState(true);\n    const { enqueueSnackbar, closeSnackbar } = useSnackbar();\n\n    const snackBarActionFn = key => {\n        return (<Button\n            color=\"primary\"\n            onClick={() => { closeSnackbar(key); }}\n        >\n            Dismiss\n        </Button>);\n    };\n\n    const handleSubmit = () => {\n        saveSiteInformation(site_information_data, data => {\n            const { status, message } = data;\n            if (status === \"success\") {\n                handleClose();\n                setRefreshSites(true);\n            }\n\n            enqueueSnackbar(\n                message,\n                {\n                    variant: status,\n                    autoHideDuration: 3000,\n                    action: snackBarActionFn\n                }\n            );\n        });\n    };\n\n    const handleClose = () => {\n        editButtonAction(false);\n    };\n\n    return (\n        <Dialog\n            fullWidth\n            fullScreen={fullScreen}\n            open={isOpen}\n            aria-labelledby=\"form-dialog-title\"\n        >\n            <DialogTitle id=\"form-dialog-title\">Edit site information</DialogTitle>\n            <DialogContent>\n                <DialogContentText>Update necessary fields of site information form then save.</DialogContentText>\n\n                <EditSiteInformationForm \n                    siteInformation={siteInformation}\n                    setSiteInformationData={setSiteInformationData}\n                    seasons={seasons}\n                    setIsDisabled={setIsDisabled}\n                />\n            </DialogContent>\n            <DialogActions>\n                    \n                <Button onClick={handleClose} color=\"primary\">\n                    Cancel\n                </Button>\n                <Button\n                    color=\"primary\"\n                    onClick={handleSubmit}\n                    disabled={is_disabled}\n                >\n                    Save\n                </Button>\n            </DialogActions>\n        </Dialog>\n    );\n}\n\nexport default withMobileDialog()(EditSiteInformationModal);\n","import React, {\n    Fragment, useState, useEffect\n} from \"react\";\n\nimport {\n    Grid, Typography,\n    Button, makeStyles, Card,\n    CardContent\n} from \"@material-ui/core\";\nimport { responsiveFontSizes } from \"@material-ui/core/styles\";\nimport { Edit } from \"@material-ui/icons\";\nimport ContentLoader from \"react-content-loader\";\n\nimport moment from \"moment\";\n\nimport GeneralStyles from \"../../../GeneralStyles\";\nimport SiteStakeholdersList from \"./SiteStakeholdersList\";\nimport BackToMainButton from \"./BackToMainButton\";\nimport { prepareSiteAddress, capitalizeFirstLetter, monthSorter } from \"../../../UtilityFunctions\";\nimport { getSiteSeason, getSeasons } from \"../ajax\";\nimport EditSiteInformationModal from \"./EditSiteInformationModal\";\n\nconst useStyles = makeStyles(theme => {\n    const temp = responsiveFontSizes(theme);\n    return GeneralStyles(temp);\n});\n\nconst MyLoader = () => (\n    <ContentLoader \n        height={125}\n        width={380}\n        speed={2}\n        foregroundColor=\"#f3f3f3\"\n        backgroundColor=\"#ecebeb\"\n    >\n        <rect x=\"129\" y=\"20\" rx=\"3\" ry=\"3\" width=\"123\" height=\"44\" /> \n        <rect x=\"18\" y=\"80\" rx=\"3\" ry=\"3\" width=\"350\" height=\"22\" />\n    </ContentLoader>\n);\n\nfunction SiteInformationPage (props) {\n    const { \n        width, siteInformation\n    } = props;\n    const classes = useStyles();\n\n    const [site, setSite] = useState(null);\n    const [season_months, setSeasonMonths] = useState([]);\n    const [seasons, setSeasons] = useState([]);\n    const [routine_schedule, setRoutineSchedule] = useState([]);\n    const [isOpenEditModal, setIsEditModal] = useState(false);\n\n    useEffect(() => {\n        if (typeof siteInformation !== \"undefined\") {\n            setSite(siteInformation);\n        }\n    }, [siteInformation]);\n\n    useEffect(() => {\n        if (site !== null) {\n            getSeasons(data => {\n                setSeasons(data);\n            });\n\n            getSiteSeason(site.site_code, data => {\n                const { season_months: sm } = data;\n                const { routine_schedules: rs } = sm;\n\n                const c_dry = [];\n                const c_wet = [];\n                rs.forEach(row => {\n                    const day = moment().isoWeekday(row.iso_week_day)\n                    .format(\"dddd\");\n                    if (row.season_type === \"d\") c_dry.push(day);\n                    else c_wet.push(day);\n                });\n\n                const c_list = [\n                    { key: \"dry\", list: c_dry },\n                    { key: \"wet\", list: c_wet }\n                ];\n\n                setRoutineSchedule(c_list);\n\n                delete sm.routine_schedules;\n                delete sm.season_group_id;\n                \n                const dry = [];\n                const wet = [];\n                \n                Object.keys(sm).forEach(key => {\n                    if (sm[key] === \"d\") dry.push(key);\n                    else wet.push(key);\n                });\n\n                monthSorter(dry);\n                monthSorter(wet);\n\n                const list = [\n                    { key: \"dry\", list: dry },\n                    { key: \"wet\", list: wet }\n                ];\n\n                setSeasonMonths(list);\n            });\n        }\n    }, [site]);\n\n    const editButtonAction = () => {\n        setIsEditModal(!isOpenEditModal);\n    };\n\n    return (\n        <Fragment>\n            <Grid \n                container spacing={2} \n                justify=\"space-between\"\n                alignItems=\"stretch\"\n            >\n                <Grid item xs>\n                    <BackToMainButton {...props} width={width} />\n                </Grid>\n\n                <Grid item xs container justify=\"flex-end\">\n                    <Button\n                        variant=\"contained\"\n                        color=\"primary\"\n                        size=\"small\"\n                        onClick={editButtonAction}\n                        startIcon={<Edit />}\n                    >\n                        Edit Info\n                    </Button>\n                </Grid>\n            </Grid>\n\n            <Grid container spacing={2}>\n                {\n                    site !== null ? (\n                        <Fragment>\n                            <Grid item xs={12} align=\"center\">\n                                <Typography variant=\"h4\">\n                                    { site.site_code.toUpperCase() }\n                                </Typography>\n                                <Typography variant=\"h5\" color=\"textSecondary\">\n                                    { prepareSiteAddress(site, false) }\n                                </Typography>\n                            </Grid>\n                            \n                            <Grid item xs={12} sm={6}>\n                                <Card raised>\n                                    <CardContent>\n                                        <Grid container spacing={1}>\n                                            <Grid item xs={12} align=\"center\">\n                                                <Typography variant=\"h6\" color=\"textPrimary\">\n                                                    <strong>Geographic Information</strong>\n                                                </Typography>\n                                            </Grid>\n\n                                            <Grid item xs align=\"center\">\n                                                <Typography variant=\"subtitle2\" color=\"textSecondary\">\n                                                    Region\n                                                </Typography>\n                                                <Typography variant=\"subtitle1\" color=\"textPrimary\">\n                                                    { site.region }\n                                                </Typography>\n                                            </Grid>\n\n                                            <Grid item xs sm={9} md={8} lg align=\"center\">\n                                                <Typography variant=\"subtitle2\" color=\"textSecondary\">\n                                                    Philippine Standard Geographic Code\n                                                </Typography>\n                                                <Typography variant=\"subtitle1\" color=\"textPrimary\">\n                                                    { site.psgc }\n                                                </Typography>\n                                            </Grid>\n\n                                            <Grid item xs={12} align=\"center\" container spacing={1}>\n                                                <Grid item xs={12}>\n                                                    <Typography variant=\"subtitle1\" color=\"textSecondary\">\n                                                        Seasons\n                                                    </Typography>\n                                                </Grid>\n\n                                                {\n                                                    season_months.length > 0 && (\n                                                        season_months.map(row => {\n                                                            const { key, list } = row;\n\n                                                            return (\n                                                                <Grid item xs={6} key={key}>\n                                                                    <Typography variant=\"subtitle2\" color=\"textSecondary\">\n                                                                        { capitalizeFirstLetter(key) }\n                                                                    </Typography>\n                                                                    <Typography variant=\"subtitle1\" color=\"textPrimary\">\n                                                                        {\n                                                                            list.map(l => capitalizeFirstLetter(l)).join(\", \")\n                                                                        }\n                                                                    </Typography>\n                                                                </Grid>\n                                                            );\n                                                        })\n                                                    )\n                                                }\n                                            </Grid>\n                                        </Grid>\n                                    </CardContent>\n                                </Card>\n                            </Grid>\n\n                            <Grid item xs={12} sm={6} container alignItems=\"center\">\n                                <Card raised style={{ width: \"100%\" }}>\n                                    <CardContent>\n                                        <Grid container spacing={1}>\n                                            <Grid item xs={12} align=\"center\">\n                                                <Typography variant=\"h6\" color=\"textPrimary\">\n                                                    <strong>Monitoring Information</strong>\n                                                </Typography>\n                                            </Grid>\n\n                                            <Grid item xs={12} align=\"center\" container spacing={1}>\n                                                <Grid item xs={12}>\n                                                    <Typography variant=\"subtitle1\" color=\"textSecondary\">\n                                                        Routine Schedules\n                                                    </Typography>\n                                                </Grid>\n\n                                                {\n                                                    routine_schedule.length > 0 && (\n                                                        routine_schedule.map(row => {\n                                                            const { key, list } = row;\n\n                                                            return (\n                                                                <Grid item xs={6} key={key}>\n                                                                    <Typography variant=\"subtitle2\" color=\"textSecondary\">\n                                                                        { capitalizeFirstLetter(key) }\n                                                                    </Typography>\n                                                                    <Typography variant=\"subtitle1\" color=\"textPrimary\">\n                                                                        {\n                                                                            list.map(l => capitalizeFirstLetter(l)).join(\", \")\n                                                                        }\n                                                                    </Typography>\n                                                                </Grid>\n                                                            );\n                                                        })\n                                                    )\n                                                }\n                                            </Grid>\n\n                                            <Grid item xs align=\"center\">\n                                                <Typography variant=\"subtitle2\" color=\"textSecondary\">\n                                                    Current Alert Level\n                                                </Typography>\n                                                <Typography variant=\"subtitle1\" color=\"textPrimary\">\n                                                    ---\n                                                </Typography>\n                                            </Grid>\n                                        </Grid>\n                                    </CardContent>\n                                </Card>\n                            </Grid>\n\n                            <Grid item xs={12}>\n                                <Card raised>\n                                    <CardContent>\n                                        <Grid container spacing={1}>\n                                            <Grid item xs={12} align=\"center\">\n                                                <Typography variant=\"h6\" color=\"textPrimary\">\n                                                    <strong>Site Status</strong>\n                                                </Typography>\n                                            </Grid>\n\n                                            <Grid item xs={12} sm align=\"center\">\n                                                <Typography variant=\"subtitle2\" color=\"textSecondary\">\n                                                    Active\n                                                </Typography>\n                                                <Typography variant=\"subtitle1\" color=\"textPrimary\">\n                                                    { site.active ? \"Yes\" : \"No\" }\n                                                </Typography>\n                                            </Grid>\n\n                                            <Grid item xs={12} sm align=\"center\">\n                                                <Typography variant=\"subtitle2\" color=\"textSecondary\">\n                                                    Elements at Risk\n                                                </Typography>\n                                                <Typography variant=\"subtitle1\" color=\"textPrimary\">\n                                                    { site.households || \"---\" }\n                                                </Typography>\n                                            </Grid>\n                                        </Grid>\n                                    </CardContent>\n                                </Card>\n                            </Grid>\n\n                            <Grid item xs={12} align=\"center\">\n                                <Card raised style={{ width: \"100%\" }}>\n                                    <CardContent>\n                                        <SiteStakeholdersList siteCode={site.site_code} />\n                                    </CardContent>\n                                </Card>\n                            </Grid>\n                        </Fragment>\n                    ) : (\n                        <Grid item xs style={{ width: \"100%\" }}>\n                            <MyLoader />\n                        </Grid>\n                    )\n                }\n            </Grid>\n\n            <EditSiteInformationModal\n                isOpen={isOpenEditModal}\n                siteInformation={siteInformation}\n                editButtonAction={editButtonAction}\n                seasons={seasons}\n            />\n        </Fragment>\n    );\n}\n\nexport default SiteInformationPage;\n","import React, { useRef, createRef, useEffect } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport \"leaflet/dist/leaflet.css\";\nimport { Map as LeafletMap, TileLayer, Popup, CircleMarker } from \"react-leaflet\";\nimport { prepareSiteAddress } from \"../../../UtilityFunctions\";\n\nfunction PhilippineMap (props) {\n    const { siteMapData, hoveredSite, url } = props;\n    const latitude = 12.8797;\n    const longitude = 121.7740;\n    const position = [latitude, longitude];\n    const zoom = 5;\n\n    const refs = useRef(siteMapData.map(() => createRef()));\n    useEffect(() => {\n        if (hoveredSite !== null) {\n            const i = siteMapData.findIndex(x => x.site_code === hoveredSite);\n            const ref = refs.current[i].current;\n            if (ref !== null) ref.leafletElement.openPopup();\n        }\n    }, [hoveredSite]);\n\n    return (\n        <LeafletMap style={{ height: \"75vh\" }} center={position} zoom={zoom} scrollWheelZoom=\"center\">\n            <TileLayer\n                attribution='&copy; <a href=\"https://www.mapbox.com/about/maps/\">Mapbox</a>  <a href=\"http://www.openstreetmap.org/copyright\">OpenStreetMap</a> <strong><a href=\"https://www.mapbox.com/map-feedback/\" target=\"_blank\">Improve this map</a></strong>'\n                id=\"mapbox.streets\"\n                url=\"https://api.mapbox.com/styles/v1/mapbox/streets-v11/tiles/{z}/{x}/{y}?access_token=pk.eyJ1IjoibWFwYm94IiwiYSI6ImNpejY4NXVycTA2emYycXBndHRqcmZ3N3gifQ.rJcFIG214AriISLbB6B5aw\"\n            />\n            {\n                siteMapData.map((site, i) => {\n                    const { site_code } = site;\n                    return (\n                        <CircleMarker\n                            key={site.site_id}\n                            center={[site.latitude, site.longitude]}\n                            fillColor=\"green\"\n                            fillOpacity={1}\n                            color=\"black\"\n                            weight={1}\n                            radius={4}\n                            bringToFront\n                            ref={refs.current[i]}\n                        >\n                            <Popup>\n                                <Link to={`${url}/${site_code}`} style={{ color: \"black\" }}>\n                                    <strong>{site_code.toUpperCase()}</strong> <br/>\n                                    {prepareSiteAddress(site, false)}\n                                </Link>\n                            </Popup>\n                        </CircleMarker>\n                    );\n                })\n            }\n            {/* <Marker icon={marker} position={position}>\n                <Popup>\n                    A pretty CSS3 popup. <br/> Easily customizable.\n                </Popup>\n            </Marker> */}\n        </LeafletMap>\n    );\n}\n\nexport default PhilippineMap;\n","import React, { \n    Fragment, useState, \n    useEffect, useContext\n} from \"react\";\n\nimport {\n    Grid, Typography, withWidth\n} from \"@material-ui/core\";\nimport ContentLoader from \"react-content-loader\";\n\nimport { Route, Switch, Link } from \"react-router-dom\";\nimport { makeStyles } from \"@material-ui/core/styles\";\n\nimport SiteInformationPage from \"./SiteInformationPage\";\nimport PhilippineMap from \"./PhilippineMap\";\n\nimport GeneralStyles from \"../../../GeneralStyles\";\nimport PageTitle from \"../../reusables/PageTitle\";\nimport { GeneralContext } from \"../../contexts/GeneralContext\";\nimport { prepareSiteAddress } from \"../../../UtilityFunctions\";\n\nconst useStyles = makeStyles(theme => {\n    const general_styles = GeneralStyles(theme);\n    const { innerHeight } = window;\n    const height = 118 + ((innerHeight - 118) * 0.06);\n    \n    return {\n        ...general_styles,\n        sticky: {\n            position: \"sticky\",\n            top: height, // 190,\n            [theme.breakpoints.down(\"sm\")]: {\n                top: 48\n            },\n            backgroundColor: \"white\",\n            zIndex: 1\n        }\n    };\n});\n\nconst MapLoader = () => (\n    <ContentLoader \n        height={300}\n        width={684}\n        speed={1}\n        foregroundColor=\"#f3f3f3\"\n        backgroundColor=\"#ecebeb\"\n        style={{ width: \"100%\" }}\n    >\n        <rect x=\"10\" y=\"1\" rx=\"0\" ry=\"0\" width=\"561\" height=\"700\" />\n    </ContentLoader>\n);\n\nfunction SitesPerRegion (props) {\n    const { sitesPerRegion, url, setHoveredSite } = props;\n    const sorted_regions = Object.keys(sitesPerRegion).sort();\n\n    return (\n        <Grid item xs={12} container justify=\"center\">\n            {\n                sorted_regions.map(key => {\n                    const region = key !== \"inactive\" ? key.toUpperCase() : \"Inactive Sites\";\n                \n                    return (\n                        <Grid \n                            container justify=\"center\"\n                            key={key}\n                            style={{ margin: \"8px 0\" }}\n                        >\n                            <Typography\n                                variant=\"h6\" component={Grid} \n                                item xs={12} align=\"center\"\n                                style={{ marginBottom: 4 }}\n                            >\n                                { \n                                    [\"I\", \"V\", \"X\"].includes(region.charAt(0)) && key !== \"inactive\"\n                                        ? `Region ${region}`\n                                        : region }\n                            </Typography>\n\n                            {\n                                sitesPerRegion[key].map(site => (\n                                    <Typography\n                                        variant=\"body2\" component={Grid}\n                                        item xs={12} align=\"center\" \n                                        key={site.site_code}\n                                    >\n                                        <Link\n                                            to={`${url}/${site.site_code}`} \n                                            style={{ color: \"black\" }}\n                                            onFocus={e => setHoveredSite(site.site_code)}\n                                            onMouseOver={e => setHoveredSite(site.site_code)}\n                                        > \n                                            {\n                                                prepareSiteAddress(site, true, \"start\") \n                                            }\n                                        </Link>\n                                    </Typography>\n                                ))\n                            }\n                        </Grid>\n                    );\n                })\n            }\n        </Grid>\n    );\n}\n\nfunction Container (props) {\n    const classes = useStyles();\n    const {\n        width, location,\n        match: { url }\n    } = props;\n\n    const { all_sites_including_inactive: sites } = useContext(GeneralContext);\n    const [hovered_site, setHoveredSite] = useState(null);\n    const [site_map_data, setSiteMapData] = useState(null);\n    const [sites_per_region, setSitesPerRegion] = useState(null);\n\n    useEffect(() => {\n        if (sites.length > 0) {\n            const smd = [];\n            const spr = {};\n            sites.forEach(site => {\n                const { region, active } = site;\n                \n                let key = region;\n                if (!active) {\n                    key = \"inactive\";\n                }\n\n                if (!spr[key]) spr[key] = [];\n                spr[key].push(site);\n\n                smd.push({\n                    ...site,\n                    url: `${url}/${site.site_code}`,\n                });\n            });\n\n            setSiteMapData(smd);\n            setSitesPerRegion(spr);\n        }\n    }, [sites]);\n\n    return (\n        <Fragment>\n            <div className={classes.pageContentMargin}>\n                <PageTitle\n                    title=\"Community | Site Information\"\n                />\n            </div>\n\n            <div className={classes.pageContentMargin}>\n                <Switch location={location}>\n                    <Route exact path={url} render={\n                        props => (\n                            <Grid container spacing={3} justify=\"space-evenly\">\n                                <Grid item xs={12} sm={6}>\n                                    {\n                                        site_map_data === null ? (<MapLoader />)\n                                            : (\n                                                <div className={classes.sticky}>\n                                                    <PhilippineMap \n                                                        siteMapData={site_map_data}\n                                                        width={width}\n                                                        url={url}\n                                                        hoveredSite={hovered_site}\n                                                    />\n                                                </div>                                         \n                                            )\n                                    }\n                                </Grid>\n\n                                <Grid item xs={12} sm={6} container justify=\"center\">\n                                    <Typography \n                                        variant=\"h5\" component={Grid}\n                                        item xs={12} align=\"center\"\n                                        gutterBottom\n                                    >\n                                        <strong>Dynaslope Project Sites</strong>\n                                    </Typography>\n\n                                    {\n                                        sites_per_region === null ? \"Loading\"\n                                            : (\n                                                <SitesPerRegion\n                                                    sitesPerRegion={sites_per_region}\n                                                    url={url}\n                                                    setHoveredSite={setHoveredSite}\n                                                />\n                                            )\n                                    }\n                                </Grid>\n                            </Grid>\n                        )\n                    }/>\n\n                    <Route path={`${url}/:site_code`} render={\n                        props => {\n                            const { match: { params: { site_code } } } = props;\n                            const site = sites.filter(x => x.site_code === site_code).pop();\n                        \n                            return <SiteInformationPage\n                                {...props}\n                                width={width}\n                                siteInformation={site}\n                            />;\n                        }\n                    } \n                    />\n                </Switch>\n            </div>\n        </Fragment>\n    );\n}\n\nexport default withWidth()(Container);\n","import React, { useState, useEffect } from \"react\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport {\n    ListItemText, List, ListItem, OutlinedInput\n} from \"@material-ui/core\";\n\nconst useStyles = makeStyles(theme => ({\n    list: {\n        maxHeight: \"60vh\",\n        overflowY: \"auto\",\n        boxShadow: \"0px 2px 1px -1px rgba(0,0,0,0.2), 0px 1px 1px 0px rgba(0,0,0,0.14), 0px 1px 3px 0px rgba(0,0,0,0.12)\",\n        \"&::-webkit-scrollbar\": {\n            width: 5\n        },\n        \"&::-webkit-scrollbar-track\": {\n            boxShadow: \"inset 0 0 5px grey\"\n        },\n        \"&::-webkit-scrollbar-thumb\": {\n            background: \"rgba(127, 127, 127, 0.7)\"\n        }\n    },\n    searchBox: {\n        marginBottom: theme.spacing(3)\n    },\n    sticky: {\n        position: \"sticky\",\n        top: 146,\n        [theme.breakpoints.down(\"sm\")]: {\n            top: 48\n        },\n        backgroundColor: \"white\",\n        zIndex: 1\n    },\n}));\n\nfunction MemberList (props) {\n    const { users, onMemberClickFn, selectedUserDetails } = props;\n    const classes = useStyles();\n    const [usersList, setUsersList] = useState(null);\n    const [search_str, setSearchStr] = useState(null);\n\n    useEffect(() => {\n        setUsersList(users);\n    }, [users]);\n\n    useEffect(() => {\n        if (search_str !== null ) {\n            const filtered = users.filter(row => {\n                const { first_name, last_name } = row;\n                const name = `${first_name} ${last_name}`;\n                const pattern = new RegExp(`${search_str.toLowerCase()}`, \"gi\");\n                return pattern.test(name.toLocaleLowerCase());\n            });\n            setUsersList(filtered);\n        } else {\n            setUsersList(users);\n        }\n    }, [search_str]);\n\n    return (\n        <div className={classes.sticky}>\n            <OutlinedInput\n                fullWidth\n                margin=\"dense\"\n                placeholder=\"Search Dynaslope staff...\"\n                onChange={event => setSearchStr(event.target.value)} \n                className={classes.searchBox}\n            />\n\n            <List aria-label=\"list\" className={classes.list}>\n                {\n                    usersList !== null && usersList.map(user => {\n                        const name = `${user.last_name}, ${user.first_name}`;\n                        const is_selected = selectedUserDetails !== null && selectedUserDetails.user_id === user.user_id;\n\n                        return (\n                            <ListItem \n                                button \n                                key={user.user_id} \n                                onClick={onMemberClickFn(user)}\n                                selected={is_selected}\n                            >\n                                <ListItemText primary={name} />\n                            </ListItem>\n                        );\n                    })\n                }\n            </List>\n        </div>\n    );\n}\nexport default MemberList;\n\n","import React, {\n    useState, useContext,\n    Fragment, useReducer\n} from \"react\";\nimport { Link } from \"react-router-dom\";\n\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport {\n    Avatar, Grid, Badge, IconButton,\n    ListItemText, List, ListItem, \n    ListItemIcon, CardContent, CardMedia,\n    Button, Dialog, TextField,\n    Select, MenuItem, Divider,\n    Checkbox, Typography, ListItemAvatar,\n    DialogTitle, FormControl, InputLabel,\n    FormControlLabel\n} from \"@material-ui/core\";\n\nimport {\n    Lock as LockIcon,\n    PhoneAndroid, MailOutline,\n    Delete, AddCircle,\n    Wc as WcIcon,\n    Cake, Edit as EditIcon\n} from \"@material-ui/icons\";\n\nimport StringMask from \"string-mask\";\nimport MaskedInput, { conformToMask } from \"react-text-mask\";\nimport moment from \"moment\";\nimport { MuiPickersUtilsProvider, KeyboardDatePicker } from \"@material-ui/pickers\";\nimport MomentUtils from \"@date-io/moment\";\nimport { cloneDeep } from \"lodash\";\nimport { useSnackbar } from \"notistack\";\n\n// import MyShifts from \"./UserShift\";\nimport { updateUserInfo } from \"./ajax\";\nimport Dyna_Wall from \"../../images/dyna_wall.jpg\";\nimport { GeneralContext } from \"../contexts/GeneralContext\";\nimport GenericAvatar from \"../../images/generic-user-icon.jpg\";\nimport MonitoringShiftsCalendar from \"../widgets/monitoring_shifts/MonitoringShiftsCalendar\";\n\nconst useStyles = makeStyles(theme => ({\n    root: {\n        maxWidth: \"100%\",\n        flexGrow: 1,\n    },\n    container: {\n        maxWidth: \"50%\",\n    },\n    media: {\n        objectPosition: \"top\"\n    },\n    avatar: {\n        width: 150,\n        height: 150,\n        [theme.breakpoints.down(\"md\")]: {\n            width: 100,\n            height: 100,\n        },\n        backgroundColor: \"#f2f2f2\"\n    },\n    avatarContainer: {\n        marginTop: -72,\n        marginBottom: theme.spacing(1)\n    },\n    editButton: {\n        backgroundColor: \"#f2f2f2\",\n        \"&:hover\": {\n            backgroundColor: \"#f2f2f2\",\n        }\n    },\n    nickname: { marginBottom: theme.spacing(2) },\n    listBody: { \n        paddingLeft: theme.spacing(7),\n        paddingRight: theme.spacing(11),\n        textAlign: \"center\"\n    },\n    link: {\n        textDecoration: \"none\",\n        color: \"black\"\n    },\n    alignCenter: {\n        textAlign: \"center\",\n    },\n    alignRight: {\n        textAlign: \"right\"\n    }\n}));\n\nfunction TextMaskCustom (props) {\n    const { inputRef, mask, ...other } = props;\n    return (\n        <MaskedInput\n            {...other}\n            ref={ref => {\n                inputRef(ref ? ref.inputElement : null);\n            }}\n            mask={mask} placeholderChar=\"&times;\"\n            showMask\n        />\n    );\n}\n\nconst mobile_number_mask = [\"(\", \"+\", \"6\", \"3\", \"9\", \")\", \" \", /\\d/, /\\d/, \"-\", /\\d/, /\\d/, /\\d/, \"-\", /\\d/, /\\d/, /\\d/, /\\d/];\nconst conforming_mobile_mask = [\"(\", \"+\", /\\d/, /\\d/, /\\d/, \")\", \" \", /\\d/, /\\d/, \"-\", /\\d/, /\\d/, /\\d/, \"-\", /\\d/, /\\d/, /\\d/, /\\d/];\n\nfunction sanitizeData (state) {\n    const clean_data = {};\n    const data = cloneDeep(state);\n    delete data.field_with_error;\n    Object.keys(data).forEach(key => {\n        let clean_value = null;\n\n        if (key === \"mobile_numbers\") {\n            clean_value = data[key].map(x => {\n                const { mobile_number, status } = x;\n                return {\n                    ...x,\n                    status: status.value,\n                    mobile_number: {\n                        ...mobile_number,\n                        sim_num: mobile_number.sim_num.value\n                    }\n                };\n            });\n        } else if (key === \"emails\") {\n            clean_value = data[key].map(x => ({\n                ...x,\n                email: x.email.value\n            }));\n        } else if (key === \"birthday\") {\n            const { value } = data[key];\n            clean_value = typeof value === \"string\" ? value : value.format(\"YYYY-MM-DD\");\n        } else {\n            clean_value = data[key].value;\n        }\n\n        clean_data[key] = clean_value;\n    });\n\n    return clean_data;\n}\n\nfunction getHelperText (field, value, is_required) {\n    if (value === \"\" && is_required) return \"Required field\";\n\n    if (field === \"sim_num\") {\n        if (!value.match(/^[a-z0-9]+$/i)) return \"Enter complete mobile number\";\n    }\n\n    if (field === \"birthday\") {\n        if (value !== null && !value.isValid()) return \"Enter a valid date\";\n    }\n\n    return \"\";\n}\n\nfunction reducerFunction (state, action) {\n    const { type, field, value, key, category } = action;\n\n    let field_value = null;\n    let new_value = null;\n    let new_helper_text = null;\n    let arr = null;\n    const { field_with_error } = state;\n\n    if (type === \"ADD\") {\n        let new_instance = {};\n\n        if (category === \"mobile_numbers\") {\n            arr = [...state.mobile_numbers];\n            new_instance = initMobileNumbers({\n                status: 1,\n                mobile_number: {\n                    sim_num: \"\",\n                    mobile_id: 0\n                }\n            });\n        } else if (category === \"emails\") {\n            arr = [...state.emails];\n            new_instance = initEmails({\n                email: \"\",\n                email_id: 0\n            });\n        }\n\n        arr.push(new_instance);\n        field_with_error.add(`${category}.${arr.length - 1}`);\n    } else if (type === \"DELETE\") {\n        if (category === \"mobile_numbers\")\n            arr = [...state.mobile_numbers];\n        else if (category === \"emails\")\n            arr = [...state.emails];\n        \n        arr.splice(key, 1);\n        const temp = field_with_error;\n        temp.forEach(x => {\n            if (x.includes(`${category}.${key}`)) {\n                field_with_error.delete(x);\n            }\n        });\n    } else {\n        field_value = state[field];\n        let unfilled_key_str = field;\n    \n        new_value = value;\n        if ([\"middle_name\", \"sex\"].includes(field)) new_value = value || null;\n        if (field === \"sim_num\") new_value = value.replace(/[()+-\\s]/g, \"\");\n\n        if (typeof category === \"undefined\") {\n            new_helper_text = getHelperText(field, new_value, field_value.required);\n        }\n\n        arr = [];\n        if ([\"status\", \"sim_num\"].includes(field)) {\n            arr = [...state.mobile_numbers];\n            let saving_point = {};\n            if (field === \"status\") {\n                field_value = arr[key][field];\n                saving_point = arr[key];\n            } else {\n                const parent_val = arr[key].mobile_number;\n                field_value = parent_val[field];\n                saving_point = arr[key].mobile_number;\n            }\n\n            new_helper_text = getHelperText(field, new_value, field_value.required);\n            const new_field_value = {\n                ...field_value,\n                value: new_value,\n                helper_text: new_helper_text\n            };\n\n            saving_point[field] = new_field_value;\n            unfilled_key_str = `mobile_numbers.${key}`;\n        }\n\n        if (field === \"email\") {\n            arr = [...state.emails];\n            const obj = arr[key];\n            field_value = obj[field];\n\n            new_helper_text = getHelperText(field, new_value, field_value.required);\n            const new_field_value = {\n                ...field_value,\n                value: new_value,\n                helper_text: new_helper_text\n            };\n\n            obj[field] = new_field_value;\n            unfilled_key_str = `emails.${key}`;\n        }\n\n        if (typeof category !== \"undefined\") {\n            if (field_with_error.has(unfilled_key_str)) {\n                field_with_error.delete(unfilled_key_str);\n            }\n\n            unfilled_key_str += `.${field}`;\n        }\n\n        if (new_helper_text) {\n            field_with_error.add(unfilled_key_str);\n        } else {\n            field_with_error.delete(unfilled_key_str);\n        }\n    }\n\n    switch (type) {\n        case \"UPDATE\":\n            return {\n                ...state,\n                [field]: {\n                    ...field_value,\n                    value: new_value,\n                    helper_text: new_helper_text\n                },\n                field_with_error\n            };\n        case \"UPDATE_MOBILE\":\n            return {\n                ...state, \n                mobile_numbers: arr,\n                field_with_error\n            };\n        case \"UPDATE_EMAIL\":\n            return {\n                ...state, \n                emails: arr,\n                field_with_error\n            };\n        case \"ADD\":\n            return {\n                ...state,\n                [category]: arr,\n                field_with_error\n            };\n        case \"DELETE\":\n            return {\n                ...state,\n                [category]: arr,\n                field_with_error\n            };\n        default:\n            return { ...state };\n    }\n}\n\nfunction initEmails (x) {\n    return {\n        ...x,\n        email: {\n            value: x.email,\n            helper_text: null,\n            required: true\n        }\n    };\n}\n\nfunction initMobileNumbers (x) {\n    const { mobile_number } = x;\n    return {\n        ...x,\n        status: {\n            value: x.status,\n            helper_text: null,\n            required: false,\n        },\n        mobile_number: {\n            ...mobile_number,\n            sim_num: {\n                value: mobile_number.sim_num,\n                helper_text: null,\n                required: true\n            }\n        }\n    };\n}\n\nfunction initReducer (data) {\n    const new_data = {};\n    const not_required = [\"middle_name\", \"sex\", \"birthday\"];\n    Object.keys(data).forEach(key => {\n        let value = {\n            value: data[key],\n            helper_text: null,\n            required: !not_required.includes(key)\n        };\n\n        if (key === \"mobile_numbers\") {\n            value = data[key].map(x => initMobileNumbers(x));\n        }\n\n        if (key === \"emails\") {\n            value = data[key].map(x => initEmails(x));\n        }\n\n        new_data[key] = value;\n    });\n\n    new_data.field_with_error = new Set();\n\n    return new_data;\n}\n\nfunction conformTextMask (sim_num) {\n    const { conformedValue } = conformToMask(sim_num, conforming_mobile_mask);\n    return conformedValue;\n}\n\nfunction ProfileEdit (props) {\n    const { classes, selectedUserDetails, setIsEdit } = props;\n    const [user_data, dispatch] = useReducer(reducerFunction, selectedUserDetails, initReducer);\n    const { setRefreshUser } = useContext(GeneralContext);\n    const { enqueueSnackbar } = useSnackbar();\n    \n    const save_data = () => {\n        const final_data = sanitizeData(user_data);\n        console.log(\"Final\", final_data);\n\n        updateUserInfo(final_data, data => {\n            const { status, message } = data;\n\n            enqueueSnackbar(\n                message,\n                {\n                    variant: status,\n                    autoHideDuration: 5000\n                }\n            );\n\n            if (status === \"success\") {\n                setIsEdit(false);\n                setRefreshUser(true);\n            }\n        });\n    };\n\n    return (\n        <Fragment>\n            <Grid item xs={12} container spacing={2} style={{ marginTop: 8 }}>\n                <Grid item xs={6} sm={3}>\n                    <TextField\n                        label=\"First Name\"\n                        required\n                        value={user_data.first_name.value || \"\"}\n                        onChange={e => dispatch({ type: \"UPDATE\", field: \"first_name\", value: e.target.value })}\n                        helperText={user_data.first_name.helper_text || \"\"}\n                        error={Boolean(user_data.first_name.helper_text)}\n                    />\n                </Grid>\n\n                <Grid item xs={6} sm={3}>\n                    <TextField\n                        label=\"Last Name\"\n                        required\n                        value={user_data.last_name.value || \"\"}\n                        onChange={e => dispatch({ type: \"UPDATE\", field: \"last_name\", value: e.target.value })}\n                        helperText={user_data.last_name.helper_text || \"\"}\n                        error={Boolean(user_data.last_name.helper_text)}\n                    />\n                </Grid>\n\n                <Grid item xs={6} sm={3}>\n                    <TextField\n                        label=\"Middle Name\"\n                        value={user_data.middle_name.value || \"\"}\n                        onChange={e => dispatch({ type: \"UPDATE\", field: \"middle_name\", value: e.target.value })}\n                    />\n                </Grid>\n\n                <Grid item xs={6} sm={3}>\n                    <TextField\n                        label=\"Nickname\"\n                        required\n                        value={user_data.nickname.value || \"\"}\n                        onChange={e => dispatch({ type: \"UPDATE\", field: \"nickname\", value: e.target.value })}\n                        helperText={user_data.nickname.helper_text || \"\"}\n                        error={Boolean(user_data.nickname.helper_text)}\n                        disabled\n                    />\n                </Grid>\n\n                <Grid item xs={6}>\n                    <MuiPickersUtilsProvider utils={MomentUtils}>\n                        <KeyboardDatePicker\n                            autoOk\n                            label=\"Birthday\"\n                            value={user_data.birthday.value || null}\n                            onChange={e => dispatch({ type: \"UPDATE\", field: \"birthday\", value: e })}\n                            helperText={user_data.birthday.helper_text || \"\"}\n                            error={Boolean(user_data.birthday.helper_text)}\n                            ampm={false}\n                            placeholder=\"01/01/2000\"\n                            format=\"MM/DD/YYYY\"\n                            mask=\"__/__/____\"\n                            clearable\n                            disableFuture\n                        />\n                    </MuiPickersUtilsProvider>\n                </Grid>\n                \n                <Grid item xs={6}>\n                    <FormControl\n                        fullWidth\n                        // required \n                        // error={Boolean(user_data.sex.helper_text)}\n                    >\n                        <InputLabel id=\"sex-label\">Sex</InputLabel>\n                        <Select\n                            labelId=\"sex-label\"\n                            id=\"sex-select\"\n                            value={user_data.sex.value || \"\"}\n                            onChange={e => dispatch({ type: \"UPDATE\", field: \"sex\", value: e.target.value })}\n                        >\n                            <MenuItem value=\"\">---</MenuItem>\n                            <MenuItem value=\"M\">Male</MenuItem>\n                            <MenuItem value=\"F\">Female</MenuItem>\n                        </Select>\n                    </FormControl>\n                </Grid>\n\n                <Grid item xs={12}><Divider /></Grid>\n\n                <Grid item xs={12} lg={6} container spacing={1}>\n                    <Typography\n                        component={Grid} item xs={12}\n                        variant=\"h6\" align=\"center\"\n                    >\n                        Contact Numbers\n                    </Typography>\n\n                    {\n                        user_data.mobile_numbers.map((row, index) => {\n                            const { mobile_number: { sim_num, mobile_id }, status } = row;\n                            const is_existing = mobile_id !== 0; \n\n                            return (\n                                <Grid item xs={12} container spacing={1} key={index}>\n                                    <Grid item xs={7}>\n                                        <FormControl fullWidth>\n                                            <TextField\n                                                label=\"Mobile Number\"\n                                                required\n                                                value={conformTextMask(sim_num.value)}\n                                                onChange={event => dispatch({\n                                                    type: \"UPDATE_MOBILE\",\n                                                    field: \"sim_num\",\n                                                    value: event.target.value,\n                                                    key: index,\n                                                    category: \"mobile_numbers\"\n                                                })}\n                                                InputProps={{\n                                                    inputComponent: TextMaskCustom,\n                                                    inputProps: { mask: mobile_number_mask }\n                                                }}\n                                                helperText={sim_num.helper_text || \"\"}\n                                                error={Boolean(sim_num.helper_text)}\n                                            />\n                                        </FormControl>\n                                    </Grid>\n\n                                    <Grid item xs={is_existing ? 5 : 3} container justify=\"center\">\n                                        <FormControlLabel\n                                            style={{ margin: 0 }}\n                                            control={\n                                                <Checkbox\n                                                    checked={Boolean(status.value)}\n                                                    onChange={event => dispatch({\n                                                        type: \"UPDATE_MOBILE\",\n                                                        field: \"status\",\n                                                        value: event.target.checked ? 1 : 0,\n                                                        key: index,\n                                                        category: \"mobile_numbers\"\n                                                    })}\n                                                    color=\"primary\"\n                                                />\n                                            }\n                                            label=\"Active\"\n                                        />\n                                    </Grid>\n                                    \n                                    {\n                                        !is_existing && (\n                                            <Grid item xs={2} container justify=\"center\">\n                                                <IconButton\n                                                    edge=\"end\"\n                                                    size=\"small\"\n                                                    aria-label=\"delete\"\n                                                    onClick={() => dispatch({\n                                                        type: \"DELETE\",\n                                                        key: index,\n                                                        category: \"mobile_numbers\"\n                                                    })}\n                                                >\n                                                    <Delete />\n                                                </IconButton>\n                                            </Grid>\n                                        )\n                                    }   \n                                </Grid>\n                            );\n                        })\n                    }\n\n                    <Grid item xs={12} className={classes.alignRight}>\n                        <Button \n                            variant=\"contained\"\n                            color=\"primary\"\n                            size=\"small\"\n                            startIcon={<AddCircle />}\n                            onClick={() => dispatch({ type: \"ADD\", category: \"mobile_numbers\" })}\n                        >\n                            Add number\n                        </Button>\n                    </Grid>\n                </Grid>\n\n                <Grid item xs={12} lg={6} container spacing={1}>\n                    <Typography\n                        component={Grid} item xs={12}\n                        variant=\"h6\" align=\"center\"\n                    >\n                        Emails\n                    </Typography>\n\n                    {\n                        user_data.emails.length === 0 && (\n                            <Grid item xs={12}>\n                                <Typography variant=\"body2\" color=\"textSecondary\" align=\"center\" paragraph>\n                                    No email address saved\n                                </Typography>\n                            </Grid>\n                        )\n                    }\n\n                    {\n                        user_data.emails.map((row, index) => {\n                            const { email, email_id } = row;\n                            const is_existing = email_id !== 0;\n\n                            return (\n                                <Grid item xs={12} container spacing={1} key={index}>\n                                    <Grid item xs={is_existing ? 12 : 10}>\n                                        <FormControl fullWidth>\n                                            <TextField\n                                                required\n                                                label=\"Email Address\"\n                                                value={email.value}\n                                                onChange={e => dispatch({\n                                                    type: \"UPDATE_EMAIL\",\n                                                    field: \"email\",\n                                                    value: e.target.value,\n                                                    key: index,\n                                                    category: \"emails\"\n                                                })}\n                                                helperText={email.helper_text || \"\"}\n                                                error={Boolean(email.helper_text)}\n                                            />\n                                        </FormControl>\n                                    </Grid>\n\n                                    {\n                                        !is_existing && (\n                                            <Grid item xs={2} container justify=\"center\">\n                                                <IconButton\n                                                    edge=\"end\"\n                                                    size=\"small\"\n                                                    aria-label=\"delete\"\n                                                    onClick={() => dispatch({\n                                                        type: \"DELETE\",\n                                                        key: index,\n                                                        category: \"emails\"\n                                                    })}\n                                                >\n                                                    <Delete />\n                                                </IconButton>\n                                            </Grid>\n                                        )\n                                    }\n                                </Grid>\n                            );\n                        })\n                    }\n                \n                    <Grid item xs={12} className={classes.alignRight}>\n                        <Button \n                            variant=\"contained\"\n                            color=\"primary\"\n                            size=\"small\"\n                            startIcon={<AddCircle />}\n                            onClick={() => dispatch({ type: \"ADD\", category: \"emails\" })}\n                        >\n                            Add email\n                        </Button>\n                    </Grid>\n                </Grid>\n\n                <Grid item xs={12} container justify=\"flex-end\" style={{ marginTop: 8 }}>\n                    <Button \n                        color=\"secondary\" variant=\"contained\"\n                        style={{ marginRight: 6 }}\n                        disabled={user_data.field_with_error.size > 0}\n                        onClick={save_data}\n                    >\n                        Save\n                    </Button>\n                    <Button color=\"primary\" variant=\"contained\" onClick={() => setIsEdit(false)}>\n                        Cancel\n                    </Button>\n                </Grid>\n            </Grid>\n        </Fragment>\n    );\n}\n\nfunction ProfileDisplay (props) {\n    const { classes, selectedUserDetails } = props;\n    const {\n        first_name, last_name, middle_name: m_name,\n        nickname, birthday: bday, sex: t_sex,\n        mobile_numbers, emails\n    } = selectedUserDetails;\n\n    const middle_name = [\"\", \"NA\", null].includes(m_name) ? \"\" : `${m_name}.`;\n    const birthday = bday === null ? \"---\" : moment(bday).format(\"MMMM DD, YYYY\");\n    let sex = \"---\";\n    if (t_sex !== null) sex = t_sex.toUpperCase() === \"F\" ? \"Female\" : \"Male\";\n\n    const format_to_mask = (number => {\n        if (!number.match(/[()+-\\s]/g)) {\n            const formatter = new StringMask(\"(+000) 00-000-0000\");\n            const result = formatter.apply(number);\n            return result;\n        }\n        \n        return number;\n    });\n\n    return (\n        <Fragment>\n            <Typography\n                component={Grid} item xs={12}\n                gutterBottom variant=\"h5\"\n            >\n                {`${first_name} ${middle_name} ${last_name}`}\n            </Typography>\n            <Typography\n                component={Grid} item xs={12}\n                variant=\"body2\" color=\"textSecondary\"\n                gutterBottom className={classes.nickname}\n            >\n                {nickname}\n            </Typography>\n\n            <Grid item xs={12} container style={{ marginBottom: 16 }}>\n                <Grid item xs={12} sm={6} container justify=\"center\" alignItems=\"center\">\n                    <Cake style={{ paddingRight: 8 }} />\n                    <Typography variant=\"h6\">{ birthday }</Typography>\n                </Grid>\n                            \n                <Grid item xs={12} sm={6} container justify=\"center\" alignItems=\"center\">\n                    <WcIcon style={{ paddingRight: 8 }} />\n                    <Typography variant=\"h6\">{ sex }</Typography>\n                </Grid>\n            </Grid>\n\n            <Grid item xs={12} lg={6}>\n                <Typography variant=\"h6\">\n                    Contact Numbers\n                </Typography>\n\n                <List dense>\n                    {\n                        mobile_numbers.length === 0 ? (\n                            <ListItem className={classes.listBody}>\n                                <ListItemAvatar>\n                                    <Avatar>\n                                        <PhoneAndroid />\n                                    </Avatar>\n                                </ListItemAvatar>\n                                <ListItemText\n                                    primary=\"No mobile numbers saved\"\n                                />\n                            </ListItem>\n                        ) : (\n                            mobile_numbers.map(num => (\n                                <ListItem className={classes.listBody} key={num.mobile_number.mobile_id}>\n                                    <ListItemAvatar>\n                                        <Avatar>\n                                            <PhoneAndroid />\n                                        </Avatar>\n                                    </ListItemAvatar>\n                                    <ListItemText\n                                        primary={format_to_mask(num.mobile_number.sim_num)}\n                                        secondary={`Status: ${num.status === 0 ? \"Inactive\" : \"Active\"}`}\n                                    />\n                                    {/* <ListItemSecondaryAction>\n                                                    <ListItemText\n                                                        secondary={`Status: ${num.status === 0 ? \"Inactive\" : \"Active\"}`}\n                                                    />\n                                                </ListItemSecondaryAction> */}\n                                </ListItem>\n                            ))\n                        )\n                    }\n                </List>\n            </Grid>\n\n            <Grid item xs={12} lg={6}>\n                <Typography variant=\"h6\">\n                    Emails\n                </Typography>\n\n                <List dense>\n                    {\n                        emails.length === 0 ? (\n                            <ListItem className={classes.listBody}>\n                                <ListItemAvatar>\n                                    <Avatar>\n                                        <MailOutline />\n                                    </Avatar>\n                                </ListItemAvatar>\n                                <ListItemText\n                                    primary=\"No email addresses saved\"\n                                />\n                            </ListItem>\n                        ) : (\n                            emails.map(row => (\n                                <ListItem className={classes.listBody} key={row.email_id}>\n                                    <ListItemAvatar>\n                                        <Avatar>\n                                            <MailOutline />\n                                        </Avatar>\n                                    </ListItemAvatar>\n                                    <ListItemText\n                                        primary={row.email}\n                                    />\n                                </ListItem>\n                            ))\n                        )\n                    }\n                </List>\n            </Grid>\n\n            <Grid item xs={12}>\n                <Typography variant=\"h6\">\n                    Monitoring Shifts\n                </Typography>\n\n                <MonitoringShiftsCalendar nickname={nickname} />\n            </Grid>\n        </Fragment>\n    );\n}\n\nfunction ProfileDetails (props) {\n    const { selectedUserDetails, isUser, url } = props;\n    const classes = useStyles();\n    const [isEdit, setIsEdit] = useState(false);\n    const [open, setOpen] = useState(false);\n\n    const handleEdit = () => {\n        setIsEdit(true);\n        setOpen(false);\n    };\n\n    const BadgeButton = () => {\n        return (\n            <Fragment>\n                <IconButton\n                    className={classes.editButton}\n                    onClick={() => setOpen(true)}\n                >\n                    <EditIcon color=\"primary\"/>\n                </IconButton>\n\n                <Dialog onClose={() => setOpen(false)} aria-labelledby=\"simple-dialog-title\" open={open}>\n                    <DialogTitle id=\"simple-dialog-title\">Profile options</DialogTitle>\n                    <List>\n                        <ListItem button onClick={handleEdit}>\n                            <ListItemIcon>\n                                <EditIcon />\n                            </ListItemIcon>\n                            <ListItemText primary=\"Edit info\" />\n                        </ListItem>\n\n                        <Link to={`${url}/credentials`} className={classes.link}>\n                            <ListItem button>\n                                <ListItemIcon>\n                                    <LockIcon />\n                                </ListItemIcon>\n                                <ListItemText primary=\"Update credentials\" />\n                            </ListItem>\n                        </Link>\n                    </List>\n                </Dialog>\n            </Fragment>\n        );\n    };\n\n    return (\n        <Fragment>\n            <CardMedia\n                component=\"img\"\n                height=\"200\"\n                className={classes.media}\n                image={Dyna_Wall}\n                title=\"Dynaslope Header Pic\"\n            />\n\n            <CardContent className={classes.alignCenter}>\n                <Grid container justify=\"center\">\n                    <Grid \n                        container item xs={12} \n                        className={classes.avatarContainer}\n                        justify=\"center\"\n                    >\n                        <Badge\n                            overlap=\"circle\"\n                            anchorOrigin={{\n                                vertical: \"bottom\",\n                                horizontal: \"right\",\n                            }}\n                            badgeContent={isUser && !isEdit && <BadgeButton/>}\n                        >\n                            <Avatar \n                                className={classes.avatar} \n                                src={GenericAvatar}\n                            />\n                        </Badge>\n                    </Grid>\n\n                    {\n                        !isEdit ? (\n                            <ProfileDisplay \n                                classes={classes}\n                                selectedUserDetails={selectedUserDetails}\n                            />\n                        ) : (\n                            <ProfileEdit\n                                classes={classes}\n                                selectedUserDetails={selectedUserDetails}\n                                setIsEdit={setIsEdit}\n                            />\n                        )\n                    }\n                </Grid>\n            </CardContent>\n        </Fragment>\n    );\n}\n\nexport default ProfileDetails;\n","import axios from \"axios\";\nimport { host } from \"../../config\";\n\nfunction updateUserCredentials (json_data, callback) {\n    const api_link = `${host}/api/users/update_account`;\n    axios.post(api_link, json_data)\n    .then(response => {\n        const { data } = response;\n        console.log(data);\n        callback(data);\n    })\n    .catch(error => {\n        console.error(error);\n    });\n}\n\nfunction updateUserInfo (json_data, callback) {\n    const api_link = `${host}/api/users/update_user_info`;\n    axios.post(api_link, json_data)\n    .then(response => {\n        const { data } = response;\n        console.log(data);\n        callback(data);\n    })\n    .catch(error => {\n        console.error(error);\n    });\n}\n\nfunction CreateDynaMember (json_data, callback) {\n    const api_link = `${host}/api/users/create_dynaslope_user`;\n    axios.post(api_link, json_data)\n    .then(response => {\n        const { data } = response;\n        console.log(data);\n        callback(data);\n    })\n    .catch(error => {\n        console.error(error);\n    });\n}\nexport { updateUserCredentials, updateUserInfo, CreateDynaMember };","import React, { \n    useState, Fragment, useEffect,\n    useContext\n} from \"react\";\n\nimport {\n    Grid, Hidden, IconButton,\n    Dialog, AppBar, Toolbar,\n    Slide, Card, makeStyles\n} from \"@material-ui/core\";\nimport { Close } from \"@material-ui/icons\";\n\nimport PageTitle from \"../reusables/PageTitle\";\nimport MemberList from \"./MemberList\";\nimport ProfileDetails from \"./ProfileDetails\";\n\nimport GeneralStyles from \"../../GeneralStyles\";\nimport { GeneralContext } from \"../contexts/GeneralContext\";\nimport { getCurrentUser } from \"../sessions/auth\";\n\nconst useStyles = makeStyles(theme=>({\n    ...GeneralStyles(theme),\n    schedIcon: {\n        width: 50,\n        height: 50,\n        display: \"flex\",\n    },\n    margin: {\n        margin: theme.spacing(1),\n    },\n    appBar: {\n        position: \"relative\",\n    },\n    title: {\n        marginLeft: theme.spacing(2),\n        flex: 1,\n    },\n}));\n\nconst Transition = React.forwardRef((props, ref) => {\n    return <Slide direction=\"up\" ref={ref} {...props} />;\n});\n  \nfunction ProfileContainer (props) {\n    const { match: { url } } = props;\n    const classes = useStyles();\n\n    const { users } = useContext(GeneralContext);\n    const currentUser = getCurrentUser();\n\n    const [users_list, setUsers] = useState(null);\n    const [selectedUser, setSelectedUser] = useState(null);\n    const [open, setOpen] = useState(true);\n    const [isUser, setIsUser] = useState(false);\n    const [isWebAdmin, setWebAdmin] = useState(false);\n\n    useEffect(() => {\n        setUsers(users);\n    }, [users]);\n\n    useEffect(() => {\n        if (typeof users_list !== \"undefined\" && users_list !== null) {\n            const current = users_list.filter(data => {\n                if (data.user_id === currentUser.user_id) {\n                    return data; \n                }\n            }); \n            setSelectedUser(current[0]);\n        }\n    }, [users_list]);\n\n    useEffect(() => {\n        if (typeof selectedUser !== \"undefined\" && selectedUser !== null) {\n            selectedUser.user_id === currentUser.user_id ? setIsUser(true) : setIsUser(false);\n            selectedUser.teams.forEach(row => {\n                setWebAdmin(row.team.team_name === \"web-admin\");\n            });\n        }\n    }, [selectedUser]);\n\n    const onMemberClickFn = user => () => {\n        setSelectedUser(user);\n        setOpen(true);\n    };\n    \n    const handleClose = () => {\n        setOpen(false);\n    };\n\n    return (\n        <Fragment>\n            <div className={classes.pageContentMargin}>\n                <PageTitle\n                    title=\"Dynaslope | Staff Profiles\"\n                />\n            </div>\n\n            <div className={classes.pageContentMargin}>\n                <Grid container justify=\"center\" spacing={2}>\n                    { \n                        users_list !== null &&\n                            <Grid item xs={12} md={4}>\n                                <MemberList\n                                    users={users_list}\n                                    onMemberClickFn={onMemberClickFn}\n                                    isWebAdmin={isWebAdmin}\n                                    isUser={isUser}\n                                    selectedUserDetails={selectedUser}\n                                />\n                            </Grid>\n                    }\n                    {\n                        // selectedUser !== null && (\n                        //     <Grid item md={9}>\n                        //         Loading...\n                        //     </Grid>\n                        // )\n                    }\n                    {\n                        selectedUser !== null && (\n                            <Fragment>\n                                <Hidden smDown>\n                                    <Grid item xs={12} md={8}>\n                                        {\n                                            typeof selectedUser !== \"undefined\" && (\n                                                <Card>\n                                                    <ProfileDetails\n                                                        currentUser={currentUser}\n                                                        selectedUserDetails={selectedUser}\n                                                        isUser={isUser}\n                                                        isAdmin={isWebAdmin}\n                                                        url={url}\n                                                    />\n                                                </Card>\n                                            )\n                                        }\n                                    </Grid>   \n                                </Hidden>\n\n                                <Hidden mdUp>\n                                    <Dialog fullScreen open={open} onClose={handleClose} TransitionComponent={Transition}>\n                                        <AppBar className={classes.appBar}>\n                                            <Toolbar style={{ justifyContent: \"flex-end\" }}>\n                                                <IconButton \n                                                    edge=\"end\" \n                                                    color=\"inherit\" \n                                                    onClick={handleClose} \n                                                    aria-label=\"close\"\n                                                >\n                                                    <Close />\n                                                </IconButton>\n                                            </Toolbar>\n                                        </AppBar>\n\n                                        {\n                                            typeof selectedUser !== \"undefined\" && (\n                                                <ProfileDetails\n                                                    currentUser={currentUser}\n                                                    selectedUserDetails={selectedUser}\n                                                    isUser={isUser}\n                                                    isAdmin={isWebAdmin}\n                                                    url={url}\n                                                />\n                                            )\n                                        }\n                                    </Dialog>\n                                </Hidden>\n                            </Fragment>\n                        )\n                    }\n                </Grid> \n            </div>\n        </Fragment>\n    );\n}\n\nexport default ProfileContainer;\n","import React, { useState, useEffect } from \"react\";\nimport Avatar from \"@material-ui/core/Avatar\";\nimport Button from \"@material-ui/core/Button\";\nimport TextField from \"@material-ui/core/TextField\";\nimport LockOutlinedIcon from \"@material-ui/icons/LockOutlined\";\nimport Typography from \"@material-ui/core/Typography\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Container from \"@material-ui/core/Container\";\nimport VisibilityIcon from \"@material-ui/icons/Visibility\";\nimport VisibilityOffIcon from \"@material-ui/icons/VisibilityOff\";\nimport { InputAdornment, IconButton } from \"@material-ui/core\";\nimport VerifiedUserIcon from \"@material-ui/icons/VerifiedUser\";\n\nimport { getCurrentUser } from \"../sessions/auth\";\nimport { updateUserCredentials } from \"./ajax\";\n\nconst useStyles = makeStyles((theme) => ({\n    paper: {\n        marginTop: theme.spacing(8),\n        display: \"flex\",\n        flexDirection: \"column\",\n        alignItems: \"center\",\n    },\n    avatar: {\n        margin: theme.spacing(1),\n        backgroundColor: theme.palette.secondary.main,\n    },\n    avatar_success: {\n        margin: theme.spacing(1),\n        backgroundColor: \"green\",\n    },\n    form: {\n        width: \"100%\", // Fix IE 11 issue.\n        marginTop: theme.spacing(1),\n    },\n    submit: {\n        margin: theme.spacing(3, 0, 2),\n    },\n    form_display: {\n        display: \"block\",\n    },\n    form_hide: {\n        display: \"none\",\n    }\n}));\n\nexport default function ChangePasswordForm (props) {\n    const { history } = props;\n    const classes = useStyles();\n\n    const [warningText, setWarningText] = useState(\"\");\n    const [username, setUsername] = useState(\"\");\n    const [pass1, setPass1] = useState(\"\");\n    const [pass2, setPass2] = useState(\"\");\n    const [old_pass, setOldPass] = useState(\"\");\n    const [disabled, setDisabled] = useState(true);\n    const [show, setShow] = useState(false);\n    const [color, setColor] = useState(\"error\");\n    const [title, setTitle] = useState(\"Update login credentials\");\n    const [success, setSuccess] = useState(false);\n    const { user_id } = getCurrentUser();\n\n    useEffect(() => {\n        if (pass1.length > 5 || pass2.length > 5) {\n            if (pass1 === pass2) {\n                setWarningText(\"Enter your old password below\"); \n                setDisabled(false);\n                setColor(\"primary\");\n            } else {\n                setWarningText(\"Passwords did not matched\");\n                setDisabled(true);\n                setColor(\"error\");\n            } \n        } else {\n            setWarningText(\"Password too short\");\n            setColor(\"error\");\n        }\n        \n        if (pass1.length === 0 || pass2.length === 0) {\n            setWarningText(\"\");\n        }\n    }, [pass1, pass2]);\n\n    const handleClickShowPassword = () => setShow(!show);\n\n    const saveChanges = () => {\n        const data = {\n            user_id,\n            username,\n            new_password: pass1,\n            old_password: old_pass,\n        };\n        \n        updateUserCredentials(data, response => {\n            if (response === \"success\") {\n                setTitle(\"Account update success\");\n                setSuccess(true);\n            } else {\n                setSuccess(false);\n                setWarningText(\"Invalid old password\");\n                setColor(\"error\");\n            }\n        });\n    };\n\n    const goToProfile = () => {\n        history.push(\"/profile\");\n    };\n\n    return (\n        <Container component=\"main\" maxWidth=\"xs\">\n            <div className={classes.paper}>\n                <Avatar className={ !success ? classes.avatar : classes.avatar_success}>\n                    {success ? <VerifiedUserIcon/> : <LockOutlinedIcon />}\n                </Avatar>\n                <Typography component=\"h1\">\n                    {title}\n                </Typography>\n\n                <div className={ success ? classes.form_hide : classes.form_display}>\n                    <TextField\n                        variant=\"outlined\"\n                        margin=\"normal\"\n                        required\n                        fullWidth\n                        id=\"username\"\n                        label=\"New username (leave empty if no changes)\"\n                        name=\"Username\"\n                        onChange={e=> setUsername(e.target.value)}           \n                    />\n                    \n                    <TextField\n                        variant=\"outlined\"\n                        margin=\"normal\"\n                        fullWidth\n                        type={show ? \"text\" : \"password\"}\n                        label=\"New password\"\n                        id=\"password1\"\n                        onChange={e=> setPass1(e.target.value)}\n                        InputProps={{ endAdornment: (\n                            <InputAdornment position=\"end\">\n                                <IconButton\n                                    aria-label=\"toggle password visibility\"\n                                    onClick={handleClickShowPassword}\n                                >\n                                    {show ? <VisibilityIcon /> : <VisibilityOffIcon />}\n                                </IconButton>\n                            </InputAdornment>\n                        )\n                        }}\n                    />\n\n                    <TextField\n                        variant=\"outlined\"\n                        margin=\"normal\"\n                        type=\"password\"\n                        fullWidth\n                        id=\"password2\"\n                        label=\"Confirm new password\"\n                        onChange={e=> setPass2(e.target.value)}\n                    />\n\n                    <Typography variant=\"body2\" color={color}> \n                        {warningText}\n                    </Typography>\n\n                    <TextField\n                        variant=\"outlined\"\n                        margin=\"normal\"\n                        required\n                        fullWidth\n                        name=\"currentpassword\"\n                        label=\"Current password\"\n                        type=\"password\"\n                        id=\"password\"\n                        autoComplete=\"current-password\"\n                        disabled={disabled}\n                        onChange={e => setOldPass(e.target.value)}\n                    />\n                </div>\n\n                <Button\n                    type=\"submit\"\n                    fullWidth\n                    variant=\"contained\"\n                    color=\"primary\"\n                    className={classes.submit}\n                    disabled={disabled}\n                    onClick={ success ? goToProfile : saveChanges}\n                >\n                    {success ? \"go to profile\" : \"save changes\"}\n                </Button>\n\n                {\n                    !success && (\n                        <Button\n                            fullWidth\n                            variant=\"contained\"\n                            color=\"primary\"\n                            onClick={goToProfile}\n                        >\n                            Cancel\n                        </Button>\n                    )\n                }\n            </div>       \n        </Container>\n    );\n}","import MomentUtils from \"@date-io/moment\";\nimport moment from \"moment\";\nimport React, { useState, useEffect, useContext } from \"react\";\nimport { Avatar, TextField, OutlinedInput, Tooltip,\n    Button, IconButton, InputAdornment, Divider\n} from \"@material-ui/core\";\nimport Grid from \"@material-ui/core/Grid\";\nimport MaskedInput from \"react-text-mask\";\nimport PersonAddIcon from \"@material-ui/icons/PersonAdd\";\nimport Typography from \"@material-ui/core/Typography\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Container from \"@material-ui/core/Container\";\nimport {\n    MuiPickersUtilsProvider,\n    KeyboardDatePicker,\n} from \"@material-ui/pickers\";\nimport CheckCircleOutlineIcon from \"@material-ui/icons/CheckCircleOutline\";\nimport AddIcon from \"@material-ui/icons/Add\";\nimport DeleteIcon from \"@material-ui/icons/Delete\";\nimport AddIcCallIcon from \"@material-ui/icons/AddIcCall\";\nimport RemoveCircleOutlineIcon from \"@material-ui/icons/RemoveCircleOutline\";\nimport { Redirect } from \"react-router-dom\";\nimport { CreateDynaMember } from \"./ajax\";\nimport { react_host } from \"../../config\";\nimport { GeneralContext } from \"../contexts/GeneralContext\";\nimport { getCurrentUser } from \"../sessions/auth\";\n\nconst useStyles = makeStyles((theme) => ({\n    paper: {\n        marginTop: theme.spacing(8),\n        display: \"flex\",\n        flexDirection: \"column\",\n        alignItems: \"center\",\n    },\n    avatar: {\n        margin: theme.spacing(1),\n        backgroundColor: theme.palette.primary.main,\n        padding: 5,\n    },\n    successIcon: {\n        margin: theme.spacing(1),\n        width: 70,\n        height: 70,\n        color: \"green\",\n        backgroundColor: \"white\",\n    },\n    form: {\n        width: \"100%\", // Fix IE 11 issue.\n        marginTop: theme.spacing(3),\n    },\n    submit: {\n        margin: theme.spacing(3, 0, 2),\n    },\n    hide: {\n        display: \"none\",\n    },\n    flex: {\n        display: \"flex\",\n    }\n}));\n\nfunction TextMaskCustom (props) {\n    const { inputRef, mask, ...other } = props;\n  \n    return (\n        <MaskedInput\n            {...other}\n            ref={ref => {\n                inputRef(ref ? ref.inputElement : null);\n            }}\n            mask={mask} placeholderChar=\"&times;\"\n            showMask\n        />\n    );\n}\n\nconst salutations = [\n    {\n        value: \"Mr.\",\n        label: \"Mr.\",\n    },\n    {\n        value: \"Ms.\",\n        label: \"Ms.\",\n    },\n    {\n        value: \"Mrs.\",\n        label: \"Mrs.\",\n    },\n];\n  \nexport default function CreateDynaUser () {\n    const classes = useStyles();\n    const { setRefreshUser } = useContext(GeneralContext);\n    const mobile_number_mask = [\"(\", \"+\", \"6\", \"3\", \"9\", \")\", \" \", /\\d/, /\\d/, \"-\", /\\d/, /\\d/, /\\d/, \"-\", /\\d/, /\\d/, /\\d/, /\\d/];\n    const [firstName, setFirstName] = useState(\"\");\n    const [middleName, setMiddleName] = useState(\"\");\n    const [lastName, setLastName] = useState(\"\");\n    const [nickname, setNickname] = useState(\"\");\n    const [email, setEemail] = useState([]);\n    const [typedEmail, setTypedemail] = useState(\"\");\n    const [mobileNumber, setMobileNumber] = useState([]);\n    const [typedMobile, setTypedMobile] = useState(\"\");\n    const [username, setUsername] = useState(\"\");\n    const [password, setPassword] = useState(\"\");\n    const [isSuccess, setSuccess] = useState(false);\n    const [birthday, setBirthday] = useState(null);\n    const [sex, setGender] = useState(\"m\");\n    const [salutation, setSalutation] = useState(\"Mr.\");\n    const [disabled, setDisabled] = useState(true);\n\n    useEffect(() => {\n        if (username !== \"\" && password !== \"\") {\n            setDisabled(false);\n        } else {\n            setDisabled(true);\n        }\n    }, [username, password]);\n    const handleSubmit = () => {\n        const unmasked_number = mobileNumber.map(row => {\n            return row.replace(/[()+-\\s]/g, \"\");\n        });\n        const number = [];\n        unmasked_number.forEach(sim => {\n            const formatted = {\n                mobile_number: {\n                    mobile_id: 0,\n                    sim_num: sim                 \n                },\n                status: 1\n            };\n            number.push(formatted);\n        });\n        \n        const json_data = {\n            user_id: 0,\n            first_name: firstName,\n            middle_name: middleName,\n            last_name: lastName,\n            nickname,\n            salutation,\n            birthday,\n            sex,\n            emails: email,\n            mobile_numbers: unmasked_number !== \"\" ? number : [],\n            landline_numbers: [],\n            ewi_recipient: 0,\n            status: 1,\n            username,\n            password\n        };\n        CreateDynaMember(json_data, response => {\n            if (response.status) {\n                setSuccess(true);\n                setRefreshUser(true);\n            }\n        });\n    };\n\n    const reset = () => {\n        setFirstName(\"\");\n        setMiddleName(\"\");\n        setLastName(\"\");\n        setNickname(\"\");\n        setGender(\"\");\n        setBirthday(null);\n        setSalutation(\"\");\n\n        setUsername(\"\");\n        setPassword(\"\");\n        setEemail([]);\n        setMobileNumber([]);\n\n        setDisabled(true);\n        setSuccess(false);\n    };\n\n    const goHome = () => {\n        window.location.href = react_host;\n    };\n    \n    const getBirthday = date => {\n        const bday = moment(date).format(\"yyy-MM-DD\");\n        setBirthday(bday);\n    };\n\n    const insertToEmail = () => {\n        if (typedEmail.length > 0) {\n            const emails = email;\n            emails.push(typedEmail);\n            setEemail([...emails]);\n            setTypedemail(\"\");\n        }\n    };\n\n    const removeFromEmailList = index => {\n        const emails = email;\n        emails.splice(index, 1);\n        setEemail([...emails]);\n    };\n\n    const insertToMobileNumbers = () => {\n        if (typedMobile.length > 0) {\n            const mobiles = mobileNumber;\n            mobiles.push(typedMobile);\n            setMobileNumber([...mobiles]);\n            setTypedMobile(\"\");\n        }\n    };\n\n    const removeFromMobileList = index => {\n        const mobiles = mobileNumber;\n        mobiles.splice(index, 1);\n        setMobileNumber([...mobiles]);\n    };\n    return (\n        <Container component=\"main\" maxWidth=\"xs\">\n            <div className={classes.paper}>\n                <Avatar className={isSuccess ? classes.successIcon : classes.avatar}>\n                    {isSuccess ? <CheckCircleOutlineIcon className={classes.successIcon}/> : <PersonAddIcon /> }\n                </Avatar>                   \n                <Typography component=\"h1\" variant=\"h5\">\n                    {isSuccess ? \"New user was created!\" : \" Create Dynaslope User\"}\n                </Typography>\n                <div className={isSuccess ? classes.hide : classes.form} >\n                    <Grid container spacing={2}>\n                        <Grid item xs={12} md={3}>\n                            <TextField\n                                variant=\"outlined\"\n                                value={salutation}\n                                fullWidth\n                                select\n                                onChange={e=> setSalutation(e.target.value)}\n                                SelectProps={{\n                                    \"native\": true,\n                                }}\n                            >\n                                {salutations.map((option) => (\n                                    <option key={option.value} value={option.value}>\n                                        {option.label}\n                                    </option>\n                                ))}\n                            </TextField>\n                        </Grid>\n                        <Grid item xs={12} md={4}>\n                            <TextField\n                                variant=\"outlined\"\n                                value={firstName}\n                                label=\"First Name\"\n                                fullWidth\n                                onChange={e=> setFirstName(e.target.value)}\n                            />\n                        </Grid>\n                        <Grid item xs={12} sm={5}>\n                            <TextField\n                                variant=\"outlined\"\n                                value={middleName}\n                                label=\"Middle Name\"\n                                fullWidth\n                                onChange={e=> setMiddleName(e.target.value)}\n                            />\n                        </Grid>\n                        <Grid item xs={12} md={6}>\n                            <TextField\n                                variant=\"outlined\"\n                                value={lastName}\n                                label=\"Last Name\"\n                                fullWidth\n                                onChange={e=> setLastName(e.target.value)}\n                            />\n                        </Grid>\n                        <Grid item xs={12} sm={6}>\n                            <TextField\n                                variant=\"outlined\"\n                                value={nickname}\n                                fullWidth\n                                label=\"Nickame\"\n                                onChange={e=> setNickname(e.target.value)}\n                            />\n                        </Grid>\n                        <Grid item xs={12} md={4}>\n                            <TextField\n                                variant=\"outlined\"\n                                value={sex}\n                                fullWidth\n                                select\n                                onChange={e=> setGender(e.target.value)}\n                                SelectProps={{\n                                    \"native\": true,\n                                }}\n                            >\n                                <option value=\"m\">\n                                    Male\n                                </option>\n                                <option value=\"f\">\n                                    Female\n                                </option>                           \n                            </TextField>\n                        </Grid>\n                        <Grid item xs={12} md={8}>\n                            <MuiPickersUtilsProvider utils={MomentUtils}>\n                                <KeyboardDatePicker\n                                    disableToolbar\n                                    variant=\"dialog\"\n                                    format=\"yyyy-MM-DD\"\n                                    margin=\"normal\"\n                                    label=\"Birth Date\"\n                                    value={birthday}\n                                    onChange={e=>getBirthday(e)}\n                                    KeyboardButtonProps={{\n                                        \"aria-label\": \"change date\",\n                                    }}\n                                    placeholder=\"YYYY-MM-DD\"\n                                    fullWidth\n                                    style={{ marginTop: 0 }}\n                                    disableFuture\n                                    maxDate={moment().subtract(15, \"years\")}\n                                />\n                            </MuiPickersUtilsProvider>\n                        </Grid>\n                        { mobileNumber.length > 0 && (\n                            mobileNumber.map((row, index) => {\n                                return (\n                                    <Grid item xs={12} key={row} className={classes.flex}>\n                                        <TextField\n                                            variant=\"outlined\"\n                                            value={row}\n                                            fullWidth\n                                            label=\"Phone\"\n                                            InputProps={{\n                                                inputComponent: TextMaskCustom,\n                                                inputProps: { mask: mobile_number_mask }\n                                            }}\n                                        />\n                                        <Tooltip title=\"remove from list\" >\n                                            <IconButton  \n                                                variant=\"contained\"\n                                                style={{ margin: 2, color: \"red\" }}\n                                                onClick={e=> removeFromMobileList(index)}\n                                            >\n                                                <RemoveCircleOutlineIcon/>\n                                            </IconButton>\n                                        </Tooltip>\n                                    </Grid>\n                                );\n                            })\n                        )\n                        }\n                        <Grid item xs={12} className={classes.flex}>\n                            <TextField\n                                variant=\"outlined\"\n                                value={typedMobile}\n                                fullWidth\n                                onChange={e=> setTypedMobile(e.target.value)}\n                                placeholder=\"Mobile Number\"\n                                InputProps={{\n                                    inputComponent: TextMaskCustom,\n                                    inputProps: { mask: mobile_number_mask }\n                                }}\n                            />\n                            <Tooltip title=\"add to list\">\n                                <IconButton \n                                    color=\"primary\" \n                                    variant=\"contained\"\n                                    style={{ margin: 2 }}\n                                    onClick={e=> insertToMobileNumbers()}\n                                >\n                                    <AddIcCallIcon/>\n                                </IconButton>\n                            </Tooltip>\n                        </Grid>\n                        <Divider/>      \n                        { \n                            email.length > 0 \n                             && (\n                                 email.map( (row, index) => {\n                                     return (\n                                         <Grid item xs={12} key={row}>\n                                             <OutlinedInput\n                                                 fullWidth\n                                                 value={row}\n                                                 onChange={e=> setTypedemail(e.target.value)}\n                                                 endAdornment=\n                                                     {\n                                                         <InputAdornment position=\"end\">\n                                                             <Tooltip title=\"Remove email from list\">\n                                                                 <IconButton onClick={e=> removeFromEmailList(index)}>\n                                                                     <DeleteIcon/>\n                                                                 </IconButton>\n                                                             </Tooltip>\n                                                         </InputAdornment>\n                                                     }\n                                             />\n                                         </Grid>\n                                     );\n                                 }\n                                 ))\n                        }\n                        <Grid item xs={12}>\n                            <OutlinedInput\n                                fullWidth\n                                placeholder={email.length > 0 ? \"Add another email\" : \"Email\"}\n                                value={typedEmail}\n                                onChange={e=> setTypedemail(e.target.value)}\n                                endAdornment=\n                                    {\n                                        <InputAdornment position=\"end\">\n                                            <Tooltip title=\"add email to list\">\n                                                <IconButton\n                                                    color=\"primary\" \n                                                    onClick={e=> insertToEmail()}\n                                                    \n                                                >\n                                                    <AddIcon/>\n                                                </IconButton>\n                                            </Tooltip>\n                                        </InputAdornment>       \n                                    }\n                            />\n                        </Grid>\n                        <Grid item xs={12} md={6}>\n                            <TextField\n                                variant=\"outlined\"\n                                value={username}\n                                fullWidth\n                                label=\"username\"\n                                type=\"text\"\n                                onChange={e=> setUsername(e.target.value)}\n                            />\n                        </Grid>\n\n                        <Grid item xs={12} md={6}>\n                            <TextField\n                                variant=\"outlined\"\n                                value={password}\n                                fullWidth\n                                label=\"Password\"\n                                type=\"password\"\n                                onChange={e=> setPassword(e.target.value)}\n                            />\n                        </Grid>\n                    </Grid>             \n                </div>\n                <Button\n                    fullWidth\n                    variant=\"contained\"\n                    color=\"primary\"\n                    className={classes.submit}\n                    onClick={isSuccess ? e=>goHome() : e=>handleSubmit()}\n                    disabled={isSuccess ? false : disabled}\n                >\n                    {isSuccess ? \"Dashboard\" : \"Create\"}\n                </Button>\n                { isSuccess && (\n                    <Button\n                        fullWidth\n                        variant=\"contained\"\n                        color=\"primary\"\n                        onClick={e=>reset()}\n                    >\n                        Create another account\n                    </Button>\n                )}\n            </div>\n        </Container>\n    );\n}","import axios from \"axios\";\nimport { host } from \"../../config\";\n\n// eslint-disable-next-line import/prefer-default-export\nexport function getScenarioGroups (callback) {\n    const api_link = `${host}/api/usability_testing/get_scenarios`;\n\n    axios.get(api_link)\n    .then(response => {\n        const { data } = response;\n        console.log(\"Scenario Groups\", data);\n        callback(data);\n    })\n    .catch(error => {\n        console.error(error);\n    });\n}\n\nexport function updateScenarioGroupData (input, callback) {\n    const api_link = `${host}/api/usability_testing/insert_scenario`;\n\n    axios.post(api_link, input)\n    .then(response => {\n        const { data } = response;\n        console.log(\"Saved usability testing data\", data);\n        callback(data);\n    })\n    .catch(error => {\n        console.error(error);\n    });\n}\n\nexport function getAllSensorsData (callback) {\n    const api_link = `${host}/api/usability_testing/get_all_sensors_data`;\n\n    axios.get(api_link)\n    .then(response => {\n        const { data } = response;\n        console.log(\"All sensors data\", data);\n        callback(data);\n    })\n    .catch(error => {\n        console.error(error);\n    });\n}\n\nexport function startScenario (input, callback) {\n    const api_link = `${host}/api/usability_testing/start_scenario`;\n\n    axios.post(api_link, input)\n    .then(response => {\n        const { data } = response;\n        console.log(\"Start scenario data\", data);\n        callback(data);\n    })\n    .catch(error => {\n        console.error(error);\n    });\n}\n\nexport function updateDashboard (callback) {\n    const api_link = `${host}/api/memcache/update_dashboard`;\n\n    axios.get(api_link)\n    .then(response => {\n        const { data } = response;\n        callback(data);\n    })\n    .catch(error => {\n        console.error(error);\n    });\n}\n\nexport function updateMachineTime (input, callback) {\n    const api_link = `${host}/api/usability_testing/update_machine_time`;\n\n    axios.post(api_link, input)\n    .then(response => {\n        const { data } = response;\n        callback(data);\n    })\n    .catch(error => {\n        console.error(error);\n    });\n}\n","import React, { useState, useEffect, Fragment } from \"react\";\n\nimport {\n    Grid, Button,\n    FormControl, InputLabel, MenuItem,\n    Select, \n} from \"@material-ui/core\";\nimport { MuiPickersUtilsProvider, KeyboardDateTimePicker } from \"@material-ui/pickers\";\nimport MomentUtils from \"@date-io/moment\";\nimport moment from \"moment\";\nimport { useSnackbar } from \"notistack\";\n\nimport { updateScenarioGroupData } from \"./ajax\";\nimport DynaslopeSiteSelectInputForm from \"../reusables/DynaslopeSiteSelectInputForm\";\n\n\nfunction RainfallForm (props) {\n    const { data: { cumulative, rain_alert, threshold, source_id, rain_id, site_id, ts }, \n        sites, rainfallGauges, rainfallPriorities, data_index, selectedGroupIndexes,\n        scenarioGroups, setScenarioGroups, onScenarioClick } = props;\n    const site = sites.filter(data => data.site_id === site_id);\n    const [site_selected, setSiteSelected] = useState({ value: site_id, data: site[0] } || { value: 0, data: [] });\n    const [cumulative_value, setCumulativeValue] = useState(cumulative || 0);\n    const [rain_alert_value, setRainAlertValue] = useState(rain_alert || \"a\");\n    const [threshold_value, setThresholdValue] = useState(threshold || 0);\n    const [rain_id_value, setRainId] = useState(rain_id || 0);\n    const [ts_value, setTsValue] = useState(ts);\n\n    const [rain_gauges, setRainGauges] = useState([]);\n    const { enqueueSnackbar, closeSnackbar } = useSnackbar();\n\n    const [save_button_state, setSaveButtonState] = useState(false);\n    \n    const snackBarActionFn = key => (<Button\n        color=\"primary\"\n        onClick={() => { closeSnackbar(key); }}\n    >\n        Dismiss\n    </Button>);\n\n    const update_ts = value => setTsValue(value);\n    \n    const updateData = () => {\n        const { group_index, group_data_index } = selectedGroupIndexes;\n        const temp = {\n            site_id: site_selected.value,\n            cumulative: cumulative_value,\n            rain_alert: rain_alert_value,\n            threshold: threshold_value,\n            rain_id: rain_id_value,\n            source_id,\n            ts: moment(ts_value).format(\"YYYY-MM-DD HH:mm:ss\")\n        };\n        const updated_data = {\n            type: \"rainfall\",\n            type_data: temp\n        };\n        if (data_index !== null) {\n            scenarioGroups[group_index].data[group_data_index].scenario_data[data_index] = updated_data;\n            setScenarioGroups(scenarioGroups);\n        } else {\n            const data = scenarioGroups[group_index].data[group_data_index].scenario_data;\n            data.push(updated_data);\n            setScenarioGroups(scenarioGroups);\n        }\n\n        updateScenarioGroupData(scenarioGroups, data => {\n            const { status, message } = data;\n            let variant;\n            if (status) {\n                variant = \"success\";\n            } else {\n                variant = \"error\";\n            }\n\n            enqueueSnackbar(\n                message,\n                {\n                    variant,\n                    autoHideDuration: 5000,\n                    action: snackBarActionFn\n                }\n            );\n        });\n    };\n\n    const deleteData = () => {\n        const { group_index, group_data_index } = selectedGroupIndexes;\n        const temp = scenarioGroups[group_index].data[group_data_index].scenario_data;\n        temp.splice(data_index, 1);\n        setScenarioGroups(scenarioGroups);\n        console.log(group_index, group_data_index, scenarioGroups[group_index].data[group_data_index]);\n        onScenarioClick(group_index, group_data_index, scenarioGroups[group_index].data[group_data_index]);\n        updateScenarioGroupData(scenarioGroups, data => {\n            const { status, message } = data;\n            let variant;\n            if (status) {\n                variant = \"success\";\n            } else {\n                variant = \"error\";\n            }\n\n            enqueueSnackbar(\n                message,\n                {\n                    variant,\n                    autoHideDuration: 5000,\n                    action: snackBarActionFn\n                }\n            );\n        });\n    };\n\n    useEffect(() => {\n        const site_rain_priorities = rainfallPriorities.filter(data => data.site_id === site_selected.value);\n        const gauges = [];\n        // eslint-disable-next-line array-callback-return\n        site_rain_priorities.map(row => {\n            const { rain_id: id } = row;\n            const temp = rainfallGauges.filter(data => data.rain_id === id);\n            console.log(temp);\n            if (temp.length > 0) {\n                gauges.push(temp[0]);\n                // console.log(temp)\n            }\n        });\n        setRainGauges(gauges);\n        console.log(\"gauges\", gauges);\n    }, [site_selected]);\n    \n    return (\n        <Fragment>\n            <Grid container spacing={3}>\n                <Grid item xs={6}>\n                    <div style={{ marginTop: \"5px\" }}>\n                        <DynaslopeSiteSelectInputForm\n                            required\n                            value={site_selected}\n                            changeHandler={value => setSiteSelected(value)}\n                        />\n                    </div>\n                </Grid> \n                <Grid item xs={6}>\n                    <FormControl required fullWidth>\n                        <InputLabel id=\"rain_alert\">Rain Alert</InputLabel>\n                        <Select\n                            labelId=\"rain-alert-select-label\"\n                            id=\"rain-alert-select-id\"\n                            value={rain_alert_value}\n                            onChange={e => setRainAlertValue(e.target.value)}\n                        >\n                            <MenuItem value=\"a\" key=\"a\">1 day cumulative rainfall</MenuItem>\n                            <MenuItem value=\"b\" key=\"b\">3 day cumulative rainfall</MenuItem>\n                            <MenuItem value=\"both\" key=\"both\">Both 1 day and 3 day cumulative rainfall</MenuItem>\n                            <MenuItem value=\"x\" key=\"x\">75% of threshold</MenuItem>\n                            <MenuItem value=\"0\" key=\"0\">No retrigger</MenuItem>\n                        </Select>\n                    </FormControl>\n                </Grid>\n                \n                <Grid item xs={6}>\n                    <FormControl required fullWidth>\n                        <InputLabel id=\"rain_id\">Rain Gauge</InputLabel>\n                        <Select\n                            labelId=\"rain-id-select-label\"\n                            id=\"rain-id-select-id\"\n                            value={rain_id_value}\n                            onChange={e => setRainId(e.target.value)}\n                        >\n                            <MenuItem value=\"\">\n                                <em>None</em>\n                            </MenuItem>\n                            {\n                                rain_gauges.map((row) => {\n                                    const { gauge_name, rain_id: id } = row;\n                                    console.log(row);\n                                    return (\n                                        gauge_name && (\n                                            <MenuItem value={id} key={gauge_name}>{`RAIN_${gauge_name.toUpperCase()}`}</MenuItem>\n                                        )\n                                    );\n                                })\n                            }\n                        </Select>\n                    </FormControl>\n                </Grid>\n                <MuiPickersUtilsProvider utils={MomentUtils}>\n                    <Grid item xs={6}>\n                        <KeyboardDateTimePicker\n                            fullWidth\n                            required\n                            autoOk\n                            label=\"Data Timestamp\"\n                            value={ts_value}\n                            onChange={update_ts}\n                            ampm={false}\n                            placeholder=\"2010/01/01 00:00\"\n                            format=\"YYYY/MM/DD HH:mm\"\n                            mask=\"__/__/____ __:__\"\n                            clearable\n                            disableFuture={false}\n                        />\n                    </Grid>\n                </MuiPickersUtilsProvider>\n                <Grid item xs={12}>\n                    <Button color=\"primary\" onClick={updateData}>Save</Button>\n                    {\n                        data_index != null && (\n                            <Button color=\"secondary\" onClick={deleteData}>Delete</Button>\n                        )\n                    }\n                </Grid>\n            </Grid>\n             \n        </Fragment>\n    );\n}\n\nexport default RainfallForm;","import React, { useState, Fragment } from \"react\";\n\nimport {\n    Grid, Button,\n    FormControl, InputLabel, MenuItem,\n    Select\n} from \"@material-ui/core\";\nimport { MuiPickersUtilsProvider, KeyboardDateTimePicker } from \"@material-ui/pickers\";\nimport MomentUtils from \"@date-io/moment\";\n\nimport moment from \"moment\";\nimport { useSnackbar } from \"notistack\";\nimport { updateScenarioGroupData } from \"./ajax\";\n\n\nimport DynaslopeSiteSelectInputForm from \"../reusables/DynaslopeSiteSelectInputForm\";\n\n\nfunction SurficialForm (props) {\n    const { data: { ts, meas_type, weather, alert_level, source_id, site_id }, \n        sites, data_index, selectedGroupIndexes, scenarioGroups, setScenarioGroups, onScenarioClick } = props;\n    const site = sites.filter(data => data.site_id === site_id);\n    const [site_selected, setSiteSelected] = useState({ value: site_id, data: site[0] });\n    const [weather_value, setWeatherValue] = useState(weather);\n    const [meas_type_value, setMeasTypeValue] = useState(meas_type);\n    const [alert_level_value, setAlertLevelValue] = useState(alert_level);\n    const { enqueueSnackbar, closeSnackbar } = useSnackbar();\n    const [ts_value, setTsValue] = useState(ts);\n    const update_ts = value => setTsValue(value);\n    \n    const snackBarActionFn = key => {\n        return (<Button\n            color=\"primary\"\n            onClick={() => { closeSnackbar(key); }}\n        >\n            Dismiss\n        </Button>);\n    };\n\n    const updateData = () => {\n        const { group_index, group_data_index } = selectedGroupIndexes;\n        const temp = {\n            site_id: site_selected.value,\n            weather: weather_value,\n            meas_type: meas_type_value,\n            alert_level: alert_level_value,\n            source_id,\n            ts: moment(ts_value).format(\"YYYY-MM-DD HH:mm:ss\")\n        };\n        const updated_data = {\n            type: \"surficial\",\n            type_data: temp\n        };\n        if (data_index !== null) {\n            scenarioGroups[group_index].data[group_data_index].scenario_data[data_index] = updated_data;\n            setScenarioGroups(scenarioGroups);\n        } else {\n            const data = scenarioGroups[group_index].data[group_data_index].scenario_data;\n            data.push(updated_data);\n            setScenarioGroups(scenarioGroups);\n        }\n\n        updateScenarioGroupData(scenarioGroups, data => {\n            const { status, message } = data;\n            let variant;\n            if (status) {\n                variant = \"success\";\n            } else {\n                variant = \"error\";\n            }\n\n            enqueueSnackbar(\n                message,\n                {\n                    variant,\n                    autoHideDuration: 5000,\n                    action: snackBarActionFn\n                }\n            );\n        });\n    };\n\n    const deleteData = () => {\n        const { group_index, group_data_index } = selectedGroupIndexes;\n        const temp = scenarioGroups[group_index].data[group_data_index].scenario_data;\n        temp.splice(data_index, 1);\n        setScenarioGroups(scenarioGroups);\n        onScenarioClick(group_index, group_data_index, scenarioGroups[group_index].data[group_data_index]);\n        updateScenarioGroupData(scenarioGroups, data => {\n            const { status, message } = data;\n            let variant;\n            if (status) {\n                variant = \"success\";\n            } else {\n                variant = \"error\";\n            }\n\n            enqueueSnackbar(\n                message,\n                {\n                    variant,\n                    autoHideDuration: 5000,\n                    action: snackBarActionFn\n                }\n            );\n        });\n    };\n\n    return (\n        <Fragment>\n            <Grid container spacing={3}>\n                <Grid item xs={6}>\n                    <DynaslopeSiteSelectInputForm\n                        required\n                        value={site_selected}\n                        changeHandler={value => setSiteSelected(value)}\n                    />\n                </Grid> \n                <Grid item xs={6}>\n                    <FormControl required fullWidth>\n                        <InputLabel id=\"alert_level\">Alert Level</InputLabel>\n                        <Select\n                            labelId=\"alert_level-select-label\"\n                            id=\"alert_level-select-id\"\n                            value={alert_level_value}\n                            onChange={e => setAlertLevelValue(e.target.value)}\n                        >\n                            <MenuItem value=\"0\" key=\"0\">Alert Level 0</MenuItem>         \n                            <MenuItem value=\"2\" key=\"2\">Alert Level 2</MenuItem>\n                            <MenuItem value=\"3\" key=\"3\">Alert Level 3</MenuItem>\n                        </Select>\n                        {/* <FormHelperText error>{deployment_data.network.helper_text}</FormHelperText> */}\n                    </FormControl>\n                </Grid>\n                <MuiPickersUtilsProvider utils={MomentUtils}>\n                    <Grid item xs={6}>\n                        <KeyboardDateTimePicker\n                            fullWidth\n                            required\n                            autoOk\n                            label=\"Data Timestamp\"\n                            value={ts_value}\n                            onChange={update_ts}\n                            ampm={false}\n                            placeholder=\"2010/01/01 00:00\"\n                            format=\"YYYY/MM/DD HH:mm\"\n                            mask=\"__/__/____ __:__\"\n                            clearable\n                            disableFuture={false}\n                        />\n                    </Grid>\n                </MuiPickersUtilsProvider>\n                <Grid item xs={12}>\n                    <Button color=\"primary\" onClick={updateData}>Save</Button>\n                    {\n                        data_index != null && (\n                            <Button color=\"secondary\" onClick={deleteData}>Delete</Button>\n                        )\n                    }\n                </Grid>\n            </Grid>\n             \n        </Fragment>\n    );\n}\n\nexport default SurficialForm;","import React, { useState, Fragment } from \"react\";\n\nimport {\n    Grid, Button\n} from \"@material-ui/core\";\nimport { MuiPickersUtilsProvider, KeyboardDateTimePicker } from \"@material-ui/pickers\";\nimport MomentUtils from \"@date-io/moment\";\n\nimport moment from \"moment\";\nimport { useSnackbar } from \"notistack\";\n\n\nimport DynaslopeSiteSelectInputForm from \"../reusables/DynaslopeSiteSelectInputForm\";\nimport { updateScenarioGroupData } from \"./ajax\";\n\n\nfunction EarthquakeForm (props) {\n    const { data: { magnitude, depth, latitude, longitude, critical_distance, issuer, processed, distance, site_id, source_id, ts }, \n        sites, sourceIds, data_index, selectedGroupIndexes, onScenarioClick,\n        setSelectedGroupIndexes, setSelectedScenarioData, scenarioGroups, setScenarioGroups } = props;\n    const site = sites.filter(data => data.site_id === site_id);\n    const [site_selected, setSiteSelected] = useState({ value: site_id, data: site[0] });\n    const [magnitude_value, setMagnitudeValue] = useState(magnitude);\n    const [depth_value, setDepthValue] = useState(depth);\n    const [latitude_value, setLatitudeValue] = useState(latitude);\n    const [longitude_value, setLongitudeValue] = useState(longitude);\n    const [critical_distance_value, setCriticalDistanceValue] = useState(critical_distance);\n    const [issuer_value, setIssuerValue] = useState(issuer);\n    const [processed_value, setProcesedValue] = useState(processed);\n    const [distance_value, setDistanceValue] = useState(distance);\n    const { enqueueSnackbar, closeSnackbar } = useSnackbar();\n    const [ts_value, setTsValue] = useState(ts);\n    const update_ts = value => setTsValue(value);\n    \n    const snackBarActionFn = key => (<Button\n        color=\"primary\"\n        onClick={() => { closeSnackbar(key); }}\n    >\n        Dismiss\n    </Button>);\n\n    const updateData = () => {\n        const { group_index, group_data_index } = selectedGroupIndexes;\n        const temp = {\n            site_id: site_selected.value,\n            magnitude: magnitude_value,\n            depth: depth_value,\n            latitude: latitude_value,\n            longitude: longitude_value,\n            critical_distance: critical_distance_value,\n            issuer_value: \"SOFTWAREINFRATOPS\",\n            processed_value: 1,\n            distance: distance_value,\n            source_id,\n            ts: moment(ts_value).format(\"YYYY-MM-DD HH:mm:ss\")\n        };\n        const updated_data = {\n            type: \"earthquake\",\n            type_data: temp\n        };\n        if (data_index !== null) {\n            scenarioGroups[group_index].data[group_data_index].scenario_data[data_index] = updated_data;\n            setScenarioGroups(scenarioGroups);\n        } else {\n            const data = scenarioGroups[group_index].data[group_data_index].scenario_data;\n            data.push(updated_data);\n            console.log(scenarioGroups);\n            setScenarioGroups(scenarioGroups);\n        }\n        \n        updateScenarioGroupData(scenarioGroups, data => {\n            const { status, message } = data;\n            let variant;\n            if (status) {\n                variant = \"success\";\n            } else {\n                variant = \"error\";\n            }\n\n            enqueueSnackbar(\n                message,\n                {\n                    variant,\n                    autoHideDuration: 5000,\n                    action: snackBarActionFn\n                }\n            );\n        });\n    };\n\n    const deleteData = () => {\n        const { group_index, group_data_index } = selectedGroupIndexes;\n        const temp = scenarioGroups[group_index].data[group_data_index].scenario_data;\n        temp.splice(data_index, 1);\n        setScenarioGroups(scenarioGroups);\n        onScenarioClick(group_index, group_data_index, scenarioGroups[group_index].data[group_data_index]);\n        updateScenarioGroupData(scenarioGroups, data => {\n            const { status, message } = data;\n            let variant;\n            if (status) {\n                variant = \"success\";\n            } else {\n                variant = \"error\";\n            }\n\n            enqueueSnackbar(\n                message,\n                {\n                    variant,\n                    autoHideDuration: 5000,\n                    action: snackBarActionFn\n                }\n            );\n        });\n    };\n\n    return (\n        <Fragment>\n            <Grid container spacing={3}>\n                <Grid item xs={6}>\n                    <div style={{ marginTop: \"5px\" }}>\n                        <DynaslopeSiteSelectInputForm\n                            required\n                            value={site_selected}\n                            changeHandler={value => setSiteSelected(value)}\n                        />\n                    </div>\n                </Grid> \n                \n                <MuiPickersUtilsProvider utils={MomentUtils}>\n                    <Grid item xs={6}>\n                        <KeyboardDateTimePicker\n                            fullWidth\n                            required\n                            autoOk\n                            label=\"Data Timestamp\"\n                            value={ts_value}\n                            onChange={update_ts}\n                            ampm={false}\n                            placeholder=\"2010/01/01 00:00\"\n                            format=\"YYYY/MM/DD HH:mm\"\n                            mask=\"__/__/____ __:__\"\n                            clearable\n                            disableFuture={false}\n                        />\n                    </Grid>\n                </MuiPickersUtilsProvider>\n                <Grid item xs={12}>\n                    <Button color=\"primary\" onClick={updateData}>Save</Button>\n                    {\n                        data_index != null && (\n                            <Button color=\"secondary\" onClick={deleteData}>Delete</Button>\n                        )\n                    }\n                </Grid>\n            </Grid>\n             \n        </Fragment>\n    );\n}\n\nexport default EarthquakeForm;","import React, { useState, Fragment } from \"react\";\n\nimport {\n    Grid, Button,\n    FormControl, InputLabel, MenuItem,\n    Select, \n} from \"@material-ui/core\";\nimport { MuiPickersUtilsProvider, KeyboardDateTimePicker } from \"@material-ui/pickers\";\nimport MomentUtils from \"@date-io/moment\";\nimport moment from \"moment\";\nimport { useSnackbar } from \"notistack\";\nimport { updateScenarioGroupData } from \"./ajax\";\n\n\nimport DynaslopeSiteSelectInputForm from \"../reusables/DynaslopeSiteSelectInputForm\";\n\n\nfunction SubsurfaceForm (props) {\n    const { data: { ts, alert_level, disp_alert, na_status, node_id, source_id, site_id, tsm_id, vel_alert }, \n        sites, data_index, selectedGroupIndexes,\n        scenarioGroups, setScenarioGroups, onScenarioClick\n    } = props;\n    const site = sites.filter(data => data.site_id === site_id);\n    const [site_selected, setSiteSelected] = useState({ value: site_id, data: site[0] });\n    const [alert_level_value, setAlertLevelValue] = useState(alert_level);\n    const [disp_alert_value, setDispAlertValue] = useState(disp_alert);\n    const [na_status_value, setNodeAlertStatusValue] = useState(na_status);\n    const [node_id_value, setNodeIdValue] = useState(node_id);\n    const [source_id_value, setSourceIdValue] = useState(source_id);\n    const [tsm_id_value, setTsmIdValue] = useState(tsm_id);\n    const [vel_alert_value, setVelAlertValue] = useState(vel_alert);\n\n    const { enqueueSnackbar, closeSnackbar } = useSnackbar();\n    const [ts_value, setTsValue] = useState(ts);\n    const update_ts = value => setTsValue(value);\n    \n    const snackBarActionFn = key => {\n        return (<Button\n            color=\"primary\"\n            onClick={() => { closeSnackbar(key); }}\n        >\n            Dismiss\n        </Button>);\n    };\n\n    const updateData = () => {\n        const { group_index, group_data_index } = selectedGroupIndexes;\n        const temp = {\n            site_id: site_selected.value,\n            alert_level: alert_level_value,\n            disp_alert: disp_alert_value,\n            na_status: na_status_value,\n            node_id: node_id_value,\n            tsm_id: tsm_id_value,\n            vel_alert: vel_alert_value,\n            source_id,\n            ts: moment(ts_value).format(\"YYYY-MM-DD HH:mm:ss\")\n        };\n        const updated_data = {\n            type: \"subsurface\",\n            type_data: temp\n        };\n        if (data_index !== null) {\n            scenarioGroups[group_index].data[group_data_index].scenario_data[data_index] = updated_data;\n            setScenarioGroups(scenarioGroups);\n        } else {\n            const data = scenarioGroups[group_index].data[group_data_index].scenario_data;\n            data.push(updated_data);\n            setScenarioGroups(scenarioGroups);\n        }\n\n        updateScenarioGroupData(scenarioGroups, data => {\n            const { status, message } = data;\n            let variant;\n            if (status) {\n                variant = \"success\";\n            } else {\n                variant = \"error\";\n            }\n\n            enqueueSnackbar(\n                message,\n                {\n                    variant,\n                    autoHideDuration: 5000,\n                    action: snackBarActionFn\n                }\n            );\n        });\n    };\n\n    const deleteData = () => {\n        const { group_index, group_data_index } = selectedGroupIndexes;\n        const temp = scenarioGroups[group_index].data[group_data_index].scenario_data;\n        temp.splice(data_index, 1);\n        setScenarioGroups(scenarioGroups);\n        onScenarioClick(group_index, group_data_index, scenarioGroups[group_index].data[group_data_index]);\n        updateScenarioGroupData(scenarioGroups, data => {\n            const { status, message } = data;\n            let variant;\n            if (status) {\n                variant = \"success\";\n            } else {\n                variant = \"error\";\n            }\n\n            enqueueSnackbar(\n                message,\n                {\n                    variant,\n                    autoHideDuration: 5000,\n                    action: snackBarActionFn\n                }\n            );\n        });\n    };\n\n\n    return (\n        <Fragment>\n            <Grid container spacing={3}>\n                <Grid item xs={6}>\n                    <DynaslopeSiteSelectInputForm\n                        required\n                        value={site_selected}\n                        changeHandler={value => setSiteSelected(value)}\n                    />\n                </Grid> \n                <Grid item xs={6}>\n                    <FormControl required fullWidth>\n                        <InputLabel id=\"alert_level\">Alert Level</InputLabel>\n                        <Select\n                            labelId=\"alert_level-select-label\"\n                            id=\"alert_level-select-id\"\n                            value={alert_level_value}\n                            onChange={e => setAlertLevelValue(e.target.value)}\n                        >\n                            <MenuItem value=\"0\" key=\"0\">Alert Level 0</MenuItem>        \n                            <MenuItem value=\"2\" key=\"2\">Alert level 2</MenuItem>\n                            <MenuItem value=\"3\" key=\"3\">Alert level 3</MenuItem>\n                        </Select>\n                        {/* <FormHelperText error>{deployment_data.network.helper_text}</FormHelperText> */}\n                    </FormControl>\n                </Grid>\n                \n                <MuiPickersUtilsProvider utils={MomentUtils}>\n                    <Grid item xs={6}>\n                        <KeyboardDateTimePicker\n                            fullWidth\n                            required\n                            autoOk\n                            label=\"Data Timestamp\"\n                            value={ts_value}\n                            onChange={update_ts}\n                            ampm={false}\n                            placeholder=\"2010/01/01 00:00\"\n                            format=\"YYYY/MM/DD HH:mm\"\n                            mask=\"__/__/____ __:__\"\n                            clearable\n                            disableFuture={false}\n                        />\n                    </Grid>\n                </MuiPickersUtilsProvider>\n                <Grid item xs={12}>\n                    <Button color=\"primary\" onClick={updateData}>Save</Button>\n                    {\n                        data_index != null && (\n                            <Button color=\"secondary\" onClick={deleteData}>Delete</Button>\n                        )\n                    }\n                </Grid>\n            </Grid>\n             \n        </Fragment>\n    );\n}\n\nexport default SubsurfaceForm;","import React, { useState, useEffect, useReducer, Fragment } from \"react\";\n\nimport {\n    Grid, Button\n} from \"@material-ui/core\";\n\nimport moment from \"moment\";\nimport { useSnackbar } from \"notistack\";\nimport MainMomsForm from \"../widgets/moms/MomsForm\";\nimport { getMOMsFeatures } from \"../widgets/moms/ajax\";\nimport { reducerFunction, moms_entry } from \"../widgets/moms/state_handlers\";\nimport { updateScenarioGroupData } from \"./ajax\";\nimport { getCurrentUser } from \"../sessions/auth\";\n\nimport { capitalizeFirstLetter } from \"../../UtilityFunctions\";\n\n\nfunction MomsForm (props) {\n    const { data: entries, sites, site: current_site, data_index, selectedGroupIndexes,\n        scenarioGroups, setScenarioGroups, onScenarioClick\n    } = props;\n    let initial_entries = [];\n    if (entries) {\n        initial_entries = entries;\n    }\n    const [site, setSite] = useState(current_site);\n    const [site_code, setSiteCode] = useState(current_site.value);\n    const [to_select_site, setToSelectSite] = useState(true);\n    const [moms_entries, setMomsEntries] = useReducer(reducerFunction, initial_entries);\n    const [moms_feature_types, setMomsFeatureTypes] = useState([]);\n\n    const { enqueueSnackbar, closeSnackbar } = useSnackbar();\n    const snackBarActionFn = key => {\n        return (<Button\n            color=\"primary\"\n            onClick={() => { closeSnackbar(key); }}\n        >\n            Dismiss\n        </Button>);\n    };\n\n    useEffect(() => {\n        if (site !== null) {\n            if (entries) {\n                setMomsEntries({ action: \"OVERWRITE\", value: entries });\n            } else {\n                getMOMsFeatures(site.data.site_code, data => {\n                    const feature_types = data.map(feat => {\n                        const { feature_id, feature_type, instances, alerts } = feat;\n                        const cap = capitalizeFirstLetter(feature_type);\n                        return { value: feature_id, label: cap, instances, alerts }; \n                    });\n\n                    setMomsFeatureTypes({ ...moms_feature_types, feature_type: feature_types });\n\n                    const moms_entry_copy = moms_entry;\n                    moms_entry_copy.options.feature_type = feature_types;\n\n                    const is = [moms_entry_copy];\n                    setMomsEntries({ action: \"OVERWRITE\", value: is });\n                });\n            }\n        }\n    }, [entries]);\n\n    useEffect(() => {\n        if (site.value !== site_code) {\n\n            getMOMsFeatures(site.data.site_code, data => {\n                const feature_types = data.map(feat => {\n                    const { feature_id, feature_type, instances, alerts } = feat;\n                    const cap = capitalizeFirstLetter(feature_type);\n                    return { value: feature_id, label: cap, instances, alerts }; \n                });\n    \n                setMomsFeatureTypes({ ...moms_feature_types, feature_type: feature_types });\n    \n                const moms_entry_copy = moms_entry;\n                moms_entry_copy.options.feature_type = feature_types;\n    \n                const is = [moms_entry_copy];\n                setMomsEntries({ action: \"OVERWRITE\", value: is });\n            });\n        }\n    }, [site]);\n\n\n    useEffect(() => {\n        const row = sites.find(x => x.site_code === site_code);\n        if (row) setSite({ value: row.site_id, data: row });\n    }, [sites, site_code]);\n    \n    const updateData = () => {\n        const { group_index, group_data_index } = selectedGroupIndexes;\n        const moms_list = moms_entries.map(({ moms }, index) => {\n            const {\n                alert_level, feature_name, feature_type,\n                narrative, observance_ts, remarks,\n                reporter, validator, location\n            } = moms;\n\n            const moment_obs_ts = moment(observance_ts).format(\"YYYY-MM-DD HH:mm:ss\");\n            const current_user = getCurrentUser();\n            const { label: f_type } = feature_type;\n\n            let f_name = \"None\";\n            let instance_id = null;\n            if (f_type !== \"None\") {\n                const { value: val, label } = feature_name;\n                f_name = label === \"(Add new instance)\" ? null : label;\n                instance_id = val;\n            }\n\n            return \t{\n                alert_level: alert_level.label,\n                instance_id,\n                feature_name: f_name,\n                feature_type: f_type,\n                report_narrative: narrative,\n                observance_ts: moment_obs_ts,\n                remarks,\n                reporter_id: reporter,\n                validator_id: validator,\n                location,\n                iomp: current_user.user_id\n            };\n        });\n        \n        const updated_data = {\n            type: \"moms\",\n            site,\n            type_data: moms_entries,\n            moms_list\n        };\n        if (data_index !== null) {\n            scenarioGroups[group_index].data[group_data_index].scenario_data[data_index] = updated_data;\n            setScenarioGroups(scenarioGroups);\n        } else {\n            const data = scenarioGroups[group_index].data[group_data_index].scenario_data;\n            data.push(updated_data);\n            setScenarioGroups(scenarioGroups);\n        }\n\n        updateScenarioGroupData(scenarioGroups, data => {\n            const { status, message } = data;\n            let variant;\n            if (status) {\n                variant = \"success\";\n            } else {\n                variant = \"error\";\n            }\n\n            enqueueSnackbar(\n                message,\n                {\n                    variant,\n                    autoHideDuration: 5000,\n                    action: snackBarActionFn\n                }\n            );\n        });\n    };\n\n    const deleteData = () => {\n        const { group_index, group_data_index } = selectedGroupIndexes;\n        const temp = scenarioGroups[group_index].data[group_data_index].scenario_data;\n        temp.splice(data_index, 1);\n        setScenarioGroups(scenarioGroups);\n        onScenarioClick(group_index, group_data_index, scenarioGroups[group_index].data[group_data_index]);\n        updateScenarioGroupData(scenarioGroups, data => {\n            const { status, message } = data;\n            let variant;\n            if (status) {\n                variant = \"success\";\n            } else {\n                variant = \"error\";\n            }\n\n            enqueueSnackbar(\n                message,\n                {\n                    variant,\n                    autoHideDuration: 5000,\n                    action: snackBarActionFn\n                }\n            );\n        });\n    };\n\n    return (\n        <Fragment>\n            <MainMomsForm\n                momsEntries={moms_entries}\n                setMomsEntries={setMomsEntries}\n                site={site}\n                setSite={setSite}\n                selectSite={to_select_site}\n            />\n            <Grid container>\n                <Grid item xs={12}>\n                    <Button color=\"primary\" onClick={updateData}>Save</Button>\n                    {\n                        data_index != null && (\n                            <Button color=\"secondary\" onClick={deleteData}>Delete</Button>\n                        )\n                    }\n                </Grid>\n            </Grid>\n        </Fragment>\n    );\n}\n\nexport default MomsForm;","import React, { useState, Fragment } from \"react\";\n\nimport {\n    Grid, Button\n} from \"@material-ui/core\";\nimport moment from \"moment\";\nimport { useSnackbar } from \"notistack\";\nimport { updateScenarioGroupData } from \"./ajax\";\n\nimport MainOnDemandForm from \"../widgets/on_demand/OnDemandForm\";\n\n\nfunction OnDemandForm (props) {\n    const { data: { site_id, tech_info, reason, reporter_id, alert_level, ts },\n        sites, data_index, selectedGroupIndexes, onScenarioClick,\n        scenarioGroups, setScenarioGroups } = props;\n    \n    let site_temp = sites.filter(data => data.site_id === site_id);\n    if (site_temp.length === 0) {\n        site_temp = [{ site_code: \"agb\" }];\n    }\n    const [site, setSite] = useState({ value: site_id, data: site_temp[0] });\n    const [site_code, setSiteCode] = useState(null);\n    const [to_select_site, setToSelectSite] = useState(sites);\n    const [tech_info_value, setTechInfo] = useState(tech_info);\n    const [alert_level_value, setAlertLevel] = useState(alert_level);\n    const [request_ts, setRequestTs] = useState(ts);\n    const [reason_value, setReason] = useState(reason);\n    const [reporter_id_value, setReporter] = useState(reporter_id);\n    const [loading, setLoading] = useState(false);\n    const [has_on_demand, setHasOnDemand] = useState(true);\n    const { enqueueSnackbar, closeSnackbar } = useSnackbar();\n    const snackBarActionFn = key => {\n        return (<Button\n            color=\"primary\"\n            onClick={() => { closeSnackbar(key); }}\n        >\n            Dismiss\n        </Button>);\n    };\n\n    const updateData = () => {\n        const { group_index, group_data_index } = selectedGroupIndexes;\n        const temp = {\n            site_id: site.value,\n            source_id: 5,\n            tech_info: tech_info_value,\n            reason: reason_value,\n            reporter_id: reporter_id_value,\n            alert_level: alert_level_value,\n            request_ts: moment(request_ts).format(\"YYYY-MM-DD HH:mm:ss\")\n        };\n        const updated_data = {\n            type: \"on_demand\",\n            type_data: temp\n        };\n        if (data_index !== null) {\n            scenarioGroups[group_index].data[group_data_index].scenario_data[data_index] = updated_data;\n            setScenarioGroups(scenarioGroups);\n        } else {\n            const data = scenarioGroups[group_index].data[group_data_index].scenario_data;\n            data.push(updated_data);\n            setScenarioGroups(scenarioGroups);\n        }\n\n        updateScenarioGroupData(scenarioGroups, data => {\n            const { status, message } = data;\n            let variant;\n            if (status) {\n                variant = \"success\";\n            } else {\n                variant = \"error\";\n            }\n\n            enqueueSnackbar(\n                message,\n                {\n                    variant,\n                    autoHideDuration: 5000,\n                    action: snackBarActionFn\n                }\n            );\n        });\n    };\n\n    const deleteData = () => {\n        const { group_index, group_data_index } = selectedGroupIndexes;\n        const temp = scenarioGroups[group_index].data[group_data_index].scenario_data;\n        temp.splice(data_index, 1);\n        setScenarioGroups(scenarioGroups);\n        onScenarioClick(group_index, group_data_index, scenarioGroups[group_index].data[group_data_index]);\n        updateScenarioGroupData(scenarioGroups, data => {\n            const { status, message } = data;\n            let variant;\n            if (status) {\n                variant = \"success\";\n            } else {\n                variant = \"error\";\n            }\n\n            enqueueSnackbar(\n                message,\n                {\n                    variant,\n                    autoHideDuration: 5000,\n                    action: snackBarActionFn\n                }\n            );\n        });\n    };\n\n    return (\n        <Fragment>\n            <MainOnDemandForm\n                site={site}\n                setSite={setSite}\n                selectSite={to_select_site}\n                alertLevel={alert_level_value}\n                setAlertLevel={setAlertLevel}\n                setRequestTs={setRequestTs}\n                setReason={setReason}\n                setReporter={setReporter}\n                setTechInfo={setTechInfo}\n                reason={reason_value}\n                requestTs={request_ts}\n                reporter={reporter_id_value}\n                techInfo={tech_info_value}\n                loading={loading}\n                hasOnDemand={has_on_demand}\n            />\n            <Grid container style={{ marginTop: \"20px\" }}>\n                <Grid item xs={12}>\n                    <Button color=\"primary\" onClick={updateData}>Save</Button>\n                    {\n                        data_index != null && (\n                            <Button color=\"secondary\" onClick={deleteData}>Delete</Button>\n                        )\n                    }\n                </Grid>\n            </Grid>\n        </Fragment>\n    );\n}\n\nexport default OnDemandForm;","import React, { \n    useState, useEffect\n    , Fragment } from \"react\";\n\nimport {\n    Grid, Button, Typography,\n    Card, CardContent,\n    Dialog, DialogActions, DialogTitle,\n    DialogContent, withMobileDialog\n} from \"@material-ui/core\";\n\nimport moment from \"moment\";\nimport { MuiPickersUtilsProvider, KeyboardDateTimePicker } from \"@material-ui/pickers\";\nimport MomentUtils from \"@date-io/moment\";\nimport { useSnackbar } from \"notistack\";\nimport { startScenario, updateDashboard } from \"./ajax\";\nimport { getCurrentUser } from \"../sessions/auth\";\n\n\nfunction ReturnData (props) {\n    const { return_data: data, \n        deployedNodeData,\n        tsmSensorsData,\n        rainfallGauges, sites } = props;\n    const return_data = [];\n    data.map((row) => {\n        const { type, data: type_data, ts } = row;\n\n        if (type === \"rainfall\") {\n            const { cumulative, rain_alert, rain_id, site_id, threshold } = type_data[0];\n            const site_info = sites.filter(site => site.site_id === site_id);\n            const { barangay, municipality, province } = site_info[0];\n            const rain_info = rainfallGauges.filter(rain => rain.rain_id === rain_id);\n            const { gauge_name } = rain_info[0];\n            return_data.push(\n                <Grid item xs={12} key={`rain_${site_id}_${rain_alert}`} style={{ paddingTop: \"5px\" }}>\n                    <Card style={{ maxWidth: \"100%\" }}>\n                        <CardContent component={Grid} container style={{ textAlign: \"center\" }}>\n                            <Typography variant=\"subtitle1\" display=\"block\" component={Grid} item xs={12}>\n                                <strong>Brgy. {barangay}, {municipality}, {province}</strong>\n                            </Typography>\n                            <Typography variant=\"subtitle1\" display=\"block\" component={Grid} item xs={12}>\n                                <strong>Rainfall</strong>\n                            </Typography>\n                            <Typography variant=\"subtitle1\" display=\"block\" component={Grid} item xs={12}>\n                                {moment(ts).utcOffset(8)\n                                .format(\"YYYY-MM-DD HH:mm:ss\")}\n                            </Typography>\n                            <Grid item xs={12} style={{ margin: 10 }} />\n                            <Typography variant=\"subtitle1\" display=\"block\" component={Grid} item xs={6}>\n                                Cumulative <br/>{cumulative}\n                            </Typography>\n                            <Typography variant=\"subtitle1\" display=\"block\" component={Grid} item xs={6}>\n                                Threshold <br/>{threshold}\n                            </Typography>\n                            <Grid item xs={12} style={{ margin: 10 }} />\n                            <Typography variant=\"subtitle1\" display=\"block\" component={Grid} item xs={6}>\n                                Rain Gauge <br/>RAIN {gauge_name.toUpperCase()}\n                            </Typography>\n                            <Typography variant=\"subtitle1\" display=\"block\" component={Grid} item xs={6}>\n                                Rain Alert <br/>{rain_alert === \"a\" ? \"1-day cumulative rainfall\" : \"3-dat cumulative rainfall\"}\n                            </Typography>\n                        </CardContent>\n                    </Card>\n                </Grid>\n            );\n        } else if (type === \"subsurface\") {\n            const { alert_level, disp_alert, node_id, tsm_id, vel_alert } = type_data[0];\n            const { site_id } = row;\n            const site_info = sites.filter(site => site.site_id === site_id);\n            const { barangay, municipality, province } = site_info[0];\n            const tsm_info = tsmSensorsData.filter(tsm => tsm.tsm_id === tsm_id);\n            const { tsm_name } = tsm_info[0];\n            return_data.push(\n                <Grid item xs={12} key={`subsurface_${site_id}_${disp_alert}`} style={{ paddingTop: \"5px\" }}>\n                    <Card style={{ maxWidth: \"100%\" }}>\n                        <CardContent component={Grid} container style={{ textAlign: \"center\" }}>\n                            <Typography variant=\"subtitle1\" display=\"block\" component={Grid} item xs={12}>\n                                <strong>Brgy. {barangay}, {municipality}, {province}</strong>\n                            </Typography>\n                            <Typography variant=\"subtitle1\" display=\"block\" component={Grid} item xs={12}>\n                                <strong>Subsurface</strong>\n                            </Typography>\n                            <Typography variant=\"subtitle1\" display=\"block\" component={Grid} item xs={12}>\n                                {moment(ts).format(\"YYYY-MM-DD HH:mm:ss\")}\n                            </Typography>\n                            <Typography variant=\"subtitle1\" display=\"block\" component={Grid} item xs={12}>\n                                <strong>Alert Level {alert_level}</strong>\n                            </Typography>\n                            <Grid item xs={12} style={{ margin: 10 }} />\n                            <Typography variant=\"subtitle1\" display=\"block\" component={Grid} item xs={6}>\n                                Velocity Alert <br/>{vel_alert}\n                            </Typography>\n                            <Typography variant=\"subtitle1\" display=\"block\" component={Grid} item xs={6}>\n                                Displacement Alert <br/>{disp_alert}\n                            </Typography>\n                            <Grid item xs={12} style={{ margin: 10 }} />\n                            <Typography variant=\"subtitle1\" display=\"block\" component={Grid} item xs={6}>\n                                Node <br/>Node {node_id}\n                            </Typography>\n                            <Typography variant=\"subtitle1\" display=\"block\" component={Grid} item xs={6}>\n                                TSM <br/>{tsm_name.toUpperCase()}\n                            </Typography>\n                        </CardContent>\n                    </Card>\n                </Grid>\n            );\n        } else if (type === \"earthquake\") {\n            const { critical_distance, depth, distance, issuer, latitude,\n                longitude, magnitude } = type_data[0];\n            const { site_id } = row;\n            const site_info = sites.filter(site => site.site_id === site_id);\n            const { barangay, municipality, province } = site_info[0];\n            return_data.push(\n                <Grid item xs={12} key={`earthquake_${site_id}_${issuer}`} style={{ paddingTop: \"5px\" }}>\n                    <Card style={{ maxWidth: \"100%\" }}>\n                        <CardContent component={Grid} container style={{ textAlign: \"center\" }}>\n                            <Typography variant=\"subtitle1\" display=\"block\" component={Grid} item xs={12}>\n                                <strong>Brgy. {barangay}, {municipality}, {province}</strong>\n                            </Typography>\n                            <Typography variant=\"subtitle1\" display=\"block\" component={Grid} item xs={12}>\n                                <strong>Earthquake</strong>\n                            </Typography>\n                            <Typography variant=\"subtitle1\" display=\"block\" component={Grid} item xs={12}>\n                                {moment(ts).format(\"YYYY-MM-DD HH:mm:ss\")}\n                            </Typography>\n                            <Grid item xs={12} style={{ margin: 10 }} />\n                            <Typography variant=\"subtitle1\" display=\"block\" component={Grid} item xs={6}>\n                                Magnitude <br/>{magnitude}\n                            </Typography>\n                            <Typography variant=\"subtitle1\" display=\"block\" component={Grid} item xs={6}>\n                                Critical Distance <br/>{critical_distance}\n                            </Typography>\n                            <Grid item xs={12} style={{ margin: 10 }} />\n                            <Typography variant=\"subtitle1\" display=\"block\" component={Grid} item xs={6}>\n                                Distance <br/>{distance}\n                            </Typography>\n                            <Typography variant=\"subtitle1\" display=\"block\" component={Grid} item xs={6}>\n                                Depth <br/>{depth}\n                            </Typography>\n                            <Grid item xs={12} style={{ margin: 10 }} />\n                            <Typography variant=\"subtitle1\" display=\"block\" component={Grid} item xs={6}>\n                                Latitude <br/>{latitude}\n                            </Typography>\n                            <Typography variant=\"subtitle1\" display=\"block\" component={Grid} item xs={6}>\n                                Longitude <br/>{longitude}\n                            </Typography>\n                        </CardContent>\n                    </Card>\n                </Grid>\n            );\n        } else if (type === \"on_demand\") {\n            const { site_id, source_id, tech_info, reason, reporter_id,\n                alert_level, request_ts } = type_data;\n\n            const site_info = sites.filter(site => site.site_id === site_id);\n            const { barangay, municipality, province } = site_info[0];\n            return_data.push(\n                <Grid item xs={12} key={`on_demand_${site_id}_${alert_level}`} style={{ paddingTop: \"5px\" }}>\n                    <Card style={{ maxWidth: \"100%\" }}>\n                        <CardContent component={Grid} container style={{ textAlign: \"center\" }}>\n                            <Typography variant=\"subtitle1\" display=\"block\" component={Grid} item xs={12}>\n                                <strong>Brgy. {barangay}, {municipality}, {province}</strong>\n                            </Typography>\n                            <Typography variant=\"subtitle1\" display=\"block\" component={Grid} item xs={12}>\n                                <strong>On demand</strong>\n                            </Typography>\n                            <Typography variant=\"subtitle1\" display=\"block\" component={Grid} item xs={12}>\n                                {moment(request_ts).format(\"YYYY-MM-DD HH:mm:ss\")}\n                            </Typography>\n                            <Typography variant=\"subtitle1\" display=\"block\" component={Grid} item xs={12}>\n                                <strong>Alert Level {alert_level}</strong>\n                            </Typography>\n                            <Grid item xs={12} style={{ margin: 10 }} />\n                            <Typography variant=\"subtitle1\" display=\"block\" component={Grid} item xs={6}>\n                                Reason <br/>{reason}\n                            </Typography>\n                            <Typography variant=\"subtitle1\" display=\"block\" component={Grid} item xs={6}>\n                                Tech Info <br/>{tech_info}\n                            </Typography>\n                        </CardContent>\n                    </Card>\n                </Grid>\n            );\n        } else if (type === \"moms\") {\n            const { site: { value: site_id }, moms_list } = type_data;\n            const site_info = sites.filter(site => site.site_id === site_id);\n            const { barangay, municipality, province } = site_info[0];\n            const moms_data = [];\n            moms_list.map((moms) => {\n                const { \n                    alert_level, feature_name, feature_type, report_narrative, observance_ts,\n                    remarks, location\n                } = moms;\n\n                moms_data.push(\n                    <Fragment>\n                        <Typography variant=\"subtitle1\" display=\"block\" component={Grid} item xs={6}>\n                            Feature Type <br/>{feature_type}\n                        </Typography>\n                        <Typography variant=\"subtitle1\" display=\"block\" component={Grid} item xs={6}>\n                            Feature Name <br/>{feature_name}\n                        </Typography>\n                        {\n                            location !== \"\" && (\n                                <Typography variant=\"subtitle1\" display=\"block\" component={Grid} item xs={6}>\n                                    Location <br/>{location}\n                                </Typography>\n                            )\n                        }\n                        <Typography variant=\"subtitle1\" display=\"block\" component={Grid} item xs={6}>\n                            Alert Level <br/>{alert_level}\n                        </Typography>\n                        <Typography variant=\"subtitle1\" display=\"block\" component={Grid} item xs={6}>\n                            Observance Timestamp <br/>{observance_ts}\n                        </Typography>\n                        <Typography variant=\"subtitle1\" display=\"block\" component={Grid} item xs={6}>\n                            Report Narrative <br/>{report_narrative}\n                        </Typography>\n                        <Typography variant=\"subtitle1\" display=\"block\" component={Grid} item xs={6}>\n                            Remarks <br/>{remarks}\n                        </Typography>\n                        <Grid item xs={12} style={{ margin: 10 }} />\n                    </Fragment>\n                );\n\n                return moms_data;\n            });\n            return_data.push(\n                <Grid item xs={12} key={`on_demand_${site_id}`} style={{ paddingTop: \"5px\" }}>\n                    <Card style={{ maxWidth: \"100%\" }}>\n                        <CardContent component={Grid} container style={{ textAlign: \"center\" }}>\n                            <Typography variant=\"subtitle1\" display=\"block\" component={Grid} item xs={12}>\n                                <strong>Brgy. {barangay}, {municipality}, {province}</strong>\n                            </Typography>\n                            <Typography variant=\"subtitle1\" display=\"block\" component={Grid} item xs={12}>\n                                <strong>MOMs</strong>\n                            </Typography>\n                            <Grid item xs={12} style={{ margin: 10 }} />\n                            {moms_data}\n                        </CardContent>\n                    </Card>\n                </Grid>\n            );\n        } else if (type === \"surficial\") {\n            const { site_id, ts: obs_ts, alert_level } = row;\n            const site_info = sites.filter(site => site.site_id === site_id);\n            const { barangay, municipality, province } = site_info[0];\n            const surficial_data = [];\n            type_data.map((marker) => {\n                const { marker_name, measurement, displacement, time_delta } = marker;\n                surficial_data.push(\n                    <Fragment>\n                        <Typography variant=\"subtitle1\" display=\"block\" component={Grid} item xs={6}>\n                            Marker Name <br/>{marker_name}\n                        </Typography>\n                        <Typography variant=\"subtitle1\" display=\"block\" component={Grid} item xs={6}>\n                            Measurement <br/>{measurement}\n                        </Typography>\n                        <Grid item xs={12} style={{ margin: 10 }} />\n                        <Typography variant=\"subtitle1\" display=\"block\" component={Grid} item xs={6}>\n                            Displacement <br/>{displacement}\n                        </Typography>\n                        <Typography variant=\"subtitle1\" display=\"block\" component={Grid} item xs={6}>\n                            Time Delta <br/>{time_delta}\n                        </Typography>\n                        <Grid item xs={12}><hr/></Grid>\n                    </Fragment>\n                );\n\n                return surficial_data;\n            });\n\n            return_data.push(\n                <Grid item xs={12} key={`surficial_${site_id}`} style={{ paddingTop: \"5px\" }}>\n                    <Card style={{ maxWidth: \"100%\" }}>\n                        <CardContent component={Grid} container style={{ textAlign: \"center\" }}>\n                            <Typography variant=\"subtitle1\" display=\"block\" component={Grid} item xs={12}>\n                                <strong>Brgy. {barangay}, {municipality}, {province}</strong>\n                            </Typography>\n                            <Typography variant=\"subtitle1\" display=\"block\" component={Grid} item xs={12}>\n                                <strong>Surficial</strong>\n                            </Typography>\n                            <Typography variant=\"subtitle1\" display=\"block\" component={Grid} item xs={12}>\n                                {moment(obs_ts).format(\"YYYY-MM-DD HH:mm:ss\")}\n                            </Typography>\n                            <Typography variant=\"subtitle1\" display=\"block\" component={Grid} item xs={12}>\n                                <strong>Alert Level<br/>{alert_level}</strong>\n                            </Typography>\n                            <Grid item xs={12}><hr/></Grid>\n                            {surficial_data}\n                        </CardContent>\n                    </Card>\n                </Grid>\n            );\n        }\n\n        return return_data;\n\n    });\n\n\n\n\n    return return_data;\n\n}\n\nfunction StartScenarioModal (props) {\n    const { modalState, modalStateHandler, scenarioName, scenarioData,\n        deployedNodeData, tsmSensorsData, rainfallGauges, sites, selectedGroupIndexes,\n        onScenarioClick, scenarioGroups } = props;\n    const { user_id } = getCurrentUser();\n    const [system_time, setSystemTime] = useState(moment().format(\"YYYY-MM-DD HH:mm:ss\"));\n    const [return_data, setReturnData] = useState([]);\n    const [button_state, setButtonState] = useState(false);\n    const update_ts = value => setSystemTime(value);\n    const { enqueueSnackbar, closeSnackbar } = useSnackbar();\n    \n    const snackBarActionFn = key => (<Button\n        color=\"primary\"\n        onClick={() => { closeSnackbar(key); }}\n    >\n        Dismiss\n    </Button>);\n\n    const updateDashboardHandler = () => {\n        updateDashboard(data => {\n            console.log(data);\n        });\n\n    };\n\n    useEffect(() => {\n        setReturnData([]);\n        // console.log(JSON.parse(localStorage.getItem(\"temp_data\")));\n        // setReturnData(JSON.parse(localStorage.getItem(\"temp_data\")));\n    }, [scenarioData]);\n\n    const startScenarioHandler = () => {\n        setButtonState(true);\n        const system_time_format = moment(system_time).format(\"YYYY-MM-DD HH:mm:ss\");\n\n        const start_scenario_data = {\n            scenario_data: scenarioData.scenario_data,\n            user_id,\n            scenario_name: scenarioName\n        };\n        if (scenarioData.scenario_data.length !== 0) {\n            startScenario(start_scenario_data, temp_data => {\n                const { status, message, data } = temp_data;\n                let variant;\n                if (status) {\n                    variant = \"success\";\n                    localStorage.setItem(\"temp_data\", JSON.stringify(data));\n                    updateDashboardHandler();\n                    setReturnData(data);\n                    const { group_index, group_data_index } = selectedGroupIndexes;\n                    onScenarioClick(group_index, group_data_index, scenarioGroups[group_index].data[group_data_index]);\n                } else {\n                    variant = \"error\";\n                }\n                setButtonState(false);\n                enqueueSnackbar(\n                    message,\n                    {\n                        variant,\n                        autoHideDuration: 5000,\n                        action: snackBarActionFn\n                    }\n                );\n            });\n        } else {\n            setButtonState(false);\n            enqueueSnackbar(\n                \"Please add alert to start the scenario.\",\n                {\n                    variant: \"info\",\n                    autoHideDuration: 5000,\n                    action: snackBarActionFn\n                }\n            );\n        }\n    };\n    return (\n        <Dialog\n            fullWidth\n            open={modalState}\n            aria-labelledby=\"form-dialog-title\"\n                \n        >\n            <DialogTitle id=\"form-dialog-title\">\n                {\n                    return_data.length > 0 ? (\n                        <Fragment>\n                            Scenario Information\n                        </Fragment>\n                    ) : (\n                        <Fragment>\n                            Start <strong>{scenarioName}</strong> confirmation.\n                        </Fragment>\n                    )\n                }\n            </DialogTitle>\n            <DialogContent>\n                <Grid container>\n                    <Grid item xs={12} key=\"update_system_time_key\" style={{ paddingTop: \"5px\" }}>\n                        {\n                            return_data.length === 0 && (\n                                <Typography variant=\"subtitle1\" display=\"block\" component={Grid} item xs={12}>\n                                    Are you sure you want to begin the scenario?\n                                </Typography>\n                            )\n                        }\n                        {\n                            button_state && (\n                                <Typography variant=\"subtitle1\" display=\"block\" component={Grid} item xs={12} style={{ marginTop: 20 }} className=\"blink_me\">\n                                    <strong>Starting scenario, Please wait.......</strong>\n                                </Typography>\n                            )\n                        }\n\n                        {\n                            return_data.length > 0 && (\n                                <ReturnData \n                                    return_data={return_data}\n                                    deployedNodeData={deployedNodeData}\n                                    tsmSensorsData={tsmSensorsData}\n                                    rainfallGauges={rainfallGauges}\n                                    sites={sites}/>\n                            )\n                        }\n                            \n                    </Grid>\n                </Grid>\n            </DialogContent>\n            <DialogActions>\n                {\n                    return_data.length === 0 && (\n                        <Button color=\"primary\" onClick={startScenarioHandler} disabled={button_state}>Start</Button>\n                    )\n                }\n                <Button onClick={e => modalStateHandler(false)} disabled={button_state}>\n                    Close\n                </Button>\n            </DialogActions>\n        </Dialog>\n    );\n}\n\nexport default withMobileDialog()(StartScenarioModal);","import React, { \n    useState, useEffect\n    , Fragment } from \"react\";\n\nimport {\n    Grid, Button, Typography,\n    Card, CardContent,\n    Dialog, DialogActions, DialogTitle,\n    DialogContent, withMobileDialog\n} from \"@material-ui/core\";\n\nimport moment from \"moment\";\nimport { MuiPickersUtilsProvider, KeyboardDateTimePicker } from \"@material-ui/pickers\";\nimport MomentUtils from \"@date-io/moment\";\nimport { useSnackbar } from \"notistack\";\nimport { updateMachineTime } from \"./ajax\";\n\nfunction UpdateMachineTimeModal (props) {\n    const { modalState, modalStateHandler } = props;\n    const [system_time, setSystemTime] = useState(moment().format(\"YYYY-MM-DD HH:mm:ss\"));\n    const [button_state, setButtonState] = useState(false);\n    const update_ts = value => setSystemTime(value);\n    const { enqueueSnackbar, closeSnackbar } = useSnackbar();\n    \n    const snackBarActionFn = key => {\n        return (<Button\n            color=\"primary\"\n            onClick={() => { closeSnackbar(key); }}\n        >\n            Dismiss\n        </Button>);\n    };\n\n    const updateMachineTimeHandler = () => {\n        setButtonState(true);\n        const system_time_format = moment(system_time).format(\"YYYY-MM-DD HH:mm:ss\");\n\n        const machine_time_data = {\n            machine_time: system_time_format.toUpperCase()\n        };\n        console.log(machine_time_data);\n        updateMachineTime(machine_time_data, temp_data => {\n            const { status, message } = temp_data;\n            let variant;\n            if (status) {\n                variant = \"success\";\n            } else {\n                variant = \"error\";\n            }\n            setButtonState(false);\n            enqueueSnackbar(\n                message,\n                {\n                    variant,\n                    autoHideDuration: 5000,\n                    action: snackBarActionFn\n                }\n            );\n        });\n    };\n    return (\n        <Dialog\n            fullWidth\n            open={modalState}\n            aria-labelledby=\"form-dialog-title\"\n                \n        >\n            <DialogTitle id=\"form-dialog-title\">\n                <Fragment>\n                    Update machine time.\n                </Fragment>\n            </DialogTitle>\n            <DialogContent>\n                <Grid container>\n                    <Grid item xs={12} key=\"update_system_time_key\" style={{ paddingTop: \"5px\" }}>\n                        <Card style={{ maxWidth: \"100%\" }}>\n                            <CardContent component={Grid} container>\n                                <Typography variant=\"subtitle1\" display=\"block\" component={Grid} item xs={12}>\n                                    <strong>Updated Machine Time</strong>\n                                </Typography>\n                                <MuiPickersUtilsProvider utils={MomentUtils}>\n                                    <Grid item xs={6}>\n                                        <KeyboardDateTimePicker\n                                            required\n                                            autoOk\n                                            label=\"Machine Time\"\n                                            value={system_time}\n                                            onChange={update_ts}\n                                            ampm={false}\n                                            placeholder=\"2010/01/01 00:00\"\n                                            format=\"YYYY/MM/DD HH:mm\"\n                                            mask=\"__/__/____ __:__\"\n                                            clearable\n                                            disableFuture={false}\n                                        />\n                                    </Grid>\n                                </MuiPickersUtilsProvider>\n                            </CardContent>\n                        </Card>\n                        {\n                            button_state && (\n                                <Typography variant=\"subtitle1\" display=\"block\" component={Grid} item xs={12} style={{ marginTop: 20 }} className=\"blink_me\">\n                                    <strong>Updating machine time, Please wait.......</strong>\n                                </Typography>\n                            )\n                        }\n                            \n                    </Grid>\n                </Grid>\n            </DialogContent>\n            <DialogActions>\n                <Button color=\"primary\" onClick={updateMachineTimeHandler} disabled={button_state}>Update</Button>\n                    \n                <Button onClick={e => modalStateHandler(false)} disabled={button_state}>\n                    Close\n                </Button>\n            </DialogActions>\n        </Dialog>\n    );\n}\n\nexport default withMobileDialog()(UpdateMachineTimeModal);","import React, { \n    Fragment, useState, \n    useEffect, useContext\n} from \"react\";\n\nimport {\n    Grid, useTheme,\n    Button, Typography, Card,\n    CardContent, CardActions,\n    List, ListItem, ListItemSecondaryAction,\n    ListItemText, Divider,\n    Accordion, AccordionDetails,\n    AccordionSummary, Menu,\n    TextField, MenuItem,\n    IconButton, Tooltip\n} from \"@material-ui/core\";\n\nimport { useSnackbar } from \"notistack\";\nimport {\n    Add, ExpandMore, Folder,\n    PlayCircleFilled, AccessTime,\n    Delete, Check, Close, Edit,\n    Save\n} from \"@material-ui/icons\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport GeneralStyles from \"../../GeneralStyles\";\nimport PageTitle from \"../reusables/PageTitle\";\nimport RainfallForm from \"./RainfallForm\";\nimport SurficialForm from \"./SurficialForm\";\nimport EarthquakeForm from \"./EarthquakeForm\";\nimport SubsurfaceForm from \"./SubsurfaceForm\";\nimport MomsForm from \"./MomsForm\";\nimport OnDemandForm from \"./OnDemandForm\";\nimport { getScenarioGroups, updateScenarioGroupData, getAllSensorsData } from \"./ajax\";\nimport StartScenarioModal from \"./StartScenarioModal\";\nimport UpdateMachineTimeModal from \"./UpdateMachineTimeModal\";\nimport { capitalizeFirstLetter } from \"../../UtilityFunctions\";\nimport { GeneralContext } from \"../contexts/GeneralContext\";\n\nconst useStyles = makeStyles(theme => {\n    const gen_style = GeneralStyles(theme);\n    \n    return {\n        ...gen_style,\n        tabBar: {\n            ...gen_style.pageContentMargin,\n            margin: 0\n        },\n        tabBarContent: {\n            marginTop: 16\n        },\n        sticky: {\n            position: \"sticky\",\n            top: 146,\n            [theme.breakpoints.down(\"sm\")]: {\n                top: 48\n            },\n            backgroundColor: \"white\",\n            zIndex: 1\n        },\n        noFlexGrow: { flexGrow: 0 },\n        paper: {\n            position: \"fixed\",\n            right: 0,\n            top: 116,\n            width: 400\n        },\n        overflow: {\n            overflowY: \"auto\",\n            height: \"calc(100vh - 250px)\",\n            [theme.breakpoints.down(\"md\")]: {\n                height: \"80vh\"\n            }\n        },\n        insetDivider: { padding: \"8px 70px !important\" },\n        nested: { paddingLeft: theme.spacing(4) },\n        hidden: { display: \"none !important\" },\n        form_message_style: {\n            color: \"red\",\n            fontStyle: \"italic\"\n        },\n        listMaxWidth: {\n            width: \"100%\"\n        }\n    };\n});\n\nfunction defaultValues (type) {\n    let default_object;\n\n    if (type === \"rainfall\") {\n        default_object = {\n            site_id: 0,\n            cumulative: 0,\n            rain_alert: \"a\",\n            threshold: 0,\n            rain_id: 0,\n            source_id: 3,\n            ts: \"\"\n        };\n    } else if (type === \"surficial\") {\n        default_object = {\n            site_id: 2,\n            weather: \"MAARAW\",\n            meas_type: \"EVENT\",\n            alert_level: 0,\n            source_id: 2,\n            ts: \"\"\n        };\n    } else if (type === \"subsurface\") {\n        default_object = {\n            site_id: 0,\n            alert_level: 0,\n            disp_alert: 0,\n            na_status: 1,\n            node_id: 0,\n            tsm_id: 0,\n            vel_alert: 0,\n            source_id: 1,\n            ts: \"\"\n        };\n    } else if (type === \"earthquake\") {\n        default_object = {\n            site_id: 0,\n            magnitude: 0,\n            depth: 0,\n            latitude: 0,\n            longitude: 0,\n            critical_distance: 0,\n            issuer: \"SOFTWAREINFRATOPS\",\n            processed_value: 1,\n            distance: 0,\n            source_id: 4,\n            ts: \"\"\n        };\n    } else if (type === \"on_demand\") {\n        default_object = {\n            site_id: 1,\n            source_id: 5,\n            tech_info: \"\",\n            reason: \"\",\n            reporter_id: 2,\n            alert_level: \"1\",\n            ts: \"\"\n        };\n    } else if (type === \"moms\") {\n        default_object = null;\n    }\n        \n      \n\n\n    return default_object;\n\n}\n\nfunction ScenarioList (props) {\n    const { selectedScenarioData: { scenario_data }, \n        setSelectedScenarioData,\n        sourceIds,\n        deployedNode,\n        rainfallGauges,\n        rainfallPriorities,\n        tsmSensors,\n        selectedGroupIndexes,\n        setSelectedGroupIndexes,\n        scenarioGroups,\n        setScenarioGroups,\n        addedForm,\n        onScenarioClick\n    } = props;\n    const classes = useStyles();\n    const { sites } = useContext(GeneralContext);\n\n    // eslint-disable-next-line consistent-return\n    const AlertDetails = (row, scenario_data_index) => {\n        const { type, type_data } = row;\n        if (type === \"rainfall\") {\n            return (\n                <RainfallForm \n                    data={type_data} \n                    sites={sites} \n                    sourceIds={sourceIds}\n                    rainfallGauges={rainfallGauges}\n                    rainfallPriorities={rainfallPriorities}\n                    data_index={scenario_data_index}\n                    selectedGroupIndexes={selectedGroupIndexes}\n                    setSelectedGroupIndexes={setSelectedGroupIndexes}\n                    setSelectedScenarioData={setSelectedScenarioData}\n                    scenarioGroups={scenarioGroups}\n                    setScenarioGroups={setScenarioGroups}\n                    onScenarioClick={onScenarioClick}\n                />\n            );\n        } if (type === \"earthquake\") {\n            return (\n                <EarthquakeForm \n                    data={type_data} \n                    sites={sites} \n                    sourceIds={sourceIds} \n                    data_index={scenario_data_index}\n                    selectedGroupIndexes={selectedGroupIndexes}\n                    setSelectedGroupIndexes={setSelectedGroupIndexes}\n                    setSelectedScenarioData={setSelectedScenarioData}\n                    scenarioGroups={scenarioGroups}\n                    setScenarioGroups={setScenarioGroups}\n                    onScenarioClick={onScenarioClick}\n                />\n            );\n        } if (type === \"surficial\") {\n            return (\n                <SurficialForm \n                    data={type_data} \n                    sites={sites} \n                    sourceIds={sourceIds} \n                    data_index={scenario_data_index}\n                    selectedGroupIndexes={selectedGroupIndexes}\n                    setSelectedGroupIndexes={setSelectedGroupIndexes}\n                    setSelectedScenarioData={setSelectedScenarioData}\n                    scenarioGroups={scenarioGroups}\n                    setScenarioGroups={setScenarioGroups}\n                    onScenarioClick={onScenarioClick}\n                />\n            );\n        } if (type === \"moms\") {\n            const { site } = row;\n            return (\n                <MomsForm \n                    data={type_data} \n                    sites={sites}\n                    site={site}\n                    sourceIds={sourceIds} \n                    data_index={scenario_data_index}\n                    selectedGroupIndexes={selectedGroupIndexes}\n                    setSelectedGroupIndexes={setSelectedGroupIndexes}\n                    setSelectedScenarioData={setSelectedScenarioData}\n                    scenarioGroups={scenarioGroups}\n                    setScenarioGroups={setScenarioGroups}\n                    onScenarioClick={onScenarioClick}\n                />\n            );\n        } if (type === \"subsurface\") {\n            return (\n                <SubsurfaceForm \n                    data={type_data} \n                    sites={sites} \n                    sourceIds={sourceIds} \n                    data_index={scenario_data_index}\n                    deployedNode={deployedNode}\n                    tsmSensors={tsmSensors}\n                    selectedGroupIndexes={selectedGroupIndexes}\n                    setSelectedGroupIndexes={setSelectedGroupIndexes}\n                    setSelectedScenarioData={setSelectedScenarioData}\n                    scenarioGroups={scenarioGroups}\n                    setScenarioGroups={setScenarioGroups}\n                    onScenarioClick={onScenarioClick}\n                />\n            );\n        } if (type === \"on_demand\") {\n            return (\n                <OnDemandForm \n                    data={type_data} \n                    sites={sites} \n                    sourceIds={sourceIds} \n                    data_index={scenario_data_index}\n                    selectedGroupIndexes={selectedGroupIndexes}\n                    setSelectedGroupIndexes={setSelectedGroupIndexes}\n                    setSelectedScenarioData={setSelectedScenarioData}\n                    scenarioGroups={scenarioGroups}\n                    setScenarioGroups={setScenarioGroups}\n                    onScenarioClick={onScenarioClick}\n                />\n\n            );\n        }\n        \n    };\n\n    return (\n        <Grid container style={{ margin: \"10px\" }}>\n            {\n                // eslint-disable-next-line no-nested-ternary\n                scenario_data.length > 0 ? (\n                    scenario_data.map((row, index) => {\n                        const { type } = row;\n                        return (\n                            <Grid item xs={12} key={`scenario_data_list_${index}`} style={{ paddingTop: \"5px\" }}>\n                                <Card className={classes.listMaxWidth}>\n                                    <CardContent>\n                                        <Typography variant=\"subtitle1\" display=\"block\">\n                                            {capitalizeFirstLetter(type.replace(\"_\", \" \"))}\n                                        </Typography>\n                                        {AlertDetails(row, index)}\n                                    </CardContent>\n                                </Card>\n                            </Grid>\n                        );\n                    })\n                ) : (\n                    addedForm.length === 0 && (\n                        <Grid item xs={12}>\n                            <Typography variant=\"subtitle1\" display=\"block\" >\n                                No existing data. Please press <strong>add alert</strong> button to add.\n                            </Typography>\n                        </Grid>\n                    )\n                )\n            }\n            \n        </Grid>\n    );\n}\n\nfunction ScenarioListItem (props) {\n    const { \n        scenarioGroups, groupIndex, groupDataIndex, row, selectedIndex, \n        name, randomKey, onScenarioClick, setScenarioGroups, getScenarioGroupsData\n    } = props;\n    const [updated_scenario_name, setUpdatedScenarioName] = useState(name);\n    const [is_edit, setIsEdit] = useState(false);\n    const [is_delete, setIsDelete] = useState(false);\n    const [save_updated_scenario_name_btn, setSaveUpdatedScenarionNameBtn] = useState(true);\n    const { enqueueSnackbar, closeSnackbar } = useSnackbar();\n\n    const snackBarActionFn = key => (<Button\n        color=\"primary\"\n        onClick={() => { closeSnackbar(key); }}\n    >\n        Dismiss\n    </Button>);\n\n\n    const updateScenarioName = () => {\n        const check_scenario_name = scenarioGroups[groupIndex].data.filter(\n            data => data.scenario_name.toLowerCase() === updated_scenario_name.toLowerCase());\n            \n        if (check_scenario_name.length === 0) {\n            scenarioGroups[groupIndex].data[groupDataIndex].scenario_name = updated_scenario_name;\n            updateScenarioGroupData(scenarioGroups, data => {\n                const { status } = data;\n                let variant;\n                let message;\n                if (status) {\n                    variant = \"success\";\n                    setScenarioGroups(scenarioGroups);\n                    setIsEdit(false);\n                    setUpdatedScenarioName(\"\");\n                    getScenarioGroupsData();\n                    message = \"Successfully updated!\";\n                } else {\n                    variant = \"error\";\n                }\n    \n                enqueueSnackbar(\n                    message,\n                    {\n                        variant,\n                        autoHideDuration: 3000,\n                        action: snackBarActionFn\n                    }\n                );\n            });\n        } else {\n            enqueueSnackbar(\n                \"Scenario name already exists.\",\n                {\n                    variant: \"info\",\n                    autoHideDuration: 5000,\n                    action: snackBarActionFn\n                }\n            );\n            setUpdatedScenarioName(\"\");\n        }\n    };\n\n    const deleteScenario = () => {\n        scenarioGroups[groupIndex].data.splice(groupDataIndex, 1);\n        updateScenarioGroupData(scenarioGroups, data => {\n            const { status } = data;\n            let message;\n            let variant;\n            if (status) {\n                variant = \"success\";\n                setScenarioGroups(scenarioGroups);\n                getScenarioGroupsData();\n                setIsDelete(false);\n                message = \"Successfully deleted!\";\n            } else {\n                variant = \"error\";\n            }\n\n            enqueueSnackbar(\n                message,\n                {\n                    variant,\n                    autoHideDuration: 5000,\n                    action: snackBarActionFn\n                }\n            );\n        });\n    };\n\n    useEffect(() => {\n        if (updated_scenario_name.length > 0) {\n            setSaveUpdatedScenarionNameBtn(false);\n        } else {\n            setSaveUpdatedScenarionNameBtn(true);\n        }\n    }, [updated_scenario_name]);\n    return (\n        <Fragment>\n            <ListItem\n                style={{ margin: 3 }}\n                // eslint-disable-next-line react/no-array-index-key\n                key={`${groupIndex}_${randomKey}`}\n                button\n                selected={selectedIndex === `${groupIndex}_${groupDataIndex}`}\n                onClick={(event) => onScenarioClick(groupIndex, groupDataIndex, row)}\n            >\n                <ListItemText primary={`${name}`} />\n                <ListItemSecondaryAction>\n                    <IconButton color=\"primary\" edge=\"end\" aria-label=\"rename\" onClick={() => setIsEdit(true)}>\n                        <Edit />\n                    </IconButton>\n                    <IconButton color=\"secondary\" edge=\"end\" aria-label=\"delete\" onClick={() => setIsDelete(true)}>\n                        <Delete />\n                    </IconButton>\n                </ListItemSecondaryAction>\n            </ListItem>\n            <div style={{ margin: 3, textAlign: \"center\" }}>\n                {\n                    is_edit && (\n                        <Fragment>\n                            <TextField\n                                required\n                                label=\"Update scenario name\"\n                                value={updated_scenario_name}\n                                onChange={e => setUpdatedScenarioName(e.target.value)}\n                            />\n                            <Button\n                                style={{ marginTop: \"20px\" }}\n                                color=\"primary\"\n                                size=\"small\"\n                                onClick={updateScenarioName}\n                                disabled={save_updated_scenario_name_btn}\n                            >\n                                Save\n                            </Button>\n                            <IconButton color=\"primary\" aria-label=\"cancel delete\" onClick={e => setIsEdit(false)}>\n                                <Close />\n                            </IconButton>\n                            <br/>\n                        </Fragment>\n                    )\n                }\n\n                {\n                    is_delete && (\n                        <Fragment>\n                            <Typography variant=\"body1\" display=\"block\" gutterBottom style={{ display: \"contents\" }}>\n                                Confirm deletion.\n                            </Typography>\n\n                            <IconButton color=\"primary\" aria-label=\"confirm delete\" onClick={deleteScenario}>\n                                <Check />\n                            </IconButton>\n\n                            <IconButton color=\"primary\" aria-label=\"cancel delete\" onClick={e => setIsDelete(false)}>\n                                <Close />\n                            </IconButton>\n                        </Fragment>\n                    )\n                }\n            </div>\n                \n        </Fragment>\n    );\n}\n\nfunction Container (props) {\n    const classes = useStyles();\n    const theme = useTheme();\n\n    const default_menu = [\n        \"rainfall\", \"subsurface\", \"surficial\",\n        \"earthquake\", \"on_demand\", \"moms\"\n    ];\n    \n    const source_ids = [\n        { source_id: 1, trigger_source: \"subsurface\" },\n        { source_id: 2, trigger_source: \"surficial\" },\n        { source_id: 3, trigger_source: \"rainfall\" },\n        { source_id: 4, trigger_source: \"earthquake\" },\n        { source_id: 5, trigger_source: \"on demand\" },\n        { source_id: 6, trigger_source: \"moms\" },\n    ];\n    const { sites } = useContext(GeneralContext);\n    const [expanded, setExpanded] = useState(false);\n    const [selectedIndex, setSelectedIndex] = useState(null);\n    const [showAddFolderInput, setShowAddFolderInput] = useState(false);\n    const [anchorEl, setAnchorEl] = useState(null);\n    const [isAddNewScenario, setIsAddNewScenario] = useState(false);\n    const [selected_group, setSelectedGroup] = useState(null);\n\n    const [scenario_groups, setScenarioGroups] = useState([]);\n    const [selected_scenario, setSelectedScenario] = useState(null);\n    const [selected_scenario_data, setSelectedScenarioData] = useState(null);\n    const [selected_group_indexes, setSelectedGroupIndexes] = useState(null);\n    const [folder_name, setFolderName] = useState(\"\");\n    const [scenario_name, setScenarioName] = useState(\"\");\n    const [menu, setMenu] = useState([]);\n    const [added_form, setAddedForm] = useState([]);\n\n    const [save_folder_button_state, setSaveFolderButtonState] = useState(true);\n    const [save_new_scenario_button_state, setSaveNewScenarioButtonState] = useState(true);\n    const [update_new_folder_button_state, setSaveUpdateNewFolderState] = useState(true);\n\n    const [deployed_node_data, setDeployedNodeData] = useState([]);\n    const [tsm_sensors_data, setTsmSensorsData] = useState([]);\n    const [rainfall_priorities, setRainfallPrioritiesData] = useState([]);\n    const [rainfall_gauges, setRainfallGaugesData] = useState([]);\n\n    const { enqueueSnackbar, closeSnackbar } = useSnackbar();\n    const [start_scenario_modal_state, setStartScenarioModalState] = useState(false);\n    const [update_machine_time_modal_state, setUpdateMachineTimeModalState] = useState(false);\n    const [is_for_deletion, setIsForDeletion] = useState(false);\n    const [is_for_rename, setIsForRename] = useState(false);\n    const [updated_folder_name, setUpdatedFolderName] = useState(\"\");\n    const [selected_on_menu, setSelectedOnMenu] = useState([]);\n    \n\n    const snackBarActionFn = key => (<Button\n        color=\"primary\"\n        onClick={() => { closeSnackbar(key); }}\n    >\n        Dismiss\n    </Button>);\n\n    const onScenarioClick = (group_index, group_data_index, row) => {\n        const { scenario_name: name } = row;\n        setAddedForm([]);\n        const temp_selected_scenario = scenario_groups[group_index].data[group_data_index];\n        setSelectedScenarioData(temp_selected_scenario);\n        setSelectedIndex(`${group_index}_${group_data_index}`);\n        setSelectedScenario(name);\n        setIsAddNewScenario(false);\n        setSelectedGroupIndexes({\n            group_index, group_data_index\n        });\n        \n        const temp = temp_selected_scenario.scenario_data;\n        const current_alert_type = temp.map(data => data.type);\n        const menu_list = default_menu.filter(val => !current_alert_type.includes(val));\n        \n        if (!menu_list.includes(\"moms\")) {\n            menu_list.push(\"moms\");\n        }\n        setMenu(menu_list);\n        setShowAddFolderInput(false);\n        setSelectedOnMenu([]);\n    };\n\n    const handleChange = (panel, group_index) => (event, isExpanded) => {\n        setExpanded(isExpanded ? panel : false);\n        setSelectedGroup(group_index);\n        setIsForDeletion(false);\n        setIsForRename(false);\n        setShowAddFolderInput(false);\n    };\n\n    const showAddFolderInputField = () => {\n        setShowAddFolderInput(!showAddFolderInput);\n    };\n\n    const addNewScenarioHandler = (state) => {\n        setIsAddNewScenario(state);\n    };\n\n    const handleClick = (event) => {\n        console.log(selected_on_menu);\n        setAnchorEl(event.currentTarget);\n        if (added_form.length > 0) {\n            if (!selected_on_menu.includes(\"moms\")) {\n                selected_on_menu.push(\"moms\");\n            }\n            setMenu(selected_on_menu);\n        } else {\n            const { scenario_data } = selected_scenario_data;\n            const current_alert_type = scenario_data.map(data => data.type);\n            const menu_list = default_menu.filter(val => !current_alert_type.includes(val));\n            if (!menu_list.includes(\"moms\")) {\n                menu_list.push(\"moms\");\n            }\n            setMenu(menu_list);\n        }\n    };\n    \n    const handleClose = () => {\n        setAnchorEl(null);\n    };\n\n    const startScenarioModalState = () => {\n        setStartScenarioModalState(!start_scenario_modal_state);\n        setAddedForm([]);\n    };\n\n    const updateMachineTimeHandler = () => {\n        setUpdateMachineTimeModalState(!update_machine_time_modal_state);\n    };\n\n    const deleteScenarioGroup = (group_index) => {\n        console.log(group_index);\n        scenario_groups.splice(group_index, 1);\n        const temp = scenario_groups;\n        setSelectedScenario(null);\n        setShowAddFolderInput(false);\n        setIsForRename(false);\n        updateScenarioGroupData(temp, data => {\n            const { status } = data;\n            let message;\n            let variant;\n            if (status) {\n                variant = \"success\";\n                getScenarioGroupsData();\n                setIsForDeletion(false);\n                message = \"Successfully deleted!\";\n            } else {\n                variant = \"error\";\n            }\n\n            enqueueSnackbar(\n                message,\n                {\n                    variant,\n                    autoHideDuration: 5000,\n                    action: snackBarActionFn\n                }\n            );\n        });\n    };\n\n    const updateFolderName = (group_index) => {\n        scenario_groups[group_index].group_name = updated_folder_name;\n        updateScenarioGroupData(scenario_groups, data => {\n            const { status } = data;\n            let variant;\n            let message;\n            if (status) {\n                variant = \"success\";\n                getScenarioGroupsData();\n                setIsForRename(false);\n                message = \"Successfully updated!\";\n            } else {\n                variant = \"error\";\n            }\n\n            enqueueSnackbar(\n                message,\n                {\n                    variant,\n                    autoHideDuration: 5000,\n                    action: snackBarActionFn\n                }\n            );\n        });\n    };\n\n    const onAddForm = (form_type) => {\n        setAnchorEl(null);\n        if (form_type !== \"moms\") {\n            setMenu(menu.filter(val => val !== form_type));\n        } \n        \n        setSelectedOnMenu(menu.filter(val => val !== form_type));\n        if (form_type === \"rainfall\") {\n            const data = {\n                data: defaultValues(\"rainfall\")\n            };\n            added_form.push(\n                <Fragment>\n                    <Typography variant=\"subtitle1\" display=\"block\">\n                        {capitalizeFirstLetter(\"Rainfall\")}\n                    </Typography> \n                    <RainfallForm \n                        data={data} \n                        sites={sites} \n                        sourceIds={source_ids}\n                        rainfallGauges={rainfall_gauges}\n                        rainfallPriorities={rainfall_priorities}\n                        data_index={null}\n                        selectedGroupIndexes={selected_group_indexes}\n                        setSelectedGroupIndexes={setSelectedGroupIndexes}\n                        setSelectedScenarioData={setSelectedScenarioData}\n                        scenarioGroups={scenario_groups}\n                        setScenarioGroups={setScenarioGroups}\n                        onScenarioClick={onScenarioClick}\n                    />\n                </Fragment>\n            );\n            setAddedForm(added_form);\n        } else if (form_type === \"subsurface\") {\n            const data = {\n                data: defaultValues(\"subsurface\")\n            };\n            added_form.push(\n                <Fragment>\n                    <Typography variant=\"subtitle1\" display=\"block\">\n                        {capitalizeFirstLetter(\"Subsurface\")}\n                    </Typography> \n                    <SubsurfaceForm \n                        data={data} \n                        sites={sites}\n                        sourceIds={source_ids}\n                        data_index={null}\n                        deployedNode={deployed_node_data}\n                        tsmSensors={tsm_sensors_data}\n                        selectedGroupIndexes={selected_group_indexes}\n                        setSelectedGroupIndexes={setSelectedGroupIndexes}\n                        setSelectedScenarioData={setSelectedScenarioData}\n                        scenarioGroups={scenario_groups}\n                        setScenarioGroups={setScenarioGroups}\n                        onScenarioClick={onScenarioClick}\n                    />\n                </Fragment>\n            );\n            setAddedForm(added_form);\n        } else if (form_type === \"surficial\") {\n            const data = {\n                data: defaultValues(\"surficial\")\n            };\n\n            added_form.push(\n                <Fragment>\n                    <Typography variant=\"subtitle1\" display=\"block\">\n                        {capitalizeFirstLetter(\"Surficial\")}\n                    </Typography> \n                    <SurficialForm \n                        data={data} \n                        sites={sites} \n                        sourceIds={source_ids} \n                        data_index={null}\n                        selectedGroupIndexes={selected_group_indexes}\n                        setSelectedGroupIndexes={setSelectedGroupIndexes}\n                        setSelectedScenarioData={setSelectedScenarioData}\n                        scenarioGroups={scenario_groups}\n                        setScenarioGroups={setScenarioGroups}\n                        onScenarioClick={onScenarioClick}/>\n                </Fragment>\n            );\n        } else if (form_type === \"earthquake\") {\n            const data = {\n                data: defaultValues(\"earthquake\")\n            };\n\n            added_form.push(\n                <Fragment>\n                    <Typography variant=\"subtitle1\" display=\"block\">\n                        {capitalizeFirstLetter(\"Earthquake\")}\n                    </Typography> \n                    <EarthquakeForm \n                        data={data} \n                        sites={sites} \n                        sourceIds={source_ids} \n                        data_index={null}\n                        selectedGroupIndexes={selected_group_indexes}\n                        setSelectedGroupIndexes={setSelectedGroupIndexes}\n                        setSelectedScenarioData={setSelectedScenarioData}\n                        scenarioGroups={scenario_groups}\n                        setScenarioGroups={setScenarioGroups}\n                        onScenarioClick={onScenarioClick}\n                    />\n                </Fragment>\n            );\n        } else if (form_type === \"on_demand\") {\n            const data = {\n                data: defaultValues(\"on_demand\")\n            };\n\n            added_form.push(\n                <Fragment>\n                    <Typography variant=\"subtitle1\" display=\"block\">\n                        {capitalizeFirstLetter(\"On demand\")}\n                    </Typography> \n                    <OnDemandForm \n                        data={data} \n                        sites={sites} \n                        sourceIds={source_ids} \n                        data_index={null}\n                        selectedGroupIndexes={selected_group_indexes}\n                        setSelectedGroupIndexes={setSelectedGroupIndexes}\n                        setSelectedScenarioData={setSelectedScenarioData}\n                        scenarioGroups={scenario_groups}\n                        setScenarioGroups={setScenarioGroups}\n                        onScenarioClick={onScenarioClick}\n                    />\n                </Fragment>\n            );\n        } else if (form_type === \"moms\") {\n            const site = {\n                data: { site_code: \"agb\" }\n            };\n            added_form.push(\n                <Fragment>\n                    <MomsForm \n                        data={null} \n                        sites={sites}\n                        site={site}\n                        sourceIds={source_ids} \n                        data_index={null}\n                        selectedGroupIndexes={selected_group_indexes}\n                        setSelectedGroupIndexes={setSelectedGroupIndexes}\n                        setSelectedScenarioData={setSelectedScenarioData}\n                        scenarioGroups={scenario_groups}\n                        setScenarioGroups={setScenarioGroups}\n                        onScenarioClick={onScenarioClick}\n                    />\n                </Fragment>\n            );\n        }\n        \n        \n        \n    };\n\n    const saveNewFolder = () => {\n        \n        const check_group_name = scenario_groups.filter(data => data.group_name.toLowerCase() === folder_name.toLowerCase());\n        if (check_group_name.length === 0) {\n            scenario_groups.push({\n                group_name: folder_name,\n                data: []\n            });\n            updateScenarioGroupData(scenario_groups, data => {\n                const { status, message } = data;\n                let variant;\n                if (status) {\n                    variant = \"success\";\n                    getScenarioGroupsData();\n                    setFolderName(\"\");\n                } else {\n                    variant = \"error\";\n                }\n\n                enqueueSnackbar(\n                    message,\n                    {\n                        variant,\n                        autoHideDuration: 5000,\n                        action: snackBarActionFn\n                    }\n                );\n            });\n        } else {\n            enqueueSnackbar(\n                \"Folder name already exists.\",\n                {\n                    variant: \"info\",\n                    autoHideDuration: 5000,\n                    action: snackBarActionFn\n                }\n            );\n            setFolderName(\"\");\n        }\n        \n    };\n\n    const saveNewScenario = () => {\n        const updated_scenario_group = scenario_groups[selected_group].data;\n        updated_scenario_group.push({\n            scenario_name,\n            scenario_data: []\n        });\n        updateScenarioGroupData(scenario_groups, data => {\n            const { status, message } = data;\n            let variant;\n            if (status) {\n                variant = \"success\";\n                getScenarioGroupsData();\n                setScenarioName(\"\");\n            } else {\n                variant = \"error\";\n            }\n\n            enqueueSnackbar(\n                message,\n                {\n                    variant,\n                    autoHideDuration: 5000,\n                    action: snackBarActionFn\n                }\n            );\n        });\n    };\n\n    const getScenarioGroupsData = () => {\n        getScenarioGroups(data => {\n            setScenarioGroups(data);\n        });\n    };\n\n    useEffect(() => {\n        getScenarioGroupsData();\n        \n\n        getAllSensorsData(data => {\n            const { \n                deployed_node, rainfall_gauges: rain_gauges,\n                rainfall_priorities: rain_priorities, tsm_sensors\n            } = data;\n            setDeployedNodeData(deployed_node);\n            setRainfallGaugesData(rain_gauges);\n            setRainfallPrioritiesData(rain_priorities);\n            setTsmSensorsData(tsm_sensors);\n        });\n    }, []);\n    \n\n    useEffect(() => {\n        setSaveFolderButtonState(true);\n        setSaveNewScenarioButtonState(true);\n        setSaveUpdateNewFolderState(true);        \n        if (folder_name.length > 0) {\n            setSaveFolderButtonState(false);\n        }\n\n        if (scenario_name.length > 0) {\n            setSaveNewScenarioButtonState(false);\n        }\n\n        if (updated_folder_name.length > 0) {\n            setSaveUpdateNewFolderState(false);\n        }\n    }, [folder_name, scenario_name, updated_folder_name]);\n\n\n    return (\n        <Fragment>\n            <div className={classes.pageContentMargin}>\n                <PageTitle\n                    title=\"Operations | Usability Testing: Scenario Builder\"\n                    className={classes.sticky}\n                />\n                <Grid container spacing={3} justify=\"space-evenly\">\n                    <Grid item xs={4}>\n                        <Card>\n                            <CardContent component={Grid} container spacing={2}>\n                                <Typography variant=\"subtitle1\" display=\"block\" component={Grid} item xs={12}>\n                                    <strong>Scenario Group</strong>\n                                </Typography>\n\n                                <Button\n                                    style={{ margin: 5 }}\n                                    variant=\"contained\"\n                                    color=\"primary\"\n                                    size=\"small\"\n                                    className={classes.button}\n                                    onClick={showAddFolderInputField}\n                                    startIcon={<Add />}\n                                >\n                                    Add folder\n                                </Button>\n                                \n                                <Button\n                                    style={{ margin: 5 }}\n                                    variant=\"contained\"\n                                    color=\"primary\"\n                                    size=\"small\"\n                                    className={classes.button}\n                                    onClick={updateMachineTimeHandler}\n                                    startIcon={<AccessTime />}\n                                >\n                                    Update Machine Time\n                                </Button>\n                                <br/>\n                                {\n                                    showAddFolderInput && (\n                                        <div style={{ marginBottom: \"20px\" }}>\n                                            <TextField\n                                                required\n                                                label=\"Folder Name\"\n                                                value={folder_name}\n                                                onChange={e => setFolderName(e.target.value)}\n                                            />\n                                            <Button\n                                                style={{ marginTop: \"20px\" }}\n                                                color=\"primary\"\n                                                size=\"small\"\n                                                className={classes.button}\n                                                onClick={saveNewFolder}\n                                                disabled={save_folder_button_state}\n                                            >\n                                                Save\n                                            </Button>\n                                        </div>\n                                    )\n                                }\n\n                                {\n                                    sites.length > 0 && scenario_groups.length > 0 ? (\n                                        scenario_groups.map((group, group_index) => {\n                                            const { group_name, data } = group;\n                                            // const { data } = group_name;\n\n                                            return (\n                                                <Accordion \n                                                    key={`${group_name}_content`}\n                                                    expanded={expanded === `${group_name}`} \n                                                    onChange={handleChange(`${group_name}`, group_index)} \n                                                    className={classes.listMaxWidth}>\n\n                                                    <AccordionSummary\n                                                        expandIcon={<ExpandMore />}\n                                                        aria-controls={`${group_name}_content`}\n                                                        id={`${group_name}_header`}\n                                                    >\n                                                        <Folder color=\"action\"/>\n                                                        <Typography className={classes.heading}>\n                                                            {group_name}\n                                                        </Typography>\n                                                    </AccordionSummary>\n                                                    <AccordionDetails>\n                                                        <List \n                                                            component=\"nav\" \n                                                            aria-label=\"add new scenario\" \n                                                            className={classes.listMaxWidth} >\n                                                            <Tooltip title=\"Delete folder\">\n                                                                <IconButton color=\"secondary\" aria-label=\"delete folder\" onClick={e => setIsForDeletion(true)}>\n                                                                    <Delete />\n                                                                </IconButton>\n                                                            </Tooltip>\n                                                            <Tooltip title=\"Rename folder\">\n                                                                <IconButton color=\"primary\" aria-label=\"rename folder\" onClick={e => setIsForRename(true)}>\n                                                                    <Edit />\n                                                                </IconButton>\n                                                            </Tooltip>\n                                                            <Tooltip title=\"Add new scenario\">\n                                                                <IconButton color=\"primary\" aria-label=\"delete folder\" onClick={e => addNewScenarioHandler(true)}>\n                                                                    <Add />\n                                                                </IconButton>\n                                                            </Tooltip>\n                                                            <br/>\n                                                            {\n                                                                is_for_deletion && (\n                                                                    <Fragment>\n                                                                        <Typography variant=\"body1\" display=\"block\" gutterBottom style={{ display: \"contents\" }}>\n                                                                            Confirm deletion.\n                                                                        </Typography>\n\n                                                                        <IconButton color=\"primary\" aria-label=\"confirm delete\" onClick={e => deleteScenarioGroup(group_index)}>\n                                                                            <Check />\n                                                                        </IconButton>\n\n                                                                        <IconButton color=\"primary\" aria-label=\"cancel delete\" onClick={e => setIsForDeletion(false)}>\n                                                                            <Close />\n                                                                        </IconButton>\n                                                                    </Fragment>\n                                                                )\n                                                            }\n\n                                                            {\n                                                                is_for_rename && (\n                                                                    <Fragment>\n                                                                        <TextField\n                                                                            required\n                                                                            label=\"Update folder name\"\n                                                                            value={updated_folder_name}\n                                                                            onChange={e => setUpdatedFolderName(e.target.value)}\n                                                                        />\n                                                                        <Button\n                                                                            style={{ marginTop: \"20px\" }}\n                                                                            color=\"primary\"\n                                                                            size=\"small\"\n                                                                            className={classes.button}\n                                                                            onClick={e => updateFolderName(group_index)}\n                                                                            disabled={update_new_folder_button_state}\n                                                                        >\n                                                                            Update\n                                                                        </Button>\n                                                                    </Fragment>\n                                                                )\n                                                            }\n                                                            \n                                                            <hr/>\n                                                            {\n                                                                data.length > 0 ? (\n                                                                    data.map((row, group_data_index) => {\n                                                                        const { scenario_name: name } = row;\n                                                                        const random_key = `${Math.floor(Math.random() * 999)}${Math.floor(Math.random() * 999)}`;\n                                                                        \n                                                                        return (\n                                                                            <ScenarioListItem\n                                                                                key={random_key}\n                                                                                scenarioGroups={scenario_groups}\n                                                                                groupIndex={group_index}\n                                                                                groupDataIndex={group_data_index}\n                                                                                row={row}\n                                                                                onScenarioClick={onScenarioClick}\n                                                                                name={name}\n                                                                                selectedIndex={selectedIndex}\n                                                                                randomKey={random_key}\n                                                                                setScenarioGroups={setScenarioGroups}\n                                                                                getScenarioGroupsData={getScenarioGroupsData}\n                                                                            />\n                                                                        );\n                                                                    })\n\n\n                                                                ) : (\n                                                                    <Fragment>\n                                                                        <div style={{ textAlign: \"center\" }}>\n                                                                            <br/>\n                                                                            <Typography variant=\"body1\" gutterBottom>\n                                                                                No data.\n                                                                            </Typography>\n                                                                        </div>\n                                                                    </Fragment>\n                                                                )\n                                                            }\n                                                            \n                                                        </List>\n                                                    </AccordionDetails>\n                                                </Accordion>\n                                            );\n                                        })\n                                    ) : (\n                                        <Fragment>\n                                            <div style={{ textAlign: \"center\", width: \"100%\" }}>\n                                                <br/>\n                                                <Typography variant=\"body1\" gutterBottom>\n                                                    No data.\n                                                </Typography>\n                                            </div>\n                                        </Fragment>\n                                    )\n                                }\n                            </CardContent>\n                        </Card>\n                    </Grid>\n\n                    <Grid item xs={8}>\n                        <Card>\n                            <CardContent component={Grid} container spacing={2}>\n                                {\n                                    // eslint-disable-next-line no-nested-ternary\n                                    isAddNewScenario ? (\n                                        <div style={{ marginBottom: \"20px\" }}>\n                                            <TextField\n                                                required\n                                                label=\"New scenario name\"\n                                                value={scenario_name}\n                                                onChange={e => setScenarioName(e.target.value)}\n                                            />\n                                            <Button\n                                                style={{ marginTop: \"20px\" }}\n                                                color=\"primary\"\n                                                size=\"small\"\n                                                className={classes.button}\n                                                onClick={saveNewScenario}\n                                                disabled={save_new_scenario_button_state}\n                                            >\n                                                Save\n                                            </Button>\n                                            <Divider />\n                                        </div>\n                                    ) : (\n                                        \n                                        selected_scenario ? (\n                                            <Fragment>\n                                                <Typography variant=\"subtitle1\" display=\"block\" component={Grid} item xs={12}>\n                                                    Build scenario for <strong>{selected_scenario}</strong> \n                                                    <Button\n                                                        onClick={handleClick}\n                                                        aria-controls=\"simple-menu\" aria-haspopup=\"true\"\n                                                        style={{ marginLeft: \"20px\" }}\n                                                        variant=\"contained\"\n                                                        color=\"primary\"\n                                                        size=\"small\"\n                                                        className={classes.button}\n                                                        startIcon={<Add />}\n                                                    >\n                                                        Add Alert\n                                                    </Button>\n                                                    <Menu\n                                                        style={{ marginTop: \"50px\" }}\n                                                        id=\"form-menu\"\n                                                        anchorEl={anchorEl}\n                                                        keepMounted\n                                                        open={Boolean(anchorEl)}\n                                                        onClose={handleClose}\n                                                    >\n                                                        {\n                                                            menu && (\n                                                                menu.map(menu_row => (\n                                                                    <MenuItem onClick={e => onAddForm(menu_row)} key={menu_row}>{capitalizeFirstLetter(menu_row.replace(\"_\", \" \"))}</MenuItem>\n                                                                ))\n                                                            )\n                                                        }\n                                                    </Menu>\n                                                    <Button\n                                                        style={{ marginLeft: \"20px\" }}\n                                                        variant=\"contained\"\n                                                        color=\"primary\"\n                                                        size=\"small\"\n                                                        className={classes.button}\n                                                        onClick={startScenarioModalState}\n                                                        startIcon={<PlayCircleFilled />}\n                                                    >\n                                                        Start scenario\n                                                    </Button>\n                                                </Typography>\n                                                <ScenarioList \n                                                    selectedScenarioData={selected_scenario_data}\n                                                    setSelectedScenarioData={setSelectedScenarioData}\n                                                    sourceIds={source_ids}\n                                                    deployedNode={deployed_node_data}\n                                                    rainfallGauges={rainfall_gauges}\n                                                    rainfallPriorities={rainfall_priorities}\n                                                    tsmSensors={tsm_sensors_data}\n                                                    selectedGroupIndexes={selected_group_indexes}\n                                                    setSelectedGroupIndexes={setSelectedGroupIndexes}\n                                                    scenarioGroups={scenario_groups}\n                                                    setScenarioGroups={setScenarioGroups}\n                                                    addedForm={added_form}\n                                                    onScenarioClick={onScenarioClick}\n                                                />\n                                            </Fragment>\n                                        ) : (\n                                            <Typography variant=\"subtitle1\" display=\"block\" component={Grid} item xs={12}>No selected scenario.</Typography>\n                                        )\n                                        \n                                        \n                                    )\n                                }\n                                <Grid container>\n                                    {\n                                        added_form.length > 0 && (\n                                            <Fragment>\n                                                <div style={{ textAlign: \"center\", width: \"100%\" }}>\n                                                    <Typography variant=\"subtitle1\">\n                                                        New Alerts\n                                                    </Typography>\n                                                    <hr/>\n                                                </div>\n                                            </Fragment>\n                                        )\n                                    }\n                                    {\n                                        added_form.map((row, index) => (\n                                            <Grid item xs={12} key={`added_scenario_data_list_${index}`} style={{ padding: 12 }}>\n                                                <Card className={classes.listMaxWidth}>\n                                                    <CardContent>\n                                                        {row}\n                                                    </CardContent>\n                                                </Card>\n                                            </Grid>\n                                        ))\n                                    }\n                                </Grid>\n                                \n                            </CardContent>\n                            <CardActions style={{ justifyContent: \"flex-end\" }}>\n                                {/* <Button color=\"primary\">Save</Button> */}\n                            </CardActions>\n                        </Card>\n                    </Grid>\n                </Grid>\n            </div>\n            <StartScenarioModal\n                modalState={start_scenario_modal_state}\n                modalStateHandler={startScenarioModalState}\n                scenarioName={selected_scenario}\n                scenarioData={selected_scenario_data}\n                deployedNodeData={deployed_node_data}\n                tsmSensorsData={tsm_sensors_data}\n                rainfallGauges={rainfall_gauges}\n                sites={sites}\n                selectedGroupIndexes={selected_group_indexes}\n                onScenarioClick={onScenarioClick}\n                scenarioGroups={scenario_groups}\n            />\n            <UpdateMachineTimeModal\n                modalState={update_machine_time_modal_state}\n                modalStateHandler={updateMachineTimeHandler}\n            />\n        </Fragment>\n    );\n}\n\nexport default Container;","import React from \"react\";\nimport { Route, Switch } from \"react-router-dom\";\n\nimport DashboardContainer from \"./components/monitoring/dashboard/Container\";\nimport EventsTableContainer from \"./components/monitoring/events_table/Container\";\nimport ShiftsAndReportsContainer from \"./components/monitoring/shifts_and_reports/Container\";\nimport SiteLogsContainer from \"./components/monitoring/site_logs/Container\";\nimport IssuesAndReminders from \"./components/monitoring/issues_and_reminders/Container\";\nimport QAContainer from \"./components/monitoring/qa/Container\";\n\nimport IntegratedSiteAnalysisContainer from \"./components/analysis/integrated_site/Container\";\nimport MonitoringAlertsAnalytics from \"./components/analysis/monitoring_alerts_analytics/Container\";\nimport CommunicationsAnalytics from \"./components/analysis/communications_analytics/Container\";\nimport LoggersAndSensorsFormContainer from \"./components/analysis/loggers_and_sensors_form/Container\";\n\nimport ChatterboxContainer from \"./components/communication/chatterbox/Container\";\nimport ContactsContainer from \"./components/communication/contacts/Container\";\nimport MailBoxContainer from \"./components/communication/mailbox/MailBoxContainer\";\n\nimport SitesInformationContainer from \"./components/community/site_information/Container\";\n\nimport ProfileContainer from \"./components/member_profile/Container\";\nimport UpdateCredentialsForm from \"./components/member_profile/UpdateCredentialsForm\";\nimport CreateDynaUser from \"./components/member_profile/CreateDynaUser\";\n\nimport UsabilityTestingContaiter from \"./components/usability_testing/Container\";\n\n\nfunction RoutesCollection (props) {\n    const { \n        location, match: { url }\n    } = props;\n\n    return (\n\n        <Switch location={location}>\n            <Route exact path={url} component={DashboardContainer} />\n            <Route path={`${url}monitoring/events`} component={EventsTableContainer} />\n            <Route path={`${url}monitoring/shifts_and_reports`} component={ShiftsAndReportsContainer} />\n            <Route path={`${url}monitoring/issues_and_reminders`} component={IssuesAndReminders} />\n            <Route path={`${url}monitoring/logs`} component={SiteLogsContainer} />\n            <Route path={`${url}monitoring/qa`} component={QAContainer} />\n            <Route path={`${url}monitoring`} render={() => <h3> Not yet created</h3>} />\n\n            <Route path={`${url}analysis/sites`} component={IntegratedSiteAnalysisContainer} />\n            <Route path={`${url}analysis/alerts`} component={MonitoringAlertsAnalytics} />\n            <Route path={`${url}analysis/communications`} component={CommunicationsAnalytics} />\n            <Route path={`${url}analysis/forms/loggers_and_sensors`} component={LoggersAndSensorsFormContainer} />\n            <Route path={`${url}analysis`} render={() => <h3> Not yet created</h3>} />\n\n            <Route path={`${url}communication/chatterbox`} component={ChatterboxContainer} />\n            <Route path={`${url}communication/contacts`} component={ContactsContainer} />\n            <Route path={`${url}communication/mailbox`} component={MailBoxContainer} />\n            <Route path={`${url}communication`} render={() => <h3>Sorry. We could not find what you are looking for.</h3>} />\n\n            <Route path={`${url}community/site_info`} component={SitesInformationContainer} />\n            \n            <Route path={`${url}profile/credentials`} component={UpdateCredentialsForm} />\n            <Route path={`${url}profile/create`} component={CreateDynaUser} />\n            <Route path={`${url}profile`} component={ProfileContainer} />\n            <Route path={`${url}usability_testing`} component={UsabilityTestingContaiter} />\n            \n\n\n            <Route render={() => <h3> Not found</h3>} />\n        </Switch>\n\n    );\n\n}\n\nexport default RoutesCollection;","import React, { Fragment, useEffect, useState } from \"react\";\nimport { makeStyles } from \"@material-ui/core\";\nimport { useSnackbar } from \"notistack\";\n\nimport RainfallGraph from \"../analysis/integrated_site/RainfallGraph\";\nimport SurficialGraph from \"../analysis/integrated_site/SurficialGraph\";\nimport SubsurfaceGraph from \"../analysis/integrated_site/SubsurfaceGraph\";\nimport { getCurrentUser } from \"../sessions/auth\";\nimport PageTitle from \"../reusables/PageTitle\";\nimport GeneralStyles from \"../../GeneralStyles\";\nimport { capitalizeFirstLetter } from \"../../UtilityFunctions\";\n\nfunction Container (props) {\n    const { match: { params: {\n        site_code, ts_end,\n        chart_type, tsm_sensor\n    } } } = props;\n    const [rainfall_comp, setRainfallComp] = useState(\"\");\n    const [surficial_comp, setSurficialComp] = useState(\"\");\n    const [subsurface_comp, setSubsurfaceComp] = useState(\"\");\n\n    const { enqueueSnackbar } = useSnackbar();\n\n    const current_user = getCurrentUser();\n    const classes = makeStyles(theme => GeneralStyles(theme))();\n\n    useEffect(() => {\n        enqueueSnackbar(\n            \"Please wait for the charts to load before closing the page. \" +\n            \"If loading took long enough, please wait for about a minute and check \" +\n            \"your connection before trying again. \" +\n            \"If loading problem persist, contact the developers.\",\n            {\n                variant: \"warning\",\n                autoHideDuration: 10000,\n                style: { whiteSpace: \"pre-line\" },\n                anchorOrigin: {\n                    vertical: \"top\",\n                    horizontal: \"center\",\n                }\n            }\n        );\n\n        const input = { site_code, ts_end }; // \"2017-06-09 04:30:00\"\n        let temp;\n\n        if (chart_type === \"rainfall\") {\n            temp = <RainfallGraph \n                {...props}\n                input={input}\n                currentUser={current_user}\n                disableBack \n                saveSVG\n            />;\n            setRainfallComp(temp);\n        } else if (chart_type === \"surficial\") {\n            temp = <SurficialGraph \n                {...props}\n                input={input}\n                currentUser={current_user}\n                disableBack\n                disableMarkerList\n                isEndOfShift\n                saveSVG\n            />;\n            setSurficialComp(temp);\n        } else if (chart_type === \"subsurface\") {\n            input.tsm_sensor = tsm_sensor;\n            temp = <SubsurfaceGraph \n                {...props}\n                input={input}\n                currentUser={current_user}\n                disableBack\n                saveSVG\n                isEOS\n            />;\n            setSubsurfaceComp(temp);\n        }\n    }, []);\n\n    const type = capitalizeFirstLetter(chart_type);\n\n    return (\n        <Fragment>\n            <div className={classes.pageContentMargin}>\n                <PageTitle\n                    title={`Chart Rendering | ${site_code.toUpperCase()} | ${type}`}\n                />\n            </div>\n            <div className={classes.pageContentMargin}>\n                { rainfall_comp }\n                { surficial_comp }\n                { subsurface_comp }\n            </div>\n        </Fragment>\n    );\n}\n\nexport default Container;\n","import React, { \n    useState, useEffect,\n    useRef\n} from \"react\";\nimport { BrowserRouter, Switch, Route, Redirect } from \"react-router-dom\";\n\nimport { withStyles } from \"@material-ui/core\";\n\nimport LoginComponent from \"./components/sessions/Login\";\nimport { Header, Footer, Navigation } from \"./components/layouts\";\nimport { isLoggedIn, refreshSession } from \"./components/sessions/auth\";\n\nimport RoutesCollection from \"./Routes\";\nimport { access_refresh_interval } from \"./config\";\n\nimport BulletinTemplate from \"./components/widgets/bulletin/BulletinTemplate\";\nimport ChartRenderingContainer from \"./components/chart_rendering/Container\";\n\nimport { GeneralProvider } from \"./components/contexts/GeneralContext\";\nimport { ServerTimeProvider } from \"./components/contexts/ServerTimeContext\";\nimport { NotificationsProvider } from \"./components/contexts/NotificationsContext\";\nimport { MonitoringShiftsProvider } from \"./components/contexts/MonitoringShiftsContext\";\n\nconst styles = theme => ({\n    app: {\n        height: \"100%\",\n        minHeight: \"85vh\",\n        display: \"flex\",\n        flexDirection: \"column\",\n        justifyContent: \"space-between\"\n    },\n    body: { \n        // Margin to accomodate sticky nature of header and navigation\n        marginTop: 60,\n        [theme.breakpoints.up(\"sm\")]: {\n            marginTop: 70\n        },\n        [theme.breakpoints.up(\"md\")]: {\n            marginTop: 124\n        }\n    }\n});\n\nfunction App (props) {\n    const { classes } = props;\n    \n    useEffect(() => {\n        document.title = \"MIA 3.0 - Dynaslope Monitoring and Information Application\";\n    }, []);\n\n    const [drawer, setDrawer] = useState(false);\n    const toggleDrawer = bool => () => {\n        setDrawer(bool);\n    };\n\n    const [is_logged, setIsLogged] = useState(null);\n    const interval_ref = useRef(false);\n    useEffect(() => {\n        isLoggedIn(bool => {\n            setIsLogged(bool);\n            \n            if (bool) {\n                interval_ref.current = setInterval(refreshSession, access_refresh_interval);\n            }\n        });\n\n        return () => clearInterval(interval_ref.current);\n    }, []);\n\n    const onLogin = () => {\n        setIsLogged(true);\n        interval_ref.current = setInterval(refreshSession, access_refresh_interval);\n    };\n\n    const onLogout = () => {\n        setIsLogged(false);\n        clearInterval(interval_ref.current);\n    };\n\n    return (\n        <BrowserRouter>\n            <Switch>\n                <Route path=\"/bulletin/:release_id\" component={BulletinTemplate} />\n                <Route path=\"/chart_rendering/:site_code/:ts_end/:chart_type/:tsm_sensor?\" component={ChartRenderingContainer} />\n                <Route exact path=\"/login\" render={r_props => {\n                    return (\n                    // eslint-disable-next-line no-nested-ternary\n                        is_logged === null ? (\n                            <div>Loading...</div>\n                        ) : (\n                            !is_logged ? (\n                                <LoginComponent {...r_props} onLogin={onLogin} />\n                            ) : (\n                                <Redirect to=\"/\" />\n                            )\n                        )\n                    );\n                }} />\n                <Route path=\"/\" render={r_props => {\n                    return (\n                    // eslint-disable-next-line no-nested-ternary\n                        is_logged === null ? (\n                            <div>Loading...</div>\n                        ) : (\n                            is_logged ? (\n                                <GeneralProvider>\n                                    <ServerTimeProvider>\n                                        <MonitoringShiftsProvider>\n                                            <NotificationsProvider>\n                                                <Header\n                                                    {...r_props} \n                                                    drawerHandler={toggleDrawer}\n                                                    onLogout={onLogout}\n                                                />\n                                            \n                                                <Navigation\n                                                    {...r_props}\n                                                    drawerHandler={toggleDrawer}\n                                                    drawer={drawer}\n                                                    onLogout={onLogout}\n                                                />\n                                            </NotificationsProvider>\n                                    \n                                            <div className={classes.app}>\n                                                <div className={classes.body}>\n                                                    <RoutesCollection {...r_props} />\n                                                </div>\n                                            </div>\n                            \n                                            <Footer />\n                                        </MonitoringShiftsProvider>\n                                    </ServerTimeProvider>\n                                </GeneralProvider>\n                            ) : (\n                                <Redirect to=\"/login\" />\n                            )\n                        )\n                    );\n                }} />\n            </Switch>\n        </BrowserRouter>\n    );\n}\n\nexport default withStyles(styles)(App);\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n    window.location.hostname === \"localhost\" ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === \"[::1]\" ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n        /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register (config) {\n    if (process.env.NODE_ENV === \"production\" && \"serviceWorker\" in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n        const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n        if (publicUrl.origin !== window.location.origin) {\n            // Our service worker won't work if PUBLIC_URL is on a different origin\n            // from what our page is served on. This might happen if a CDN is used to\n            // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n            return;\n        }\n\n        window.addEventListener(\"load\", () => {\n            const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n            if (isLocalhost) {\n                // This is running on localhost. Let's check if a service worker still exists or not.\n                checkValidServiceWorker(swUrl, config);\n\n                // Add some additional logging to localhost, pointing developers to the\n                // service worker/PWA documentation.\n                navigator.serviceWorker.ready.then(() => {\n                    console.log(\n                        \"This web app is being served cache-first by a service \" +\n              \"worker. To learn more, visit https://bit.ly/CRA-PWA\"\n                    );\n                });\n            } else {\n                // Is not localhost. Just register service worker\n                registerValidSW(swUrl, config);\n            }\n        });\n    }\n}\n\nfunction registerValidSW (swUrl, config) {\n    navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n        registration.onupdatefound = () => {\n            const installingWorker = registration.installing;\n            if (installingWorker == null) {\n                return;\n            }\n            installingWorker.onstatechange = () => {\n                if (installingWorker.state === \"installed\") {\n                    if (navigator.serviceWorker.controller) {\n                        // At this point, the updated precached content has been fetched,\n                        // but the previous service worker will still serve the older\n                        // content until all client tabs are closed.\n                        console.log(\n                            \"New content is available and will be used when all \" +\n                  \"tabs for this page are closed. See https://bit.ly/CRA-PWA.\"\n                        );\n\n                        // Execute callback\n                        if (config && config.onUpdate) {\n                            config.onUpdate(registration);\n                        }\n                    } else {\n                        // At this point, everything has been precached.\n                        // It's the perfect time to display a\n                        // \"Content is cached for offline use.\" message.\n                        console.log(\"Content is cached for offline use.\");\n\n                        // Execute callback\n                        if (config && config.onSuccess) {\n                            config.onSuccess(registration);\n                        }\n                    }\n                }\n            };\n        };\n    })\n    .catch(error => {\n        console.error(\"Error during service worker registration:\", error);\n    });\n}\n\nfunction checkValidServiceWorker (swUrl, config) {\n    // Check if the service worker can be found. If it can't reload the page.\n    fetch(swUrl)\n    .then(response => {\n        // Ensure service worker exists, and that we really are getting a JS file.\n        const contentType = response.headers.get(\"content-type\");\n        if (\n            response.status === 404 ||\n        (contentType != null && contentType.indexOf(\"javascript\") === -1)\n        ) {\n        // No service worker found. Probably a different app. Reload the page.\n            navigator.serviceWorker.ready.then(registration => {\n                registration.unregister().then(() => {\n                    window.location.reload();\n                });\n            });\n        } else {\n        // Service worker found. Proceed as normal.\n            registerValidSW(swUrl, config);\n        }\n    })\n    .catch(() => {\n        console.log(\n            \"No internet connection found. App is running in offline mode.\"\n        );\n    });\n}\n\nexport function unregister () {\n    if (\"serviceWorker\" in navigator) {\n        navigator.serviceWorker.ready.then(registration => {\n            registration.unregister();\n        });\n    }\n}\n","import React, { useEffect } from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport { SnackbarProvider } from \"notistack\";\nimport App from \"./App\";\nimport * as serviceWorker from \"./serviceWorker\";\n\nfunction noop () {}\n\nif (process.env.NODE_ENV !== \"development\") {\n    console.log = noop;\n    console.warn = noop;\n    console.error = noop;\n}\n\nReactDOM.render(\n    <SnackbarProvider \n        maxSnack={3}\n        anchorOrigin={{\n            vertical: \"bottom\",\n            horizontal: \"right\",\n        }}\n    >\n        <App />\n    </SnackbarProvider>,\n    document.getElementById(\"root\")\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n","module.exports = __webpack_public_path__ + \"static/media/phivolcs-dynaslope-logo.de612ba1.png\";","import axios from \"axios\";\nimport { host } from \"../../config\";\n\nexport function getSession (access_token, callback) {\n    const api_link = `${host}/api/check_session`;\n\n    axios.get(api_link, {\n        headers: {\n            Authorization: `Bearer ${access_token}`\n        }\n    })\n    .then(response => {\n        const { data } = response;\n        console.log(data);\n        callback(data);\n    })\n    .catch(error => {\n        console.error(error);\n    });\n}\n\nexport function refreshSession (refresh_token, callback) {\n    const api_link = `${host}/api/refresh_session`;\n\n    axios.get(api_link, {\n        headers: {\n            Authorization: `Bearer ${refresh_token}`\n        }\n    })\n    .then(response => {\n        const { data } = response;\n        console.log(data);\n        callback(data);\n    })\n    .catch(error => {\n        console.error(error);\n    });\n}\n\nexport function loginUser (payload, callback) {\n    const api_link = `${host}/api/login`;\n\n    axios.post(api_link, payload)\n    .then(response => {\n        const { data } = response;\n        console.log(data);\n        callback(data);\n    })\n    .catch(error => {\n        console.error(error);\n    });\n}","import { getSession, refreshSession as rS, loginUser } from \"./ajax\";\n\nexport function isLoggedIn (callback) {\n    // const token = localStorage.getItem(\"access_token\");\n    const data = JSON.parse(localStorage.getItem(\"data\"));\n    \n    if (data !== null) {\n        const { tokens: { access_token, refresh_token } } = data;\n        getSession(access_token, response => {\n            // const { message, is_logged_in } = response;\n            const { is_logged_in } = response;\n\n            if (is_logged_in) {\n                rS(refresh_token, res => {\n                    data.tokens.access_token = res.access_token;\n                    localStorage.setItem(\"data\", JSON.stringify(data));\n                });\n            }\n\n            callback(is_logged_in);\n        });\n    } else {\n        // eslint-disable-next-line\n        callback(false);\n    }\n}\n\nexport function refreshSession () {\n    const data = JSON.parse(localStorage.getItem(\"data\"));\n    const { tokens: { refresh_token } } = data;\n\n    rS(refresh_token, response => {\n        data.tokens.access_token = response.access_token;\n        localStorage.setItem(\"data\", JSON.stringify(data));\n    });\n}\n\nexport function login (credentials, success_callback, failed_callback) {\n    loginUser(credentials, response => {\n        const { ok, message, data } = response;\n\n        if (ok) {\n            localStorage.setItem(\"data\", JSON.stringify(data));\n            success_callback(data);\n        } else {\n            failed_callback(message);\n        }\n    });\n}\n  \nexport function logout (callback) {\n    localStorage.clear();\n    callback();\n}\n\nexport function getCurrentUser () {\n    const data = JSON.parse(localStorage.getItem(\"data\"));\n    const { user } = data;\n\n    return user;\n}\n// export function requiredAuth (nextState, replace) {\n//     if (!isLoggedIn()) {\n//         replace({\n//             pathname: \"/\",\n//             state: { nextPathname: nextState.location.pathname }\n//         });\n//     }\n// }","const phivolcs_red = \"#FE0000\";\nconst dynaslope_blue = \"#16526D\";\nconst dynaslope_orange = \"#F8991D\";\nconst daag_yellow = \"#FCEE27\";\nconst zarcon_red = \"#991B1E\";\n\nconst styles = theme => ({\n    dynaslopeLogo: {\n        // width: 60,\n        // height: 47.28\n        height: 60\n    },\n    phivolcsLogo: {\n        height: 70,\n        marginTop: 8\n    },\n    phivolcsDynaslopeLogo: {\n        height: 62\n    },\n    pageContentMargin: {\n        margin: \"0 16px\",\n        [theme.breakpoints.up(\"md\")]: {\n            margin: \"0 64px\"\n        },\n        [theme.breakpoints.up(\"lg\")]: {\n            margin: \"0 100px\"\n        }\n    },\n    paperContainer: {\n        width: \"100%\",\n        overflowX: \"auto\"\n    },\n    sectionHeadContainer: {\n        margin: \"20px 0\"\n    },\n    sectionHead: {\n        fontSize: \"1.5rem\",\n        [theme.breakpoints.down(\"xs\")]: {\n            fontSize: \"1.2rem\"\n        }\n    },\n    extended: {\n        backgroundColor: \"green\"\n    },\n    alert0: {\n        backgroundColor: \"#EEEEEE\"\n    },\n    alert1: {\n        backgroundColor: daag_yellow\n    },\n    alert2: {\n        backgroundColor: dynaslope_orange,\n        \"& *\": {\n            color: \"white !important\"\n        }\n    },\n    alert3: {\n        backgroundColor: zarcon_red,\n        \"& *\": {\n            color: \"white !important\"\n        }\n    },\n    dyna_error: {\n        color: phivolcs_red\n    }\n});\n\nexport const alert_1 = daag_yellow;\nexport const alert_2 = dynaslope_orange;\nexport const alert_3 = zarcon_red;\n\nexport default styles;\n","module.exports = __webpack_public_path__ + \"static/media/login-bg-img.6bf92800.jpg\";","import React, { Fragment, useState, useContext } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport {\n    SwipeableDrawer, List, ListItem,\n    ListItemText, ListItemIcon, Divider,\n    ListSubheader, Collapse, Badge, Typography,\n    Toolbar, makeStyles\n} from \"@material-ui/core\";\nimport {\n    Mail as MailIcon,\n    Notifications as NotificationsIcon,\n    AccountCircle, ExitToApp,\n    ExpandLess, ExpandMore\n} from \"@material-ui/icons\";\n\nimport moment from \"moment\";\n\nimport PhivolcsDynaslopeLogo from \"../../images/phivolcs-dynaslope-logo.png\";\nimport GeneralStyles from \"../../GeneralStyles\";\nimport { logout, getCurrentUser } from \"../sessions/auth\";\nimport { ServerTimeContext } from \"../contexts/ServerTimeContext\";\n\nconst useStyles = makeStyles(theme => ({\n    ...GeneralStyles(theme),\n    list: {\n        width: 300,\n        maxWidth: 360\n    },\n    nested: {\n        paddingLeft: theme.spacing(3),\n    },\n    nestedText: {\n        fontSize: \"0.9rem\"\n    },\n    drawerHeader: {\n        height: 220,\n        display: \"block\",\n        alignItems: \"center\",\n        textAlign: \"center\",\n        padding: 16\n    },\n    logo: {\n        height: 105\n    },\n    titleBlock: {\n        display: \"block\",\n        margin: \"0 4px\"\n    },\n    projectTitle: { fontWeight: 600 },\n    link: { textDecoration: \"none\" }\n}));\n\nfunction ScreenDrawer (props) {\n    const { \n        drawerHandler, drawer, navigationLabels,\n        history, onLogout\n    } = props;\n    const classes = useStyles();\n    const [open, isOpen] = useState({});\n    const iOS = process.browser && /iPad|iPhone|iPod/.test(navigator.userAgent);\n\n    const { nickname } = getCurrentUser();\n    const { server_time } = useContext(ServerTimeContext);\n\n    const handleNestedList = key => {\n        const status = typeof open[key] === \"undefined\" ? false : open[key];\n        isOpen(state => ({ [key]: !status }));\n    };\n\n    const onClickProfile = () => {\n        history.push(\"/profile\");\n    };\n\n    const onClickLogout = () => {\n        logout(() => {\n            onLogout();\n            history.push(\"/login\");\n        });\n    };\n    \n    return (\n        <SwipeableDrawer \n            open={drawer} \n            onClose={drawerHandler(false)}\n            onOpen={drawerHandler(true)}\n            disableBackdropTransition={!iOS}\n            disableDiscovery={iOS}\n        >\n            <div\n                tabIndex={0}\n                role=\"button\"\n                onKeyDown={drawerHandler(false)}\n            >\n                <div className={classes.list}>\n                    <Toolbar className={classes.drawerHeader}>\n                        <img\n                            src={PhivolcsDynaslopeLogo}\n                            alt=\"PHIVOLCS-Dynaslope Logo\"\n                            className={`${classes.phivolcsDynaslopeLogo} ${classes.logo}`}\n                        />\n\n                        <Typography variant=\"h5\" className={classes.projectTitle}>\n                            MIA 3.0\n                        </Typography>\n\n                        <Typography variant=\"subtitle2\" className={classes.projectSubtitle}>\n                            Monitoring and Information Application\n                        </Typography>\n\n                        <Typography variant=\"subtitle1\" style={{ marginTop: 6, fontWeight: 600 }}>\n                            Hello {nickname}!\n                        </Typography>\n\n                        <Typography variant=\"button\">\n                            {\n                                server_time \n                                    ? moment(server_time).format(\"ddd DD-MMM-YYYY HH:mm:ss\")\n                                    : \"Loading server time...\"\n                            }\n                        </Typography>\n                    </Toolbar>\n\n                    <Divider />\n\n                    <List component=\"nav\">\n                        {/* <ListItem button>\n                                <ListItemIcon>\n                                    <Badge badgeContent={4} color=\"secondary\">\n                                        <MailIcon />\n                                    </Badge>\n                                </ListItemIcon>\n                                <ListItemText primary=\"Messages\" />\n                            </ListItem>\n                            <ListItem button>\n                                <ListItemIcon>\n                                    <Badge badgeContent={11} color=\"secondary\">\n                                        <NotificationsIcon />\n                                    </Badge>\n                                </ListItemIcon>\n                                <ListItemText primary=\"Notifications\" />\n                            </ListItem> */}\n                        <ListItem button onClick={onClickProfile}>\n                            <ListItemIcon>\n                                <AccountCircle />\n                            </ListItemIcon>\n                            <ListItemText primary=\"Profile\" />\n                        </ListItem>\n                        <ListItem button onClick={onClickLogout}>\n                            <ListItemIcon>\n                                <ExitToApp />\n                            </ListItemIcon>\n                            <ListItemText primary=\"Logout\" />\n                        </ListItem>\n                    </List>\n\n                    <Divider />\n\n                    <List\n                        component=\"nav\"\n                        subheader={<ListSubheader component=\"div\">Directory</ListSubheader>}\n                    >\n                        {\n                            navigationLabels.map(({ key, main, sub }) => (\n                                <Fragment key={key}>\n                                    <ListItem\n                                        button \n                                        onClick={() => handleNestedList(key)}\n                                    >\n                                        <ListItemText primary={main} />\n                                        { open[key] ? <ExpandLess /> : <ExpandMore /> }\n                                    </ListItem>\n\n                                    <Collapse in={open[key]} timeout=\"auto\" unmountOnExit>\n                                        <List component=\"div\" disablePadding>\n                                            {\n                                                sub.map((row, i) => {\n                                                    const { label: sublabel, link, soon, divider } = row;\n                                                    const disabled = typeof soon !== \"undefined\";\n\n                                                    if (disabled) {\n                                                        const l = <span>{sublabel}<Typography\n                                                            component=\"span\"\n                                                            variant=\"overline\"\n                                                            style={{ paddingLeft: 4 }}\n                                                        >\n                                                            SOON\n                                                        </Typography></span>;\n                                                        \n                                                        return <ListItem key={sublabel} button className={classes.nested} disabled>\n                                                            <ListItemText \n                                                                primaryTypographyProps={{\n                                                                    className: classes.nestedText\n                                                                }}\n                                                                primary={l}/>\n                                                        </ListItem>;\n                                                    }\n                                                    \n                                                    if (typeof divider !== \"undefined\") {\n                                                        return (\n                                                            <ListItem\n                                                                key={i}\n                                                                divider button={false}\n                                                                style={{ paddingTop: 0, marginBottom: 8 }}/>\n                                                        );\n                                                    }\n\n                                                    return (\n                                                        <Link to={link} key={sublabel} className={classes.link}>\n                                                            <ListItem button className={classes.nested} onClick={drawerHandler(false)}>\n                                                                <ListItemText \n                                                                    primaryTypographyProps={{\n                                                                        className: classes.nestedText\n                                                                    }}\n                                                                    primary={sublabel}/>\n                                                            </ListItem>\n                                                        </Link>\n                                                    );\n                                                })\n                                            }\n                                        </List>\n                                    </Collapse>\n                                </Fragment>\n                            ))\n                        }\n                    </List>\n                </div>\n            </div>\n        </SwipeableDrawer>\n    );\n}\n\nexport default ScreenDrawer;","module.exports = __webpack_public_path__ + \"static/media/phivolcs-letter-head.990f0dc9.png\";","module.exports = __webpack_public_path__ + \"static/media/phivolcs-letter-footer.131de212.png\";","module.exports = __webpack_public_path__ + \"static/media/dyna_wall.d9a91c1f.jpg\";","export const host = \"http://192.168.150.143:5000\";\n// export const host = \"http://192.168.150.167:5000\";\nexport const react_host = \"http://192.168.150.143\";\n// export const react_host = \"http://192.168.150.167:3000\";\nexport const access_refresh_interval = 1000 * 60 * 25; // 25 minutes\nexport const is_sandbox = true;"],"sourceRoot":""}