{"version":3,"sources":["config.js","components/sessions/Login.js","components/layouts/Footer.js","UtilityFunctions.js","components/contexts/NotificationsContext.js","components/widgets/notifications/ajax.js","components/widgets/notifications/NotificationsTab.js","components/layouts/Header.js","components/layouts/Navigation.js","components/reusables/PageTitle.js","components/reusables/TabBar.js","websocket/monitoring_ws.js","components/monitoring/dashboard/ValidationModal.js","components/reusables/useModal.js","components/widgets/bulletin/BulletinTemplate.js","components/widgets/bulletin/ajax.js","components/widgets/bulletin/BulletinModal.js","components/communication/mailbox/ajax.js","components/communication/ajax.js","components/reusables/TransitionList.js","components/reusables/SelectMultipleWithSuggest.js","components/contexts/GeneralContext.js","components/contexts/ajax.js","components/reusables/DynaslopeSiteSelectInputForm.js","components/communication/chatterbox/LoadTemplateModal.js","components/communication/chatterbox/MessageInputTextbox.js","components/reusables/CheckboxGroup.js","components/communication/chatterbox/QuickSelectModal.js","components/communication/chatterbox/SendMessageForm.js","components/monitoring/dashboard/SendEwiSmsModal.js","components/monitoring/dashboard/SendRoutineEwiSmsModal.js","components/reusables/SelectInputForm.js","components/reusables/OutlinedSelectInputForm.js","components/reusables/DynaslopeUserSelectInputForm.js","components/monitoring/dashboard/CTContext.js","components/monitoring/dashboard/MonitoringTables.js","components/monitoring/ajax.js","components/monitoring/dashboard/GeneratedAlerts.js","components/reusables/CheckboxGroupWithSwitch.js","components/widgets/alert_release_form/state_handlers.js","components/widgets/alert_release_form/TriggerTimestampAndTechInfoCombo.js","components/widgets/alert_release_form/SubsurfaceTriggerGroup.js","components/widgets/alert_release_form/SurficialTriggerGroup.js","components/widgets/alert_release_form/MomsTriggerGroup.js","components/reusables/RadioGroupWithSwitch.js","components/widgets/alert_release_form/RainfallTriggerGroup.js","components/widgets/alert_release_form/EarthquakeTriggerGroup.js","components/widgets/alert_release_form/OnDemandTriggerGroup.js","components/widgets/alert_release_form/AlertReleaseForm.js","components/widgets/alert_release_form/ajax.js","components/widgets/alert_release_form/AlertReleaseFormModal.js","components/widgets/alert_release_form/RoutineReleaseForm.js","components/widgets/alert_release_form/RoutineReleaseFormModal.js","components/widgets/issues_and_reminders_form/ajax.js","store.js","components/widgets/issues_and_reminders_form/IssuesAndRemindersForm.js","components/widgets/issues_and_reminders_form/IssuesAndReminderModal.js","components/widgets/issues_and_reminders_form/IssuesAndRemindersList.js","components/widgets/monitoring_shifts/MonitoringShiftsPanel.js","components/widgets/moms/MomsForm.js","components/widgets/moms/state_handlers.js","components/widgets/moms/MomsInsertModal.js","components/widgets/moms/ajax.js","components/widgets/moms/InsertMomsButton.js","components/monitoring/dashboard/Container.js","components/monitoring/events_table/EventTimeline.js","components/monitoring/events_table/CustomSearchRender.js","components/monitoring/events_table/Container.js","components/monitoring/shifts_and_reports/DetailedExpansionPanels.js","components/monitoring/shifts_and_reports/SelectSiteModal.js","components/monitoring/shifts_and_reports/EndOfShiftGenerator.js","components/widgets/monitoring_shifts/MonitoringShiftsCalendar.js","components/monitoring/shifts_and_reports/MonitoringShifts.js","components/monitoring/shifts_and_reports/Container.js","components/monitoring/site_logs/CustomSearchRender.js","components/widgets/narrative_form/ajax.js","components/widgets/narrative_form/NarrativeForm.js","components/widgets/narrative_form/NarrativeFormModal.js","components/widgets/narrative_form/DeleteNarrativeModal.js","components/monitoring/site_logs/Container.js","components/monitoring/issues_and_reminders/CustomSearchRender.js","components/monitoring/issues_and_reminders/Container.js","components/monitoring/qa/subcomponents/Table.js","components/monitoring/qa/subcomponents/Event.js","components/monitoring/qa/subcomponents/Lowering.js","components/monitoring/qa/subcomponents/Extended.js","components/monitoring/qa/subcomponents/Routine.js","components/monitoring/qa/subcomponents/Raising.js","components/monitoring/qa/Container.js","components/analysis/ajax.js","components/analysis/integrated_site/SurficialTrendingGraphs.js","components/analysis/integrated_site/BackToMainButton.js","components/analysis/integrated_site/DateRangeSelector.js","components/analysis/integrated_site/SurficialGraph.js","components/analysis/integrated_site/RainfallDataTaggingModal.js","components/analysis/integrated_site/RainfallGraph.js","components/analysis/integrated_site/SubsurfaceGraph.js","components/analysis/integrated_site/ConsolidatedSiteCharts.js","components/analysis/integrated_site/ConsolidateSiteChartsModal.js","components/analysis/integrated_site/InsertEarthquakeModal.js","components/analysis/integrated_site/EarthquakeMap.js","components/analysis/integrated_site/EarthquakeContainer.js","components/analysis/integrated_site/MomsInstancesPage.js","components/analysis/integrated_site/Container.js","components/analysis/monitoring_alerts_analytics/PieChart.js","components/analysis/monitoring_alerts_analytics/StackedBarChart.js","components/analysis/monitoring_alerts_analytics/TriggerEventsTable.js","components/analysis/monitoring_alerts_analytics/Container.js","components/analysis/loggers_and_sensors_form/LoggersList.js","components/analysis/loggers_and_sensors_form/LoggerDetails.js","components/analysis/loggers_and_sensors_form/TiltForm.js","components/analysis/loggers_and_sensors_form/AddLoggerForm.js","components/analysis/loggers_and_sensors_form/Container.js","components/communication/chatterbox/OptionsModal.js","components/communication/chatterbox/BlockNumberModal.js","components/communication/contacts/ContactForm.js","components/communication/chatterbox/SaveContactModal.js","components/communication/chatterbox/MessageList.js","components/widgets/GeneralDataTagModal.js","components/widgets/ajax.js","components/communication/chatterbox/ChatThread.js","websocket/communications_ws.js","components/communication/chatterbox/ConversationWindow.js","components/communication/chatterbox/SendMessageModal.js","components/reusables/CircularAddButton.js","components/communication/chatterbox/SearchMessageModal.js","components/communication/chatterbox/SearchResultsPage.js","components/communication/chatterbox/Container.js","components/communication/contacts/ContactList.js","components/communication/contacts/BlockedContactList.js","components/communication/contacts/SimPrefixesList.js","components/communication/contacts/ContactPrioritization.js","components/communication/contacts/SearchContactsModal.js","components/communication/contacts/Container.js","components/communication/mailbox/MailBoxContainer.js","components/community/site_information/SiteStakeholdersList.js","components/community/ajax.js","components/community/site_information/BackToMainButton.js","components/community/site_information/EditSiteInformationForm.js","components/community/site_information/EditSiteInformationModal.js","components/community/site_information/SiteInformationPage.js","components/community/site_information/PhilippineMap.js","components/community/site_information/Container.js","components/member_profile/MemberList.js","components/member_profile/ProfileDetails.js","components/member_profile/ajax.js","components/member_profile/Container.js","components/member_profile/UpdateCredentialsForm.js","components/member_profile/CreateDynaUser.js","Routes.js","components/chart_rendering/Container.js","App.js","serviceWorker.js","index.js","images/generic-user-icon.jpg","components/contexts/ServerTimeContext.js","images/phivolcs-dynaslope-logo.png","components/sessions/ajax.js","components/sessions/auth.js","GeneralStyles.js","images/login-bg-img.jpg","components/layouts/ScreenDrawer.js","images/phivolcs-letter-head.png","images/phivolcs-letter-footer.png","images/dyna_wall.jpg","websocket/misc_ws.js"],"names":["host","react_host","access_refresh_interval","Copyright","Typography","variant","color","align","Link","href","Date","getFullYear","useStyles","makeStyles","theme","root","height","image","backgroundImage","LoginBgImg","backgroundSize","backgroundPosition","paperContainer","display","alignItems","justifyContent","paper","margin","spacing","flexDirection","paddingBottom","breakpoints","up","phivolcsDynaslopeLogo","between","only","form","width","marginTop","submit","title","down","fontSize","passwordField","buttonChild","LoginComponent","props","classes","useState","username","password","credentials","setCredentials","errors","setErrors","error_message","setErrorMessage","is_loading","setLoading","history","onLogin","onLoginClick","Object","entries","forEach","row","key","value","handleError","values","includes","login","push","message","handleChange","attr","event","target","handleFocus","Grid","container","component","className","CssBaseline","item","xs","sm","md","Paper","elevation","square","src","PhivolcsDynaslopeLogo","alt","TextField","required","fullWidth","id","label","name","autoComplete","autoFocus","onChange","onFocus","error","type","onKeyPress","FormHelperText","focused","Button","onClick","disabled","style","marginRight","CircularProgress","size","Box","mt","withStyles","footer","padding","textAlign","zIndex","footerText","AppBar","position","Toolbar","prepareSiteAddress","site_details","include_site_code","purok","sitio","barangay","municipality","province","site_code","address","upper_sc","toUpperCase","capitalizeFirstLetter","str","every_word","capitalize","s","charAt","slice","split","map","join","getUserOrganizations","organizations","return_grouped","org","sites","site","org_name","unshift","getUserContactPriority","is_priority","length","Boolean","primary_contact","simNumFormatter","sim_num","match","computeForStartTs","ts","duration","unit","clone","subtract","format","makePOSTAxiosRequest","api_link","payload","callback","err","axios","post","then","response","data","catch","console","log","makeGETAxiosRequest","get","monthSorter","season_months","all_months","sort","a","b","indexOf","NotificationsContext","createContext","NotificationsProvider","children","useReducer","state","action","notifications","count","notification_id","temp","index","findIndex","ts_read","notifications_object","setNotificationsObject","useEffect","getUserNotifications","receiveUserNotifications","return_obj","setNotificationCountToZero","user_id","setAllUnseenNotifications","toggleReadTS","toggle_to","moment","updateTSRead","Provider","divider","sectionHead","marginBottom","cardSection","card","cardUnread","backgroundColor","cardContent","toggleReadIcon","marginLeft","notifTS","noNotifs","border","NotificationCard","React","memo","details","toggleNotifStatus","goToLink","link","Card","CardContent","IconButton","aria-label","disableRipple","disableFocusRipple","edge","CallMade","FiberManualRecordTwoTone","FiberManualRecord","NotificationsTab","handleCloseNotif","getCurrentUser","useContext","read_batch","setReadBatch","unread_notifs","read_notifs","batch_read_notifs","has_unloaded_read_notifs","has_unread_notifs","useCallback","is_unread","Divider","GeneralStyles","grow","flexGrow","menuButton","projectTitle","fontWeight","titleBlock","projectSubtitle","logo","sectionDesktop","list","menu","icon","paddingRight","right","overflowY","boxSizing","backdrop","Header","drawerHandler","onLogout","anchorEl","setAnchorEl","handleClose","first_name","is_notif_open","setIsNotifOpen","document","body","overflow","noWrap","Badge","badgeContent","Notifications","aria-owns","aria-haspopup","currentTarget","startIcon","AccountCircle","Menu","keepMounted","open","onClose","MenuItem","logout","ExitToApp","Slide","direction","in","mountOnEnter","Backdrop","navBar","appBar","top","popper","textDecoration","navigation_labels","main","sub","soon","withWidth","drawer","path","window","location","pathname","obj","setValue","from_tab","setFromTab","last_clicked_tab","setLastClickedTab","popper_open","setPopperOpen","setAnchorE1","server_time","ServerTimeContext","handleNavTabClick","old_value","handlePopperClickAway","contains","setTimeout","handleMenuClick","Tabs","val","indicatorColor","textColor","isWidthUp","scrollButtons","centered","Tab","Popper","transition","disablePortal","TransitionProps","placement","Grow","transformOrigin","ClickAwayListener","onClickAway","MenuList","i","paddingLeft","button","paddingTop","to","ScreenDrawer","navigationLabels","pageTitleContainer","pageTitle","hasCustomButtons","customButtons","has_custom_buttons","undefined","c_classes","preventDefault","LinkTab","chosenTab","onSelect","tabsArray","NoSsr","e","tab","socket","connectToWebsocket","io","reconnectionDelay","reconnectionAttempts","transports","subscribeToWebSocket","reconnect_callback","on","sendWSMessage","send","unsubscribeToWebSocket","close","receiveAlertsFromDB","JSON","parse","withMobileDialog","isShowing","hide","isValidating","trigger_id","ts_updated","triggerValidity","setTriggerValidity","remarks","setRemarks","current_user","ReactDOM","createPortal","Dialog","aria-labelledby","DialogTitle","DialogContent","DialogContentText","FormControl","RadioGroup","trigger_validity","Number","parseInt","FormControlLabel","control","Radio","DialogActions","trigger_ts","alert_status","validate_trigger","useModal","setIsShowing","toggle","getHeightWithMargin","element","margin_only","offset","offsetHeight","getComputedStyle","margins","parseFloat","LetterHead","letterHeadContainer","PhivolcsLetterHead","phivolcsLetterHead","LetterFooter","letterFooterContainer","PhivolcsLetterFooter","TitleAndMainInfo","bulletinDetail","isMD","bulletin_control_code","site_address","data_ts","alert_description_group","recommended_response","mainInfo","releaseId","maxWidth","maxHeight","letterSpacing","sectionHeader","sectionDetails","indent","releaseDetailsArea","useStyle","excess_divs","setExcessDivs","is_bulletin_ready","setIsBulletinReady","is_loaded","setIsLoaded","content_body","useRef","alert_level","community_response","lewc_lgu_response","households_at_risk","has_ground_trigger","ground_movement_details","prepared_triggers","no_data_triggers","publishers","next_ewi_release_ts","bulletin_detail","setBulletinDetails","is_md","params","release_id","getBulletinDetails","current","parent","Array","from","total_height","node","sub_children","excess","sub_h","setAttribute","is_ground_movement_section_printed","ref","arr","is_ground","curr_trig_source","trigger_source","GroundMovementHeaderComponent","to_print_header","HeaderComponent","uc_trig_source","NoDataComponent","dangerouslySetInnerHTML","__html","description","new_classes","classList","x","p","outerHTML","replace","fullScreen","isOpenBulletinModal","setIsOpenBulletinModal","releaseDetail","site_id","is_bulletin_sent","mail_subject","setMailSubject","mail_recipients","setMailRecipients","mail_content","setMailContent","file_name","setFileName","narrative_details","setNarrativeDetails","useSnackbar","enqueueSnackbar","closeSnackbar","sender_id","snackBarActionFn","getBulletinEmailDetails","ret","subject","recipients","mail_body","filename","temp_nar","closeHandler","f_site_code","placeholder","multiline","rowsMax","textField","onAdd","chip","handleAddChip","onDelete","splice","handleDeleteChip","release_id_input","downloadBulletin","input","alert_db_group","loading_snackbar","persist","sendBulletinEmail","status","autoHideDuration","sendMessage","error_callback","SlideTransition","forwardRef","FadeTransition","Fade","NoOptionsMessage","selectProps","innerProps","noOptionsMessage","inputComponent","inputRef","Control","innerRef","InputProps","inputProps","textFieldProps","Option","isFocused","isSelected","fcolor","buttonRef","selected","Placeholder","ValueContainer","valueContainer","MultiValue","removeProps","chipLabel","Chip","tabIndex","chipFocused","deleteIcon","flexWrap","flex","emphasize","palette","grey","singleValue","left","withTheme","changeHandler","isRequired","options","renderDropdownIndicator","openMenuOnClick","isMulti","isDisabled","isClearable","hasAlternativeChipLabel","selectStyles","base","font","menuPortal","provided","components","open_menu_on_click","is_multi","is_disabled","is_clearable","is_required","DropdownIndicator","IndicatorSeparator","styles","InputLabelProps","shrink","menuPortalTarget","openMenuOnFocus","GeneralContext","GeneralProvider","setSites","all_sites_including_inactive","SetAllSites","refresh_sites","setRefreshSites","active","filter","users","setUsers","refresh_users","setRefreshUser","setOrganizations","is_reconnecting","setIsReconnecting","setKey","h_key","prepareSitesOption","to_include_address","isFromSiteLogs","event_id","latest","extended","merged_latest","overdue","sc","toLowerCase","ev_index","ex_index","DynaslopeSiteSelectInputForm","includeAddressOnOptions","returnSiteDataCallback","customPlaceholder","to_render_dropdown","pass_value","find","o","inputGridContainer","checkboxGridContainer","selectInput","backButton","instructions","isOpen","inputFieldLength","clickHandler","setComposedMessage","maxCharacters","date_time","setDateTime","site_list","setSiteList","express","setExpress","getRainInformationFunction","site_codes","site_info","getSiteCodes","is_express","as_of","getRainInformation","ewi","snackbar_message","setIsDisabled","TransitionComponent","justify","Tooltip","interactive","Checkbox","checked","utils","MomentUtils","autoOk","ampm","mask","clearable","disableFuture","MessageInputTextbox","limitRows","disableSend","messageChangeHandler","sendButtonClickHandler","disableTemplateLoader","limit","is_modal_open","set_is_modal_open","setIsModalOpen","bool","nickname","message_ender","total_length","rows","maxLength","SendRounded","MoreVert","checkboxes","choices","checkboxStyle","clabel","formControl","formLabel","checkboxSites","flexBasis","checkboxOrganizations","checkboxGroup","buttons","setRecipients","org_list","initial_sites","initial_orgs","pre","scope","org_id","only_ewi_recipients","setOnlyEwiRecipients","state_handlers","handleCheckAll","prop","setter","is_checked","state_list","group","entry","lgroup","FormLabel","CheckCircle","RemoveCircle","line","FormGroup","CheckboxGroup","pop","listMapper","renderCheckboxes","site_ids","org_ids","getRecipientsList","mobile_id","fin_label","SendMessageForm","textboxValue","disableQuickSelect","siteCode","fromEWIModal","modalStateHandler","updateSentStatusObj","recipientsList","setOptions","quick_select","setQuickSelect","composed_message","disable_select","from_ewi_modal","is_loading_recipients","setIsLoadingRecipients","getEWISMSRecipients","ewi_recipients_list","temp_ewi_recipients","default_recipients","public_alert_symbol","highest_event_alert_level","mobile_numbers","last_name","ewi_recipient","ewi_restriction","organization","prefix","to_push","limit_alert_level","is_recipients_empty","is_message_empty","AddBox","recipient_list","mobile_number","gsm_id","sms_msg","is_ewi","modalState","Close","isMobile","SendRoutineMessageForm","sendHandler","siteList","dyna_error","sendRoutineEwiMessage","error_response","minWidth","mapping","div_id","css","is_error","InputLabel","htmlFor","Select","OutlinedSelectInputForm","Component","labelWidth","componentDidMount","this","setState","findDOMNode","InputLabelRef","offsetWidth","render","OutlinedInput","prepareUsersArray","DynaslopeUserSelectInputForm","returnFullNameCallback","isCommunityStaff","saved_users","source","CancelToken","cancelToken","token","cancel","user","CTContext","CTProvider","reporter_id_ct","setReporterIdCt","ct_full_name","setCTFullName","general_styles","AccordionSummaryContent","invalidCandidate","background","validCandidate","partialInvalidCandidate","inputWidth","format_ts","MyLoader","speed","foregroundColor","y","rx","ry","CandidateAlertsAccordion","alertData","expanded","handleExpansion","releaseFormOpenHandler","isShowingValidation","toggleValidation","validationDetails","ia_level","trigger_arr","has_new_triggers","general_status","is_release_time","unresolved_moms_list","routine_a0","routine_nd","routine_overdue","vs","validity_status","overdue_routine_list","routine_details","el","internal_alert_level","site_id_list","r_site","release_details","trigger_list_arr","gen_status","root_style","alert0","alert3","alert2","Accordion","AccordionSummary","aria-controls","content","elem","AccordionDetails","routineSitesContainer","justifyItems","trigger","alert","tech_info","trigger_type","formatted_ts","to_validate","is_validating","validating_status","invalid","to_show_validate_button","moms_instance","observance_ts","op_trigger","feature_type","feature","feature_name","moms_id","AccordionActions","Publish","LatestSiteAlertsAccordion","siteAlert","smsHandler","bulletinHandler","keyName","releases","day","sent_statuses","is_onset_release","prescribed_release_time","has_alert_release_today","is_sms_sent","validity","event_start","site_name","start_ts","validity_ts","release_time","adjusted_data_ts","add","panel_headers","notice","arrow","Warning","day_div","sms_end_icon","Done","bulletin_end_icon","not_yet_sending_time","isBefore","PanTool","tooltip_title_maker","lowercase","Timeline","PhoneAndroid","endIcon","Description","RoutineAccordion","released_sites","MonitoringTables","candidateAlertsData","alertsFromDbData","setExpanded","setIsShowingValidation","validation_details","setValidationDetails","isShowingSendEWI","toggleSendEWI","isShowingSendRoutineEWI","toggleSendRoutineEWI","chosenReleaseDetail","setChosenReleaseDetail","routine_sites_list","setRoutineSitesList","panel","isExpanded","ewi_message","setEWIMessage","release","elem_event","getEWIMessage","latest_db_alerts","extended_db_alerts","overdue_db_alerts","routine_db_alerts","routine","sectionHeadContainer","Help","getRoutineEWIMessage","formatTS","GeneratedAlerts","setOpen","handleClickOpen","dialog","generatedAlertsData","chosen_site","internal_alert","current_trigger_alerts","event_triggers","searchSites","timestamp","rel_trigger_divs","rel_subsurface","trigger_details","alert_symbol","rain_gauge","aria-describedby","div","tsm_name","ts_sub_data","invalid_details","ts_ack","getAlertDialog","alert_detail","handleClickClose","lg","CardActionArea","gutterBottom","alignContent","createCard","checkboxesGroup","switchState","switchHandler","switchValue","setTriggersState","Switch","element_id","handleSwitchChange","special_case_states","internal_sym_id","reason","reporterId","magnitude","longitude","latitude","handleCheckboxChange","handleRadioChange","handleEventChange","labelFor","trigger_timestamp","groupGridContainer","triggersState","triggersReleased","subsurface","triggers","triggers_value","trigger_2","trigger_3","trigger_nd","checkbox_choices","r","CheckboxGroupWithSwitch","surficial","radios","radioGroup","radioValue","rainfall","earthquake","eq_trig","community_contacts","on_demand","od_trig","GeneralInputForm","setModalTitle","generalData","handleDateTime","setGeneralData","isUpdatingRelease","changeState","siteId","dataTimestamp","releaseTime","reporterIdMt","reporterIdCt","setSite","TriggersInputForm","hasNoGroundData","setHasNoGroundData","setAlert0","isAlert0","subs_switch_state","surf_switch_state","moms_switch_state","moms","SubsurfaceTriggerGroup","SurficialTriggerGroup","RainfallTriggerGroup","SummaryForm","internalAlertLevel","mtFullName","ctFullName","ewiPayload","isAlertRecomputing","comments","triggers_display","setTriggersDisplay","temp_list","trig_source","AlertReleaseForm","comp_props","activeStep","setInternalAlertLevel","setPublicAlertLevel","currentTriggersStatus","setDBSavedTriggers","siteCurrentAlertLevel","setSiteCurrentAlertLevel","setTriggersReleased","getLatestSiteRelease","public_alert_level","trigger_sources","steps","stepIndex","getStepContent","Stepper","alternativeLabel","Step","StepLabel","checkIfToExtendValidity","has_no_ground_data","is_rx_or_rain_nd","initial_triggers_data","alertTriggersReducer","triggs","triggers_array","t","trig","temp2","chosenCandidateAlert","setChosenCandidateAlert","setIsOpenRoutineModal","reporter_id_mt","setEwiPayload","setActiveStep","isNextBtnDisabled","setIsNextBtnDisabled","publicAlertLevel","modal_title","initial_general_data","publicAlertSymbol","triggerListStr","setIsUpdatingRelease","site_current_alert_level","is_alert_0","setTriggers","db_saved_triggers","current_triggers_status","setCurrentTriggersStatus","input_data_ts","isMoment","temp_ts","latest_release","has_ground_data","non_triggering_moms","cts","saved_event_triggers","to_extend_validity","trigger_list_str","valid_triggers","moms_list","moms_id_list","final_non_trig_moms","publisher_details","publisher_mt_id","publisher_ct_id","nonTriggeringMoms","invalid_list","addendum","od_details","request_ts","narrative","eq_details","f_alert_level","to_toggle","is_recomputing","setIsRecomputing","trigger_keys_array","keys","trigger_list","j","prevActiveStep","latest_trigger_list","current_trigger_list","final_alert_level","reporter_id","formatted","prepareTriggers","json_data","final_arr","createReleaseDetails","snackbar_key","cardHeader","not","some","intersection","RoutineReleaseForm","routineData","setRoutineData","a0SiteList","setA0SiteList","NDSiteList","setNDSiteList","setDataTimestamp","form_release_time","setFormReleaseTime","setChecked","leftChecked","rightChecked","handleToggle","currentIndex","newChecked","numberOfChecked","items","handleToggleAll","customList","CardHeader","avatar","indeterminate","List","dense","role","labelId","ListItem","ListItemIcon","ListItemText","primary","concat","tmp_ct","initial_routine_data","site_options","setSiteOptions","data_timestamp","unreleased_sites","copy","a_temp","f_data_ts","f_rel_time","temp_payload","handleIssuesAndReminders","ts_posted","ts_expiration","insertIssuesAndRemindersViaPost","makeAxiosRequest","psgc","region","season","sites_option","IssuesAndReminderForm","issueReminderData","setIssueReminderData","toResolve","iar_id","detail","resolution","is_event_entry","default_radio_value","set_default_radio_value","radio_value","setRadioValue","is_general_iar","setIsGeneralIar","is_event_checked","setIsEventChecked","is_persistent_checked","setIsPersistentChecked","site_choices","number","is_persistent","labelPlacement","default_state","postings","resolved_by","ts_resolved","setIsIandRUpdateNeeded","chosenIssueReminder","isIandRUpdateNeeded","setToRefresh","toRefresh","issue_reminder_data","chosenData","get_site_id_list","event_ids","closeHandlerAction","ts_now","resolver_user_id","gridList","boxShadow","hasNoIssues","previewText","minHeight","tile","tileBar","IssuesAndReminderCard","isCardModalOpen","setCardModalOpen","setIsOpenIssueReminderModal","setToResolve","issue_reporter","item_title","prepareTileTitle","textIndent","disableSpacing","to_caps_general","IssuesAndReminderList","isOpenIssueReminderModal","tile_data","setTileData","has_active_issues","setHasActiveIssues","setChosenIssueReminder","is_card_modal_open","issues_and_reminders","final_tile_data","fontStyle","processed_i_n_r","iar","site_events_list","includeSiteList","handleInfoExpand","GridListTile","cols","GridListTileBar","subtitle","actionIcon","prepareTileData","GridList","cellHeight","summary","summaryContent","MonitoringShiftsPanel","shiftData","shifts","setShifts","hours","defaultExpanded","expandIcon","IconButtonProps","iompmt","iompct","now","shift_start","shift_end","getShiftStatus","MomsInputFields","moms_entry","momsEntry","update_field","updateField","is_adding_new_instance","isAddingNewInstance","setIsNoneEntrySelected","is_none_entry","reporter","validator","MomsForm","momsEntries","setMomsEntries","selectSite","setIsAddingNewInstance","isNoneEntrySelected","attribute","deleteInstanceFn","is_first","is_last","reducerFunction","new_state","stringify","instances","alerts","instances_opt","ins","instance_id","alerts_opt","al","feature_alert_id","form_message_style","setSiteCode","to_select_site","setToSelectSite","moms_entries","submit_button_state","setSubmitButtonState","moms_form_message","setMomsFormMessage","moms_feature_types","setMomsFeatureTypes","getMOMsFeatures","feature_types","feat","feature_id","moms_entry_copy","has_duplicate_feature_name","has_duplicate_obs_ts","empty_fields","Set","feature_name_collection","observance_ts_collection","button_state","form_messsage","moment_obs_ts","feature_name_value","momsFormValidation","f_type","f_name","report_narrative","validator_id","iomp","err_callback","insertMomsToDB","InsertMomsButton","Landscape","gen_style","tabBar","pageContentMargin","tabBarContent","speedDial","bottom","tabs_array","setChosenTab","generatedAlerts","setGeneratedAlerts","monitoringShifts","setMonitoringShifts","setCandidateAlertsData","setAlertsFromDbData","isOpenReleaseModal","setIsOpenReleaseModal","isOpenRoutineModal","is_moms_modal_open","setMomsModal","set_moms_modal_fn","generated_alerts","receiveCandidateAlerts","candidate_alerts","alerts_from_db","getMonitoringShifts","receiveMonitoringShiftData","shift_data","receiveEWIInsertResponse","removeReceiveMonitoringShiftData","handleBoolean","releaseAlertHandler","chosen_candidate","is_desktop","actions","AddAlert","custom_buttons","Hidden","smDown","IssuesAndRemindersList","mdUp","ExpandMore","chosen_tab","SpeedDial","ariaLabel","FabProps","SpeedDialIcon","onOpen","SpeedDialAction","tooltipTitle","timeline","lineColor","processMomsTrigger","int_alert_sym","non_triggering","moms_details","vfn","vln","rfn","rln","buildTimelineElements","timelineItems","item_timestamp","item_data","item_type","moment_item_timestamp","dateText","dateComponent","release_publishers","is_onset","moms_releases","release_type","card_color","getColorBasedOnReleaseType","header","headers","getReleaseHeader","moment_data_ts","ct","publisher","user_details","dateInnerStyle","lineHeight","bodyContainerStyle","borderRadius","Icon","info","internal_sym","trigger_symbol","trigger_hierarchy","additional","trigger_misc","processTriggers","Assessment","MonitoringEventTimeline","eventDetails","setEventDetails","setTimelineItems","getEventTimelineEntries","event_details","timeline_items","monitoring_type","end_ts","rel","CustomSearchRender","handleTextChange","onSearch","onSearchChange","onKeyDown","onHide","onSearchClick","keyCode","addEventListener","componentWillUnmount","removeEventListener","searchText","appear","timeout","rootRef","textLabels","toolbar","search","searchField","clearIcon","filter_sites_option","eventTable","getMuiTheme","createMuiTheme","overrides","MUIDataTableHeadCell","url","setData","page","setPage","rowsPerPage","setRowsPerPage","setCount","isLoading","setIsLoading","sites_dict","setSitesDict","filters","setFilters","filter_list","setFilterList","search_str","setSearchString","on_search_open","setOnSearchOpen","include_count","getMonitoringEvents","ret2","events","total","final_data","entry_type","public_alert","final_event_start","final_ts_end","prepareEventsArray","noMatch","filterType","responsive","searchPlaceholder","rowsPerPageOptions","selectableRows","print","download","serverSide","onTableChange","tableState","cur_page","cur_rpp","search_string","onFilterChange","changedColumn","ret_filters","chosen_filters","is_empty","filter_var","column_name","columns","site_names","entry_types","entry_type_ids","customSearchRender","handleSearch","hideSearch","rendererOptions","searchStr","customBodyRender","rowIndex","prepareEventTimelineLink","filterList","filterOptions","names","exact","modules","clipboard","matchVisual","formats","icons","column","helper","borderLeft","extractSelectedCharts","checkboxStatus","prepareMailBody","mail_contents","shiftSummary","dataAnalysis","shiftNarratives","f_summary","f_analysis","f_narratives","DetailedAccordion","eos_report","shiftStartTs","currentUser","eos_head","shift_start_info","shift_end_info","data_analysis","narratives","node_shift_summary","setShiftSummary","setDataAnalysis","analysis_char_count","setAnalysisCharCount","setShiftNarratives","attachedFiles","setAttachedFiles","default_cbox","default_label","has_markers","has_surficial_data","subsurface_columns","surf_label","surf_dis","logger_name","logger","no_data","has_data","setCheckboxStatus","start_saving_countdown","setStartSavingCountdown","interval_id","setIntervalID","saving_status","setSavingStatus","clearTimeout","tying_delay_id","saving_delay_id","shift_ts","shift_ts_end","moment_validity","ts_end","protocol","rendering_url","handleRemoveFile","files","editors","updateFn","is_analysis_over_limit","file","multiple","Attachment","defaultValue","Info","bounds","charts","file_response","file_path","render_msg","SaveAlt","Refresh","getNarrative","site_narrative","Send","form_data","FormData","file_name_ts","append","hasOwnProperty","processCheckboxValues","selectedSites","setSelectedSites","checkAll","eosData","setSelectedEosData","setModalOpen","setEosData","setCheckAll","no_sites","DoneAll","site_code_label","final_eos_data","AccordionsGroup","buttonGrid","hidden","createDateTime","prepareEOSRequest","shift_time","time","moment_start_ts","getEndOfShiftReports","EoSRNoData","isStart","datetime_now","dt_hr","hour","setStartTs","setShiftTime","selectedEosData","shift_start_ts","setShiftStartTs","DisplayEOS","DetailedExpansionPanels","isWidthDown","ArrowForwardIos","Event","Popover","anchorOrigin","vertical","horizontal","has_nickname","localizer","momentLocalizer","setRows","allShifts","setEvents","flatMap","start","end","set","h","m","defaultDate","eventPropGetter","ts_start","defaultView","dayPropGetter","date","hr","moment_date","day_before","is_pm_early_morn","isSame","is_today","views","popup","selects","valueFont","processShiftData","raw_data","index1","word_temp","converter","toWords","alert_summary","new_stuff","second_row","index2","event_link","def_padding","defaultCalendarOpen","setTSStart","setTSEnd","setUserID","setPayload","setShiftData","DateTimePicker","inputVariant","processed_data","Container","open_calendar_on_start","setOpenCalendarOnStart","matchPath","NarrativeForm","narrativeData","setNarrativeData","callAck","setCallAck","callAckHashtag","toUseCurrentInstance","setToUseCurrentInstance","narrative_id","DatePicker","TimePicker","new_narrative","with_space","substring","setIsUpdateNeeded","chosenNarrative","isEditMode","setSort","resetInput","initial_data","type_id","narrative_data","call_ack","to_use_current_instance","default_narr_data","temp_narrative","handleReset","handleFullReset","closeFn","snackbar","temp_id","order_by","order","gen","table_data","setTableData","isOpenNarrativeModal","setIsOpenNarrativeModal","isOpenDeleteModal","setIsOpenDeleteModal","setIsEditMode","setChosenNarrative","isUpdateNeeded","getNarratives","processed","exclude_filters","table_state","onColumnSortChange","s_options","sortDirection","logic","filterss","renderValue","is_ev","is_ex","data_handlers","tooltip","Edit","Delete","getManipulationButtons","LinearProgress","to_refresh","include_expired","getIssuesAndReminders","isAfter","issue_and_reminder","is_not_expired","to_show_delete","datas","setCols","sites_count","_","groupBy","col","tableMeta","tableData","ts_limit_start","sent_ts","updateValue","limit_start","start_limit","end_limit","downloadOptions","separator","releasesData","tableTitle","Routine","overFlowY","NoQAData","TabComponents","selectedTab","eventData","loweringData","extendedData","raisingData","QAContainer","setSelectedTab","setReleases","event_releases","setEventReleases","routine_releases","setRoutineReleases","extended_releases","setExtendedReleases","lowering_releases","setLoweringReleases","raising_releases","setRaisingReleases","raising","lowering","monTypes","Math","max","getMonitoringReleases","getDataPresenceData","getSubsurfaceNodeLevel","subsurface_column","node_id","saveChartSVG","getLoggersAndSensorsData","getMonitoringAnalyticsData","prepareOptions","chart_data","dataset_name","series","dataset","lineWidth","fillOpacity","marker","symbol","enabled","radius","yAxis","processDatasetForPlotting","option","marker_name","timezoneOffset","chart","zoomType","panning","panKey","resetZoomButton","text","xAxis","headerFormat","shared","crosshairs","plotOptions","credits","prepareMarkerAccelerationChartOption","dateTimeLabelFormats","month","year","scatter","pointFormat","prepareMarkerInterpolationChartOption","series_copy","timestamps","categories","labels","formatter","Highcharts","getOptions","colors","opposite","prepareMarkerAccelerationVsTimeChartOption","highchartsMore","SVGRenderer","prototype","symbols","asterisk","w","VMLRenderer","SurficialTrendingGraphs","generateTrending","setShowTrending","setGenerateTrending","chosenPoint","chartRef","trending_data","setTrendingData","graph_components","setGraphComponents","loading","getSurficialMarkerTrendingData","has_trend","td","gc","highcharts","createSurficialTrendingGraphs","ArrowDropUp","graph","goBack","BackToMainButton","ArrowBackIos","date_range_options","hour_interval","hour_value","DateRangeSelector","isSubsurface","selectedRangeInfo","setSelectedRangeInfo","selectedHourInterval","setSelectedHourInterval","disableAll","date_range_anchor","setDateRangeAnchor","hour_interval_anchor","setHourIntervalAnchor","disable_all","is_subsurface","hourIntervalHandleClick","hourIntervalHandleClose","ArrowDropDown","snackBarActionButton","closeSnackbarFn","AddNewHistoryModal","setIsOpen","selectedMarker","historicalMarkers","addNewMarker","setRedrawChart","marker_id","mi","mn","setEvent","setTs","new_marker_name","setNewMarkerName","resetForm","setNmmValidation","nmm_validation","handleBlur","test","verify_submit","setVerifySubmit","onBlur","helperText","to_send","temp_event","insertMarkerEvent","MarkerHistoryTable","markerInfo","markerName","column_options","table_options","expandableRows","expandableRowsHeader","expandableRowsOnClick","renderExpandableRow","row_data","rowMeta","col_span","TableRow","TableCell","colSpan","viewColumns","customSort","col_index","marker_history","m_name","UpdateDeleteModal","editModal","setEditModal","is_open","measurement","mo_id","data_id","chosen_ts","chosen_meas","is_delete_clicked","setDeleteClick","delete_quantity","setDeleteQuantity","changeHandlerFn","fin_val","updateSurficialData","ButtonGroup","quantity","deleteSurficialData","SurficialDataTagModal","surficialDataTagModal","setSurficialDataTagModal","unreliable_data","tagger","saveUnreliableMarkerData","tagger_id","ClickPointModal","setIsOpenClickModal","hadleSurficialDataTagClick","TrendingUp","LocalOffer","SurficialMarkersButton","surficialData","setIsOpenAddEventModal","setAddNewMarker","anchor","setAnchor","onMenuClose","has_enough_markers","Add","HC_exporting","disableBack","disableMarkerList","saveSVG","isEndOfShift","selected_range_info","dt_ts_end","te","disable_back","disable_marker_list","save_svg","is_end_of_shift","surficial_data","setSurficialData","selected_marker","setSelectedMarker","historical_markers","setHistoricalMarkers","save_svg_now","setSaveSVGNow","to_redraw_chart","show_trending","generate_trending","is_open_click_modal","is_open_add_event_modal","add_new_marker","default_point","chosen_point","setChosenPointCopy","edit_modal","surficial_data_tag_modal","showLoading","getSurficialPlotData","hideLoading","markers","isExact","svg","getSVGForExport","chart_type","setVisible","redraw","reflow","graph_component","createSurficialGraph","start_date","end_date","font_size","min_x","min","reduce","cur_min","cd","rd","turboThreshold","series_data_row","fillColor","spacingTop","spacingRight","legend","labelFormatter","userOptions","in_use","dashStyle","cursor","point","click","showDuration","hideDuration","RainfallDataTaggingModal","closeModalFn","taggingData","onTagSuccess","is_indefinite","setIsIndefinite","observed_data","setObservedData","cloneDeep","saveInvalidRainfallTag","default_data","rain","null_ranges","max_rval","max_72h","gauge_name","distance","data_source","threshold_value","rain_id","series_data","max_rval_data","observed_data_dict","rainfall_colors","prepareRainfallData","invalid_data","inv_len","isSameOrAfter","isSameOrBefore","is_invalid","assign","processInstantaneousRainData","step","null_processed","selectPointsByDrag","is_tagging_data","rg","std","setTaggingData","target_itd","target_rain_gauge","target_rain_id","tagging_sign","target_std","is_tagging","destroyResetSelection","reset_selection","destroy","destroySubmitSelection","submit_selection","renderer","fill","fireEvent","selected_points","getSelectedPoints","is_submit","unselectPoints","show","selected_ts_list","min_sel_ts","max_sel_ts","points","select","processSelectedPoints","tagged_data","submitted_data","prepareInstantaneousRainfallChartOption","setIsTaggingData","selection","selectedpoints","createRainPlotSubtitle","plotBands","setExtremes","syncExtremes","exporting","menuItemDefinitions","tagInvalidData","onclick","contextButton","menuItems","prepareCumulativeRainfallChartOption","max_rain_2year","round","RainfallGraph","conso_input","arr_num","rainfall_data","setRainfallData","setProcessedData","to_reload","setToReload","chartRefs","instantaneous","createRef","cumulative","get_svg","setGetSVGNow","svg_list","setSVGList","substr","days_diff","diff","tagging_data","is_tag_modal_open","setIsTagModalOpen","default_options","getDataFn","getRainfallPlotData","chart_i","c","svgRef","opt","xsUp","implementation","viewBox","this_chart","assignColorToEachSeries","data_array","rainbow_colors","Chroma","scale","mode","domain","prepareNodeHealthSummaryChartOption","setNodeLevelChart","divisor","floor","borderColor","borderWidth","rowsize","dataLabels","textShadow","handleSelectedNode","visible","reversed","useHTML","colorAxis","stops","id_date","flagger","comment","final_stat","added_info","plotNodeLevelCharts","subsurface_node_data","chartOptions","series_name","nodes","final_series","node_arr","node_series","new_series","hideByDefaultRawSeries","cap","itemStyle","layout","verticalAlign","createGeneralNodeChart","NodeLevelChart","allowChartUpdate","returned_data","heatmap","SubsurfaceGraph","sensor","tsm_sensor","consolidated_input","isEOS","selected_hour_interval","tsm","include_comms_health","node_health_option","setNodeHealthOption","comms_health_option","setCommsHealthOption","node_level_chart","node_level_data","setNodeLevelData","getSubsurfacePlotData","subsurface_data","column_data","data_list","col_position_data","orientation","series_list","colored_data","col_data","plotColumnPosition","displacement_data","annotations","plotDisplacement","velocity_alerts","timestamps_per_node","velocity_data","plotVelocityAlerts","communication_health","allowDecimals","prepareCommunicationHealthChartOption","set_data","max_position","min_position","xAxisTitle","states","hover","gridLineWidth","sourceHeight","sourceWidth","prepareColumnPositionChartOption","spline","prepareDisplacementChartOption","prepareVelocityAlertsOption","getSurfaceNodeHealth","node_health_data","each_data","plotNodeHealth","result","ConsolidatedSiteCharts","site_data","to_include","subsurface_cols","show_charts","site_value","setSiteValue","setTsEnd","chart_cboxes","setChartCboxes","setSubsurfaceCols","set_cboxes","update","getSiteSubsurfaceColumns","date_deactivated","deactivated","setReloadEqEvent","eq_magnitude","set_magnitude","eq_depth","set_depth","eq_long","set_long","eq_lat","set_lat","is_disable","set_is_disabled","saveEQ","issuer","insertEarthquakeEvent","depth","lat","issued_by","magnitude_err","depth_err","L","iconUrl","MarkerIcon","shadowUrl","ShadowIcon","iconRetinaUrl","RetinaIcon","iconSize","shadowSize","iconAnchor","shadowAnchor","popupAnchor","tooltipAnchor","EarthquakeMap","eqEvents","zoom","zoomIn","is_one","show_popup","setShowPopUp","leafletElement","openPopup","rule","center","TileLayer","attribution","critical_distance","eq_id","Circle","Marker","Popup","Pane","CircleMarker","weight","bringToFront","MUIDataTableBodyCell","whiteSpace","eq_ev_tbl_columns","eq_al_tbl_columns","EarthquakeContainer","eqAlerts","eqAlertsPagination","setEqAlTblPage","tab_value","setTabValue","chosen_events","setChosenEvents","eq_ev_tbl_data","setEqEventsTable","d","select_map_event","collection","ev","eq_al_tbl_data","setEqAlertsTable","eq_alerts","eq_ev_tbl_options","onRowClick","meta","eq_al_tbl_options","onChangePage","new_value","formatTimestamp","buildName","MomsReportsTable","moms_data","instance_row","moms_reports","report","n_details","report_ts","processMomsReportData","MomsInstancesPage","setMOMsData","moms_features","setMOMsFeatures","getMOMsInstances","sorted_data","instance","last_mom","return_data","CustomButtons","change_consolidate_modal_fn","open_eq_modal","InsertChart","createCustomLabels","custom_labels","dataLabel","fontFamily","LabelComponent","is_mobile","uc_type","additional_height","subtitle_text","outside","event_type","ts_last_data","diff_days","presence","type_label","last_data","t_data","has_surficial_markers","generateData","is_consolidate_modal_open","setIsConsolidateModalOpen","is_earthquake_modal","setisEarthquakeModalOpen","subsurface_data_presence","setSubsurfaceDataPresence","subsurface_dp_option","setSubsurfaceDpOption","subsurface_custom_label","setSubsurfaceCustomLabel","surficial_data_presence","setSurficialDataPresence","surficial_dp_option","setSurficialDpOption","surficial_custom_label","setSurficialCustomLabel","rainfall_data_presence","setRainfallDataPresence","rainfall_dp_option","setRainfallDpOption","rainfall_custom_label","setRainfallCustomLabel","loggers_data_presence","setLoggersDataPresence","loggers_dp_option","setLoggersDpOption","chart_instances","setChartInstances","rainfall_summary_option","setRainfallSummaryOption","save_chart_instances_fn","prev","rainfall_summary","list_1d","list_3d","ts_str","data_value","toFixed","grouping","shadow","pointPadding","prepareRainfallSummaryOption","record","cumulative_1d","cumulative_3d","threshold_1d","threshold_3d","DataSource","temp_1d","temp_3d","cum_1d","cum_3d","formatRainfallSummaryData","moms_alerts","setMOMsAlerts","getMOMsAlertSummary","moms_alert","moms_table_options","eq_events","setEqEvents","reload_eq_event","getEarthquakeEvents","setEqAlerts","eq_al_tbl_pagination","is_first_pass","setFirstPass","request","getEarthquakeAlerts","eq_data","is_main_page","chartType","ConsolidateSiteChartsModal","InsertEarthquakeModal","getPieChartOption","setSelectedTrigger","alerts_data","trigger_count","data_length","drill_data_length","drilldown","d_data","d_categories","trigger_events","brighten","hex","alert_events","donutChartOption","plotBackgroundColor","plotBorderWidth","plotShadow","accessibility","valueSuffix","pie","innerSize","lang","noData","PieChart","setChart","data_with_color","updated","applyColor","chart_option","setChartOption","to_show","showNoData","hideNoData","getStackedBarChartOptions","stackLabels","defaultOptions","stacking","StackedBarChart","reverse","TriggerEventsTable","selectedTrigger","NoDataToDisplay","getHelperText","field","field_value","new_helper_text","reset_data","initReducer","helper_text","new_data","updated_value","sanitizeData","clean_data","MonitoringAlertsAnalytics","alert_1","alert_2","alert_3","pie_chart_data","setPieChartData","stacked_chart_data","setStackedChartData","pie_chart_initial_data","stacked_chart_initial_data","pie_chart_filter_data","dispatchPie","stacked_chart_filter_data","dispatchStacked","year_list","back","v","listOfYears","selected_trigger","update_ts","setChartData","submitFilter","data_to_sanitize","temp_data","sanitized_data","inputs","searchBox","sticky","selectedLogger","onLoggerClickFn","reloadList","loggers","setLoggers","setReloadList","loggers_list","setLoggersList","setSearchStr","temp_l","rain_gauges","has_rain","logger_model","filtered","RegExp","toLocaleLowerCase","logger_id","is_selected","logger_number_mask","conforming_mobile_mask","TextMaskCustom","other","inputElement","placeholderChar","showMask","RainSection","rainGauge","saveUpdate","date_activated","is_edit","setIsEdit","date_deact","setDateDeact","deact","isValid","updateDeact","CardActions","updated_data","section","save","TiltSection","tsmSensor","version","number_of_segments","segment_length","tsm_id","AccelerometersSection","accelerometers","IndividualAccelerometers","accel_id","accel_number","voltage_min","voltage_max","date_updated","default_flag","add_flag","setAddFlag","update_data","stat","ts_flagged","has_new_status","MainSection","logger_mobile","logger_type","initial_value","logger_number","conformToMask","conformedValue","field_val","LoggerDetails","has_tilt","save_update","saveDataUpdate","test_helper_value","TiltForm","onTiltFormUpdate","ght","checkInputFields","segment_list","setSegmentList","number_of_segment","tsm_data","dispatch","has_reg_error","has_segment_error","has_error","get_value","bank","temp_bank","temp_value","len","onNumberOfSegmentChange","onSegmentInputChange","segment_value","tilt_data","test_value","installed_sensors","not_required_list","personnel_list","AddLoggerForm","setIsAddLogger","date_installed","location_description","network","personnel","deployment_data","is_submit_disabled","setIsSubmitDisabled","checkCheckbox","onCheckboxChange","add_data","isd","piezo","soms","cleaned_data","tilt","saveLoggerDeployment","noFlexGrow","insetDivider","nested","useTheme","useMediaQuery","is_add_logger","selected_logger","setSelectedLogger","reload_list","MessageOptionsModal","isUnregistered","setBlockModal","setSaveContactModal","Block","mobileDetails","setOpenOptions","setReason","error_text","setErrorText","onExited","saveBlockedContact","offices_obj","mobile_number_mask","prepareGeographicalList","category","removeNumberMask","altered_data","landline_id","landline_num","state_copy","addend","has_delete","getOfficesList","setContactForm","chosenContact","setContactFormForEdit","isFromChatterbox","setSnackbarKey","initial_mobiles","initial_landlines","initial_emails","initial_scope","initial_office","initial_office_list","initial_site","initial_location","initial_status","initial_ewi_recipient","initial_ewi_restriction","initial_user_details","middle_name","landline_numbers","emails","userAffiliation","scope_list","select_label","setUserDetails","setScope","setLocation","offices","setOffices","office","setOffice","mobile_nums","setMobileNums","landline_nums","setLandlineNums","setEmails","is_ewi_recipient","setEwiRecipient","is_active","setIsActive","restriction","setRestriction","save_button_state","setSaveButtonState","closeButtonFn","nameChangeHandler","contact_numbers","affiliation","is_sim_num_invalid","is_affiliation_invalid","is_landline_num_invalid","contactFormValidation","saveFunction","saveContact","queueUpdatingSnackbar","Avatar","Person","enable_delete","AddCircle","paragraph","is_landline_valid","email","initial_user_data","priority","contacts","CommsContext","save_type","setSaveType","is_edit_mode","setEditMode","selected_contact","setSelectedContact","attachMobileNumberToExistingUser","inline","overflowEllipsis","textOverflow","sentIcon","mobileUserFormatter","sender_arr","orgs_arr","sender","orgs","level","inactive","SecondaryInformation","first_message","msg_ts","send_status","ts_sent","ts_received","moment_ts","returnTS","CallReceived","RadioButtonUnchecked","MessageList","messagesArr","open_options","is_unregistered","setIfUnregistered","open_block_modal","open_save_contact_modal","chosen_mobile","setChosenMobile","openOptionsModal","is_unreg","mobile_details","messages","async","searchFilters","sim_number","senders","is_unknown","search_filters","no_convo_message","InactiveIcon","MobileOff","titleAccess","ListItemAvatar","GenericAvatar","bigAvatar","primaryTypographyProps","secondary","secondaryTypographyProps","MessageListItem","OptionsModal","tagOption","tagObject","tag_options","tag_selection","tags","update_tags","tag_id","tag","useFetchTagOptions","orig_tags","setOrigTags","has_fyi_tag","setHasFyiTag","fyi_purpose","setFyiPurspose","is_saved_number","tag_arr","contact_person","prepareContactPerson","var_key_id","missing_tags","delete_tag_id_list","delete_payload","tag_type","tag_details","new_tags","tag_id_list","ts_message","handleUpdateInsertTags","chatItemSent","chatBubble","chatBubbleReceived","chatBubbleSent","chatMessage","timestampArea","tagButton","useStylesBootstrap","borderStyle","common","black","tooltipPlacementLeft","tooltipPlacementRight","tooltipPlacementTop","tooltipPlacementBottom","BootstrapTooltip","arrowRef","setArrowRef","PopperProps","popperOptions","modifiers","Fragment","ChatThread","message_list","setScrollToBottom","setMessages","is_gdt_modal_open","set_is_gdt_modal_open","selected_message","setSelectedMessage","default_tag_obj","tag_object","update_tag_object","message_batch","setMessageBatch","loaded_messages","setLoadedMessages","initial_messages","set_gdt_fn","onResendClick","message_row","convo_id","outbox_status_id","resendMessage","batch","loadMoreMessages","on_resend_click","is_you","avatar_component","has_tag","tag_icon","TurnedIn","TurnedInNot","tag_summary","disableFocusListener","disableHoverListener","first","second","chatBubbleCreator","emit","receiveAllContacts","removeReceiveAllContacts","removeListener","regularContainer","chatInputContainer","borderBottom","chatHead","backIcon","AvatarWithText","preserveAspectRatio","cx","cy","ChatLoader","RecipientFormatter","saveNumberModal","ml","AssignmentLate","getContentAnchorEl","ConversationWindow","sf","conversation_details","setConversationDetails","convo_end_ref","scrollToBottom","scrollIntoView","KeyboardArrowLeft","m_id","clear","dialogContent","compose","fab","Zoom","unmountOnExit","transitionDelay","Fab","setSearchResultsToEmpty","orgs_list","org_options","setOrgOptions","include_inactive_numbers","setIncludeInactiveNumbers","setTsStart","is_search_disabled","setIsSearchDisabled","has_site_or_org","are_ts_all_null","every","has_message_filters","SearchResultsPage","searchResults","setSearchResults","ListLoader","has_no_input","has_no_search_results","smUp","mr","toString","ChatterboxInfoModal","is_open_send_modal","setIsOpenSendModal","is_open_search_modal","setIsOpenSearchModal","inbox","unsent","message_collection","setMessagesCollection","setTabsArray","search_results","recipients_list","setRecipientsList","setContacts","is_open_info_modal","setIsOpenInfoModal","set_modal_fn","overlap","receiveAllMobileNumbers","Create","Search","messageCollection","MemoizedItem","onContactClickFn","xl","Star","ContactList","blocked_numbers","onBlockContactClickFn","SimGroup","prefixes","groups","sim_prefixes","smart","globe","network_id","prefix_code","groupSimPrefixesByNetwork","pos","createHeader","SelectPrimaryContact","checkbox_data","updatePrimary","contact_per_org","setContactsPerOrg","contacts_key","updated_org_primary_contact","has_primary","contact","u_org_id","user_org_id","Save","selected_value","is_primary","saveUpdatedPrimaryContact","ArrowBack","AllContacts","siteData","isUpdatePrimary","setIsUpdatePrimary","setOrgs","setCheckboxData","setContactKey","initial_contact_per_org","contact_scope","siteLabel","siteID","contactsArray","setChosenContact","results","set_results","compound_fn","population","Loader","IndividualContact","setSlideOpen","siteOrgs","isContactPriority","lgUp","num","ListItemSecondaryAction","Call","email_id","MailOutline","BlockedContact","reporter_first_name","reporter_last_name","contact_name","date_reported","Phone","PersonAdd","SearchBar","hiddenLabel","contacts_array","setContactsArray","chosen_contact","chosen_contact_index","setChosenContactIndex","is_slide_open","is_contact_form_open","setContactFormOpen","blocked_number_array","setBlockedNumberArray","blocked_chosen_contact","setBlockedChosenContact","sim_prefixes_list","setSimPrefixesList","site_stakeholders","setSiteStakeholders","tab_selected","setTabSelected","modal_state","setModalState","get_contact_priotitization","setGetContactPrioritization","getBlockedContacts","getSimPrefixes","getSiteStakeHolders","site_orgs","PaperDialogContent","SearchComp","endAdornment","InputAdornment","Sort","ViewList","Collapse","disablePadding","FormatListNumbered","SimCard","mdDown","site_label","recip_default","cc","bcc","MailBoxContainer","recipients_dict","setRecipientsDict","is_snackbar_notif_open","set_snackbar_notif_fn","snack_bar_data","set_snack_bar_data","setSubject","setMailBody","sendEmail","green","red","Snackbar","ContentProps","customPaper","StyledBadge","badge","SiteStakeholdersList","setCommunityContacts","com_orgs","comm_contacts_ui","community_orgs","lgu","non_lgu","org_index","user_list_for_ui","user_index","salutation","sal","Stars","primary_badge","enterTouchDelay","prepareOrgList","region_list","arrangeSeasons","seasons","current_season","season_data","dry","wet","not_required","EditSiteInformationForm","siteInformation","setSiteInformationData","seasonPreview","setSeasonPreview","is_disable_save","arrangedSeasons","households","selected_season","season_group_id","l","editButtonAction","site_information_data","saveSiteInformation","responsiveFontSizes","SiteInformationPage","setSeasonMonths","setSeasons","routine_schedule","setRoutineSchedule","isOpenEditModal","setIsEditModal","getSiteSeason","rs","routine_schedules","c_dry","c_wet","isoWeekday","iso_week_day","season_type","raised","PhilippineMap","siteMapData","hoveredSite","refs","scrollWheelZoom","innerHeight","MapLoader","SitesPerRegion","sitesPerRegion","setHoveredSite","sorted_regions","onMouseOver","hovered_site","site_map_data","setSiteMapData","sites_per_region","setSitesPerRegion","smd","spr","MemberList","onMemberClickFn","selectedUserDetails","usersList","setUsersList","media","objectPosition","avatarContainer","editButton","listBody","alignCenter","alignRight","field_with_error","new_instance","initMobileNumbers","initEmails","delete","unfilled_key_str","saving_point","new_field_value","has","conformTextMask","ProfileEdit","user_data","birthday","sex","is_existing","clean_value","updateUserInfo","ProfileDisplay","bday","t_sex","format_to_mask","StringMask","apply","Cake","Wc","ProfileDetails","isUser","isEdit","handleEdit","BadgeButton","Lock","CardMedia","Dyna_Wall","schedIcon","Transition","ProfileContainer","users_list","selectedUser","setSelectedUser","setIsUser","isWebAdmin","setWebAdmin","teams","team","team_name","isAdmin","avatar_success","form_display","form_hide","ChangePasswordForm","warningText","setWarningText","setUsername","pass1","setPass1","pass2","setPass2","old_pass","setOldPass","setDisabled","setShow","setColor","setTitle","success","setSuccess","goToProfile","updateUserCredentials","new_password","old_password","successIcon","salutations","CreateDynaUser","firstName","setFirstName","middleName","setMiddleName","lastName","setLastName","setNickname","setEemail","typedEmail","setTypedemail","mobileNumber","setMobileNumber","typedMobile","setTypedMobile","setPassword","isSuccess","setBirthday","setGender","setSalutation","handleSubmit","unmasked_number","sim","CreateDynaMember","SelectProps","disableToolbar","getBirthday","KeyboardButtonProps","maxDate","mobiles","removeFromMobileList","insertToMobileNumbers","removeFromEmailList","insertToEmail","RoutesCollection","DashboardContainer","EventsTableContainer","ShiftsAndReportsContainer","IssuesAndReminders","SiteLogsContainer","IntegratedSiteAnalysisContainer","LoggersAndSensorsFormContainer","ChatterboxContainer","ContactsContainer","SitesInformationContainer","UpdateCredentialsForm","rainfall_comp","setRainfallComp","surficial_comp","setSurficialComp","subsurface_comp","setSubsurfaceComp","app","setDrawer","toggleDrawer","is_logged","setIsLogged","interval_ref","isLoggedIn","setInterval","refreshSession","clearInterval","BulletinTemplate","ChartRenderingContainer","r_props","Routes","hostname","noop","warn","maxSnack","getElementById","navigator","serviceWorker","ready","registration","unregister","module","exports","ServerTimeProvider","setServerTime","getServerTime","receiveServerTime","refresh_token","Authorization","localStorage","getItem","tokens","access_token","getSession","is_logged_in","rS","res","setItem","success_callback","failed_callback","loginUser","ok","dynaslopeLogo","phivolcsLogo","overflowX","alert1","nestedText","drawerHeader","iOS","process","browser","userAgent","disableBackdropTransition","disableDiscovery","subheader","handleNestedList","sublabel"],"mappings":"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","file":"static/js/main.cf4eb141.chunk.js","sourcesContent":["export const host = \"http://192.168.150.253:5000\";\n// export const host = \"http://192.168.150.167:5000\";\nexport const react_host = \"http://192.168.150.253\";\n// export const react_host = \"http://192.168.150.167:3000\";\nexport const access_refresh_interval = 1000 * 60 * 25; // 25 minutes","import React, { useState } from \"react\";\nimport Button from \"@material-ui/core/Button\";\nimport CssBaseline from \"@material-ui/core/CssBaseline\";\nimport TextField from \"@material-ui/core/TextField\";\nimport FormControlLabel from \"@material-ui/core/FormControlLabel\";\nimport FormHelperText from \"@material-ui/core/FormHelperText\";\nimport Link from \"@material-ui/core/Link\";\nimport Paper from \"@material-ui/core/Paper\";\nimport Box from \"@material-ui/core/Box\";\nimport Grid from \"@material-ui/core/Grid\";\nimport Typography from \"@material-ui/core/Typography\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport { CircularProgress } from \"@material-ui/core\";\nimport { login } from \"./auth\";\nimport PhivolcsDynaslopeLogo from \"../../images/phivolcs-dynaslope-logo.png\";\nimport LoginBgImg from \"../../images/login-bg-img.jpg\";\n\nfunction Copyright () {\n    return (\n        <Typography variant=\"body2\" color=\"textSecondary\" align=\"center\">\n            {\"Copyright  \"}\n            <Link color=\"inherit\" href=\"https://material-ui.com/\">\n                Project Dynaslope\n            </Link>{\" \"}\n            {new Date().getFullYear()}\n            {\".\"}\n        </Typography>\n    );\n}\n\nconst useStyles = makeStyles(theme => ({\n    root: {\n        height: \"100vh\",\n    },\n    image: {\n        backgroundImage: `url(${LoginBgImg})`,\n        // backgroundRepeat: \"no-repeat\",\n        backgroundSize: \"cover\",\n        backgroundPosition: \"center\",\n    },\n    paperContainer: {\n        display: \"flex\",\n        alignItems: \"center\",\n        justifyContent: \"center\"\n    },\n    paper: {\n        margin: theme.spacing(0, 4),\n        display: \"flex\",\n        flexDirection: \"column\",\n        alignItems: \"center\",\n        paddingBottom: theme.spacing(5),\n        [theme.breakpoints.up(\"lg\")]: {\n            paddingBottom: theme.spacing(9)\n        }\n    },\n    phivolcsDynaslopeLogo: {\n        margin: theme.spacing(1),\n        height: 200,\n        [theme.breakpoints.between(\"sm\", \"md\")]: {\n            height: 164\n        },\n        [theme.breakpoints.only(\"xs\")]: {\n            height: 140\n        },\n    },\n    form: {\n        width: \"100%\", // Fix IE 11 issue.\n        marginTop: theme.spacing(1),\n    },\n    submit: {\n        margin: theme.spacing(3, 0, 2),\n    },\n    title: {\n        margin: theme.spacing(2, 0),\n        [theme.breakpoints.down(\"sm\")]: {\n            fontSize: \"1.25rem\"\n        },\n        [theme.breakpoints.only(\"xs\")]: {\n            margin: theme.spacing(0, 0)\n        }\n    },\n    passwordField: {\n        margin: theme.spacing(0, 0, 3, 0),\n        [theme.breakpoints.only(\"xs\")]: {\n            margin: theme.spacing(0, 0, 1, 0)\n        },\n    },\n    buttonChild: {\n        display: \"flex\",\n        width: \"100%\",\n        justifyContent: \"center\",\n        alignItems: \"center\"\n    }\n}));\n\nexport default function LoginComponent (props) {\n    const classes = useStyles();\n    const [credentials, setCredentials] = useState({\n        username: \"\",\n        password: \"\"\n    });\n\n    const [errors, setErrors] = useState({\n        username: false,\n        password: false\n    });\n    const [error_message, setErrorMessage] = useState(\"\");\n    const [is_loading, setLoading] = useState(false);\n\n    const { history, onLogin } = props;\n    const onLoginClick = () => {\n        Object.entries(credentials).forEach(row => {\n            const [key, value] = row;\n            if (value === \"\") handleError(key, value);\n        });\n\n        if (Object.values(errors).includes(true)) {\n            setErrorMessage(\"Fill up all required fields\");\n        } else {\n            setLoading(true);\n            login(credentials, () => {\n                setLoading(false);\n                onLogin();\n                history.push(\"/\");\n            }, message => {\n                setLoading(false);\n                setErrorMessage(message);\n            });\n        }\n    };\n\n    const { username, password } = credentials;\n    const handleChange = attr => event => {\n        const { target: { value } } = event;\n        setCredentials({\n            ...credentials,\n            [attr]: value\n        });\n\n        setErrorMessage(\"\");\n        handleError(attr, value);\n    };\n    const handleFocus = attr => event => {\n        handleError(attr, credentials[attr]);\n    };\n    const handleError = (attr, value) => {\n        setErrors({\n            ...errors,\n            [attr]: value === \"\"\n        });\n    };\n\n    const handleEnterPress = event => {\n        if (event.key === \"Enter\") onLoginClick();\n    };\n\n    return (\n        <Grid container component=\"main\" className={classes.root}>\n            <CssBaseline />\n            <Grid item xs={false} sm={4} md={7} className={classes.image} />\n            <Grid \n                item \n                xs={12} sm={8} md={5} \n                component={Paper} \n                elevation={6} \n                square\n                className={classes.paperContainer}\n            >\n                <div className={classes.paper}>\n                    <img\n                        src={PhivolcsDynaslopeLogo}\n                        alt=\"PHIVOLCS-Dynaslope Logo\"\n                        className={classes.phivolcsDynaslopeLogo}\n                    />\n                    <Typography \n                        component=\"h1\"\n                        variant=\"h5\"\n                        align=\"center\"\n                        className={classes.title}\n                    >\n                        <strong>MONITORING AND INFORMATION APPLICATION (MIA 3.0)</strong>\n                    </Typography>\n                    <div className={classes.form}>\n                        <TextField\n                            variant=\"outlined\"\n                            margin=\"normal\"\n                            required\n                            fullWidth\n                            id=\"username\"\n                            label=\"Username\"\n                            name=\"username\"\n                            autoComplete=\"username\"\n                            autoFocus\n                            value={username}\n                            onChange={handleChange(\"username\")}\n                            onFocus={handleFocus(\"username\")}\n                            error={errors.username}\n                        />\n                        <TextField\n                            variant=\"outlined\"\n                            margin=\"normal\"\n                            required\n                            fullWidth\n                            name=\"password\"\n                            label=\"Password\"\n                            type=\"password\"\n                            id=\"password\"\n                            autoComplete=\"current-password\"\n                            value={password}\n                            onChange={handleChange(\"password\")}\n                            onKeyPress={handleEnterPress}\n                            onFocus={handleFocus(\"password\")}\n                            error={errors.password}\n                            className={classes.passwordField}\n                        />\n                        {\n                            error_message !== \"\" && (\n                                <FormHelperText error focused>\n                                    {error_message}\n                                </FormHelperText>\n                            )\n                        }\n                        {/* <FormControlLabel\n                            control={<Checkbox value=\"remember\" color=\"primary\" />}\n                            label=\"Remember me\"\n                        /> */}\n                        <Button\n                            type=\"submit\"\n                            fullWidth\n                            variant=\"contained\"\n                            color=\"primary\"\n                            className={classes.submit}\n                            onClick={onLoginClick}\n                            disabled={is_loading}\n                        >\n                            {\n                                is_loading ? (\n                                    <div className={classes.buttonChild}>\n                                        <span style={{ marginRight: 6 }}>Signing In... </span>\n                                        <CircularProgress color=\"secondary\" size={20} />\n                                    </div>\n                                ) : (\n                                    <span>Sign In</span>\n                                )\n                            }\n                        </Button>\n\n                        {/* <Grid container>\n                            <Grid item xs>\n                                <Link href=\"#\" variant=\"body2\">\n                                    Forgot password?\n                                </Link>\n                            </Grid>\n                            <Grid item>\n                                <Link href=\"#\" variant=\"body2\">\n                                    {\"Don't have an account? Sign Up\"}\n                                </Link>\n                            </Grid>\n                        </Grid> */}\n                        <Box mt={5}>\n                            <Copyright />\n                        </Box>\n                    </div>\n                </div>\n            </Grid>\n        </Grid>\n    );\n}","import React from \"react\";\nimport {\n    AppBar, Toolbar, Typography\n} from \"@material-ui/core\";\nimport { withStyles } from \"@material-ui/core/styles\";\n\nconst styles = theme => ({\n    footer: {\n        display: \"flex\",\n        // minHeight: \"10vh\",\n        padding: \"2% 0\",\n        flexDirection: \"column\",\n        marginTop: 40,\n        justifyContent: \"center\",\n        alignItems: \"center\",\n        textAlign: \"center\",\n        [theme.breakpoints.down(\"sm\")]: {\n            marginTop: 30\n        },\n        zIndex: 0\n    },\n    footerText: {\n        fontSize: \"0.5rem\",\n        [theme.breakpoints.up(\"sm\")]: {\n            fontSize: \"0.85rem\",\n        }\n    }\n});\n\nfunction Footer (props) {\n    const { classes } = props;\n\n    return (\n        <AppBar position=\"static\" className={classes.footer}>\n            <Toolbar>\n                <Typography variant=\"subtitle2\" color=\"inherit\" className={classes.footerText} >\n                    4F PHIVOLCS Building, C. P. Garcia Avenue, UP Campus, Diliman, Quezon City 1101 <br />\n                    Tel. no. (02) 8426-1468 loc. 401 & 403 | dynaslope.phivolcs@gmail.com <br />\n                    www.facebook.com/dynaslopecommunity\n                </Typography>\n            </Toolbar>\n        </AppBar>\n    );\n}\n\nexport default withStyles(styles)(Footer);\n","import axios from \"axios\";\nimport { useEffect, useRef } from \"react\";\n\nfunction prepareSiteAddress (site_details, include_site_code = true, position = \"end\") {\n    const { purok, sitio, barangay, municipality, province, site_code } = site_details;\n    let address = \"\";\n\n    if (sitio !== null && sitio !== \"\") address = `Sitio ${sitio}, `;\n    if (purok !== null && purok !== \"\") address += `Purok ${purok}, `;\n\n    address += `Brgy. ${barangay}, ${municipality}, ${province}`;\n    if (include_site_code) {\n        const upper_sc = site_code.toUpperCase();\n        if (position === \"end\")\n            address += ` (${upper_sc})`;\n        else\n            address = `${upper_sc} (${address})`;\n    }\n\n    return address;\n}\n\nfunction capitalizeFirstLetter (str, every_word = false) {\n    const capitalize = s => s.charAt(0).toUpperCase() + s.slice(1);\n\n    if (every_word) {\n        const arr = str.split(\" \");\n        const cap_arr = arr.map(s => capitalize(s));\n\n        return cap_arr.join(\" \");\n    }\n\n    return capitalize(str);\n}\n\nfunction getUserOrganizations (organizations, return_grouped = false) {\n    let org = null;\n    const sites = organizations.map(row => {\n        const { site, org_name } = row;\n        org = org_name.toUpperCase();\n\n        if (return_grouped) return site;\n\n        return site.site_code.toUpperCase();\n    });\n\n    if (return_grouped) {\n        return {\n            sites,\n            org\n        };\n    } \n    \n    if (org) {\n        sites.unshift(org);\n    }\n\n    return sites;\n}\n\nfunction getUserContactPriority (organizations) {\n    let is_priority = false;\n    if (organizations.length > 0 ) {\n        is_priority = Boolean(organizations[0].primary_contact);\n    }\n    return is_priority;\n}\n\nfunction simNumFormatter (sim_num) {\n    return sim_num[0] === \"0\" || sim_num.match(/[a-z]/i) ? sim_num : `+${sim_num}`;\n}\n\nfunction computeForStartTs (ts, duration = 7, unit = \"days\") {\n    if (unit === \"all\") {\n        return \"None\";\n    }\n\n    const ts_format = \"YYYY-MM-DD HH:mm:ss\";\n    const ts_start = ts.clone().subtract(duration, unit)\n    .format(ts_format);\n    return ts_start;\n}\n\n// eslint-disable-next-line max-params\nfunction makePOSTAxiosRequest (api_link, payload, callback = null, err = null) {\n    axios.post(api_link, payload)\n    .then((response) => {\n        const { data } = response; \n        if (callback !== null) {\n            callback(data);\n        } \n    })\n    .catch((error) => {\n        console.log(error);\n        if (err !== null) {\n            err(error);\n        }\n    });\n}\n\nfunction makeGETAxiosRequest (api_link, callback = null) {\n    axios.get(api_link)\n    .then((response) => {\n        const { data } = response; \n        if (callback !== null) {\n            callback(data);\n        } \n    })\n    .catch((error) => {\n        console.log(error);\n    });\n}\n\nfunction useInterval (callback, delay, clear_interval = false) {\n    const savedCallback = useRef();\n  \n    useEffect(() => {\n        savedCallback.current = callback;\n    });\n  \n    useEffect(() => {\n        function tick () {\n            savedCallback.current();\n        }\n  \n        const id = setInterval(tick, delay);\n\n        if (clear_interval) clearInterval(id);\n        return () => clearInterval(id);\n    }, [delay, clear_interval]);\n}\n\nfunction remapCkeditorEnterKey (editor) {\n    editor.editing.view.document.on(\"enter\", (evt, data) => {\n        if (data.isSoft) {\n            editor.execute(\"enter\");\n        } else {\n            editor.execute(\"shiftEnter\");\n        }\n\n        data.preventDefault();\n        evt.stop();\n        editor.editing.view.scrollToTheSelection();\n    }, { priority: \"high\" } );\n}\n\nfunction monthSorter (season_months) {\n    const all_months = [\n        \"january\", \"february\", \"march\",\n        \"april\", \"may\", \"june\",\n        \"july\", \"august\", \"september\",\n        \"october\", \"november\", \"december\"\n    ];\n\n    season_months.sort((a, b) => {\n        return all_months.indexOf(a) - all_months.indexOf(b);\n    });\n}\n\nexport {\n    prepareSiteAddress, capitalizeFirstLetter,\n    getUserOrganizations, simNumFormatter,\n    computeForStartTs, makePOSTAxiosRequest,\n    makeGETAxiosRequest, useInterval,\n    remapCkeditorEnterKey, getUserContactPriority,\n    monthSorter\n};\n","/* eslint-disable no-case-declarations */\n\nimport React, {\n    useEffect, useReducer, createContext\n} from \"react\";\n\nimport moment from \"moment\";\n\nimport { getUserNotifications, receiveUserNotifications } from \"../../websocket/misc_ws\";\nimport { setAllUnseenNotifications, updateTSRead } from \"../widgets/notifications/ajax\";\n\nexport const NotificationsContext = createContext();\n\nexport const NotificationsProvider = ({ children }) => {\n    function reducer (state, payload) {\n        const { action, data } = payload;\n        const { notifications } = state;\n        switch (action) {\n            case \"INSERT\":\n                return { ...data };\n            case \"UPDATE_COUNT\":\n                return { ...state, count: data };\n            case \"UPDATE_NOTIFICATION\":\n                const { notification_id, value } = data;\n                const temp = [...notifications];\n                const index = temp.findIndex(row => row.notification_id === notification_id);\n                temp[index].ts_read = value;\n                return { ...state, notifications: temp };\n            default:\n                return state;\n        }\n    }\n    const [notifications_object, setNotificationsObject] = useReducer(reducer, { notifications: [], count: 0 });\n    useEffect(() => {\n        getUserNotifications();\n        receiveUserNotifications(data => setNotificationsObject({ action: \"INSERT\", data }));\n    }, []);\n\n    function setNotificationCountToZero (user_id) {\n        setNotificationsObject({ action: \"UPDATE_COUNT\", data: 0 });\n        setAllUnseenNotifications(user_id);\n        receiveUserNotifications(data => setNotificationsObject({ action: \"INSERT\", data }));\n    }\n\n    function toggleReadTS (user_id, notification_id, toggle_to) {\n        const value = toggle_to === \"read\" ? moment().format(\"YYYY-MM-DD HH:mm:ss\") : null;\n        setNotificationsObject({ action: \"UPDATE_NOTIFICATION\", data: { notification_id, value } });\n        updateTSRead(user_id, notification_id, value);\n    }\n\n    const return_obj = {\n        notifications_object,\n        setNotificationsObject,\n        setNotificationCountToZero,\n        toggleReadTS,\n        getUserNotifications\n    };\n\n    return (\n        <NotificationsContext.Provider value={return_obj}>\n            {children}\n        </NotificationsContext.Provider>\n    );\n};","import { host } from \"../../../config\";\nimport { makePOSTAxiosRequest } from \"../../../UtilityFunctions\";\n\nexport function setAllUnseenNotifications (user_id) {\n    const api_link = `${host}/api/notifications/set_all_seen_notifications`;\n    makePOSTAxiosRequest(api_link, { user_id });\n}\n\nexport function updateTSRead (user_id, notification_id, ts_read) {\n    const api_link = `${host}/api/notifications/update_ts_read`;\n    makePOSTAxiosRequest(api_link, { user_id, notification_id, ts_read });\n}","import React, { Fragment, useContext, useState } from \"react\";\n\nimport {\n    makeStyles, Divider, Typography, \n    Card, CardContent, IconButton, Box,\n    Button\n} from \"@material-ui/core\";\nimport { CallMade, FiberManualRecord, FiberManualRecordTwoTone } from \"@material-ui/icons\";\n\nimport moment from \"moment\";\n\nimport { NotificationsContext } from \"../../contexts/NotificationsContext\";\nimport { getCurrentUser } from \"../../sessions/auth\";\n\nconst useStyles = makeStyles(theme => ({\n    divider: {\n        margin: \"16px 0\"\n    },\n    sectionHead: {\n        marginBottom: 12\n    },\n    cardSection: { marginBottom: 12 },\n    card: { marginBottom: 8 },\n    cardUnread: { backgroundColor: \"lightgray\" },\n    cardContent: {\n        paddingBottom: \"16px !important\",\n        display: \"flex\",\n        justifyContent: \"space-between\",\n        alignItems: \"center\"\n    },\n    toggleReadIcon: {\n        // paddingRight: 0\n        marginLeft: 8\n    },\n    notifTS: { marginTop: 8 },\n    noNotifs: {\n        display: \"flex\",\n        padding: 48,\n        justifyContent: \"center\",\n        border: \"1px solid lightgray\"\n    }\n}));\n\nconst NotificationCard = React.memo((props) => {\n    const { classes, details, toggleNotifStatus, goToLink } = props;\n    const { notification_id, message, ts_read, ts, link } = details;\n\n    const toggle_to = ts_read ? \"unread\" : \"read\";\n    \n    return (\n        <Card variant=\"outlined\" className={`${classes.card} ${ts_read ? \"\" : classes.cardUnread}`}>\n            <CardContent className={classes.cardContent} component={Box}>\n                <Box>\n                    <Typography variant=\"body2\" component=\"div\">\n                        { message }\n                    </Typography>\n\n                    <Typography variant=\"caption\" component=\"div\" className={classes.notifTS}>\n                        { moment(ts).format(\"D MMMM YYYY, HH:mm\") }\n                    </Typography>\n                </Box>\n\n                <Box align=\"right\" className={classes.toggleReadIcon}>\n                    {\n                        link && <IconButton \n                            aria-label=\"go-to-link\" \n                            color=\"primary\" disableRipple disableFocusRipple edge=\"end\"\n                            size=\"small\"\n                            onClick={goToLink(link, notification_id, !ts_read)}\n                            title=\"Go to link\"\n                        >\n                            <CallMade />\n                        </IconButton>\n                    }\n\n                    <IconButton \n                        aria-label=\"toggle-notif-status\" \n                        color=\"primary\" disableRipple disableFocusRipple edge=\"end\"\n                        size=\"small\"\n                        onClick={toggleNotifStatus(notification_id, toggle_to)}\n                        title={`Mark as ${toggle_to}`}\n                    >\n                        { ts_read ? <FiberManualRecordTwoTone /> : <FiberManualRecord /> }\n                    </IconButton>\n                </Box>\n            </CardContent>\n        </Card>\n    );\n});\n\nfunction NotificationsTab (props) {\n    const { history, handleCloseNotif } = props;\n    const classes = useStyles();\n\n    const { user_id } = getCurrentUser();\n\n    const { notifications_object, toggleReadTS } = useContext(NotificationsContext);\n    const { notifications } = notifications_object;\n\n    const [read_batch, setReadBatch] = useState(1); \n\n    const unread_notifs = [];\n    const read_notifs = [];\n    notifications.forEach(row => {\n        if (row.ts_read === null) unread_notifs.push(row);\n        else read_notifs.push(row);\n    });\n\n    const batch_read_notifs = read_notifs.slice(0, 10 * read_batch);\n    const has_unloaded_read_notifs = read_notifs.length > read_batch * 10;\n\n    const has_unread_notifs = unread_notifs.length !== 0;\n\n    const markAllAsRead = () => {\n        unread_notifs.forEach(row => {\n            const { notification_id } = row;\n            toggleReadTS(user_id, notification_id, \"read\");\n        });\n    };\n\n    const toggleNotifStatus = React.useCallback((notification_id, toggle_to) => () => {\n        toggleReadTS(user_id, notification_id, toggle_to);\n    }, []);\n\n    const goToLink = (link, notification_id, is_unread) => () => {\n        handleCloseNotif();\n        history.push(link);\n        if (is_unread) { toggleReadTS(user_id, notification_id, \"read\"); }\n    };\n\n    return (\n        <Fragment>\n            <Typography variant=\"h4\">\n                Notifications\n            </Typography>\n\n            <Divider className={classes.divider} />\n\n            <Box display=\"flex\" justifyContent=\"space-between\" alignItems=\"baseline\">\n                <Typography variant=\"h6\" className={classes.sectionHead}>\n                    Unread notifications\n                </Typography>\n\n                { has_unread_notifs && <Button color=\"primary\" onClick={markAllAsRead}>Mark all as read</Button> }\n            </Box>\n\n            <div className={classes.cardSection}>\n                {\n                    !has_unread_notifs ? <Typography variant=\"body1\" component=\"div\" className={classes.noNotifs}>\n                        No unread notifications\n                    </Typography> : (\n                        unread_notifs.map(row => <NotificationCard \n                            classes={classes} details={row} \n                            key={row.notification_id}\n                            toggleNotifStatus={toggleNotifStatus}\n                            goToLink={goToLink}\n                        />)\n                    )\n                }\n            </div>\n\n            <Typography variant=\"h6\" className={classes.sectionHead} style={{ marginTop: 24 }}>\n                Previous notifications\n            </Typography>\n\n            <div className={classes.cardSection}>\n                {\n                    batch_read_notifs.length === 0 ? <Typography variant=\"body1\" component=\"div\" className={classes.noNotifs}>\n                        No previous notifications\n                    </Typography> : (\n                        batch_read_notifs.map(row => <NotificationCard \n                            classes={classes} details={row} \n                            key={`notification-${ row.notification_id}`}\n                            toggleNotifStatus={toggleNotifStatus}\n                            goToLink={goToLink}\n                        />)\n                    )\n                }\n            </div>\n\n            <Box display=\"flex\" justifyContent=\"space-between\" alignItems=\"baseline\">\n                { has_unloaded_read_notifs && <Button color=\"primary\" onClick={() => setReadBatch(read_batch + 1)}>Load more previous notifications...</Button> }\n            </Box>\n        </Fragment>\n    );\n}\n\nexport default NotificationsTab;","import React, { useState, useContext } from \"react\";\n\nimport {\n    AppBar, Toolbar, Typography,\n    Menu, MenuItem, IconButton,\n    Badge, Button, makeStyles,\n    Paper, Slide, Backdrop\n} from \"@material-ui/core\";\nimport {\n    Menu as MenuIcon,\n    AccountCircle,\n    Mail as MailIcon,\n    Notifications as NotificationsIcon,\n    ExitToApp\n} from \"@material-ui/icons\";\n\nimport NotificationsTab from \"../widgets/notifications/NotificationsTab\";\nimport PhivolcsDynaslopeLogo from \"../../images/phivolcs-dynaslope-logo.png\";\nimport GeneralStyles from \"../../GeneralStyles\";\nimport { logout, getCurrentUser } from \"../sessions/auth\";\nimport { NotificationsContext } from \"../contexts/NotificationsContext\";\n\nconst useStyles = makeStyles(theme => ({\n    ...GeneralStyles(theme),\n    root: {\n        width: \"100%\",\n    },\n    grow: {\n        flexGrow: 1,\n    },\n    menuButton: {\n        display: \"flex\",\n        marginLeft: -12,\n        marginRight: 0,\n        [theme.breakpoints.up(\"md\")]: {\n            display: \"none\"\n        },\n    },\n    projectTitle: {\n        display: \"block\",\n        fontWeight: 900\n    },\n    titleBlock: {\n        display: \"block\",\n        margin: \"0 4px\",\n        alignItems: \"center\", \n        textAlign: \"center\",\n        justifyContent: \"center\",\n    },\n    projectSubtitle: {\n        display: \"none\",\n        fontSize: \"0.7rem\",\n        marginTop: -3,\n        [theme.breakpoints.up(\"md\")]: {\n            display: \"block\",\n        }\n    },\n    logo: {\n        marginRight: 12,\n        [theme.breakpoints.down(\"sm\")]: {\n            marginRight: 0\n        }\n    },\n    sectionDesktop: {\n        display: \"none\",\n        [theme.breakpoints.up(\"md\")]: {\n            display: \"flex\",\n            padding: \"4px 0\"\n        }\n    },\n    list: {\n        width: 250,\n    },\n    menu: { marginTop: 40 },\n    icon: { paddingRight: theme.spacing(2) },\n    paper: {\n        position: \"fixed\",\n        right: 0,\n        width: \"45vw\",\n        [theme.breakpoints.down(\"sm\")]: {\n            width: \"55vw\"\n        },\n        [theme.breakpoints.up(\"lg\")]: {\n            width: \"40vw\"\n        },\n        height: \"100vh\",\n        zIndex: 1300,\n        padding: 24,\n        overflowY: \"auto\",\n        boxSizing: \"border-box\"\n    },\n    backdrop: { zIndex: 1299 }\n}));\n  \nfunction Header (props) {\n    const {\n        drawerHandler, history,\n        onLogout\n    } = props;\n    const [anchorEl, setAnchorEl] = useState(null);\n    const classes = useStyles();\n\n    const handleClick = event => {\n        setAnchorEl(event.currentTarget);\n    };\n    \n    const handleClose = () => {\n        setAnchorEl(null);\n    };\n    \n    const onClickProfile = () => {\n        history.push(\"/profile\");\n        handleClose();\n    };\n\n    const onClickLogout = () => {\n        logout(() => {\n            onLogout();\n            history.push(\"/login\");\n        });\n    };\n\n    const { user_id, first_name } = getCurrentUser();\n    const { notifications_object, setNotificationCountToZero, getUserNotifications } = useContext(NotificationsContext);\n    const { count } = notifications_object;\n    const [is_notif_open, setIsNotifOpen] = useState(false);\n\n    const handleOpenNotif = () => {\n        setIsNotifOpen(true);\n        document.body.style.overflow = \"hidden\";\n        getUserNotifications();\n        console.log(\"notifications_object open\", notifications_object);\n    };\n\n    const handleCloseNotif = () => {\n        setIsNotifOpen(false);\n        document.body.style.overflow = \"auto\";\n        setNotificationCountToZero(user_id);\n        console.log(\"notifications_object close\", notifications_object);\n    };\n\n    return (\n        <div className={classes.root}>\n            <AppBar position=\"fixed\" color=\"primary\">\n                <Toolbar>\n                    <IconButton\n                        onClick={drawerHandler(true)}\n                        className={classes.menuButton}\n                        color=\"inherit\"\n                        aria-label=\"Open drawer\"\n                    >\n                        <MenuIcon />\n                    </IconButton>\n\n                    <img\n                        src={PhivolcsDynaslopeLogo}\n                        alt=\"PHIVOLCS-Dynaslope Logo\"\n                        className={`${classes.phivolcsDynaslopeLogo} ${classes.logo} ${classes.sectionDesktop}`}\n                    />\n\n                    <div className={classes.titleBlock}>\n                        <Typography className={classes.projectTitle} variant=\"h4\" color=\"inherit\" noWrap>\n                            MIA 3.0\n                        </Typography>\n                        <Typography variant=\"caption\" className={classes.projectSubtitle} color=\"inherit\">\n                            Monitoring and Information Application\n                        </Typography>\n                    </div>\n\n                    <div className={classes.grow} />\n                    <div className={classes.sectionDesktop}>\n                        {/* <IconButton color=\"inherit\">\n                            <Badge badgeContent={4} color=\"secondary\">\n                                <MailIcon />\n                            </Badge>\n                        </IconButton> */}\n\n                        <IconButton color=\"inherit\" onClick={handleOpenNotif}>\n                            <Badge badgeContent={count} color=\"secondary\">\n                                <NotificationsIcon />\n                            </Badge>\n                        </IconButton>\n\n                        <Button\n                            aria-owns=\"menu-list-grow\"\n                            aria-haspopup=\"true\"\n                            onClick={handleClick}\n                            color=\"inherit\"\n                            startIcon={<AccountCircle />}\n                        >\n                            <strong>{first_name}</strong>\n                        </Button>\n                    </div>\n                </Toolbar>\n            </AppBar>\n\n            <Menu\n                id=\"simple-menu\"\n                anchorEl={anchorEl}\n                keepMounted\n                open={Boolean(anchorEl)}\n                onClose={handleClose}\n                className={classes.menu}\n            >\n                <MenuItem onClick={onClickProfile}>\n                    <AccountCircle className={classes.icon} /> Profile\n                </MenuItem>\n                <MenuItem onClick={onClickLogout}>\n                    <ExitToApp className={classes.icon} /> Logout\n                </MenuItem>\n            </Menu>\n\n            <Slide direction=\"left\" in={is_notif_open} mountOnEnter>\n                <Paper \n                    elevation={4}\n                    className={classes.paper}\n                >\n                    <NotificationsTab history={history} handleCloseNotif={handleCloseNotif} />\n                </Paper>\n            </Slide>\n\n            <Backdrop open={is_notif_open} className={classes.backdrop} onClick={handleCloseNotif} />\n        </div>\n    );\n}\n  \nexport default Header;\n","import React, { useState, useEffect, Fragment, useContext } from \"react\";\nimport { Link } from \"react-router-dom\";\n\nimport {\n    AppBar, Tabs, Tab,\n    MenuItem, MenuList,\n    Popper, Paper, Grow, ClickAwayListener,\n    makeStyles, Grid,\n    Typography\n} from \"@material-ui/core\";\nimport withWidth, { isWidthUp } from \"@material-ui/core/withWidth\";\n\nimport moment from \"moment\";\n\nimport ScreenDrawer from \"./ScreenDrawer\";\nimport { ServerTimeContext } from \"../contexts/ServerTimeContext\";\n\nconst useStyles = makeStyles(theme => ({\n    navBar: {\n        display: \"none\",\n        [theme.breakpoints.up(\"md\")]: {\n            display: \"block\",\n        }\n    },\n    appBar: { top: 70 },\n    popper: {\n        zIndex: 500,\n        marginTop: 2\n    },\n    list: { width: 250 },\n    link: { \n        textDecoration: \"none\",\n        color: \"blue\"\n    }\n}));\n\nconst navigation_labels = [\n    {\n        key: \"monitoring\",\n        main: \"Monitoring\",\n        sub: [\n            {\n                label: \"Dashboard\",\n                link: \"/\"\n            },\n            {\n                label: \"Events Table\",\n                link: \"/monitoring/events\"\n            },\n            {\n                label: \"Shifts and Reports\",\n                link: \"/monitoring/shifts_and_reports\"\n            },\n            {\n                label: \"Issues and Reminders\",\n                link: \"/monitoring/issues_and_reminders\"\n            },\n            {\n                label: \"Site Logs\",\n                link: \"/monitoring/logs\"\n            },\n            {\n                label: \"Quality Assurance\",\n                link: \"/monitoring/qa\",\n            }\n        ]\n    },\n    {\n        key: \"analysis\",\n        main: \"Analysis\",\n        sub: [\n            {\n                label: \"Site Data Analytics\",\n                link: \"/analysis/sites\"\n            },\n            {\n                label: \"Communications Analytics\",\n                link: \"/analysis/communications\",\n                soon: true\n            },\n            {\n                label: \"Monitoring Alerts Analytics\",\n                link: \"/analysis/alerts\"\n            },\n            {\n                divider: true\n            },\n            {\n                label: \"Loggers and Sensors Form\",\n                link: \"/analysis/forms/loggers_and_sensors\"\n            }\n        ]\n    },\n    {\n        key: \"communication\",\n        main: \"Communication\",\n        sub: [\n            {\n                label: \"Chatterbox\",\n                link: \"/communication/chatterbox\"\n            },\n            {\n                label: \"Contacts\",\n                link: \"/communication/contacts\"\n            },\n            {\n                label: \"Mailbox\",\n                link: \"/communication/mailbox\"\n            }\n        ]\n    },\n    {\n        key: \"community\",\n        main: \"Community\",\n        sub: [\n            {\n                label: \"Site Information\",\n                link: \"/community/site_info\"\n            },\n            {\n                label: \"Stakeholders' Concerns\",\n                link: \"/community/concerns\",\n                soon: true\n            },\n            {\n                label: \"Community Feedback\",\n                link: \"/community/feedback\",\n                soon: true\n            }\n        ]\n    },\n    {\n        key: \"knowledge\",\n        main: \"Knowledge Management\",\n        sub: [\n            {\n                label: \"Protocols\",\n                link: \"/knowlegde/protocols\",\n                soon: true\n            },\n            {\n                label: \"Papers\",\n                link: \"/knowledge/papers\",\n                soon: true\n            }\n        ]\n    }\n];\n\nfunction Navigation (props) {\n    const {\n        width, drawerHandler, drawer,\n        history, onLogout\n    } = props;\n    const classes = useStyles();\n\n    const { pathname } = window.location;\n    const path = pathname.split(\"/\")[1];\n    const index = navigation_labels.findIndex(obj => obj.key === path);\n\n    const [value, setValue] = useState(index === -1 ? 0 : index);\n    const [from_tab, setFromTab] = useState(null);\n    const [last_clicked_tab, setLastClickedTab] = useState(null);\n    const [popper_open, setPopperOpen] = useState(false);\n    const [anchorEl, setAnchorE1] = useState(null);\n    const { server_time } = useContext(ServerTimeContext);\n\n    const tab = value === from_tab && last_clicked_tab !== null ? last_clicked_tab : value;\n    const { sub } = navigation_labels[tab];\n\n    useEffect(() => {\n        setLastClickedTab(value);\n    }, [value]);\n\n    const handleTabChange = (event, val) => {\n        setValue(val);\n    };\n\n    const handleNavTabClick = event => { \n        const old_value = value;\n\n        setPopperOpen(true);\n        setAnchorE1(event.currentTarget);\n        setFromTab(old_value);\n    };\n\n    const handlePopperClickAway = event => {\n        if (anchorEl.contains(event.target)) {\n            return;\n        }\n        \n        setPopperOpen(false);\n        setTimeout(() => setValue(from_tab), 100);\n    };\n\n    const handleMenuClick = event => {\n        setPopperOpen(false);\n    };\n\n    return (\n        <Fragment>\n            <div className={classes.navBar}>\n                <AppBar position=\"fixed\" color=\"default\" className={classes.appBar}>\n                    <Grid container spacing={0} alignItems=\"center\">\n                        <Grid item xs={10}>\n                            <Tabs\n                                value={value}\n                                onChange={handleTabChange}\n                                indicatorColor=\"primary\"\n                                textColor=\"primary\"\n                                variant={isWidthUp(\"md\", width) ? \"standard\" : \"scrollable\"}\n                                scrollButtons=\"on\"\n                                centered={isWidthUp(\"md\", width)}\n                            >\n                                {navigation_labels.map(({ main, key }) => \n                                    <Tab\n                                        key={key}\n                                        label={main}\n                                        aria-owns={popper_open ? \"monitoring-menu\" : null}\n                                        aria-haspopup=\"true\"\n                                        onClick={handleNavTabClick}\n                                    />\n                                )}\n                            </Tabs>\n                        </Grid>\n                        <Grid item xs={2} align=\"center\">\n                            <Typography variant=\"button\">\n                                {\n                                    server_time \n                                        ? moment(server_time).format(\"ddd DD-MMM-YYYY HH:mm:ss\")\n                                        : \"Loading server time...\"\n                                }\n                            </Typography>\n                        </Grid>\n                    </Grid>\n                </AppBar>\n            </div>\n\n            <Popper\n                className={classes.popper}\n                open={popper_open}\n                anchorEl={anchorEl}\n                transition\n                disablePortal\n            >\n                {({ TransitionProps, placement }) => (\n                    <Grow\n                        {...TransitionProps}\n                        id=\"monitoring-menu\"\n                        style={{ transformOrigin: placement === \"bottom\" ? \"center top\" : \"center bottom\" }}\n                    >\n                        <Paper>\n                            <ClickAwayListener onClickAway={handlePopperClickAway}>\n                                <MenuList>\n                                    {\n                                        sub.map((row, i) => {\n                                            const { label, link, soon, divider } = row;\n                                            const disabled = typeof soon !== \"undefined\";\n                                            if (disabled) {\n                                                return (\n                                                    <MenuItem\n                                                        key={label}\n                                                        onClick={handleMenuClick}\n                                                        disabled={disabled}\n                                                    >\n                                                        {label}\n                                                        {\n                                                            disabled && <Typography\n                                                                component=\"span\"\n                                                                variant=\"overline\"\n                                                                style={{ paddingLeft: 4 }}\n                                                            >\n                                                                SOON\n                                                            </Typography>\n                                                        }\n                                                    </MenuItem>\n                                                );\n                                            }\n\n                                            if (typeof divider !== \"undefined\") {\n                                                return (\n                                                    <MenuItem\n                                                        key={i}\n                                                        divider button={false}\n                                                        style={{ paddingTop: 2, marginBottom: 8 }}/>\n                                                );\n                                            }\n\n                                            return (\n                                                <Link\n                                                    to={link}\n                                                    key={label}\n                                                    className={classes.link}\n                                                >\n                                                    <MenuItem \n                                                        onClick={handleMenuClick}\n                                                    >\n                                                        {label}\n                                                    </MenuItem>\n                                                </Link>\n                                            );\n                                        })\n                                    }\n                                </MenuList>\n                            </ClickAwayListener>\n                        </Paper>\n                    </Grow>\n                )}\n            </Popper>\n                \n            <ScreenDrawer\n                drawer={drawer}\n                drawerHandler={drawerHandler}\n                navigationLabels={navigation_labels}\n                history={history}\n                onLogout={onLogout}\n            />\n        </Fragment>\n    );\n}\n\nexport default React.memo(withWidth()(Navigation));","import React from \"react\";\nimport { Typography } from \"@material-ui/core\";\nimport { withStyles } from \"@material-ui/core/styles\";\n\nconst styles = theme => ({\n    pageTitleContainer: {\n        margin: \"24px 0 18px\",\n        [theme.breakpoints.down(\"sm\")]: {\n            margin: \"10px 0 10px\",\n        }\n    },\n    pageTitle: {\n        fontSize: \"0.85rem\"\n    },\n    hasCustomButtons: {\n        display: \"flex\",\n        alignItems: \"baseline\",\n        justifyContent: \"space-between\",\n        paddingTop: 12,\n        paddingBottom: 12\n    }\n});\n\nfunction PageTitle ({ title, classes, customButtons }) {\n    const has_custom_buttons = customButtons === undefined\n        ? false\n        : customButtons;\n\n    let c_classes = classes.pageTitleContainer;\n    if (has_custom_buttons) c_classes += ` ${classes.hasCustomButtons}`;\n\n    return (\n        <div className={c_classes}>\n            <Typography variant=\"overline\" className={classes.pageTitle}>{ title }</Typography>\n\n            {customButtons}\n        </div>\n    );\n}\n\nexport default withStyles(styles)(PageTitle);","import React from \"react\";\nimport { withStyles } from \"@material-ui/core/styles\";\nimport { AppBar, Tabs, Tab, NoSsr } from \"@material-ui/core\";\n\nconst preventDefault = event => {\n    event.preventDefault();\n};\n\nfunction LinkTab (props) {\n    return <Tab component=\"a\" onClick={preventDefault} {...props} />;\n}\n\nconst styles = theme => ({\n    root: {\n        flexGrow: 1\n    },\n});\n\nfunction TabBar (props) {\n    const { chosenTab, onSelect, tabsArray, classes } = props;\n\n    const onIndexSelect = (e, i) => {\n        onSelect(i);\n    };\n\n    return (\n        <NoSsr>\n            <AppBar position=\"static\" color=\"default\" className={classes.root}>\n                <Tabs \n                    variant=\"fullWidth\"\n                    value={chosenTab}\n                    onChange={onIndexSelect}\n                >\n                    {\n                        tabsArray.map(tab => {\n                            const { label, href } = tab;\n                            return (\n                                <LinkTab label={label} href={href} key={href} />\n                            );\n                        })\n                    }\n                </Tabs>\n            </AppBar>\n        </NoSsr>\n    );\n}\n\nexport default withStyles(styles)(TabBar);","import io from \"socket.io-client\";\nimport { host } from \"../config\";\n\nlet socket;\n\nfunction connectToWebsocket () {\n    if (typeof socket === \"undefined\" || socket === null) {\n        socket = io(`${host}/monitoring`, {\n            reconnectionDelay: 10000,\n            reconnectionAttempts: 30,\n            transports: [\"websocket\"]\n        });\n    }\n}\n\nexport function subscribeToWebSocket (reconnect_callback) {\n    connectToWebsocket();\n\n    socket.on(\"reconnecting\", () => {\n        reconnect_callback(true);\n    });\n\n    socket.on(\"reconnect\", () => {\n        reconnect_callback(false);\n    });\n\n    socket.on(\"reconnect_failed\", () => {\n        // reconnect_callback(false);\n        console.log(\"failed\");\n    });\n}\n\nexport function sendWSMessage (key, data = null) {\n    connectToWebsocket();\n    console.log(\"Payload: { key: data }\", key, data);\n    const payload = {\n        data,\n        key\n    };\n    socket.send(payload);\n}\n\nexport function onWSMessage (message) {\n    connectToWebsocket();\n    \n    socket.on(\"message\", (msg) => {\n        console.log(msg);\n    });\n}\n\nexport function unsubscribeToWebSocket () {\n    socket.close();\n    socket = null;\n}\n\n// Receiver Callback Functions\nexport function receiveIssuesAndReminders (callback) {\n    connectToWebsocket();\n\n    socket.on(\"receive_issues_and_reminders\", data => {\n        const temp = JSON.parse(data);\n        callback(temp);\n    });\n}\n\nexport function receiveGeneratedAlerts (callback) {\n    connectToWebsocket();\n\n    socket.on(\"receive_generated_alerts\", data => {\n        const temp = JSON.parse(data);\n        console.log(\"Generated alerts: \", temp);\n        callback(temp);\n    });\n}\n\nexport function receiveCandidateAlerts (callback) {\n    connectToWebsocket();\n\n    socket.on(\"receive_candidate_alerts\", data => {\n        const temp = JSON.parse(data);\n        console.log(\"Candidate alerts: \", temp);\n        callback(temp);\n    });\n}\n\nexport function receiveAlertsFromDB (callback) {\n    connectToWebsocket();\n\n    socket.on(\"receive_alerts_from_db\", data => {\n        const temp = JSON.parse(data);\n        console.log(\"Alerts from DB: \", temp);\n        callback(temp);\n    });\n}\n\nexport function receiveAllSiteRainfallData (callback) {\n    connectToWebsocket();\n\n    socket.on(\"receive_rainfall_data\", data => {\n        const temp = JSON.parse(data);\n        console.log(\"All Site Rainfall Data: \", temp);\n        callback(temp);\n    });\n}\n\nexport function receiveEWIInsertResponse (callback) {\n    connectToWebsocket();\n\n    socket.on(\"receive_ewi_insert_response\", data => {\n        const temp = JSON.parse(data);\n        callback(temp);\n    });\n}\n","import React, { useState, Fragment } from \"react\";\nimport ReactDOM from \"react-dom\";\n// import moment from \"moment\";\nimport {\n    Radio, RadioGroup, Dialog, TextField, DialogTitle, DialogContent,\n    DialogContentText, DialogActions,\n    Button, withMobileDialog,\n    FormControlLabel, FormControl\n} from \"@material-ui/core\";\nimport { sendWSMessage } from \"../../../websocket/monitoring_ws\";\nimport { getCurrentUser } from \"../../sessions/auth\";\n\n// eslint-disable-next-line max-params\nfunction validate_trigger (site_code, trigger_id, trigger_ts, alert_status, remarks, user_id) {\n    const data = {\n        site_code,\n        alert_status,\n        trigger_id,\n        trigger_ts,\n        remarks,\n        user_id\n    };\n    sendWSMessage(\"validate_trigger\", data);\n}\n\nconst ValidationModal = props => {\n    const {\n        isShowing, hide, data,\n        isValidating\n    } = props;\n    const { site, trigger_id, ts_updated } = data;\n    const [triggerValidity, setTriggerValidity] = useState(\"\");\n    const [remarks, setRemarks] = useState(\"\");\n    const current_user = getCurrentUser();\n    const validation_data = { site, trigger_id, ts_updated, triggerValidity, remarks, user_id: current_user.user_id };\n\n    function handleChange (event) {\n        const trigger_validity = Number.parseInt(event.target.value, 10);\n        setTriggerValidity(trigger_validity);\n    }\n\n    function handleRemarksChange (event) {\n        setRemarks(event.target.value);\n    }\n\n    function handleClose () {\n        hide();\n        setTriggerValidity(\"\");\n        setRemarks(\"\");\n    }\n\n    const handleOnClick = key => event => {\n        validate_trigger(site, trigger_id, ts_updated, triggerValidity, remarks, current_user.user_id);\n        hide();\n        setTriggerValidity(\"\");\n        setRemarks(\"\");\n    };\n\n    const disabled = triggerValidity === \"\";\n\n    return isShowing ? ReactDOM.createPortal(\n        <Fragment>\n            <Dialog open onClose={handleClose} aria-labelledby=\"form-dialog-title\">\n                <DialogTitle id=\"form-dialog-title\">Validate Trigger</DialogTitle>\n                <DialogContent>\n                    <DialogContentText>\n                        Select whether trigger is valid or invalid. Also, provide remarks.\n                    </DialogContentText>\n                    <FormControl component=\"fieldset\" style={{ display: \"flex\" }}>\n                        <RadioGroup\n                            aria-label=\"trigger_validity\"\n                            name=\"trig_validity_1\"\n                            row\n                            style={{ justifyContent: \"space-around\" }}\n                            value={triggerValidity}\n                            onChange={handleChange}\n                        >\n                            <FormControlLabel value={1} control={<Radio />} label=\"Valid\" />\n                            {\n                                !isValidating && (\n                                    <FormControlLabel value={0} control={<Radio />} label=\"Validating\" />\n                                )\n                            }\n                            <FormControlLabel value={-1} control={<Radio />} label=\"Invalid\" />\n                        </RadioGroup>\n                    </FormControl>\n                    <TextField\n                        autoFocus\n                        margin=\"dense\"\n                        id=\"remarks\"\n                        label=\"Remarks\"\n                        onChange={handleRemarksChange}\n                        value={remarks}\n                        fullWidth\n                    />\n                </DialogContent>\n                <DialogActions>\n                    <Button onClick={handleClose} color=\"primary\">\n                        Cancel\n                    </Button>\n                    <Button onClick={handleOnClick(validation_data)} color=\"primary\" disabled={disabled}>\n                        Confirm\n                    </Button>\n                </DialogActions>\n            </Dialog>\n        </Fragment>, document.body\n    ) : null;\n};\n\n\nexport default withMobileDialog()(ValidationModal);\n","import { useState } from \"react\";\n\nconst useModal = () => {\n    const [isShowing, setIsShowing] = useState(false);\n\n    function toggle () {\n        setIsShowing(!isShowing);\n    }\n\n    return {\n        isShowing,\n        toggle,\n    };\n};\n\nexport default useModal;\n","import React, { useState, useEffect, useRef, Fragment } from \"react\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport withWidth, { isWidthUp } from \"@material-ui/core/withWidth\";\nimport { Typography, Grid, Divider, CircularProgress } from \"@material-ui/core\";\nimport PhivolcsLetterHead from \"../../../images/phivolcs-letter-head.png\";\nimport PhivolcsLetterFooter from \"../../../images/phivolcs-letter-footer.png\";\nimport { getBulletinDetails } from \"./ajax\";\nimport { prepareSiteAddress } from \"../../../UtilityFunctions\";\n\nconst useStyle = releaseId => makeStyles(theme => {\n    let temp;\n    if (typeof releaseId === \"undefined\") {\n        temp = {\n            letterHeadContainer: {\n                width: \"inherit\",\n                height: \"auto\",\n                boxSizing: \"border-box\",\n                padding: \"28px 44px\",\n                [theme.breakpoints.only(\"md\")]: {\n                    padding: \"58.3324px 91.6652px\",\n                },\n                [theme.breakpoints.up(\"lg\")]: {\n                    padding: \"116.6648px 183.3304px\",\n                }\n            },\n            letterFooterContainer: {\n                paddingTop: 0,\n                marginTop: 16,\n                [theme.breakpoints.only(\"md\")]: {\n                    marginTop: \"33.3328px\",\n                },\n                [theme.breakpoints.up(\"lg\")]: {\n                    marginTop: \"66.6656px\",\n                }\n            },\n            phivolcsLetterHead: {\n                maxWidth: \"100%\",\n                maxHeight: \"100%\",\n                height: \"auto\"\n            },\n            body: {\n                padding: \"0 44px\",\n                height: 629, maxHeight: 629,\n                overflowY: \"hidden\",\n                [theme.breakpoints.only(\"md\")]: {\n                    padding: \"0 91.6652px\",\n                    height: 1310.3957, maxHeight: 1310.3957\n                },\n                [theme.breakpoints.up(\"lg\")]: {\n                    padding: \"0 183.3304px\",\n                    height: 2620.7914, maxHeight: 2620.7914\n                }\n            },\n            title: {\n                marginBottom: 16,\n                fontSize: \"0.8rem\",\n                [theme.breakpoints.only(\"md\")]: {\n                    marginBottom: 33.3328,\n                    fontSize: \"1.6664rem\"\n                },\n                [theme.breakpoints.up(\"lg\")]: {\n                    marginBottom: 66.6656,\n                    fontSize: \"3.47111rem\"\n                }\n            },\n            mainInfo: {\n                border: \"0.5px solid black\",\n                padding: \"8px 12px\",\n                fontSize: \"0.65rem\",\n                letterSpacing: 0,\n                marginBottom: 12,\n                [theme.breakpoints.only(\"md\")]: {\n                    padding: \"16.6664px 24.9996px\",\n                    fontSize: \"1.354145rem\",\n                    marginBottom: 24.9996\n                },\n                [theme.breakpoints.up(\"lg\")]: {\n                    padding: \"33.3328px 49.9992px\",\n                    fontSize: \"2.70829rem\",\n                    marginBottom: 49.9992\n                }\n            },\n            sectionHeader: {\n                fontSize: \"0.7rem\",\n                [theme.breakpoints.only(\"md\")]: {\n                    fontSize: \"1.45831rem\"\n                },\n                [theme.breakpoints.up(\"lg\")]: {\n                    fontSize: \"2.91662rem\"\n                }\n            },\n            sectionDetails: {\n                fontSize: \"0.65rem\",\n                [theme.breakpoints.only(\"md\")]: {\n                    fontSize: \"1.354145rem\"\n                },\n                [theme.breakpoints.up(\"lg\")]: {\n                    fontSize: \"2.70829rem\"\n                }\n            },\n            indent: {\n                marginLeft: 24,\n                [theme.breakpoints.only(\"md\")]: {\n                    marginLeft: 49.9992\n                },\n                [theme.breakpoints.up(\"lg\")]: {\n                    marginLeft: 99.9984\n                }\n            },\n            divider: { margin: \"12px 0px 2px\" },\n            releaseDetailsArea: {\n                display: \"flex\",\n                justifyContent: \"space-between\"\n            }\n        };\n    } else {\n        temp = {\n            letterHeadContainer: {\n                width: \"inherit\",\n                height: \"auto\",\n                boxSizing: \"border-box\",\n                padding: \"7px 11px\",\n                [theme.breakpoints.only(\"md\")]: {\n                    padding: \"20px 22.9163px\",\n                },\n                [theme.breakpoints.up(\"lg\")]: {\n                    padding: \"29.1662px 45.8326px\",\n                }\n            },\n            letterFooterContainer: {\n                paddingTop: 0,\n                marginTop: 16,\n                [theme.breakpoints.only(\"md\")]: {\n                    marginTop: \"8.3332px\",\n                },\n                [theme.breakpoints.up(\"lg\")]: {\n                    marginTop: \"16.6664px\",\n                }\n            },\n            phivolcsLetterHead: {\n                maxWidth: \"100%\",\n                maxHeight: \"100%\",\n                height: \"auto\"\n            },\n            body: {\n                overflowY: \"hidden\",\n                padding: \"0 11px\",\n                height: \"100%\", maxHeight: \"100%\",\n                [theme.breakpoints.only(\"md\")]: {\n                    padding: \"0 22.9163px\",\n                    height: \"100%\", maxHeight: \"100%\"\n                },\n                [theme.breakpoints.up(\"lg\")]: {\n                    padding: \"0 45.8326px\",\n                    height: \"100%\", maxHeight: \"100%\"\n                }\n            },\n            title: {\n                marginBottom: 4,\n                fontSize: \"0.65625rem\",\n                [theme.breakpoints.only(\"md\")]: {\n                    // marginBottom: 8.3332,\n                    // fontSize: \"0.91144375rem\"\n                    marginBottom: 16,\n                    fontSize: \"1.45rem\",\n                },\n                [theme.breakpoints.up(\"lg\")]: {\n                    marginBottom: 33.3328,\n                    fontSize: \"1.367163rem\"\n                }\n            },\n            mainInfo: {\n                border: \"0.5px solid black\",\n                letterSpacing: 0,\n                padding: \"2px 3px\",\n                fontSize: \"0.4875rem\",\n                marginBottom: 3,\n                [theme.breakpoints.only(\"md\")]: {\n                    padding: \"10px 16px\",\n                    fontSize: \"1rem\",\n                    marginBottom: 12\n                },\n                [theme.breakpoints.up(\"lg\")]: {\n                    padding: \"8.3332px 12.4998px\",\n                    fontSize: \"1.01560875rem\",\n                    marginBottom: 12.4998\n                }\n            },\n            sectionHeader: {\n                fontSize: \"0.525rem\",\n                [theme.breakpoints.only(\"md\")]: {\n                    fontSize: \"1.2rem\"\n                },\n                [theme.breakpoints.up(\"lg\")]: {\n                    fontSize: \"1.0937325rem\"\n                }\n            },\n            sectionDetails: {\n                fontSize: \"0.4875rem\",\n                [theme.breakpoints.only(\"md\")]: {\n                    fontSize: \"1rem\"\n                },\n                [theme.breakpoints.up(\"lg\")]: {\n                    fontSize: \"1.01560875rem\"\n                }\n            },\n            indent: {\n                marginLeft: 6,\n                [theme.breakpoints.only(\"md\")]: {\n                    marginLeft: 12.4998\n                },\n                [theme.breakpoints.up(\"lg\")]: {\n                    marginLeft: 24.9996\n                }\n            },\n            divider: { margin: \"12px 0px 2px\" },\n            releaseDetailsArea: {\n                display: \"flex\",\n                justifyContent: \"space-between\"\n            }\n        };\n    }\n    return (temp);\n});\n\n\nfunction getHeightWithMargin (element, margin_only = false) {\n    const { offsetHeight: offset } = element;\n    const { marginBottom, marginTop } = getComputedStyle(element);\n    const margins = parseFloat(marginBottom) + parseFloat(marginTop);\n    if (margin_only) return margins;\n    return offset + margins;\n}\n\nfunction LetterHead (props) {\n    const { classes } = props;\n    return (\n        <div id=\"letter-head\" className={classes.letterHeadContainer}>\n            <img\n                src={PhivolcsLetterHead}\n                alt=\"PHIVOLCS Letter Head\"\n                className={classes.phivolcsLetterHead}\n            />\n        </div>\n    );\n}\n\nfunction LetterFooter (props) {\n    const { classes } = props;\n    return (\n        <div id=\"letter-foot\" className={`${classes.letterHeadContainer} ${classes.letterFooterContainer}`}>\n            <img\n                src={PhivolcsLetterFooter}\n                alt=\"PHIVOLCS Letter Footer\"\n                className={classes.phivolcsLetterHead}\n            />\n        </div>\n    );\n}\n\nfunction TitleAndMainInfo (props) {\n    const { classes, bulletinDetail, isMD } = props;\n\n    const {\n        bulletin_control_code, site_address, data_ts,\n        alert_description_group, recommended_response\n    } = bulletinDetail;\n\n    return (\n        <Fragment>\n            <Typography variant=\"body2\" align=\"center\" className={classes.title}>\n                <strong>DYNASLOPE LANDSLIDE ALERT LEVEL INFORMATION: {bulletin_control_code}</strong>\n            </Typography>\n\n            <Typography variant=\"body2\" component=\"div\" className={classes.mainInfo}>\n                <Grid container spacing={isMD ? 2 : 1}>\n                    <Grid item xs={4}>Location:</Grid>\n                    <Grid item xs={8}><strong>{site_address}</strong></Grid>\n\n                    <Grid item xs={4}>Date/Time:</Grid>\n                    <Grid item xs={8}><strong>{data_ts}</strong></Grid>\n\n                    <Grid item xs={4}>Alert Level Released:</Grid>\n                    <Grid item xs={8}><strong>{alert_description_group}</strong></Grid>\n\n                    <Grid item xs={4}>Recommended Response:</Grid>\n                    <Grid item xs={8}><strong>{recommended_response}</strong></Grid>\n                </Grid>\n            </Typography>\n        </Fragment>\n    );\n}\n\nfunction BulletinTemplate (props) {\n    const { releaseId, width } = props;\n    const classes = useStyle(releaseId)();\n    const [excess_divs, setExcessDivs] = useState([]);\n    const [is_bulletin_ready, setIsBulletinReady] = useState(false);\n\n    const [is_loaded, setIsLoaded] = useState(false);\n    const content_body = useRef(null);\n    const [bulletin_detail, setBulletinDetails] = useState({\n        site: {},\n        alert_level: 0,\n        bulletin_control_code: \"\",\n        site_address: \"\",\n        alert_description_group: \"\",\n        recommended_response: \"\",\n        community_response: \"\",\n        lewc_lgu_response: \"\",\n        households_at_risk: \"\",\n        has_ground_trigger: false,\n        ground_movement_details: \"\",\n        prepared_triggers: [],\n        no_data_triggers: [],\n        publishers: \"\",\n        next_ewi_release_ts: \"\"\n    });\n\n    const {\n        alert_level,\n        community_response, households_at_risk,\n        lewc_lgu_response, prepared_triggers, has_ground_trigger,\n        site: { barangay }, no_data_triggers, publishers,\n        next_ewi_release_ts, ground_movement_details\n    } = bulletin_detail;\n\n    const is_md = isWidthUp(\"md\", width);\n\n    useEffect(() => {\n        let temp = releaseId;\n        if (typeof releaseId === \"undefined\") {\n            const { match: { params: { release_id } } } = props;\n            temp = release_id;\n        } \n        \n        getBulletinDetails(temp, data => {\n            const { site } = data;\n            const site_address = prepareSiteAddress(site, false);\n\n            const details = {\n                ...data,\n                site_address\n            };\n            setIsBulletinReady(true);\n            setBulletinDetails(details);\n        });\n    }, []);\n\n    useEffect(() => {\n        if (content_body.current !== null) {\n            const { current: parent } = content_body;\n            const children = Array.from(parent.children);\n            let total_height = 0;\n            children.forEach((node, index) => {\n                if (node.id !== \"subcontent\") {\n                    total_height += getHeightWithMargin(node);\n                } else {\n                    total_height += getHeightWithMargin(node, true);\n    \n                    const sub_children = Array.from(node.children);\n                    const excess = [];\n                    sub_children.forEach(sub => {\n                        const sub_h = getHeightWithMargin(sub);\n                        if (total_height + sub_h < 1310.3957) { // 629\n                            total_height += sub_h;\n                        } else {\n                            total_height += sub_h;\n                            excess.push(sub.children[0]);\n                            sub.setAttribute(\"style\", \"display: none\");\n                        }\n                    });\n    \n                    setExcessDivs(excess);\n                }\n            });\n    \n            if (bulletin_detail.site_address !== \"\") setIsLoaded(true);\n        }\n    }, [bulletin_detail, content_body]);\n\n    let is_ground_movement_section_printed = false;\n    return (\n        <Fragment>\n            {\n                is_bulletin_ready ? (\n                    <Fragment>\n                        <div id=\"bulletin-root\" className={classes.root}>\n                            <LetterHead classes={classes} />\n                        \n                            <div id=\"bulletin-content\" className={classes.body} ref={content_body}> \n                                <TitleAndMainInfo \n                                    classes={classes} \n                                    bulletinDetail={bulletin_detail}\n                                    isMD={is_md}\n                                />\n\n                                <Grid container spacing={is_md ? 2 : 1} id=\"subcontent\">\n                                    <Grid item xs={12}>\n                                        <Typography variant=\"body2\" className={classes.sectionHeader}>\n                                            <strong><u>AREA SITUATION</u>:</strong>\n                                        </Typography>\n                                    </Grid>\n\n                                    {\n                                        prepared_triggers.map((row, i, arr) => {\n                                            const {\n                                                is_ground,\n                                                trigger_source: curr_trig_source\n                                            } = row;\n\n                                            let GroundMovementHeaderComponent = \"\";\n                                            if (!is_ground_movement_section_printed && is_ground) {\n                                                GroundMovementHeaderComponent = (\n                                                    <Grid item xs={12}>\n                                                        <Typography variant=\"body2\" className={classes.sectionHeader}>\n                                                            <strong>GROUND MOVEMENT</strong>\n                                                        </Typography>\n                                                    </Grid>\n                                                );\n                                                is_ground_movement_section_printed = true;\n                                            }\n\n                                            let to_print_header = false;\n                                            if (i === 0) to_print_header = true;\n                                            else if (arr[i - 1].trigger_source !== curr_trig_source)\n                                                to_print_header = true;\n\n                                            \n                                            let HeaderComponent = \"\";\n                                            if (to_print_header) {\n                                                const uc_trig_source = curr_trig_source.toUpperCase();\n                                                HeaderComponent = (\n                                                    <Grid item xs={12}>\n                                                        <Typography\n                                                            variant=\"body2\"\n                                                            className={`${classes.sectionHeader} ${is_ground ? classes.indent : \"\"}`}\n                                                        >\n                                                            <strong>{\n                                                                is_ground ? <u><i>{uc_trig_source}</i></u>\n                                                                    : uc_trig_source\n                                                            }</strong>\n                                                        </Typography>\n                                                    </Grid>\n                                                );\n                                            }\n                                            \n                                            let NoDataComponent = \"\";\n                                            if (no_data_triggers.includes(curr_trig_source)) {\n                                                NoDataComponent = (\n                                                    <Grid item xs={12} style={{ paddingTop: \"0 !important\" }}>\n                                                        <Typography \n                                                            variant=\"body2\" \n                                                            className={`${classes.sectionDetails} ${classes.indent}`}\n                                                        >\n                                                            Currently, no data available.\n                                                        </Typography>\n                                                    </Grid>\n                                                );\n                                            }\n\n                                            return (\n                                                <Fragment key={`key-${i + 1}`}>\n                                                    { GroundMovementHeaderComponent }\n                                                    { HeaderComponent }\n                                                    <Grid item xs={12}>\n                                                        <Typography \n                                                            variant=\"body2\" \n                                                            className={`${classes.sectionDetails} ${classes.indent}`}\n                                                            dangerouslySetInnerHTML={{ __html: row.description }}\n                                                        />\n                                                    </Grid>\n                                                    { NoDataComponent }\n                                                </Fragment>\n                                            );\n                                        })\n                                    }\n\n                                    {\n                                        (!has_ground_trigger || alert_level === 0) && (\n                                            <Fragment>\n                                                <Grid item xs={12}>\n                                                    <Typography variant=\"body2\" className={classes.sectionHeader}>\n                                                        <strong>GROUND MOVEMENT</strong>\n                                                    </Typography>\n                                                </Grid>\n\n                                                <Grid item xs={12}>\n                                                    <Typography\n                                                        variant=\"body2\"\n                                                        className={`${classes.sectionDetails} ${classes.indent}`}\n                                                    >\n                                                        {ground_movement_details}\n                                                    </Typography>\n                                                </Grid>\n                                            </Fragment>\n                                        )\n                                    }\n\n                                    <Grid item xs={12}>\n                                        <Typography variant=\"body2\" className={classes.sectionHeader}>\n                                            <strong>ELEMENTS AT RISK</strong>\n                                        </Typography>\n                                    </Grid>\n\n                                    <Grid item xs={12}>\n                                        <Typography variant=\"body2\" className={`${classes.sectionDetails} ${classes.indent}`}>\n                                            {households_at_risk}\n                                        </Typography>\n                                    </Grid>\n\n                                    <Grid item xs={12}>\n                                        <Typography variant=\"body2\" className={classes.sectionHeader}>\n                                            <strong><u>OTHER RECOMMENDATIONS</u>:</strong>\n                                        </Typography>\n                                    </Grid>\n\n                                    <Grid item xs={12}>\n                                        <Typography variant=\"body2\" className={classes.sectionDetails}>\n                                            <strong>For the Landslide Early Warning Committee (LEWC):</strong> <span dangerouslySetInnerHTML={{ __html: lewc_lgu_response }} /> \n                                        </Typography>\n                                    </Grid>\n\n                                    <Grid item xs={12}>\n                                        <Typography variant=\"body2\" className={classes.sectionDetails}>\n                                            <strong>For the Community:</strong> {community_response}\n                                        </Typography>\n                                    </Grid>\n\n                                    <Grid item xs={12}>\n                                        <Typography variant=\"body2\" className={classes.sectionDetails}>\n                                            <strong>NOTE:</strong> This bulletin contains the official Alert Level and Recommended Response of the Dynaslope Project for Brgy. {barangay} and will hold true until a new bulletin is released.\n                                        </Typography>\n                                    </Grid>\n\n                                    <Grid item xs={12}>\n                                        <Divider className={classes.divider} />\n                                    </Grid>\n\n                                    <Grid item xs={12}>\n                                        <Typography \n                                            component=\"div\"\n                                            variant=\"body2\" \n                                            className={`${classes.sectionDetails} ${classes.releaseDetailsArea}`}\n                                        >\n                                            {\n                                                alert_level === 0 ? <span/>\n                                                    : <span>Next bulletin on: <strong>{next_ewi_release_ts}</strong></span>\n                                            }\n                                            <span>Released by: <strong>{publishers}</strong></span>\n                                        </Typography>\n                                    </Grid>\n                                </Grid>\n                            </div>\n\n                            <LetterFooter classes={classes} />\n                        </div>\n\n                        {\n                            excess_divs.length > 0 && (\n                                <div id=\"bulletin-root-2\" className={classes.root}>\n                                    <LetterHead classes={classes} />\n                        \n                                    <div id=\"bulletin-content\" className={classes.body} ref={content_body}> \n                                        <TitleAndMainInfo \n                                            classes={classes} \n                                            bulletinDetail={bulletin_detail}\n                                            isMD={is_md}\n                                        />\n\n                                        <Grid container spacing={is_md ? 2 : 1} id=\"excess-content\">\n                                            {\n                                                excess_divs.map((row, i) => {\n                                                    const new_classes = [];\n                                                    row.classList.forEach(x => { \n                                                        if (x.includes(\"makeStyles\")) {\n                                                            const a = x.split(\"-\");\n                                                            const p = a[1];\n                                                            new_classes.push(classes[p]);\n                                                        } else new_classes.push(x);\n                                                    });\n                                                    const temp = row.outerHTML.replace(/([\"'])(?:(?=(\\\\?))\\2.)*?\\1/g, `\"${new_classes.join(\" \")}\"`);\n                                                    return <Grid\n                                                        key={`key-${i + 1}`}\n                                                        item xs={12} \n                                                        dangerouslySetInnerHTML={{ __html: temp }}\n                                                    />;\n                                                })\n                                            }\n                                        </Grid>\n                                    </div>\n\n                                    <LetterFooter classes={classes} />\n                                </div>\n                            )\n                        }\n\n                        {\n                            is_loaded && <div id=\"is-loaded\" />\n                        }\n                    </Fragment>\n                ) : (\n                    <Grid item style={{ textAlign: \"center\" }}>\n                        <CircularProgress\n                            size={50}\n                        />\n                        <Typography>Loading Bulletin</Typography>\n                    </Grid>\n                )\n            }\n        </Fragment>\n    );\n}\n\nexport default withWidth()(BulletinTemplate);\n","import axios from \"axios\";\nimport { host } from \"../../../config\";\nimport { makeGETAxiosRequest } from \"../../../UtilityFunctions\";\n\nexport function getBulletinEmailDetails (release_id, callback) {\n    const api_link = `${host}/api/bulletin_email/get_bulletin_email_details/${release_id}`;\n    makeGETAxiosRequest(api_link, callback);\n}\n\nexport function downloadBulletin (release_id, callback) {\n    const api_link = `${host}/api/bulletin/download_bulletin/${release_id}`;\n    makeGETAxiosRequest(api_link, callback);\n}\n\nexport function getBulletinDetails (release_id, callback) {\n    const api_link = `${host}/api/monitoring/create_bulletin/${release_id}`;\n\n    axios.get(api_link)\n    .then((response) => {\n        const { data } = response;\n        console.log(\"Bulletin details\", data);\n        callback(data);\n    })\n    .catch((error) => {\n        console.log(error);\n    });\n}\n","import React, { useState, useEffect } from \"react\";\n\nimport {\n    Dialog, DialogTitle, DialogContent,\n    DialogActions,\n    Button, withMobileDialog, Divider,\n    Grid, TextField\n} from \"@material-ui/core\";\nimport ChipInput from \"material-ui-chip-input\";\n\nimport { useSnackbar } from \"notistack\";\nimport BulletinTemplate from \"./BulletinTemplate\";\nimport { downloadBulletin, getBulletinEmailDetails } from \"./ajax\";\nimport { sendBulletinEmail } from \"../../communication/mailbox/ajax\";\nimport { getCurrentUser } from \"../../sessions/auth\";\n\n\nfunction BulletinModal (props) {\n    const {\n        classes, fullScreen, isOpenBulletinModal,\n        setIsOpenBulletinModal, releaseDetail\n    } = props;\n    const {\n        release_id, site_code, site_id,\n        type, // either \"latest\", \"extended\", \"overdue\"\n        is_bulletin_sent\n    } = releaseDetail;\n\n    const [mail_subject, setMailSubject] = useState(\"\");\n    const [mail_recipients, setMailRecipients] = useState([]);\n    const [mail_content, setMailContent] = useState(\"\");\n    const [file_name, setFileName] = useState(\"\");\n    const [narrative_details, setNarrativeDetails] = useState({});\n    const { enqueueSnackbar, closeSnackbar } = useSnackbar();\n\n    const { user_id: sender_id } = getCurrentUser();\n\n    const snackBarActionFn = key => {\n        return (<Button\n            color=\"primary\"\n            onClick={() => { closeSnackbar(key); }}\n        >\n            Dismiss\n        </Button>);\n    };\n\n    useEffect(() => {\n        if (typeof release_id !== \"undefined\" && isOpenBulletinModal) {\n            getBulletinEmailDetails(release_id, ret => {\n                const {\n                    subject, recipients, mail_body,\n                    file_name: filename,\n                    narrative_details: temp_nar\n                } = ret;\n\n                setNarrativeDetails(temp_nar);\n                setMailRecipients(recipients);\n                setMailSubject(subject);\n                setMailContent(mail_body);\n                setFileName(filename);\n            });\n        }\n    }, [isOpenBulletinModal]);\n\n    const downloadHandler = release_id_input => () => {\n        downloadBulletin(release_id_input, ret => {\n            console.log(\"LOG bulletin_download\", ret);\n        });\n    };\n\n    const closeHandler = () => {\n        setIsOpenBulletinModal(false);\n        setNarrativeDetails({});\n        setMailRecipients([]);\n        setMailSubject(\"\");\n        setMailContent(\"\");\n        setFileName(\"\");\n    };\n\n    const handleSend = () => {\n        const input = {\n            subject: mail_subject,\n            recipients: mail_recipients,\n            mail_body: mail_content,\n            release_id,\n            file_name,\n            alert_db_group: type,\n            site_id,\n            sender_id,\n            narrative_details\n        };\n        const loading_snackbar = enqueueSnackbar(\n            \"Sending EWI bulletin...\",\n            {\n                variant: \"warning\",\n                persist: true\n            }\n        );\n\n        closeHandler();\n        sendBulletinEmail(input, ret => {\n            console.log(\"Sent bulletin email...\", ret);\n            const { status, message } = ret;\n            closeSnackbar(loading_snackbar);\n            let variant;\n            if (status) {\n                variant = \"success\";\n            } else {\n                variant = \"error\";\n            }\n            enqueueSnackbar(\n                message,\n                {\n                    variant,\n                    autoHideDuration: 7000,\n                    action: snackBarActionFn\n                }\n            );\n        }, () => {\n            closeSnackbar(loading_snackbar);\n            enqueueSnackbar(\n                \"Send bulletin failed. Ask the devs.\",\n                {\n                    variant: \"error\",\n                    autoHideDuration: 7000,\n                    action: snackBarActionFn\n                }\n            );\n        });\n    };\n\n    const mailContentHandler = event => {\n        setMailContent(event.target.value);\n    };\n\n    const handleAddChip = chip => {\n        const temp = mail_recipients;\n        temp.push(chip);\n        setMailRecipients([...temp]);\n    };\n\n    const handleDeleteChip = (chip, index) => {\n        mail_recipients.splice(mail_recipients.indexOf(chip), 1);\n        setMailRecipients([...mail_recipients]);\n    };\n\n    let f_site_code = \"\";\n    if (typeof site_code !== \"undefined\") {\n        f_site_code = site_code.toUpperCase();\n    }\n\n    return (\n        <Dialog\n            fullWidth\n            fullScreen={fullScreen}\n            open={isOpenBulletinModal}\n            aria-labelledby=\"form-dialog-title\"\n            maxWidth=\"md\"\n        >\n            <DialogTitle id=\"form-dialog-title\">Early Warning Bulletin for {f_site_code}</DialogTitle>\n            <DialogContent>\n                <Grid container spacing={2}>\n                    <Grid item xs={12}>\n                        <TextField\n                            required\n                            label=\"Mail Content\"\n                            value={mail_content}\n                            onChange={mailContentHandler}\n                            placeholder=\"Add mail content\"\n                            multiline\n                            rowsMax={6}\n                            fullWidth\n                            className={classes.textField}\n                        />                        \n                    </Grid>\n\n                    <Grid item xs={12}>\n                        <ChipInput \n                            label=\"To\"\n                            value={mail_recipients}\n                            onAdd={chip => handleAddChip(chip)}\n                            onDelete={(chip, index) => handleDeleteChip(chip, index)}\n                            fullWidth\n                            required\n                        />\n                    </Grid>\n                    \n                    <Grid item xs={12}>\n                        <Divider className={classes.divider} />\n                    </Grid>\n\n                    <Grid item xs={12} style={{ paddingTop: 20 }}>\n                        <BulletinTemplate\n                            releaseId={release_id}\n                        />\n                    </Grid>\n\n                </Grid>\n            </DialogContent>\n            <DialogActions>\n                <Button onClick={downloadHandler(release_id)} color=\"primary\">\n                    Download\n                </Button>\n                <Button color=\"secondary\" onClick={handleSend} disabled={false}>\n                    {\n                        is_bulletin_sent ? \"Sent already (Send again?)\" : \"Send\"\n                    }\n                </Button>\n                <Button onClick={closeHandler} color=\"primary\">\n                    Cancel\n                </Button>\n            </DialogActions>\n        </Dialog>\n    );\n}\n\nexport default withMobileDialog()(BulletinModal);\n","import axios from \"axios\";\nimport { host } from \"../../../config\";\nimport { makePOSTAxiosRequest } from \"../../../UtilityFunctions\";\n\nexport function sendEmail (input, callback) {\n    const api_link = `${host}/api/mailbox/send_email`;\n    console.log(input);\n    axios.post(api_link, input)\n    .then(response => {\n        const { data } = response;\n        console.log(\"Send email response\", data);\n        callback(data);\n    })\n    .catch(error => {\n        console.error(error);\n    });\n}\n\n\nexport function sendBulletinEmail (input, callback, err) {\n    const api_link = `${host}/api/mailbox/send_bulletin_email`;\n    makePOSTAxiosRequest(api_link, input, callback, err);\n}\n\nexport function sendEOSEmail (json_data, callback, err) {\n    const api_link = `${host}/api/mailbox/send_eos_email`;\n    makePOSTAxiosRequest(api_link, json_data, callback, err);\n}\n\nexport function uploadTempFile (data, callback, err) {\n    const api_link = `${host}/api/mailbox/upload_temp`;\n    makePOSTAxiosRequest(api_link, data, callback, err);\n}\n","import axios from \"axios\";\nimport { host } from \"../../config\";\n\nexport function getListOfMunicipalities (callback) {\n    const api_link = `${host}/api/sites/get_all_geographical_selection_per_category/municipality?include_inactive=false`;\n\n    axios.get(api_link)\n    .then(response => {\n        const { data } = response;\n        console.log(data);\n        callback(data);\n    })\n    .catch(error => {\n        console.error(error);\n    });\n}\n\nexport function saveContact (input, callback) {\n    const api_link = `${host}/api/contacts/save_contact`;\n    axios.post(api_link, input)\n    .then(response => {\n        const { data } = response;\n        console.log(\"Save contact data reponse\", data);\n        callback(data);\n    })\n    .catch(error => {\n        console.error(error);\n    });\n}\n\nexport function attachMobileNumberToExistingUser (input, callback) {\n    const api_link = `${host}/api/contacts/attach_mobile_number_to_existing_user`;\n    axios.post(api_link, input)\n    .then(response => {\n        const { data } = response;\n        console.log(\"Save contact data reponse\", data);\n        callback(data);\n    })\n    .catch(error => {\n        console.error(error);\n    });\n}\n\nexport function getEWISMSRecipients (site_code, callback) {\n    const api_link = `${host}/api/contacts/get_contacts_per_site/${site_code}`;\n\n    axios.get(api_link)\n    .then(response => {\n        const { data } = response;\n        console.log(response);\n        console.log(data);\n        callback(data);\n    })\n    .catch(error => {\n        console.error(error);\n    });\n}\n\nexport function getRainInformation (input, callback) {\n    const api_link = `${host}/api/rainfall/get_all_site_rainfall_data`;\n    axios.post(api_link, input)\n    .then(response => {\n        const { data } = response;\n        console.log(\"Get rain information data reponse\", data);\n        callback(data);\n    })\n    .catch(error => {\n        console.error(error);\n    });\n}\n\nexport function sendRoutineEwiMessage (payload, callback, error_callback) {\n    const api_link = `${host}/api/chatterbox/send_routine_ewi_sms`;\n\n    axios.post(api_link, payload)\n    .then(response => {\n        const { data } = response;\n        callback(data);\n    })\n    .catch(error => {\n        console.error(error);\n        error_callback(error);\n    });\n}\n\n\nexport function sendMessage (payload, callback, error_callback) {\n    const api_link = `${host}/api/chatterbox/send_message`;\n\n    axios.post(api_link, payload)\n    .then(response => {\n        const { data } = response;\n        callback(data);\n    })\n    .catch(error => {\n        console.error(error);\n        error_callback(error);\n    });\n}\n\nexport function getRecipientsList (payload, callback) {\n    const api_link = `${host}/api/contacts/get_recipients_option`;\n\n    axios.post(api_link, payload)\n    .then(response => {\n        const { data } = response;\n        console.log(\"Selected recipients\", data);\n        callback(data);\n    })\n    .catch(error => {\n        console.error(error);\n    });\n}\n\nexport function getBlockedContacts (callback) {\n    const api_link = `${host}/api/contacts/get_blocked_numbers`;\n\n    axios.get(api_link)\n    .then(response => {\n        const { data } = response;\n        callback(data);\n    })\n    .catch(error => {\n        console.error(error);\n    });\n}\n\nexport function saveBlockedContact (input, callback) {\n    const api_link = `${host}/api/contacts/save_block_number`;\n    axios.post(api_link, input)\n    .then(response => {\n        const { data } = response;\n        console.log(\"Save blocked contact data reponse\", data);\n        callback(data);\n    })\n    .catch(error => {\n        console.error(error);\n    });\n}\n\nexport function getSimPrefixes (callback) {\n    const api_link = `${host}/api/contacts/sim_prefix`;\n\n    axios.get(api_link)\n    .then(response => {\n        const { data } = response;\n        callback(data);\n    })\n    .catch(error => {\n        console.error(error);\n    });\n}\n\nexport function loadMoreMessages (mobile_id, batch, callback) {\n    const api_link = `${host}/api/chatterbox/load_more_messages/${mobile_id}/${batch}`;\n\n    axios.get(api_link)\n    .then(response => {\n        const { data } = response;\n        console.log(\"Additional loaded messages\", data);\n        callback(data);\n    })\n    .catch(error => {\n        console.error(error);\n    });\n}\n\nexport function getSiteStakeHolders (callback) {\n    const api_link = `${host}/api/contacts/get_contact_prioritization`;\n\n    axios.get(api_link)\n    .then(response => {\n        const { data } = response;\n        console.log(\"All Sites Stakeholders\", data);\n        callback(data);\n    })\n    .catch(error => {\n        console.error(error);\n    });\n}\n\nexport function saveUpdatedPrimaryContact (input, callback = null) {\n    const api_link = `${host}/api/contacts/save_primary_contact`;\n    \n    axios.post(api_link, input)\n    .then(response => {\n        const { data } = response;\n        console.log(\"Save updated primary contact\", data);\n        if (callback !== null)\n            callback(data);\n    })\n    .catch(error => {\n        console.error(error);\n    });\n}\n\nexport function resendMessage (outbox_status_id, callback) {\n    const api_link = `${host}/api/chatterbox/resend_message/${outbox_status_id}`;\n\n    axios.get(api_link)\n    .then(response => {\n        const { data } = response;\n        console.log(\"Resend message\", data);\n        if (typeof callback !== \"undefined\") callback(data);\n    })\n    .catch(error => {\n        console.error(error);\n    });\n}\n","import React, { forwardRef } from \"react\";\nimport { Fade, Slide } from \"@material-ui/core\";\n\nexport const SlideTransition = forwardRef((props, ref) => (\n    <Slide direction=\"up\" {...props} ref={ref} />\n));\n\nexport const FadeTransition = forwardRef((props, ref) => (\n    <Fade {...props} ref={ref} />\n));","/* eslint-disable react/prop-types, react/jsx-handler-names */\n\nimport React from \"react\";\nimport Select from \"react-select\";\nimport { withStyles } from \"@material-ui/core/styles\";\nimport Typography from \"@material-ui/core/Typography\";\nimport NoSsr from \"@material-ui/core/NoSsr\";\nimport TextField from \"@material-ui/core/TextField\";\nimport Paper from \"@material-ui/core/Paper\";\nimport Chip from \"@material-ui/core/Chip\";\nimport MenuItem from \"@material-ui/core/MenuItem\";\nimport CancelIcon from \"@material-ui/icons/Cancel\";\nimport { emphasize } from \"@material-ui/core/styles/colorManipulator\";\n\nconst styles = theme => ({\n    root: {\n        flexGrow: 1\n    },\n    input: {\n        display: \"flex\",\n        padding: 0,\n        height: \"auto\"\n    },\n    valueContainer: {\n        display: \"flex\",\n        flexWrap: \"wrap\",\n        flex: 1,\n        alignItems: \"center\",\n        overflow: \"hidden\",\n    },\n    chip: {\n        margin: theme.spacing(1 * 0.5, 1 * 0.25),\n    },\n    chipFocused: {\n        backgroundColor: emphasize(\n            theme.palette.type === \"light\" ? theme.palette.grey[300] : theme.palette.grey[700],\n            0.08,\n        ),\n    },\n    noOptionsMessage: {\n        padding: theme.spacing(1, 2)\n    },\n    singleValue: {\n        fontSize: 16,\n    },\n    placeholder: {\n        position: \"absolute\",\n        left: 2,\n        fontSize: 16,\n    },\n    paper: {\n        position: \"absolute\",\n        zIndex: 2,\n        marginTop: theme.spacing(1),\n        left: 0,\n        right: 0,\n    },\n    divider: {\n        height: theme.spacing(2),\n    }\n});\n\nfunction NoOptionsMessage (props) {\n    const { selectProps, innerProps, children } = props;\n\n    return (\n        <Typography\n            color=\"textSecondary\"\n            className={selectProps.classes.noOptionsMessage}\n            {...innerProps}\n        >\n            {children}\n        </Typography>\n    );\n}\n\nfunction inputComponent ({ inputRef, ...props }) {\n    return <div ref={inputRef} {...props} />;\n}\n\nfunction Control (props) {\n    const {\n        selectProps, innerRef,\n        children, innerProps\n    } = props;\n    \n    return (\n        <TextField\n            fullWidth\n            InputProps={{\n                inputComponent,\n                inputProps: {\n                    className: selectProps.classes.input,\n                    inputRef: innerRef,\n                    children,\n                    ...innerProps,\n                },\n            }}\n            {...selectProps.textFieldProps}\n        />\n    );\n}\n\nfunction Option (props) {\n    const {\n        innerRef, isFocused, isSelected,\n        innerProps, children, data\n    } = props;\n    const fcolor = data.color;\n    return (\n        <MenuItem\n            buttonRef={innerRef}\n            selected={isFocused}\n            component=\"div\"\n            style={{\n                fontWeight: isSelected ? 500 : 400,\n                color: fcolor,\n            }}\n            {...innerProps}\n        >\n            {children}\n        </MenuItem>\n    );\n}\n\nfunction Placeholder (props) {\n    const { selectProps, innerProps, children } = props;\n\n    return (\n        <Typography\n            color=\"textSecondary\"\n            className={selectProps.classes.placeholder}\n            {...innerProps}\n        >\n            {children}\n        </Typography>\n    );\n}\n\nfunction ValueContainer (props) {\n    const { selectProps, children } = props;\n    return <div className={selectProps.classes.valueContainer}>{children}</div>;\n}\n\nfunction MultiValue (props) {\n    const {\n        children, selectProps, isFocused,\n        data, removeProps\n    } = props;\n\n    const { chipLabel } = data;\n    const label = typeof chipLabel !== \"undefined\" ? chipLabel : children;\n\n    return (\n        <Chip\n            tabIndex={-1}\n            label={label}\n            className={`${selectProps.classes.chip} ${\n                { [selectProps.classes.chipFocused]: isFocused,\n                }}`\n            }\n            onDelete={removeProps.onClick}\n            deleteIcon={<CancelIcon {...removeProps} />}\n        />\n    );\n}\n\nfunction Menu (props) {\n    const { selectProps, innerProps, children } = props;\n\n    return (\n        <Paper square className={selectProps.classes.paper} {...innerProps}>\n            {children}\n        </Paper>\n    );\n}\n\nfunction SelectMultipleWithSuggest (props) {\n    const {\n        classes, changeHandler, isRequired,\n        options, value, label, placeholder,\n        renderDropdownIndicator, openMenuOnClick, isMulti,\n        isDisabled, isClearable, hasAlternativeChipLabel\n    } = props;\n\n    const selectStyles = {\n        input: base => ({\n            ...base,\n            color: \"blue\",\n            \"& input\": {\n                font: \"inherit\"\n            }\n        }),\n        menuPortal: provided => ({ ...provided, zIndex: 9999 })\n    };\n\n    const components = {\n        Control,\n        Menu,\n        MultiValue,\n        NoOptionsMessage,\n        Option,\n        Placeholder,\n        ValueContainer\n    };\n\n    const open_menu_on_click = openMenuOnClick === undefined ? true : openMenuOnClick;\n    const is_multi = isMulti === undefined ? false : isMulti;\n    const is_disabled = isDisabled === undefined ? false : isDisabled;\n    const is_clearable = isClearable === undefined ? false : isClearable;\n    const is_required = isRequired === undefined ? false : isRequired;\n\n    const rdd = renderDropdownIndicator === undefined ? true : renderDropdownIndicator;\n    if (rdd === false) {\n        components.DropdownIndicator = () => null;\n        components.IndicatorSeparator = () => null;\n    }\n\n    return (\n        <div className={classes.root}>\n            <NoSsr>\n                <Select\n                    required={is_required}\n                    classes={classes}\n                    styles={selectStyles}\n                    textFieldProps={{\n                        label,\n                        InputLabelProps: {\n                            shrink: true,\n                        }\n                    }}\n                    menuPortalTarget={document.body}\n                    options={options}\n                    components={components}\n                    value={value}\n                    onChange={changeHandler}\n                    placeholder={placeholder}\n                    isMulti={is_multi}\n                    openMenuOnFocus={false}\n                    openMenuOnClick={open_menu_on_click}\n                    isDisabled={is_disabled}\n                    isClearable={is_clearable}\n                    hasAlternativeChipLabel={hasAlternativeChipLabel}\n                />\n            </NoSsr>\n        </div>\n    );\n}\n\nexport default withStyles(styles, { withTheme: true })(SelectMultipleWithSuggest);","import React, {\n    createContext, useState, useEffect\n} from \"react\";\nimport { useSnackbar } from \"notistack\";\nimport { getSites, getUsers, getOrganizations } from \"./ajax\";\n\nexport const GeneralContext = createContext();\n\nexport const GeneralProvider = ({ children }) => {\n    const [sites, setSites] = useState([]);\n    const [all_sites_including_inactive, SetAllSites] = useState([]);\n    const [refresh_sites, setRefreshSites] = useState(true);\n    useEffect(() => {\n        if (refresh_sites) {\n            getSites(data => {\n                const active = data.filter(x => x.active);\n                setSites(active);\n                SetAllSites(data);\n                setRefreshSites(false);\n            });\n        }\n    }, [refresh_sites]);\n\n    const [users, setUsers] = useState([]);\n    const [refresh_users, setRefreshUser] = useState(true);\n    useEffect(() => {\n        if (refresh_users) {\n            getUsers(data => {\n                setUsers(data);\n                setRefreshUser(false);\n            });\n        }\n    }, [refresh_users]);\n\n    const [organizations, setOrganizations] = useState([]);\n    useEffect(() => {\n        getOrganizations(data => {\n            setOrganizations(data);\n        });\n    }, []);\n\n    const [is_reconnecting, setIsReconnecting] = useState(null);\n    const { enqueueSnackbar, closeSnackbar } = useSnackbar();\n    const [key, setKey] = useState(null);\n    useEffect(() => {\n        if (is_reconnecting !== null) {\n            if (is_reconnecting === true) {\n                const h_key = enqueueSnackbar(\n                    \"Connection lost... Features will not work properly... Reconnecting...\",\n                    {\n                        variant: \"warning\",\n                        persist: true\n                        // autoHideDuration: 7000,\n                        // action: snackBarActionFn\n                    }\n                );\n                setKey(h_key);\n            } else {\n                closeSnackbar(key);\n                enqueueSnackbar(\n                    \"Reconnection successful...\",\n                    {\n                        variant: \"success\",\n                        autoHideDuration: 5000,\n                    // action: snackBarActionFn\n                    }\n                );\n            }\n        }\n    }, [is_reconnecting]);\n\n    const return_obj = {\n        users,\n        sites,\n        all_sites_including_inactive,\n        organizations,\n        is_reconnecting,\n        setIsReconnecting,\n        setRefreshUser,\n        setRefreshSites\n    };\n\n    return (\n        <GeneralContext.Provider value={return_obj}>\n            {children}\n        </GeneralContext.Provider>\n    );\n};","import { host } from \"../../config\";\nimport { makeGETAxiosRequest } from \"../../UtilityFunctions\";\n\n\nexport function getSites (callback) {\n    const api_link = `${host}/api/sites/get_sites_data?include_inactive=true`;\n    makeGETAxiosRequest(api_link, callback);\n}\n\nexport function getUsers (callback) {\n    const api_link = `${host}/api/users/get_dynaslope_users/true/true`;\n    makeGETAxiosRequest(api_link, callback);\n}\n\nexport function getOrganizations (callback) {\n    const api_link = `${host}/api/users/get_organizations`;\n    makeGETAxiosRequest(api_link, callback);\n}\n\n","import React, { useContext } from \"react\";\nimport SelectMultipleWithSuggest from \"./SelectMultipleWithSuggest\";\nimport { prepareSiteAddress } from \"../../UtilityFunctions\";\nimport { GeneralContext } from \"../contexts/GeneralContext\";\n\nexport function prepareSitesOption (arr, to_include_address, isFromSiteLogs) {\n    return arr.map(site => {\n        const { \n            site_code, site_id\n        } = site;\n\n        let address = site_code.toUpperCase();\n        \n        if (to_include_address) address = prepareSiteAddress(site, true, \"start\");\n\n        // check sites if on-event\n        let color = \"black\";\n        let event_id = null;\n        if (typeof isFromSiteLogs !== \"undefined\" && isFromSiteLogs !== null) {\n            const { latest, extended, overdue } = isFromSiteLogs;\n            const merged_latest = [...latest, ...overdue];\n            const sc = site_code.toLowerCase();\n\n            // const is_ev = merged_latest.find(x => x.event.site.site_code === sc);\n            // const is_ex = extended.find(x => x.event.site.site_code === sc);\n            const ev_index = merged_latest.findIndex(x => x.event.site.site_code === sc);\n            const ex_index = extended.findIndex(x => x.event.site.site_code === sc);\n            \n            if (ev_index > -1) {\n                color = \"red\"; \n                event_id = merged_latest[ev_index].event.event_id; \n            }\n            if (ex_index > -1) {\n                color = \"green\";\n                event_id = extended[ex_index].event.event_id;\n            }\n        }\n\n        return { value: site_id, label: address, data: site, color, event_id };\n    });\n}\n\nfunction DynaslopeSiteSelectInputForm (props) {\n    const { \n        value, changeHandler, isMulti,\n        renderDropdownIndicator, includeAddressOnOptions,\n        returnSiteDataCallback, isFromSiteLogs,\n        disabled, customPlaceholder, isClearable,\n        required\n    } = props;\n    const { sites } = useContext(GeneralContext);\n\n    const to_include_address = typeof includeAddressOnOptions === \"undefined\" ? true : includeAddressOnOptions;\n    const options = prepareSitesOption(sites, to_include_address, isFromSiteLogs);\n\n    const is_multi = (typeof isMulti === \"undefined\") ? false : isMulti;\n    let placeholder = is_multi ? \"Select site(s)\" : \"Select site\";\n    placeholder = customPlaceholder || placeholder;\n    const to_render_dropdown = (typeof renderDropdownIndicator === \"undefined\") ? false : renderDropdownIndicator;\n    const is_clearable = (typeof isClearable === \"undefined\") ? false : isClearable;\n\n    let pass_value = value;\n    if (value !== \"\" && value !== null) {\n        const { label, value: site_id } = value;\n        const callback = typeof returnSiteDataCallback === \"undefined\" ? false : returnSiteDataCallback;\n        if (callback) {\n            const site = sites.find(o => o.site_id === site_id);\n            if (typeof site !== \"undefined\") returnSiteDataCallback(site);\n        }\n\n        if (typeof label === \"undefined\" && !is_multi) {\n            pass_value = options[site_id - 1];\n        }\n    }\n\n    let label = isMulti ? \"Site(s)\" : \"Site\";\n    if (required) label += \" *\";\n\n    return (\n        <SelectMultipleWithSuggest\n            isRequired={Boolean(required)}\n            label={label}\n            options={options}\n            value={pass_value}\n            changeHandler={changeHandler}\n            placeholder={placeholder}\n            renderDropdownIndicator={to_render_dropdown}\n            openMenuOnClick\n            isMulti={is_multi}\n            isDisabled={Boolean(disabled)}\n            isClearable={is_clearable}\n        />\n    );\n}\n\nexport default DynaslopeSiteSelectInputForm;","import React, { useState, useEffect } from \"react\";\n\nimport {\n    Dialog, DialogTitle, DialogContent,\n    DialogContentText, DialogActions,\n    Button, withMobileDialog, \n    makeStyles, Grid, Tooltip,\n    FormControl, FormControlLabel, Checkbox\n} from \"@material-ui/core\";\n\nimport { MuiPickersUtilsProvider, KeyboardDateTimePicker } from \"@material-ui/pickers\";\nimport MomentUtils from \"@date-io/moment\";\nimport moment from \"moment\";\nimport { useSnackbar } from \"notistack\";\n\nimport { getRainInformation } from \"../ajax\";\nimport { SlideTransition, FadeTransition } from \"../../reusables/TransitionList\";\nimport DynaslopeSiteSelectInputForm from \"../../reusables/DynaslopeSiteSelectInputForm\";\n\nconst useStyles = makeStyles(theme => ({\n    inputGridContainer: {\n        marginTop: 6,\n        marginBottom: 6\n    },\n    checkboxGridContainer: {\n        marginTop: 12,\n        marginBottom: 6\n    },\n    selectInput: {\n        width: \"auto\",\n        [theme.breakpoints.down(\"xs\")]: {\n            width: \"250px\"\n        }\n    },\n    root: {\n        width: \"90%\",\n    },\n    backButton: {\n        marginRight: 1\n    },\n    instructions: {\n        marginTop: 1,\n        marginBottom: 1,\n    },\n    link: { textDecoration: \"none\" }\n}));\n\nfunction useFetchTagOptions (tag_selection) {\n    const [tags, update_tags] = useState([]);\n\n    useEffect(() => {\n        // AJAX CALLS HERE FOR OPRIONS\n        // axios.get(host + \"/api/users/get_dynaslope_users\")\n        // .then(response => {\n        //     const arr = prepareUsersArray(response.data);\n        //     this.setState({ users: arr });\n        // })\n        // .catch(error => {\n        //     console.log(error);\n        // });\n\n        let json = [];\n        if (tag_selection === \"messages\") {\n            json = [\n                \"#ewireponse\", \"#ewimessage\", \"#groundmeasreminder\",\n                \"#groundmeas\", \"#groundobs\", \"#groundobsreminder\"\n            ].map(val => ({\n                value: val,\n                label: val\n            }));\n        }\n\n        update_tags(json);\n    }, [tag_selection]);\n\n    return tags;\n}\n\nfunction getSiteCodes (site_list) {\n    const site_codes = [];\n    site_list.forEach((row, index) => {\n        const { data: { site_code, barangay, municipality, province } } = row;\n        const site_info = `Brgy. ${barangay}, ${municipality}, ${province}`;\n        site_codes.push({ site_code, site_info });\n    });\n\n    return site_codes;\n}\n\nfunction LoadTemplateModal (props) {\n    const {\n        fullScreen, isOpen, inputFieldLength,\n        clickHandler, setComposedMessage,\n        maxCharacters\n    } = props;\n\n    const classes = useStyles();\n\n    const [date_time, setDateTime] = useState(moment().format(\"YYYY-MM-DD HH:mm:ss\"));\n    const [site_list, setSiteList] = useState(null);\n    const [express, setExpress] = useState(true);\n    const { enqueueSnackbar, closeSnackbar } = useSnackbar();\n    const update_datetime = value => setDateTime(moment(value).format(\"YYYY-MM-DD HH:mm:ss\"));\n\n    const update_site_value = value => {\n        setSiteList(value);\n    };\n\n    const expressRainInfo = event => setExpress(event.target.checked);\n\n    const snackBarActionFn = key => {\n        return (<Button\n            color=\"primary\"\n            onClick={() => { closeSnackbar(key); }}\n        >\n            Dismiss\n        </Button>);\n    };\n\n    const getRainInformationFunction = () => {\n        const site_details = getSiteCodes(site_list);\n        const is_express = express;\n        const as_of = moment(date_time).format(\"LLL\");\n        const final_data = {\n            is_express,\n            site_details,\n            date_time,\n            as_of\n        };\n\n        getRainInformation(final_data, data => {\n            const { status, message, ewi } = data;\n            setComposedMessage(ewi.slice(0, inputFieldLength));\n            \n            let snackbar_message = message;\n            let variant = \"error\";\n            if (status === true) {\n                clickHandler();\n                variant = \"success\";\n                if (ewi.length > inputFieldLength) {\n                    variant = \"warning\";\n                    snackbar_message = `Rainfall information message is trimmed down because of length restrictions (max characters: ${maxCharacters})`;\n                }\n            }\n\n            enqueueSnackbar(\n                snackbar_message,\n                {\n                    variant,\n                    autoHideDuration: 3000,\n                    action: snackBarActionFn\n                }\n            );\n        });\n    };\n\n    const [is_disabled, setIsDisabled] = useState(true);\n    useEffect(() => {\n        setIsDisabled(date_time === null || site_list === null);\n    }, [date_time, site_list]);\n\n    return (\n        <Dialog\n            fullWidth\n            fullScreen={fullScreen}\n            open={isOpen}\n            aria-labelledby=\"form-dialog-title\"\n            TransitionComponent={fullScreen ? SlideTransition : FadeTransition}      \n        >\n            <DialogTitle id=\"form-dialog-title\">\n                Load Rainfall Information\n            </DialogTitle>\n            <DialogContent>\n                <DialogContentText>\n                    Fill-up the form with needed data.\n                </DialogContentText>\n                <Grid\n                    container \n                    spacing={1} \n                    alignItems=\"center\"\n                    justify=\"space-evenly\"\n                >\n                    <Grid item xs={12} className={classes.inputGridContainer}>\n                        <DynaslopeSiteSelectInputForm \n                            value={site_list}\n                            changeHandler={update_site_value}\n                            isMulti                    \n                        />\n                    </Grid>\n                    <Grid item xs={6} className={classes.inputGridContainer}>\n                        <Tooltip \n                            title=\"Example tooltip\"\n                            placement=\"top\"\n                            interactive\n                        >\n                            <FormControl>\n                                <FormControlLabel\n                                    control={\n                                        <Checkbox\n                                            checked={express}\n                                            onChange={expressRainInfo}\n                                            value=\"checkedB\"\n                                            color=\"primary\"\n                                        />\n                                    }\n                                    label=\"Express data in percentage\"\n                                />\n                            </FormControl>\n                        </Tooltip>\n                    </Grid>\n                    <Grid item xs={6} className={classes.inputGridContainer}>\n                    \n                        <MuiPickersUtilsProvider utils={MomentUtils}>\n                            <KeyboardDateTimePicker\n                                required\n                                autoOk\n                                label=\"Data timestamp\"\n                                value={date_time}\n                                onChange={update_datetime}\n                                ampm={false}\n                                placeholder=\"2010/01/01 00:00\"\n                                format=\"YYYY/MM/DD HH:mm\"\n                                mask=\"__/__/____ __:__\"\n                                clearable\n                                disableFuture\n                            />\n                        </MuiPickersUtilsProvider>\n                    </Grid>\n                </Grid>\n               \n            </DialogContent>\n               \n            <DialogActions>\n                <Button color=\"primary\" onClick={() => getRainInformationFunction()} disabled={is_disabled}>\n                    Select\n                </Button>\n                <Button onClick={clickHandler}>\n                    Cancel\n                </Button>\n            </DialogActions>\n        </Dialog>\n    );\n}\n\nexport default withMobileDialog()(LoadTemplateModal);\n","import React, { Fragment, useState } from \"react\";\nimport { IconButton, TextField, Typography, Grid } from \"@material-ui/core\";\nimport { SendRounded, MoreVert } from \"@material-ui/icons\";\nimport LoadTemplateModal from \"./LoadTemplateModal\";\nimport { getCurrentUser } from \"../../sessions/auth\";\n\n\nfunction MessageInputTextbox (props) {\n    const {\n        limitRows, value, disableSend,\n        messageChangeHandler, sendButtonClickHandler,\n        setComposedMessage, disableTemplateLoader\n    } = props;\n    const limit = limitRows === undefined ? true : limitRows;\n    const [is_modal_open, set_is_modal_open] = useState(false);\n\n    const setIsModalOpen = bool => () => set_is_modal_open(bool);\n    const { nickname } = getCurrentUser();\n    const message_ender = ` - ${nickname} from PHIVOLCS-DYNASLOPE`;\n\n    const max_chars = 1000;\n    const total_length = value.length + message_ender.length;\n\n    return (\n        <Fragment>\n            <Grid container spacing={1} alignItems=\"center\" style={{ paddingTop: 16 }}>\n                <Grid item xs={10} sm={11}>\n                    <TextField\n                        id=\"message_textbox\"\n                        label=\"Message\"\n                        multiline\n                        rows=\"4\"\n                        rowsMax={ limit ? 4 : 10 }\n                        fullWidth\n                        margin=\"dense\"\n                        variant=\"filled\"\n                        inputProps={{ maxLength: max_chars }}\n                        value={value}\n                        onChange={messageChangeHandler}\n                    />\n                    <Typography variant=\"caption\" align=\"right\" component=\"div\">\n                        <strong>Character count (including signature): {total_length}/{max_chars}</strong>\n                    </Typography>        \n                </Grid>\n\n                <Grid item xs={1} container direction=\"column\">\n                    <IconButton\n                        color=\"primary\"\n                        aria-label=\"Send message\"\n                        onClick={sendButtonClickHandler}\n                        disabled={disableSend}\n                    >\n                        <SendRounded />\n                    </IconButton>\n                    {\n                        !disableTemplateLoader && (\n                            <IconButton\n                                color=\"primary\"\n                                aria-label=\"More options\"\n                                onClick={setIsModalOpen(true)}\n                            >\n                                <MoreVert />\n                            </IconButton>\n                        )\n                    }\n                </Grid>\n            </Grid>\n\n            <LoadTemplateModal\n                isOpen={is_modal_open} \n                setComposedMessage={setComposedMessage}\n                clickHandler={setIsModalOpen(false)}\n                maxCharacters={max_chars}\n                inputFieldLength={max_chars - message_ender.length}\n            />\n        </Fragment>\n    );\n}\n\nexport default MessageInputTextbox;\n","import React, { Fragment } from \"react\";\nimport PropTypes from \"prop-types\";\nimport { withStyles } from \"@material-ui/core/styles\";\nimport FormControlLabel from \"@material-ui/core/FormControlLabel\";\nimport Checkbox from \"@material-ui/core/Checkbox\";\n\nconst styles = theme => ({\n    checkboxes: {\n        paddingTop: 4,\n        paddingBottom: 4\n    }\n});\n\nfunction CheckboxesGroup (props) {\n    const {\n        classes, label, changeHandler,\n        choices, checkboxStyle\n    } = props;\n\n    return (\n        <Fragment>\n            {\n                choices.map(({ state, value, label: clabel, is_disabled }, i) => (\n                    <FormControlLabel\n                        key={i}\n                        control={\n                            <Checkbox\n                                checked={state}\n                                onChange={changeHandler(value)}\n                                value={value}\n                                disabled={\n                                    typeof is_disabled === \"undefined\" ?\n                                        false : is_disabled\n                                }\n                                className={classes.checkboxes}\n                            />\n                        }\n                        label={clabel}\n                        className={checkboxStyle}\n                    />\n                ))\n            }\n        </Fragment>\n    );\n}\n\nexport default withStyles(styles)(CheckboxesGroup);","import React, { useState, useContext } from \"react\";\nimport {\n    Dialog, DialogTitle, DialogContent,\n    DialogContentText, DialogActions,\n    Button, withMobileDialog, IconButton, makeStyles,\n    FormControl, FormLabel, FormGroup,\n    FormControlLabel, Checkbox\n} from \"@material-ui/core\";\nimport { CheckCircle, RemoveCircle } from \"@material-ui/icons\";\nimport CheckboxGroup from \"../../reusables/CheckboxGroup\";\nimport { SlideTransition, FadeTransition } from \"../../reusables/TransitionList\";\nimport { GeneralContext } from \"../../contexts/GeneralContext\";\nimport { getRecipientsList } from \"../ajax\";\n\nconst useStyles = makeStyles(theme => ({\n    formControl: {\n        width: \"-webkit-fill-available\",\n        marginTop: 8,\n        \"&:first-child\": {\n            marginTop: 12,\n        }\n    },\n    formLabel: {\n        display: \"flex\",\n        alignItems: \"center\",\n        justifyContent: \"space-between\",\n        width: \"100%\"\n    },\n    checkboxSites: {\n        flex: \"1 1 25%\",\n        [theme.breakpoints.down(\"xs\")]: {\n            \"&:last-child\": {\n                flexBasis: \"58.5%\"\n            }\n        },\n        [theme.breakpoints.up(\"sm\")]: {\n            flexBasis: \"17%\"\n        },\n        [theme.breakpoints.up(\"md\")]: {\n            flexBasis: \"9%\"\n        },\n    },\n    checkboxOrganizations: {\n        flex: \"1 1 45%\",\n        [theme.breakpoints.up(\"sm\")]: {\n            flexBasis: \"17%\",\n            \"&:last-child\": {\n                flexBasis: \"77%\"\n            }\n        },\n        [theme.breakpoints.up(\"md\")]: {\n            flexBasis: \"9%\",\n            \"&:last-child\": {\n                flexBasis: \"45%\"\n            }\n        },\n    },\n    checkboxGroup: {\n        flexDirection: \"row\",\n        paddingTop: 6\n    },\n    buttons: {\n        [theme.breakpoints.down(\"xs\")]: {\n            padding: \"12px 6px\"\n        }\n    }\n}));\n\nfunction renderCheckboxes (classes, entry, state_handlers) {\n    const { state_list, group, list } = entry;\n    const { handleCheckAll, handleChange } = state_handlers;\n    const lgroup = group.toLowerCase();\n\n    return (\n        <FormControl component=\"fieldset\" className={classes.formControl} key={group}>\n            <FormLabel component=\"legend\" className={classes.formLabel}>\n                <span>{group}</span>\n\n                <span>\n                    {\n                        [\n                            { label: \"Check all\", component: <CheckCircle />, bool: true },\n                            { label: \"Uncheck all\", component: <RemoveCircle />, bool: false }\n                        ].map(line => (\n                            <IconButton\n                                aria-label={line.label}\n                                color=\"primary\"\n                                className={classes.buttons}\n                                onClick={handleCheckAll(lgroup, line.bool)}\n                                key={line.label}\n                            >\n                                {line.component}\n                            </IconButton>\n                        ))\n                    }\n                </span>\n            </FormLabel>\n            <FormGroup className={classes.checkboxGroup}>\n                <CheckboxGroup\n                    choices={list.map(x => listMapper(x, group, state_list))}\n                    changeHandler={handleChange(lgroup)}\n                    checkboxStyle={classes[`checkbox${group}`]}\n                />\n            </FormGroup>\n        </FormControl>\n    );\n}\n\nfunction listMapper (x, group, state_list) {\n    let id;\n    if (group === \"Sites\") {\n        id = \"site_id\";\n    } else if (group === \"Organizations\") {\n        id = \"org_id\";\n    }\n\n    const arr = state_list.filter(row => row.value === x[id]);\n    return arr.pop();\n}\n\nfunction QuickSelectModal (props) {\n    const {\n        fullScreen, isOpen, closeHandler,\n        setRecipients\n    } = props;\n    const classes = useStyles();\n\n    const { sites: site_list, organizations: org_list } = useContext(GeneralContext);\n\n    const initial_sites = site_list.map(row => ({\n        label: row.site_code.toUpperCase(),\n        value: row.site_id,\n        state: false\n    }));\n\n    const initial_orgs = org_list.map(row => {\n        let pre = \"\";\n        switch (row.scope) {\n            case 1:\n                pre = \"Barangay \"; break;\n            case 2:\n                pre = \"Municipal \"; break;\n            case 3:\n                pre = \"Provincial \"; break;\n            case 4:\n                pre = \"Regional \"; break;\n            case 5:\n                pre = \"National \"; break;\n            default:\n                break;\n        }\n\n        return {\n            label: pre + row.name.toUpperCase(),\n            value: row.org_id,\n            state: false\n        };\n    });\n\n    const [only_ewi_recipients, setOnlyEwiRecipients] = useState(false);\n    const [sites, setSites] = useState(initial_sites);\n    const [organizations, setOrganizations] = useState(initial_orgs);\n\n    const handleChange = prop => val => e => {\n        const is_checked = e.target.checked;\n\n        if (prop === \"only_ewi_recipient\") {\n            setOnlyEwiRecipients(is_checked);\n        } else {\n            let list;\n            let setter;\n            if (prop === \"sites\") {\n                list = sites;\n                setter = setSites;\n            } else if (prop === \"organizations\") {\n                list = organizations;\n                setter = setOrganizations;\n            }\n\n            const index = list.findIndex(x => x.value === val);\n            list[index].state = is_checked;\n            setter([ ...list ]);\n        }\n    };\n        \n    const handleCheckAll = (prop, bool) => () => {\n        let list;\n        let setter;\n        if (prop === \"sites\") {\n            list = sites;\n            setter = setSites;\n        } else if (prop === \"organizations\") {\n            list = organizations;\n            setter = setOrganizations;\n        }\n\n        const arr = list.map(x => ({ ...x, state: bool }));\n        setter([ ...arr ]);\n    };\n\n    const state_handlers = { handleCheckAll, handleChange };\n\n    const selectHandler = () => {\n        const site_ids = [];\n        const org_ids = [];\n\n        sites.forEach(row => {\n            if (row.state) site_ids.push(row.value);\n        });\n\n        organizations.forEach(row => {\n            if (row.state) org_ids.push(row.value);\n        });\n\n        const payload = {\n            site_ids,\n            org_ids,\n            only_ewi_recipients\n        };\n\n        getRecipientsList(payload, response => {\n            const temp = response.map(row => {\n                const { label, mobile_id, org, sim_num } = row;\n                let fin_label = label;\n                if (org !== \"\") fin_label = `${label} (${org})`;\n                fin_label += ` - ${sim_num}`;\n\n                const chip_label = `${label} - ${sim_num}`;\n\n                return {\n                    label: fin_label,\n                    chipLabel: chip_label,\n                    value: mobile_id,\n                    sim_num,\n                    data: row\n                };\n            });\n            \n            setRecipients(temp);\n        });\n\n        closeHandler();\n    };\n\n    return (\n        <div>\n            <Dialog\n                fullWidth\n                fullScreen={fullScreen}\n                open={isOpen}\n                aria-labelledby=\"form-dialog-title\"\n                TransitionComponent={fullScreen ? SlideTransition : FadeTransition}\n                maxWidth=\"md\"\n            >\n                <DialogTitle id=\"form-dialog-title\">\n                    Select recipients\n                </DialogTitle>\n                <DialogContent>\n                    <DialogContentText>\n                        Choose your preferred sites and offices as message recipients.\n                    </DialogContentText>\n                    \n                    <FormControl className={classes.formControl}>\n                        <FormControlLabel\n                            control={\n                                <Checkbox\n                                    checked={only_ewi_recipients}\n                                    onChange={e => setOnlyEwiRecipients(e.target.checked)}\n                                    value=\"only_ewi_recipients\"\n                                    className={classes.checkboxes}\n                                />\n                            }\n                            label=\"Only EWI Recipients\"\n                        />\n                    </FormControl>\n\n                    {\n                        [\n                            { state_list: organizations, group: \"Organizations\", list: org_list },\n                            { state_list: sites, group: \"Sites\", list: site_list }\n                        ].map(row => renderCheckboxes(classes, row, state_handlers))\n                    }\n                </DialogContent>\n                <DialogActions>\n                    <Button onClick={selectHandler} color=\"primary\">\n                        Select\n                    </Button>\n                    <Button onClick={closeHandler}>\n                        Cancel\n                    </Button>\n                </DialogActions>\n            </Dialog>\n        </div>\n    );\n}\n\nexport default withMobileDialog()(QuickSelectModal);\n","import React, { useState, Fragment, useEffect } from \"react\";\nimport { useSnackbar } from \"notistack\";\nimport { IconButton, Grid, Button, CircularProgress } from \"@material-ui/core\";\nimport { AddBox } from \"@material-ui/icons\";\nimport MessageInputTextbox from \"./MessageInputTextbox\";\nimport SelectMultipleWithSuggest from \"../../reusables/SelectMultipleWithSuggest\";\nimport QuickSelectModal from \"./QuickSelectModal\";\nimport { getEWISMSRecipients, sendMessage } from \"../ajax\";\nimport { getCurrentUser } from \"../../sessions/auth\";\n\nfunction SendMessageForm (props) {\n    const {\n        textboxValue, disableQuickSelect,\n        releaseId, siteCode, // if siteCode is given, it came from EWISmsModal\n        fromEWIModal,\n        modalStateHandler,\n        updateSentStatusObj, // updateSentStatusObj used only in EWISmsModal\n        recipientsList\n    } = props;\n    const { enqueueSnackbar, closeSnackbar } = useSnackbar();\n\n    const current_user = getCurrentUser();\n\n    const [recipients, setRecipients] = useState([]);\n    const [options, setOptions] = useState([]);\n    const [quick_select, setQuickSelect] = useState(false);\n    const [composed_message, setComposedMessage] = useState(textboxValue);\n\n    const disable_select = typeof disableQuickSelect === \"undefined\" ? false : disableQuickSelect;\n    const from_ewi_modal = typeof fromEWIModal === \"undefined\" ? false : fromEWIModal;\n\n    const [is_loading_recipients, setIsLoadingRecipients] = useState(false);\n\n    useEffect(() => {\n        if (typeof siteCode !== \"undefined\") {\n            setIsLoadingRecipients(true);\n            getEWISMSRecipients(siteCode, ewi_recipients_list => {\n                const temp_ewi_recipients = [];\n                const default_recipients = [];\n\n                const {\n                    type, public_alert_symbol: { alert_level },\n                    highest_event_alert_level\n                } = updateSentStatusObj;\n\n                ewi_recipients_list.forEach(item => {\n                    if (item.mobile_numbers.length > 0) {\n                        const {\n                            user_id, last_name, first_name,\n                            organizations, ewi_recipient, ewi_restriction\n                        } = item;\n                        const { name, scope } = organizations[0].organization;\n                        let org_name = name.toUpperCase();\n                        \n                        if (name === \"lgu\") {\n                            let prefix;\n                            if (scope === 1) prefix = \"B\";\n                            if (scope === 2) prefix = \"M\";\n                            if (scope === 3) prefix = \"P\";\n                            org_name = prefix + org_name;\n                        }\n                    \n                        const temp = {\n                            label: `${last_name}, ${first_name} (${org_name})`,\n                            value: user_id,\n                            data: item\n                        };\n\n                        temp_ewi_recipients.push(temp);\n                        if (ewi_recipient === 1) {\n                            let to_push = true;\n                            if (type === \"extended\") { \n                                // LEWC to MLGU\n                                to_push = false;\n                                if (name === \"lewc\" || (scope < 3 && name === \"lgu\")) to_push = true; \n                            } else if (ewi_restriction !== null) {\n                                const { alert_level: limit_alert_level } = ewi_restriction;\n                                if ((alert_level !== 0 && alert_level <= limit_alert_level) || \n                                    (alert_level === 0 && highest_event_alert_level <= limit_alert_level))\n                                    to_push = false;\n                            }\n                            \n                            if (to_push) default_recipients.push(temp);\n                        }\n                    }\n                });\n                setOptions(temp_ewi_recipients);\n                setRecipients(default_recipients);\n                setIsLoadingRecipients(false);\n            });\n        }\n    }, [siteCode]);\n\n    useEffect(() => {\n        if (typeof recipientsList !== \"undefined\") {\n            setIsLoadingRecipients(true);\n            \n            const temp = recipientsList.map(row => {\n                const { label, mobile_id, org, sim_num } = row;\n                let fin_label = label;\n                if (org !== \"\") fin_label = `${label} (${org})`;\n                fin_label += ` - ${sim_num}`;\n\n                const chip_label = `${label} - ${sim_num}`;\n\n                return {\n                    label: fin_label,\n                    chipLabel: chip_label,\n                    value: mobile_id,\n                    sim_num,\n                    data: row\n                };\n            });\n\n            setOptions(temp);\n            setRecipients([]);\n            setIsLoadingRecipients(false);\n        }\n    }, [recipientsList]);\n\n    const handle_message_fn = event => setComposedMessage(event.target.value);\n\n    const snackBarActionFn = key => {\n        return (<Button\n            color=\"primary\"\n            onClick={() => { closeSnackbar(key); }}\n        >\n            Dismiss\n        </Button>);\n    };\n\n    const on_send_message_fn = () => {\n        const recipient_list = [];\n\n        if (from_ewi_modal) {\n            recipients.forEach(row => {\n                const { data } = row;\n                const { mobile_numbers } = data;\n\n                mobile_numbers.forEach(item => recipient_list.push({\n                    mobile_id: item.mobile_number.mobile_id,\n                    gsm_id: item.mobile_number.gsm_id,\n                    data\n                }));\n            });\n        } else {\n            recipients.forEach(({ data: { mobile_id, gsm_id } }) => {\n                recipient_list.push({\n                    mobile_id, gsm_id\n                });\n            });\n        }\n\n        const formatted_message = `${composed_message} - ${current_user.nickname} from PHIVOLCS-DYNASLOPE`;\n\n        let payload = {\n            sms_msg: formatted_message,\n            recipient_list,\n            is_ewi: from_ewi_modal\n        };\n\n        if (from_ewi_modal) {\n            const { site_id, type } = updateSentStatusObj;\n\n            payload = {\n                ...payload,\n                release_id: releaseId,\n                user_id: current_user.user_id,\n                site_id,\n                alert_db_group: type\n            };\n        }\n\n        const loading_snackbar = enqueueSnackbar(\n            \"Sending EWI message...\",\n            {\n                variant: \"warning\",\n                persist: true\n            }\n        );\n\n        modalStateHandler();\n\n        sendMessage(payload, response => {\n            closeSnackbar(loading_snackbar);\n            const { message, status } = response;\n            let temp = message;\n            let variant;\n\n            if (status) {\n                variant = \"success\";\n                temp = \"EWI SMS sent!\";\n            } else variant = \"error\";\n            \n            enqueueSnackbar(\n                temp,\n                {\n                    variant,\n                    autoHideDuration: 7000,\n                    action: snackBarActionFn\n                }\n            );\n        }, () => {\n            enqueueSnackbar(\n                \"Error sending EWI SMS...\",\n                {\n                    variant: \"error\",\n                    autoHideDuration: 7000,\n                    action: snackBarActionFn\n                }\n            );\n        });\n    };\n\n    const is_recipients_empty = recipients === null || recipients.length === 0;\n    const is_message_empty = composed_message === \"\" || typeof composed_message === \"undefined\";\n\n    return (\n        <Fragment>\n            <Grid container justify=\"space-around\" alignItems=\"flex-end\">\n                {\n                    is_loading_recipients && (\n                        <Grid item xs={1}>\n                            <CircularProgress size={20} />\n                        </Grid>\n                    )\n                }\n\n                <Grid item xs>\n                    <SelectMultipleWithSuggest\n                        label=\"Recipients\"\n                        options={options}\n                        value={recipients}\n                        changeHandler={value => setRecipients(value)}\n                        placeholder=\"Select recipients\"\n                        renderDropdownIndicator\n                        openMenuOnClick\n                        isMulti\n                    />\n                </Grid>\n\n                {\n                    !disable_select && (\n                        <Grid item style={{ textAlign: \"right\" }}>\n                            <IconButton\n                                aria-label=\"Quick select option\"\n                                onClick={value => setQuickSelect(true)}\n                            >\n                                <AddBox />\n                            </IconButton>\n                        </Grid>\n                    )\n                }\n            </Grid>\n            \n            <QuickSelectModal\n                isOpen={quick_select}\n                closeHandler={value => setQuickSelect(false)}\n                setRecipients={setRecipients}\n            />\n                \n            <div style={{ marginTop: 16 }}>\n                <MessageInputTextbox\n                    limitRows={false}\n                    value={composed_message}\n                    disableSend={is_recipients_empty || is_message_empty}\n                    sendButtonClickHandler={on_send_message_fn}\n                    messageChangeHandler={handle_message_fn}\n                    setComposedMessage={setComposedMessage}\n                    disableTemplateLoader={from_ewi_modal}\n                />\n            </div>\n                \n        </Fragment>\n    );\n}\n\nexport default SendMessageForm;\n","import React from \"react\";\nimport {\n    Dialog, DialogTitle, DialogContent,\n    DialogContentText, DialogActions,\n    Button, withMobileDialog, IconButton\n} from \"@material-ui/core\";\nimport { Close } from \"@material-ui/icons\";\nimport SendMessageForm from \"../../communication/chatterbox/SendMessageForm\";\nimport { SlideTransition, FadeTransition } from \"../../reusables/TransitionList\";\n\nfunction SendEwiSmsModal (props) {\n    const {\n        fullScreen, modalStateHandler,\n        modalState, textboxValue, releaseDetail,\n    } = props;\n\n    const { release_id, site_code } = releaseDetail;\n    \n    return (\n        <Dialog\n            fullWidth\n            fullScreen={fullScreen}\n            open={modalState}\n            aria-labelledby=\"form-dialog-title\"\n            TransitionComponent={fullScreen ? SlideTransition : FadeTransition}\n                    \n        >\n            <DialogTitle id=\"form-dialog-title\">\n                <div style={{ display: \"flex\", alignItems: \"center\", justifyContent: \"space-between\" }}>\n                    <span>Send Early Warning Information</span>\n                    <IconButton \n                        color=\"inherit\" \n                        onClick={modalStateHandler}\n                        aria-label=\"Close\"\n                        style={{ padding: 0 }}\n                    >\n                        <Close />\n                    </IconButton>\n                </div>\n            </DialogTitle>\n            <DialogContent style={{ overflowY: \"auto\" }}>\n                <DialogContentText>\n                    Early warning information recipients for this site is already pre-loaded. Add additional site-related contacts\n                    if necessary. Use Chatterbox for non-site-related contacts.\n                </DialogContentText>\n                        \n                <div style={{ marginTop: 20 }}>\n                    <SendMessageForm\n                        isMobile={fullScreen}\n                        textboxValue={textboxValue}\n                        disableQuickSelect\n                        releaseId={release_id}\n                        siteCode={site_code}\n                        fromEWIModal\n                        updateSentStatusObj={releaseDetail}\n                        modalStateHandler={modalStateHandler}\n                    />\n                </div>\n            </DialogContent>\n            <DialogActions>\n                <Button onClick={modalStateHandler} color=\"primary\">\n                    Cancel\n                </Button>\n            </DialogActions>\n        </Dialog>\n    );\n}\n\nexport default withMobileDialog()(SendEwiSmsModal);\n","import React, { Fragment } from \"react\";\nimport {\n    Dialog, DialogTitle, DialogContent,\n    DialogContentText, DialogActions,\n    Button, withMobileDialog, IconButton,\n    Grid, CircularProgress, makeStyles\n} from \"@material-ui/core\";\nimport { Close } from \"@material-ui/icons\";\nimport { useSnackbar } from \"notistack\";\n\nimport GeneralStyles from \"../../../GeneralStyles\";\nimport { getCurrentUser } from \"../../sessions/auth\";\nimport MessageInputTextbox from \"../../communication/chatterbox/MessageInputTextbox\";\nimport { sendRoutineEwiMessage } from \"../../communication/ajax\";\nimport { SlideTransition, FadeTransition } from \"../../reusables/TransitionList\";\n\nconst useStyles = makeStyles(theme => GeneralStyles(theme));\n\nfunction SendRoutineMessageForm (props) {\n    const {\n        is_loading_recipients, textboxValue,\n        sendHandler\n    } = props;\n\n    return (\n        <Fragment>\n            <Grid container justify=\"space-around\" alignItems=\"flex-end\">\n                {\n                    is_loading_recipients && (\n                        <Grid item xs={1}>\n                            <CircularProgress size={20} />\n                        </Grid>\n                    )\n                }\n            </Grid>\n\n            <div style={{ marginTop: 16 }}>\n                <MessageInputTextbox\n                    limitRows={false}\n                    value={textboxValue}\n                    disableSend={false}\n                    sendButtonClickHandler={sendHandler}\n                    messageChangeHandler={() => console.log(\"tried msg change\")}\n                />\n            </div>\n                \n        </Fragment>\n    );\n}\n\nfunction SendRoutineEwiSmsModal (props) {\n    const {\n        fullScreen, modalStateHandler,\n        modalState, textboxValue, siteList\n    } = props;\n    const classes = useStyles();\n\n    // const { release_id, site_code } = releaseDetail;\n    const { enqueueSnackbar, closeSnackbar } = useSnackbar();\n\n    const snackBarActionFn = key => {\n        return (<Button\n            color=\"primary\"\n            onClick={() => { closeSnackbar(key); }}\n        >\n            Dismiss\n        </Button>);\n    };\n\n    const sendHandler = () => {\n        const { user_id, nickname } = getCurrentUser();\n        const input = {\n            site_list: siteList,\n            user_id,\n            nickname \n        };\n        modalStateHandler();\n        sendRoutineEwiMessage(input, response => {\n            console.log(response);\n\n            if (response.status) {\n                enqueueSnackbar(\n                    \"Routine EWI SMS Sent!\",\n                    {\n                        variant: \"success\",\n                        autoHideDuration: 7000,\n                        action: snackBarActionFn\n                    }\n                );\n            } else {\n                const temp = response.site_ids.map(x => x.toUpperCase());\n                enqueueSnackbar(\n                    `Some problems occurred sending EWI SMS to ${temp.join(\", \")}`,\n                    {\n                        variant: \"error\",\n                        persist: true,\n                        action: snackBarActionFn\n                    }\n                );\n            }\n        }, error_response => {\n            console.log(\"error_response\", error_response);\n            enqueueSnackbar(\n                \"Error sending routine EWI SMS...\",\n                {\n                    variant: \"error\",\n                    autoHideDuration: 7000,\n                    action: snackBarActionFn\n                }\n            );\n        });\n\n    };\n    \n    return (\n        <Dialog\n            fullWidth\n            fullScreen={fullScreen}\n            open={modalState}\n            aria-labelledby=\"form-dialog-title\"\n            TransitionComponent={fullScreen ? SlideTransition : FadeTransition}\n                    \n        >\n            <DialogTitle id=\"form-dialog-title\">\n                <div style={{ display: \"flex\", alignItems: \"center\", justifyContent: \"space-between\" }}>\n                    <span>Send Routine Early Warning Information</span>\n                    <IconButton \n                        color=\"inherit\" \n                        onClick={modalStateHandler}\n                        aria-label=\"Close\"\n                        style={{ padding: 0 }}\n                    >\n                        <Close />\n                    </IconButton>\n                </div>\n            </DialogTitle>\n            <DialogContent style={{ overflowY: \"hidden\" }}>\n                <DialogContentText>\n                    Early warning information recipients for this site is already pre-loaded. \n                    Recipients are LEWC, Barangay, and Municipal LGUs per site. If you need to add a new recipient, \n                    add a new community contact via chatterbox.\n                </DialogContentText>\n\n                <DialogContentText className={classes.dyna_error}>\n                    NOTE: Ensure first that alerts for ALL sites under routine monitoring has been released before sending \n                    routine EWI SMS. Sending routine EWI in multiple batches will result in message duplication on our stakeholders.\n                </DialogContentText>\n                        \n                <div style={{ marginTop: 20 }}>\n                    <SendRoutineMessageForm\n                        isMobile={fullScreen}\n                        textboxValue={textboxValue}\n                        disableQuickSelect\n                        sendHandler={sendHandler}\n                        fromEWIModal\n                        updateSentStatusObj=\"\"\n                        modalStateHandler={modalStateHandler}\n                    />\n                </div>\n            </DialogContent>\n            <DialogActions>\n                <Button onClick={modalStateHandler} color=\"primary\">\n                    Cancel\n                </Button>\n            </DialogActions>\n        </Dialog>\n    );\n}\n\nexport default withMobileDialog()(SendRoutineEwiSmsModal);\n","import React, { Fragment } from \"react\";\nimport {\n    FormControl, InputLabel, Select,\n    MenuItem, withStyles\n} from \"@material-ui/core\";\n\nconst styles = theme => ({\n    formControl: {\n        minWidth: 120\n    }\n});\n\nfunction SelectInputForm (props) {\n    const {\n        classes, list, mapping,\n        label, div_id,\n        changeHandler, value, css,\n        error, required,\n        disabled\n    } = props;\n\n    const is_required = typeof required !== \"undefined\" ? required : false;\n    const is_error = typeof error !== \"undefined\" ? error : false;\n\n    return (\n        <Fragment>\n            <FormControl \n                required={is_required}\n                error={is_error}\n                className={`${classes.formControl} ${css}`} \n                fullWidth\n            >\n                <InputLabel htmlFor={div_id}>{label}</InputLabel>\n                <Select\n                    value={value}\n                    onChange={changeHandler}\n                    name={div_id}\n                    inputProps={{\n                        id: div_id,\n                    }}\n                    disabled={disabled}\n                >\n                    <MenuItem value=\"\">\n                        <em>---</em>\n                    </MenuItem>\n                    {\n                        list.map((item, i) => (\n                            <MenuItem value={item[mapping.id]} key={i}>{item[mapping.label]}</MenuItem>\n                        ))\n                    }\n                </Select>\n            </FormControl>\n        </Fragment>\n    );\n    \n}\n\nexport default withStyles(styles)(SelectInputForm);\n","import React, { Component } from \"react\";\nimport ReactDOM from \"react-dom\";\nimport {\n    FormControl, InputLabel, Select,\n    MenuItem, withStyles, OutlinedInput\n} from \"@material-ui/core\";\n\nconst styles = theme => ({\n    formControl: {\n        minWidth: 120\n    }\n});\n\nclass OutlinedSelectInputForm extends Component {\n    state = {\n        labelWidth: 0\n    }\n\n    componentDidMount () {\n        this.setState({\n            labelWidth: ReactDOM.findDOMNode(this.InputLabelRef).offsetWidth,\n        });\n    }\n\n    render () {\n        const {\n            classes, list, mapping,\n            label, div_id,\n            changeHandler, value, css\n        } = this.props;\n        const { labelWidth } = this.state;\n\n        return (\n            <FormControl required variant=\"outlined\" className={`${classes.formControl} ${css}`}>\n                <InputLabel\n                    ref={ref => {\n                        this.InputLabelRef = ref;\n                    }} \n                    htmlFor={div_id}\n                >\n                    {label}\n                </InputLabel>\n                <Select\n                    value={value}\n                    onChange={changeHandler}\n                    name={div_id}\n                    input={\n                        <OutlinedInput\n                            labelWidth={labelWidth}\n                            id={div_id}\n                        />\n                    }\n                    fullWidth\n                >\n                    <MenuItem value=\"\">\n                        <em>---</em>\n                    </MenuItem>\n                    {\n                        list.map((item, i) => (\n                            <MenuItem value={item[mapping.id]} key={i}>{item[mapping.label]}</MenuItem>\n                        ))\n                    }\n                </Select>\n            </FormControl>\n        );\n    }    \n}\n\nexport default withStyles(styles)(OutlinedSelectInputForm);\n","import React, {\n    Fragment, useState, useEffect,\n    useContext\n} from \"react\";\nimport axios from \"axios\";\nimport SelectInputForm from \"./SelectInputForm\";\nimport OutlinedSelectInputForm from \"./OutlinedSelectInputForm\";\nimport { host } from \"../../config\";\nimport { GeneralContext } from \"../contexts/GeneralContext\";\n\nconst mapping = { id: \"user_id\", label: \"name\" };\n\nfunction prepareUsersArray (arr) {\n    return arr.map(({ user_id, first_name, last_name }) => ({ user_id, name: `${last_name}, ${first_name}` }));\n}\n\nfunction DynaslopeUserSelectInputForm (props) {\n    const {\n        variant, label, div_id,\n        changeHandler, value, css,\n        disabled, returnFullNameCallback,\n        isCommunityStaff\n    } = props;\n\n    const [users, setUsers] = useState([]);\n    const { users: saved_users } = useContext(GeneralContext);\n\n    useEffect(() => {\n        const cancel_token = axios.CancelToken;\n        const source = cancel_token.source();\n        if (isCommunityStaff) {\n            const { site_code } = props;\n            const api_link = `${host}/api/users/get_community_users_by_site/${site_code}`;\n\n            axios.get(api_link, { cancelToken: source.token })\n            .then(response => {\n                const arr = prepareUsersArray(response.data);\n                setUsers(arr);\n            })\n            .catch(error => {\n                console.log(error);\n            });\n        } else {\n            const arr = prepareUsersArray(saved_users);\n            setUsers(arr);\n        }\n\n        return () => {\n            source.cancel();\n        };\n    }, [saved_users]);\n    \n    const callback = typeof returnFullNameCallback === \"undefined\" ? false : returnFullNameCallback;\n\n    if (callback) {\n        const user = users.find(o => o.user_id === value);\n        if (typeof user !== \"undefined\") returnFullNameCallback(user.name);\n    }\n\n    return (\n        <Fragment>\n            {\n                variant === \"standard\" && (\n                    <SelectInputForm\n                        label={label}\n                        div_id={div_id}\n                        changeHandler={changeHandler}\n                        value={users.length === 0 ? \"\" : value}\n                        list={users}\n                        mapping={mapping}\n                        css={css}\n                        disabled={disabled}\n                    />\n                )\n            }\n            {\n                variant === \"outlined\" && (\n                    <OutlinedSelectInputForm\n                        label={label}\n                        div_id={div_id}\n                        changeHandler={changeHandler}\n                        value={users.length === 0 ? \"\" : value}\n                        list={users}\n                        mapping={mapping}\n                        css={css}\n                    />\n                )\n            }\n        </Fragment>\n    );\n}\n\nexport default DynaslopeUserSelectInputForm;\n\n","import React, { createContext, useState } from \"react\";\n\nexport const CTContext = createContext();\n\nexport const CTProvider = ({ children }) => {\n    const [reporter_id_ct, setReporterIdCt] = useState(\"\");\n    const [ct_full_name, setCTFullName] = useState(\"---\");\n\n    return (\n        <CTContext.Provider value={{\n            reporter_id_ct, setReporterIdCt,\n            ct_full_name, setCTFullName\n        }}>\n            {children}\n        </CTContext.Provider>\n    );\n};","import React, { Fragment, useState, useContext } from \"react\";\nimport {\n    Grid, Typography,\n    Divider, Button\n} from \"@material-ui/core\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport ContentLoader from \"react-content-loader\";\n\nimport moment from \"moment\";\n\nimport Accordion from \"@material-ui/core/Accordion\";\nimport AccordionDetails from \"@material-ui/core/AccordionDetails\";\nimport AccordionSummary from \"@material-ui/core/AccordionSummary\";\nimport AccordionActions from \"@material-ui/core/AccordionActions\";\nimport Tooltip from \"@material-ui/core/Tooltip\";\nimport {\n    Publish, Description, PhoneAndroid,\n    Done, Timeline, PanTool, Warning, Help\n} from \"@material-ui/icons\";\n\nimport GeneralStyles from \"../../../GeneralStyles\";\nimport ValidationModal from \"./ValidationModal\";\nimport useModal from \"../../reusables/useModal\";\nimport BulletinModal from \"../../widgets/bulletin/BulletinModal\";\nimport { getEWIMessage, getRoutineEWIMessage } from \"../ajax\";\nimport SendEwiSmsModal from \"./SendEwiSmsModal\";\nimport SendRoutineEwiSmsModal from \"./SendRoutineEwiSmsModal\";\nimport DynaslopeUserSelectInputForm from \"../../reusables/DynaslopeUserSelectInputForm\";\nimport { CTContext } from \"./CTContext\";\nimport { capitalizeFirstLetter } from \"../../../UtilityFunctions\";\nimport { ServerTimeContext } from \"../../contexts/ServerTimeContext\";\nimport { GeneralContext } from \"../../contexts/GeneralContext\";\n\nconst useStyles = makeStyles(theme => {\n    const general_styles = GeneralStyles(theme);\n    return {\n        ...general_styles,\n        root: {\n            width: \"100%\",\n        },\n        sectionHead: {\n            ...general_styles.sectionHead,\n            marginBottom: 24\n        },\n        AccordionSummaryContent: { justifyContent: \"space-between\" },\n        invalidCandidate: {\n            background: \"linear-gradient(45deg, #FE6B8B 30%, #FF8E53 90%)\"\n        },\n        validCandidate: {\n            background: \"linear-gradient(315deg, #00b712 0%, #5aff15 74%)\"\n        },\n        partialInvalidCandidate: {\n            background: \"linear-gradient(315deg, #bbf0f3 0%, #f6d285 74%)\"\n        },\n        inputWidth: { width: \"50%\" },\n    };\n});\n\nfunction format_ts (ts) {\n    return moment(ts).format(\"DD MMMM YYYY, HH:mm\");\n}\n\nconst MyLoader = () => (\n    <ContentLoader \n        height={60}\n        width={700}\n        speed={0.5}\n        foregroundColor=\"#f3f3f3\"\n        backgroundColor=\"#ecebeb\"\n        style={{ width: \"100%\" }}\n    >\n        <rect x=\"-4\" y=\"5\" rx=\"4\" ry=\"4\" width=\"700\" height=\"111\" /> \n    </ContentLoader>\n);\n\nfunction CandidateAlertsAccordion (props) {\n    const { \n        alertData, classes, expanded,\n        handleExpansion, index, releaseFormOpenHandler,\n        isShowingValidation, toggleValidation, validationDetails\n    } = props;\n    const { sites } = useContext(GeneralContext);\n\n    let site = \"\";\n    let ts = \"\";\n    let ia_level = \"\";\n    let trigger_arr = [];\n    let has_new_triggers = false;\n    const {\n        general_status, is_release_time,\n        unresolved_moms_list\n    } = alertData;\n\n    const routine_a0 = [];\n    const routine_nd = [];\n    let routine_overdue = [];\n\n    const { validity_status: vs } = alertData;\n    let validity_status = \"valid\";\n    if (typeof vs !== \"undefined\") {\n        validity_status = vs;\n    }\n    \n    if (general_status === \"routine\") {\n        const { data_ts, public_alert_symbol, overdue_routine_list, routine_details } = alertData;\n        site = \"ROUTINE RELEASE\";\n        ts = format_ts(data_ts);\n        ia_level = public_alert_symbol;\n        routine_overdue = overdue_routine_list;\n        routine_details.forEach(el => {\n            if (el.internal_alert_level === \"ND\" && sites !== null) {\n                el.site_id_list.forEach( id => {\n                    const r_site = sites.filter( row => {\n                        return row.site_id === id;\n                    });\n                    routine_nd.push(r_site[0]);\n                });\n            }\n            if (el.internal_alert_level === \"A0\" && sites !== null) {\n                el.site_id_list.forEach( id => {\n                    const r_site = sites.filter( row => {\n                        return row.site_id === id;\n                    });\n                    routine_a0.push(r_site[0]);\n                });\n            }\n        });   \n    } else {\n        const { \n            site_code, release_details, internal_alert_level,\n            trigger_list_arr\n        } = alertData;\n        const { data_ts } = release_details;\n        site = site_code;\n        ts = format_ts(data_ts);\n        ia_level = internal_alert_level;\n        trigger_arr = typeof trigger_list_arr === \"undefined\" ? [] : trigger_list_arr;\n        has_new_triggers = trigger_arr !== \"No new triggers\" && trigger_arr.length > 0;\n    }\n    site = site.toUpperCase();\n    const gen_status = general_status.toUpperCase();\n\n    let root_style = classes.alert0;\n    if (validity_status === \"invalid\") root_style = classes.alert3;\n    else if (validity_status === \"partially valid\") root_style = classes.alert2;\n\n    return (\n        <Accordion\n            key={`panel-${index + 1}`}\n            expanded={expanded === `panel${index}`}\n            onChange={handleExpansion(`panel${index}`)}\n        >\n            <AccordionSummary\n                // expandIcon={<ExpandMoreIcon />}\n                aria-controls={`panel${index}bh-content`}\n                id={`panel${index}bh-header`}\n                classes={{\n                    content: classes.AccordionSummaryContent,\n                    root: root_style\n                }}\n            >\n                {\n                    [site, ts, validity_status.toUpperCase(), gen_status].map((elem, i) => (\n                        <Typography\n                            key={`candidate-column-${i + 1}`}\n                            color=\"textSecondary\"\n                            variant=\"body2\"\n                        >\n                            {elem}\n                        </Typography>\n                    ))\n                }\n            </AccordionSummary>\n            <Divider style={{ marginBottom: 12 }} />\n            <AccordionDetails>\n\n                <Grid container spacing={1}>\n                    <Grid item xs={12} container spacing={1}>\n                        <Grid item xs={12} sm align=\"center\">\n                            <Typography component=\"span\" variant=\"body1\" color=\"textSecondary\" style={{ paddingRight: 8 }}>Data Timestamp:</Typography>\n                            <Typography component=\"span\" variant=\"body1\" color=\"textPrimary\">{ts}</Typography>\n                        </Grid>\n                        <Grid item xs={12} sm align=\"center\">\n                            <Typography component=\"span\" variant=\"body1\" color=\"textSecondary\" style={{ paddingRight: 8 }}>Internal Alert:</Typography>\n                            <Typography component=\"span\" variant=\"body1\" color=\"textPrimary\">{ia_level}</Typography>\n                        </Grid>\n                    </Grid>\n\n                    <Grid item xs={12} style={{ margin: \"6px 0\" }}><Divider /></Grid>\n\n                    <Grid item xs={12} container spacing={1}>\n                        { \n                            gen_status === \"ROUTINE\" ? (\n                                <Grid item xs={12} container spacing={2} justify=\"space-between\">\n                                    <Grid item container xs={12} md={12}>\n                                        <Grid item xs={12}>\n                                            <Typography variant=\"h6\">\n                                                <strong>A0</strong>\n                                            </Typography>\n                                        </Grid>\n                                        {\n                                            routine_a0.length > 0 ? (\n                                                routine_a0.map( row => {\n                                                    return (\n                                                        <Grid item md={1} xs={2} key={row.site_code} style={{ padding: 3 }} >\n                                                            <Typography \n                                                                variant=\"body1\"> \n                                                                {row.site_code.toUpperCase()}\n                                                            </Typography>\n                                                        </Grid>\n                                                    );\n                                                })\n                                            ) : (\n                                                <Typography variant=\"subtitle2\">None</Typography>\n                                            )\n                                        }\n                                    </Grid>\n\n                                    <Grid item container xs={12} md={12} alignItems=\"center\" >\n                                        <Grid item xs={12}>\n                                            <Typography variant=\"h6\">\n                                                <strong>ND</strong>\n                                            </Typography>\n                                        </Grid>\n                                        {\n                                            routine_nd.length > 0 && typeof routine_nd !== \"undefined\" ? ( \n                                                routine_nd.map( row => {\n                                                    return (\n                                                        <Grid item md={1} xs={2} key={row.site_id} style={{ padding: 3 }} >\n                                                            <Typography \n                                                                variant=\"body1\"> \n                                                                {row.site_code.toUpperCase()}\n                                                            </Typography>\n                                                        </Grid>\n                                                    );\n                                                })\n                                            ) : (\n                                                <Typography variant=\"subtitle2\">None</Typography>\n                                            )\n                                        }\n                                    </Grid>\n                                    \n                                    <Grid item container xs={12} md={12}>\n                                        { \n                                            routine_overdue.length > 0 && (\n                                                <Fragment>\n                                                    <Grid item xs={12} className={classes.routineSitesContainer}>\n                                                        <Typography variant=\"h6\">\n                                                            <strong>Overdue</strong>\n                                                        </Typography>\n                                                    </Grid>\n\n                                                    {\n                                                        routine_overdue.map(row => (\n                                                            <Grid item md={1} xs={2} key={row.site_code} style={{ justifyItems: \"center\", padding: 3 }} >\n                                                                <Typography \n                                                                    variant=\"body1\"> \n                                                                    {row.site_code.toUpperCase()}\n                                                                </Typography>\n                                                            </Grid>\n                                                        ))\n                                                    }\n                                                </Fragment>\n                                            )\n                                        }\n                                    </Grid>\n                                </Grid> \n                            ) : (\n                                <div style={{ width: \"100%\" }}>\n                                    <Grid item xs={12} md={12}>\n                                        <Typography variant=\"subtitle2\" color=\"textPrimary\">TRIGGERS</Typography>\n                                    </Grid>\n                       \n                                    <Grid item xs={12} container spacing={2} alignItems=\"center\" >\n                                        {\n                                            has_new_triggers ? (\n                                                trigger_arr.map((trigger, key) => {\n                                                    const { \n                                                        ts_updated, alert, tech_info,\n                                                        trigger_id, trigger_type\n                                                    } = trigger;\n\n                                                    const formatted_ts = format_ts(ts_updated);\n                                                    let trigger_validity = \"Valid\";\n                                                    let to_validate = false;\n                                                    let is_validating = false;\n\n                                                    try {\n                                                        const { validating_status } = trigger;\n                                                        if (validating_status === 0) {\n                                                            trigger_validity = \"Validating\";\n                                                            is_validating = true;\n                                                            to_validate = true;\n                                                        } else if (validating_status === null) {\n                                                            trigger_validity = \"---\";\n                                                            to_validate = true;\n                                                        } else if (validating_status === 1) {\n                                                            to_validate = false;\n                                                        }\n                                                    } catch (err) { /* pass */ }\n\n                                                    try {\n                                                        const { invalid } = trigger;\n                                                        if (invalid) {\n                                                            trigger_validity = \"Invalid\";\n                                                        }\n                                                    } catch (err) { /* pass */ }\n\n                                                    const to_show_validate_button = [\"surficial\", \"rainfall\", \"subsurface\"].includes(trigger_type) && to_validate;\n\n                                                    return (\n                                                        <Fragment key={`trigger-${trigger_type}-${alert}`} >\n                                                            <Grid item xs align=\"center\">\n                                                                <Typography variant=\"body1\" color=\"textSecondary\">Trigger</Typography>\n                                                                <Typography variant=\"body1\" color=\"textPrimary\">{alert}</Typography>\n                                                            </Grid>\n\n                                                            <Grid item xs={4} align=\"center\">\n                                                                <Typography variant=\"body1\" color=\"textSecondary\">Trigger timestamp</Typography>\n                                                                <Typography variant=\"body1\" color=\"textPrimary\">{formatted_ts}</Typography>\n                                                            </Grid>\n                                                            {/* \n                                                    NOTE: Pwedeng ipakita, pwedeng hindi, commented out just in case need\n                                                    <Grid item xs={6} align=\"center\">\n                                                        <Typography variant=\"body1\" color=\"textSecondary\">Tech Info</Typography>\n                                                        <Typography variant=\"body1\" color=\"textPrimary\">{tech_info}</Typography>\n                                                    </Grid> \n                                                */}\n                                                            <Grid item xs align={to_show_validate_button ? \"flex-start\" : \"center\"}>\n                                                                <Typography component=\"span\" variant=\"body1\" color=\"textSecondary\" style={{ paddingRight: 8 }}>Status:</Typography>\n                                                                <Typography component=\"span\" variant=\"body1\" color=\"textPrimary\">{trigger_validity}</Typography>\n                                                            </Grid>\n\n                                                            {\n                                                                to_show_validate_button && (\n                                                                    <Grid item xs justify=\"flex-end\" container>\n                                                                        <Button\n                                                                            onClick={toggleValidation(true, {\n                                                                                site, trigger_id, ts_updated\n                                                                            })}\n                                                                            variant=\"contained\" color=\"secondary\"\n                                                                            size=\"small\" aria-label=\"Validate trigger\"\n                                                                        >\n                                                                            Validate\n                                                                        </Button>\n                                                                    </Grid>\n                                                                )\n                                                            }\n                                                            <ValidationModal\n                                                                isShowing={isShowingValidation}\n                                                                data={validationDetails}\n                                                                hide={toggleValidation(false, {})}\n                                                                isValidating={is_validating}\n                                                            />\n                                                            {\n                                                                trigger_arr.length > key + 1 && (\n                                                                    <Grid item xs={12} style={{ margin: \"6px 0\" }}><Divider /></Grid>\n                                                                )\n                                                            }\n                                                        </Fragment>\n                                                    );\n                                                })\n                                            ) : (\n                                                <Fragment >\n                                                    <Grid item xs={12} align=\"center\">\n                                                        <Typography variant=\"body1\" color=\"textSecondary\">No new triggers</Typography>\n                                                    </Grid>\n                                                </Fragment>\n                                            )\n                                        }\n                                    </Grid>\n                                </div>\n                            )\n                        }\n                    </Grid>\n                        \n                    {\n                        typeof unresolved_moms_list !== \"undefined\" && unresolved_moms_list.length > 0 && (\n                            <Fragment>\n                                <Grid item xs={12} container spacing={1}>\n                                    <Grid item xs={12} style={{ margin: \"6px 0\" }}><Divider /></Grid>\n                                    \n                                    <Grid item xs={12}>\n                                        <Typography variant=\"subtitle2\" color=\"textPrimary\">UNRESOLVED MOMS LIST</Typography>\n                                    </Grid>\n                        \n                                    <Grid item xs={12} container spacing={2} alignItems=\"center\">\n                                        {\n                                            unresolved_moms_list.map((row, key) => {\n                                                const { moms_instance, observance_ts, op_trigger } = row;\n                                                const { feature: { feature_type }, feature_name } = moms_instance;\n                                                const feature = `${capitalizeFirstLetter(feature_type)} ${feature_name.toUpperCase()}`;\n                                                const formatted_ts = format_ts(observance_ts);\n\n                                                return (\n                                                    <Fragment key={row.moms_id}>\n                                                        <Grid item xs align=\"center\">\n                                                            <Typography variant=\"body1\" color=\"textSecondary\">Feature</Typography>\n                                                            <Typography variant=\"body1\" color=\"textPrimary\">{feature}</Typography>\n                                                        </Grid>\n\n                                                        <Grid item xs={4} align=\"center\">\n                                                            <Typography variant=\"body1\" color=\"textSecondary\">Last Report</Typography>\n                                                            <Typography variant=\"body1\" color=\"textPrimary\">{formatted_ts}</Typography>\n                                                        </Grid>\n\n                                                        <Grid item xs align=\"center\">\n                                                            <Typography variant=\"body1\" color=\"textSecondary\">Alert Level</Typography>\n                                                            <Typography variant=\"body1\" color=\"textPrimary\">{op_trigger}</Typography>\n                                                        </Grid>\n\n                                                        {\n                                                            unresolved_moms_list.length > key + 1 && (\n                                                                <Grid item xs={12} style={{ margin: \"6px 0\" }}><Divider /></Grid>\n                                                            )\n                                                        }\n                                                    </Fragment>\n                                                );\n                                            })\n                                        }\n                                    </Grid>\n                                </Grid>\n                            </Fragment>\n                        )\n                    }\n                </Grid>\n            </AccordionDetails>\n            <Divider />\n            <AccordionActions>\n                <Button\n                    color=\"secondary\" size=\"small\"\n                    aria-label=\"Release candidate alert\"\n                    startIcon={<Publish />}\n                    onClick={releaseFormOpenHandler(alertData, general_status)}\n                    disabled={!is_release_time}\n                >\n                    Release\n                </Button>\n            </AccordionActions>\n        </Accordion>\n    );\n}\n\nfunction LatestSiteAlertsAccordion (props) {\n    const { \n        siteAlert, classes, expanded,\n        handleExpansion, smsHandler,\n        bulletinHandler, keyName, type,\n        history\n    } = props;\n    const {\n        event, internal_alert_level, releases,\n        day, sent_statuses, public_alert_symbol,\n        is_onset_release, prescribed_release_time,\n        has_alert_release_today, highest_event_alert_level\n    } = siteAlert;\n    const { alert_level } = public_alert_symbol;\n    const { server_time } = useContext(ServerTimeContext);\n\n    const { is_sms_sent, is_bulletin_sent } = sent_statuses;\n\n    const { validity, site, event_start, event_id } = event;\n    const { site_code, site_id } = site;\n    const site_name = site_code.toUpperCase();\n    \n    const start_ts = format_ts(event_start);\n    const validity_ts = format_ts(validity);\n\n    const { release_id, data_ts, release_time } = releases[0];\n    let adjusted_data_ts = data_ts;\n    if (!is_onset_release) adjusted_data_ts = moment(data_ts).add(30, \"minutes\");\n    adjusted_data_ts = format_ts(adjusted_data_ts);\n\n    const panel_headers = [site_name, internal_alert_level];\n    if (type === \"extended\") {\n        let notice = \"\";\n        if (!has_alert_release_today) {\n            notice = <Tooltip \n                arrow title=\"Don't forget to release today's site alert for extended monitoring!\"\n            >\n                <Warning \n                    fontSize=\"small\" style={{ marginLeft: 8 }} \n                    className={classes.dyna_error}\n                />\n            </Tooltip>;\n        }\n\n        const day_div = <span \n            style={{ display: \"flex\", alignItems: \"center\" }}\n        >\n            Day {day}{notice}\n        </span>;\n        panel_headers.push(day_div);\n    } else {\n        panel_headers.push(adjusted_data_ts, release_time);\n    }\n\n    let sms_end_icon = is_sms_sent ? <Done /> : \"\";\n    let bulletin_end_icon = is_bulletin_sent ? <Done /> : \"\";\n    const not_yet_sending_time = server_time !== null && moment(server_time).isBefore(prescribed_release_time) && !is_onset_release;\n    if (not_yet_sending_time) {\n        sms_end_icon = <PanTool />;\n        bulletin_end_icon = <PanTool />;\n    }\n\n    const tooltip_title_maker = ewi => {\n        const lowercase = ewi.toLowerCase();\n        if (lowercase === \"bulletin\" && type === \"extended\") {\n            return \"No need to send EWI bulletin on sites under extended monitoring\";\n        }\n        if (not_yet_sending_time) return \"Wait for EWI sending time\";\n        if (sent_statuses[`is_${lowercase}_sent`]) return `EWI ${ewi} sent!`;\n        return `Send EWI ${ewi}`;\n    };\n\n    return (\n        <Accordion\n            expanded={expanded === keyName}\n            onChange={handleExpansion(keyName)}\n        >\n            <AccordionSummary\n                // expandIcon={<ExpandMoreIcon />}\n                aria-controls={`${keyName}bh-content`}\n                id={`${keyName}bh-header`}\n                classes={{\n                    content: classes.AccordionSummaryContent,\n                    root: classes[`alert${alert_level}`]\n                }}\n            >\n                {\n                    panel_headers.map((elem, i) => (\n                        <Typography\n                            key={`exp-columns-${i + 1}`}\n                            color=\"textSecondary\"\n                            variant=\"body2\"\n                        >\n                            {elem}\n                        </Typography>\n                    ))\n                }\n            </AccordionSummary>\n            <Divider style={{ marginBottom: 12 }} />\n            <AccordionDetails>\n                <Grid container spacing={1}>\n                    <Grid item xs={12} container spacing={1}>\n                        <Grid item xs={12} sm align=\"center\">\n                            <Typography component=\"span\" variant=\"body1\" color=\"textSecondary\" style={{ paddingRight: 8 }}>Event Start:</Typography>\n                            <Typography component=\"span\" variant=\"body1\" color=\"textPrimary\">{start_ts}</Typography>\n                        </Grid>\n                        <Grid item xs={12} sm align=\"center\">\n                            <Typography component=\"span\" variant=\"body1\" color=\"textSecondary\" style={{ paddingRight: 8 }}>Event Validity:</Typography>\n                            <Typography component=\"span\" variant=\"body1\" color=\"textPrimary\">{validity_ts}</Typography>\n                        </Grid>\n                    </Grid>\n\n                    <Grid item xs={12} style={{ margin: \"6px 0\" }}><Divider /></Grid>\n\n                    <Grid item xs={12}>\n                        <Typography variant=\"subtitle2\" color=\"textPrimary\">LATEST RELEASE</Typography>\n                    </Grid>\n                        \n                    <Grid item xs={12} container spacing={1}>\n                        {\n                            [\n                                [\"Internal Alert\", internal_alert_level],\n                                [\"Data Timestamp\", format_ts(data_ts)],\n                                [\"Release Time\", release_time]\n                            ].map((row, key) => (\n                                <Grid key={row[0]} item xs align=\"center\">\n                                    <Typography variant=\"body1\" color=\"textSecondary\">{row[0]}</Typography>\n                                    <Typography variant=\"body1\" color=\"textPrimary\">{row[1]}</Typography>\n                                </Grid>\n                            ))\n                        }\n                    </Grid>\n                </Grid>\n            </AccordionDetails>\n            <Divider />\n            <AccordionActions>\n                <Button\n                    size=\"small\" color=\"primary\" \n                    startIcon={<Timeline />}\n                    onClick={() => (history.push(`/monitoring/events/${event_id}`))}\n                    align=\"left\"\n                >\n                    Timeline\n                </Button>\n                <Tooltip \n                    arrow\n                    title={tooltip_title_maker(\"SMS\")}\n                >\n                    <Button\n                        size=\"small\" color=\"primary\" \n                        startIcon={<PhoneAndroid />}\n                        onClick={smsHandler({\n                            release_id, site_code, site_id,\n                            type, public_alert_symbol, highest_event_alert_level\n                        })}\n                        endIcon={sms_end_icon}\n                        className={not_yet_sending_time && classes.dyna_error}\n                    >\n                        EWI SMS\n                    </Button>\n                </Tooltip>\n                <Tooltip \n                    arrow\n                    title={tooltip_title_maker(\"Bulletin\")}\n                >\n                    <span><Button \n                        size=\"small\" color=\"primary\"\n                        startIcon={<Description />}\n                        onClick={bulletinHandler({ release_id, site_code, site_id, type, is_bulletin_sent })}\n                        endIcon={bulletin_end_icon}\n                        className={not_yet_sending_time ? classes.dyna_error : \"\"}\n                        disabled={type === \"extended\"}\n                    >\n                        Bulletin\n                    </Button></span>\n                </Tooltip>\n            </AccordionActions>\n        </Accordion>\n    );\n}\n\nfunction RoutineAccordion (props) {\n    const { \n        siteAlert, classes, expanded,\n        handleExpansion, smsHandler,\n        keyName\n    } = props;\n    const { released_sites } = siteAlert;\n\n    let adjusted_data_ts = released_sites[0].data_ts;\n    adjusted_data_ts = format_ts(adjusted_data_ts);\n\n    return (\n        <Accordion\n            expanded={expanded === keyName}\n            onChange={handleExpansion(keyName)}\n        >\n            <AccordionSummary\n            // expandIcon={<ExpandMoreIcon />}\n                aria-controls={`${keyName}bh-content`}\n                id={`${keyName}bh-header`}\n                classes={{\n                    content: classes.AccordionSummaryContent,\n                    root: classes.alert0\n                }}\n            >\n                {\n                    [\"ROUTINE\", adjusted_data_ts].map((elem, i) => (\n                        <Typography\n                            key={`exp-columns-${i + 1}`}\n                            color=\"textSecondary\"\n                            variant=\"body2\"\n                        >\n                            {elem}\n                        </Typography>\n                    ))\n                }\n            </AccordionSummary>\n            <Divider style={{ marginBottom: 12 }} />\n            <AccordionDetails>\n                <Grid container spacing={1}>\n                    <Grid item xs={12} container spacing={1}>\n                        <Grid item xs={12} sm align=\"center\">\n                            <Typography component=\"span\" variant=\"body1\" color=\"textSecondary\" style={{ paddingRight: 8 }}>Data Timestamp:</Typography>\n                            {/* <Typography component=\"span\" variant=\"body1\" color=\"textPrimary\">{adjusted_data_ts}</Typography> */}\n                            <Typography component=\"span\" variant=\"body1\" color=\"textPrimary\">{adjusted_data_ts}</Typography>\n                        </Grid>\n                    </Grid>\n\n                    <Grid item xs={12} style={{ margin: \"6px 0\" }}><Divider /></Grid>\n\n                    <Grid item xs={12}>\n                        <Typography variant=\"subtitle2\" color=\"textPrimary\">ROUTINE SITES</Typography>\n                    </Grid>\n                    \n                    <Grid item xs={12} container spacing={1}>\n                        {\n                            released_sites.map((row, key) => (\n                                <Grid key={`site-${row.site_code}`} item xs={2} align=\"center\">\n                                    <Typography variant=\"body1\" color=\"textSecondary\">{row.site_code.toUpperCase()}</Typography>\n                                </Grid>\n                            ))\n                        }\n                    </Grid>\n                </Grid>\n            </AccordionDetails>\n            <Divider />\n            <AccordionActions>\n                <Button\n                    size=\"small\" color=\"primary\" \n                    startIcon={<PhoneAndroid />}\n                    onClick={smsHandler(released_sites)}\n                    // endIcon={ is_sms_sent && <Done /> }\n                >\n                    EWI SMS\n                </Button>\n            </AccordionActions>\n        </Accordion>\n    );\n}\n\nfunction MonitoringTables (props) {\n    const {\n        candidateAlertsData, alertsFromDbData,\n        releaseFormOpenHandler, history\n    } = props;\n\n    const classes = useStyles();\n    const [expanded, setExpanded] = useState(false);\n    const [isShowingValidation, setIsShowingValidation] = useState(false);\n    const [validation_details, setValidationDetails] = useState({});\n    const { isShowing: isShowingSendEWI, toggle: toggleSendEWI } = useModal();\n    const { isShowing: isShowingSendRoutineEWI, toggle: toggleSendRoutineEWI } = useModal();\n    const [chosenReleaseDetail, setChosenReleaseDetail] = useState({});\n    const [isOpenBulletinModal, setIsOpenBulletinModal] = useState(false);\n    const { reporter_id_ct, setReporterIdCt, setCTFullName } = React.useContext(CTContext);\n    const [routine_sites_list, setRoutineSitesList] = useState({});\n    \n    const handleExpansion = panel => (event, isExpanded) => {\n        setExpanded(isExpanded ? panel : false);\n    };\n\n    const [ewi_message, setEWIMessage] = useState(\"\");\n    const smsHandler = release => elem_event => {\n        setChosenReleaseDetail(release);\n\n        const { release_id } = release;\n        getEWIMessage(release_id, data => {\n            setEWIMessage(data);\n            toggleSendEWI();\n        });\n    };\n\n    const routineSmsHandler = released_sites => () => {\n        getRoutineEWIMessage({}, data => {\n            setRoutineSitesList(released_sites);\n            setEWIMessage(data);\n            toggleSendRoutineEWI();\n        });\n    };\n\n    const toggleValidation = (bool, data) => () => {\n        setValidationDetails(data);\n        setIsShowingValidation(bool);\n    };\n\n    const bulletinHandler = release => elem_event => {\n        setChosenReleaseDetail(release);\n        setIsOpenBulletinModal(true);\n    };\n\n    let latest_db_alerts = [];\n    let extended_db_alerts = [];\n    let overdue_db_alerts = [];\n    let routine_db_alerts = [];\n    if (alertsFromDbData !== null) {\n        const { latest, extended, overdue, routine } = alertsFromDbData;\n        latest_db_alerts = latest;\n        extended_db_alerts = extended;\n        overdue_db_alerts = overdue;\n        routine_db_alerts = routine;\n    }\n\n    return (\n        <div className={classes.root}>\n            <Grid container className={classes.sectionHeadContainer}>\n                <Grid item xs={12} align=\"right\" style={{ marginBottom: 22 }}>\n                    <DynaslopeUserSelectInputForm\n                        variant=\"standard\"\n                        label=\"Monitoring Partner\"\n                        div_id=\"reporter_id_ct\"\n                        changeHandler={event => setReporterIdCt(event.target.value)}\n                        value={reporter_id_ct}\n                        css={classes.inputWidth}\n                        returnFullNameCallback={ret => setCTFullName(ret)}\n                    />\n                </Grid>\n\n                <Grid item xs={12}>\n                    <Typography className={classes.sectionHead} variant=\"h5\">Candidate Alerts</Typography>\n                </Grid>\n\n                <Grid item xs={12} style={{ marginBottom: 22 }}>\n                    {\n                        // eslint-disable-next-line no-nested-ternary\n                        candidateAlertsData === null ? (\n                            <MyLoader />\n                        ) : (\n                            candidateAlertsData.length !== 0 ? (\n                                candidateAlertsData.map((row, index) => (\n                                    <CandidateAlertsAccordion\n                                        key={`exp-${index + 1}`}\n                                        classes={classes}\n                                        alertData={row}\n                                        expanded={expanded}\n                                        handleExpansion={handleExpansion}\n                                        releaseFormOpenHandler={releaseFormOpenHandler}\n                                        index={index}\n                                        isShowingValidation={isShowingValidation}\n                                        toggleValidation={toggleValidation}\n                                        validationDetails={validation_details}\n                                        candidateAlertsData={candidateAlertsData}\n                                    />\n                                ))\n                            ) : (\n                                <Typography variant=\"body1\" align=\"center\">\n                                    No candidate alerts\n                                </Typography>\n                            )\n                        )\n                    }\n                </Grid>\n\n                <Grid item xs={12}>\n                    <Typography className={classes.sectionHead} variant=\"h5\">Event Monitoring</Typography>\n                </Grid>\n\n                <Grid item xs={12} style={{ marginBottom: 22 }}>\n                    {\n                        // eslint-disable-next-line no-nested-ternary\n                        alertsFromDbData === null ? (\n                            <MyLoader />\n                        ) : (\n                            latest_db_alerts.length > 0 ? (\n                                latest_db_alerts.map((row, index) => (\n                                    <LatestSiteAlertsAccordion\n                                        key={`latest-${index + 1}`}\n                                        keyName={`latest-${index + 1}`}\n                                        classes={classes}\n                                        siteAlert={row}\n                                        expanded={expanded}\n                                        handleExpansion={handleExpansion}\n                                        smsHandler={smsHandler}\n                                        bulletinHandler={bulletinHandler}\n                                        type=\"latest\"\n                                        history={history}\n                                    />\n                                ))\n                            ) : (\n                                <Typography variant=\"body1\" align=\"center\">\n                                    No active alerts on database\n                                </Typography>\n                            )\n                        )\n                    }\n                </Grid>\n\n                <Grid item xs={12}>\n                    <Typography className={classes.sectionHead} variant=\"h5\" component={Grid} container alignItems=\"center\">\n                        Overdue Event Monitoring\n                        \n                        <Tooltip\n                            title=\"This section shows all monitoring events that are beyond their validities. Possible causes of not updated validity: no latest release, wrong internal alert to extend validity (for cases like ND).\"\n                            style={{ marginLeft: 8 }}\n                            arrow\n                        >\n                            <Help color=\"primary\" />\n                        </Tooltip>\n                    </Typography>\n                </Grid>\n\n                <Grid item xs={12} style={{ marginBottom: 22 }}>\n                    {\n                        // eslint-disable-next-line no-nested-ternary\n                        alertsFromDbData === null ? (\n                            <MyLoader />\n                        ) : (\n                            overdue_db_alerts.length > 0 ? (\n                                overdue_db_alerts.map((row, index) => (\n                                    <LatestSiteAlertsAccordion\n                                        key={`overdue-alert-${index + 1}`}\n                                        keyName={`overdue-alert-${index + 1}`}\n                                        classes={classes}\n                                        siteAlert={row}\n                                        expanded={expanded}\n                                        handleExpansion={handleExpansion}\n                                        smsHandler={smsHandler}\n                                        index={index}\n                                        bulletinHandler={bulletinHandler}\n                                        type=\"overdue\"\n                                        history={history}\n                                    />\n                                ))\n                            ) : (\n                                <Typography variant=\"body1\" align=\"center\">\n                                    No sites with monitoring events beyond their validity\n                                </Typography>\n                            )\n                        )\n                    }\n                </Grid>\n\n                <Grid item xs={12}>\n                    <Typography className={classes.sectionHead} variant=\"h5\">Extended Monitoring</Typography>\n                </Grid>\n\n                <Grid item xs={12} style={{ marginBottom: 22 }}>\n                    {\n                        // eslint-disable-next-line no-nested-ternary\n                        alertsFromDbData === null ? (\n                            <MyLoader />\n                        ) : (\n                            extended_db_alerts.length > 0 ? (\n                                extended_db_alerts.map((row, index) => (\n                                    <LatestSiteAlertsAccordion\n                                        key={`db-alert-${index + 1}`}\n                                        keyName={`db-alert-${index + 1}`}\n                                        classes={classes}\n                                        siteAlert={row}\n                                        expanded={expanded}\n                                        handleExpansion={handleExpansion}\n                                        smsHandler={smsHandler}\n                                        index={index}\n                                        bulletinHandler={bulletinHandler}\n                                        type=\"extended\"\n                                        history={history}\n                                    />\n                                ))\n                            ) : (\n                                <Typography variant=\"body1\" align=\"center\">\n                                    No sites under extended monitoring\n                                </Typography>\n                            )\n                        )\n                    }\n                </Grid>\n\n                {\n                    // eslint-disable-next-line no-nested-ternary\n                    alertsFromDbData === null ? (\n                        <MyLoader />\n                    ) : (\n                        typeof routine_db_alerts.released_sites !== \"undefined\" && routine_db_alerts.released_sites.length > 0 && (\n                            <Fragment>\n                                <Grid item xs={12}>\n                                    <Typography className={classes.sectionHead} variant=\"h5\">Routine Monitoring</Typography>\n                                </Grid>\n                                <Grid item xs={12} style={{ marginBottom: 22 }}>\n                                    <RoutineAccordion\n                                        key=\"routine-alert-panel\"\n                                        keyName=\"routine-alert-panel\"\n                                        classes={classes}\n                                        siteAlert={routine_db_alerts}\n                                        expanded={expanded}\n                                        handleExpansion={handleExpansion}\n                                        smsHandler={routineSmsHandler}\n                                        index={0}\n                                        bulletinHandler={bulletinHandler}\n                                        type=\"routine\"\n                                        history={history}\n                                    />\n                                </Grid>\n                            </Fragment>\n                        )\n                    )\n                }\n\n                <BulletinModal \n                    classes={classes}\n                    isOpenBulletinModal={isOpenBulletinModal}\n                    setIsOpenBulletinModal={setIsOpenBulletinModal}\n                    releaseDetail={chosenReleaseDetail}\n                />                \n            </Grid>\n\n            <SendEwiSmsModal\n                modalStateHandler={toggleSendEWI} \n                modalState={isShowingSendEWI}\n                textboxValue={ewi_message}\n                releaseDetail={chosenReleaseDetail}\n            />\n\n            <SendRoutineEwiSmsModal\n                modalStateHandler={toggleSendRoutineEWI} \n                modalState={isShowingSendRoutineEWI}\n                textboxValue={ewi_message}\n                siteList={routine_sites_list}\n            />\n        </div>\n    );\n}\n\nexport default MonitoringTables;","import axios from \"axios\";\nimport moment from \"moment\";\nimport { func } from \"prop-types\";\nimport { host } from \"../../config\";\nimport { makeGETAxiosRequest, makePOSTAxiosRequest } from \"../../UtilityFunctions\";\n\n\nexport function getEOSDetails (event_id, shift_ts_end, callback) {\n    const api_link = `${host}/api/end_of_shift/get_eos_email_details/${event_id}/${shift_ts_end}`;\n    makeGETAxiosRequest(api_link, callback);\n}\n\nexport function getShiftData (input, callback) {\n    const api_link = `${host}/api/shift_checker/get_shift_data`;\n    makePOSTAxiosRequest(api_link, input, callback);\n}\n\nexport function getEndOfShiftReports (input, callback) {\n    const {\n        shift_start\n    } = input;\n    const api_link = `${host}/api/end_of_shift/get_end_of_shift_reports/${shift_start}`;\n\n    axios.get(api_link)\n    .then(response => {\n        const { data } = response;\n        console.log(\"EOS Data\", data);\n        callback(data);\n    })\n    .catch(error => {\n        console.error(\"Problem in Axios request\");\n        console.error(error);\n    });\n}\n\nexport function getMonitoringReleases (input, callback) {\n    const {\n        shift_time, start_ts\n    } = input;\n    const time = shift_time === \"am\" ? \"08:00:00\" : \"20:00:00\"; \n\n    const moment_start_ts = moment(start_ts).format(`YYYY-MM-DD ${time}`);\n    const api_link = `${host}/api/monitoring/get_monitoring_releases_for_qa/${moment_start_ts}`;\n    axios.get(api_link)\n    .then(response => {\n        const { data } = response;\n        console.log(\"Releases\", data);\n        callback(data);\n    })\n    .catch(error => {\n        console.error(\"Problem in Axios request\");\n        console.error(error);\n    });\n    return moment_start_ts;\n}\n\nexport function getNarratives (input, callback) {\n    const {\n        include_count, limit, offset,\n        filters, search_str, order_by, order\n    } = input;\n\n    let api_link = `${host}/api/narratives/get_narratives?limit=${limit}&offset=${offset}`;\n    api_link += `&order_by=${order_by}&order=${order}`;\n\n    if (include_count) api_link += \"&include_count=true\";\n\n    if (filters.length !== 0) {\n        const filter_str = filters.map(row => {\n            const { name, data } = row;\n            return data.map(x => `&${name}=${x}`).join(\"\");\n        });\n\n        api_link += filter_str.join(\"\");\n    }\n\n    if (search_str !== \"\") api_link += `&search=${search_str}`;\n\n    axios.get(api_link)\n    .then(response => {\n        const { data } = response;\n        callback(data);\n    })\n    .catch(error => {\n        console.error(error);\n    });\n}\n\nexport function getMonitoringEvents (input, callback) {\n    const {\n        limit, offset, include_count,\n        filters, search_str\n    } = input;\n\n    let api_link = `${host}/api/monitoring/get_monitoring_events?filter_type=complete&offset=${offset}&limit=${limit}`;\n    \n    if (include_count) api_link += \"&include_count=true\";\n\n    if (filters.length > 0) {\n        const filter_str = filters.map(row => {\n            const { name, data } = row;\n            return data.map(x => `&${name}=${x}`).join(\"\");\n        });\n\n        api_link += filter_str.join(\"\");\n    }\n\n    if (search_str !== \"\") api_link += `&search=${search_str}`;\n\n    axios.get(api_link)\n    .then(response => {\n        const { data } = response;\n        callback(data);\n    })\n    .catch(error => {\n        console.log(error);\n    });    \n}\n\nexport function getEventTimelineEntries (input, callback) {\n    const {\n        event_id\n    } = input;\n\n    const api_link = `${host}/api/monitoring/get_event_timeline_data/${event_id}`;\n\n    axios.get(api_link)\n    .then(response => {\n        const { data } = response;\n        console.log(\"Event details\", data);\n        callback(data);\n    })\n    .catch(error => {\n        console.error(\"Problem in getEventTimelineEntries Axios request\");\n        console.error(error);\n    });    \n}\n\nexport function getRoutineEWIMessage (temp, callback) {\n    const api_link = `${host}/api/chatterbox/get_routine_ewi_template`;\n\n    axios.get(api_link)\n    .then(response => {\n        const { data } = response;\n        callback(data);\n    })\n    .catch(error => {\n        console.error(error);\n    });\n}\n\nexport function getEWIMessage (release_id, callback) {\n    const api_link = `${host}/api/chatterbox/get_ewi_message/${release_id}`;\n\n    axios.get(api_link)\n    .then(response => {\n        const { data } = response;\n        callback(data);\n    })\n    .catch(error => {\n        console.error(error);\n    });\n}\n\nexport function getSites (input, callback) {\n    let api_link = `${host}/api/sites/get_sites_data`;\n    if (typeof input !== \"undefined\" && input !== \"\" && input !== null && input.length !== 0) {\n        api_link += `/${input}`;\n    }\n    makeGETAxiosRequest(api_link, callback);\n}\n\nexport function saveEOSDataAnalysis (json_data, callback) {\n    const api_link = `${host}/api/end_of_shift/save_eos_data_analysis`;\n    makePOSTAxiosRequest(api_link, json_data, callback);\n}\n\nexport function downloadEosCharts (json_data, callback) {\n    const api_link = `${host}/api/end_of_shift/download_eos_charts`;\n    makePOSTAxiosRequest(api_link, json_data, callback);\n}\n\nexport function getBulletinEmailDetails (release_id, callback) {\n    const api_link = `${host}/api/monitoring/get_eos_subject/${release_id}`;\n\n    makeGETAxiosRequest(api_link, callback);\n}\n\nexport function getNarrative (input, callback) {\n    const {\n        shift_ts, event_id\n    } = input;\n\n    const api_link = `${host}/api/end_of_shift/get_narrative/${shift_ts}/${event_id}`;\n    \n    axios.get(api_link)\n    .then(response => {\n        const { data } = response;\n        callback(data);\n    })\n    .catch(error => {\n        console.log(error);\n    });    \n}\n","import React, { useState, Fragment, useContext } from \"react\";\nimport moment from \"moment\";\nimport ContentLoader from \"react-content-loader\";\nimport {\n    Card, CardContent, Typography,\n    Grid, CardActionArea,\n    Button, Dialog, DialogContent,\n    DialogTitle, DialogActions, Divider\n} from \"@material-ui/core\";\nimport { prepareSiteAddress } from \"../../../UtilityFunctions\";\nimport { GeneralContext } from \"../../contexts/GeneralContext\";\n\nfunction searchSites (site_code, sites) {\n    let site_details = null;\n    for (let index = 0; index < sites.length; index += 1) {\n        if (sites[index].site_code === site_code) {\n            site_details = sites[index];\n            break;\n        }\n    }\n    return site_details;\n}\n\nfunction formatTS (ts) {\n    return moment(ts).format(\"D MMMM YYYY, H:mm\");\n}\n\n// eslint-disable-next-line max-params\nfunction getAlertDialog (chosen_site, open, handleClose, sites) {\n    const {\n        site_code, ts, internal_alert, validity, \n        current_trigger_alerts, event_triggers\n    } = chosen_site;\n\n    const site_details = searchSites(site_code, sites);\n    const timestamp = formatTS(ts);\n    const address = prepareSiteAddress(site_details);\n    const rel_trigger_divs = [];\n    let rel_subsurface = null;\n\n    current_trigger_alerts.forEach((trigger) => {\n        const { type, details } = trigger;\n\n        if (type === \"subsurface\") {\n            rel_subsurface = details.trigger_details;\n        } else {\n            const { alert_level, alert_symbol } = details;\n            const rain_gauge = type === \"rainfall\" && alert_level > 0 ? ` (${details.rain_gauge})` : \"\";\n\n            rel_trigger_divs.push(\n                <Grid item xs={12} sm key={type}>\n                    <Typography variant=\"body1\" color=\"textSecondary\" align=\"center\">\n                        {type.charAt(0).toUpperCase() + type.slice(1)} Alert\n                    </Typography>\n                    <Typography variant=\"body1\" color=\"textPrimary\" align=\"center\">\n                        {alert_symbol} \n                        <Typography component=\"span\" variant=\"body2\" color=\"textPrimary\" align=\"center\">\n                            {rain_gauge}\n                        </Typography>\n                    </Typography>\n                </Grid>\n            );\n        }\n    });\n\n    return (\n        <Dialog\n            fullWidth\n            open={open}\n            onClose={handleClose}\n            aria-labelledby=\"alert-dialog-title\"\n            aria-describedby=\"alert-dialog-description\"\n        >\n            <DialogTitle id=\"alert-dialog-title\">\n                <div>{address}</div>\n                <Typography variant=\"body1\" color=\"textSecondary\">\n                    {timestamp}\n                </Typography>\n            </DialogTitle>\n            <DialogContent>\n                <Grid container spacing={1}>\n                    <Grid item xs align=\"center\">\n                        <Typography variant=\"body1\" color=\"textSecondary\">Internal Alert Level</Typography>\n                        <Typography variant=\"body1\" color=\"textPrimary\">\n                            {internal_alert}\n                        </Typography>\n                    </Grid>\n                    {\n                        validity !== \"\" && (\n                            <Grid item xs align=\"center\">\n                                <Typography variant=\"body1\" color=\"textSecondary\">Validity</Typography>\n                                <Typography variant=\"body1\" color=\"textPrimary\">\n                                    {formatTS(validity)}\n                                </Typography>\n                            </Grid>\n                        )\n                    }\n\n                    <Grid item xs={12}><Divider /></Grid>\n\n                    <Grid item xs={12} align=\"center\">\n                        <Typography variant=\"caption\" color=\"textPrimary\">\n                            <strong>OPERATIONAL ALERT STATUS</strong>\n                        </Typography>\n                    </Grid>\n\n                    {\n                        rel_trigger_divs.map(div => div)\n                    }\n\n                    <Grid item xs={12} align=\"center\">\n                        <Typography variant=\"body2\" color=\"textPrimary\">Subsurface Column Status</Typography>\n                    </Grid>\n\n                    {\n                        rel_subsurface.length > 0\n                            ? rel_subsurface.map((trigger) => {\n                                const { alert_symbol, tsm_name, ts: ts_sub_data } = trigger;\n                                return (\n                                    <Grid item xs={12} sm key={tsm_name} align=\"center\">\n                                        <Typography variant=\"body1\" color=\"textSecondary\">{tsm_name.toUpperCase()}</Typography>\n                                        <Typography variant=\"body1\" color=\"textPrimary\">{formatTS(ts_sub_data)}</Typography>\n                                        <Typography variant=\"body1\" color=\"textPrimary\">{alert_symbol}</Typography>\n                                    </Grid>\n                                );\n                            })\n                            : <Grid item xs={12} align=\"center\">\n                                <Typography variant=\"body1\" color=\"textSecondary\">No subsurface sensors available</Typography>\n                            </Grid>\n                    }\n\n                    <Grid item xs={12}><Divider /></Grid>\n\n                    {\n                        event_triggers.length > 0 && (\n                            <Grid item xs={12} align=\"center\">\n                                <Typography variant=\"caption\" color=\"textPrimary\"><strong>EVENT TRIGGERS</strong></Typography>\n                            </Grid>\n                        )\n                    }\n\n                    {\n                        event_triggers.map(trigger => {\n                            const { ts_updated, alert, tech_info, invalid, invalid_details } = trigger;\n                            const formatted_ts = formatTS(ts_updated);\n\n                            return (\n                                <Grid item xs={12} container spacing={1} key={alert}>\n                                    <Grid item xs align=\"center\">\n                                        <Typography variant=\"body1\" color=\"textPrimary\"><strong>Trigger | {alert}</strong></Typography>\n                                    </Grid>\n                                    <Grid item xs align=\"center\">\n                                        <Typography variant=\"body1\" color=\"textPrimary\">{formatted_ts}</Typography>\n                                    </Grid>\n                                    <Grid item xs={12} align=\"center\">\n                                        <Typography variant=\"body2\" color=\"textSecondary\">{tech_info}</Typography>\n                                    </Grid>\n\n                                    {\n                                        typeof invalid !== \"undefined\" && invalid === true && (\n                                            <Fragment>\n                                                <Grid item xs={12} align=\"center\">\n                                                    <Typography variant=\"body1\" color=\"textPrimary\"><strong>INVALIDATED ALERT</strong></Typography>\n                                                </Grid>\n                                                <Grid item xs align=\"center\">\n                                                    <Typography variant=\"body1\" color=\"textPrimary\">\n                                                        { `${invalid_details.user.first_name} ${invalid_details.user.last_name}`}\n                                                    </Typography>\n                                                </Grid>\n                                                <Grid item xs align=\"center\">\n                                                    <Typography variant=\"body1\" color=\"textPrimary\">\n                                                        {formatTS(invalid_details.ts_ack)}\n                                                    </Typography>\n                                                </Grid>\n                                                <Grid item xs={12} align=\"center\">\n                                                    <Typography variant=\"body2\" color=\"textSecondary\">{invalid_details.remarks}</Typography>\n                                                </Grid>\n                                            </Fragment>\n                                        )\n                                    }\n                                    <Grid item xs={12}><Divider /></Grid>\n                                </Grid>\n                            );\n                        })\n                    }\n                </Grid>\n            </DialogContent>\n\n            <DialogActions>\n                <Button onClick={handleClose} color=\"primary\" autoFocus>\n                    Close\n                </Button>\n            </DialogActions>\n        </Dialog>\n    );\n}\n\n// eslint-disable-next-line max-params\nfunction createCard (alert_detail, index, handleClickOpen, handleClickClose) {\n    const { ts, site_code, internal_alert } = alert_detail;\n    const timestamp = formatTS(ts);\n\n    return (\n        <Grid item xs={6} sm={4} lg={3} key={index}>\n            <Card className=\"alert-card\">\n                <CardActionArea onClick={handleClickOpen(index)}>\n                    <CardContent style={{ paddingBottom: 16 }}>\n                        <Typography variant=\"body2\" color=\"textSecondary\" gutterBottom>\n                            {timestamp}\n                        </Typography>\n                        <div style={{ display: \"flex\", alignItems: \"baseline\", alignContent: \"flex-end\", justifyContent: \"space-between\" }}>\n                            <Typography variant=\"h5\" component=\"h2\">\n                                {site_code.toUpperCase()}\n                            </Typography>\n                            <Typography className=\"card-internal-alert\" color=\"textSecondary\">\n                                {internal_alert}\n                            </Typography>\n                        </div>\n                    </CardContent>\n                </CardActionArea>\n            </Card>\n        </Grid>\n    );\n}\n\nconst MyLoader = () => (\n    <ContentLoader \n        height={300}\n        width={684}\n        speed={1}\n        foregroundColor=\"#f3f3f3\"\n        backgroundColor=\"#ecebeb\"\n        style={{ width: \"100%\" }}\n    >\n        <rect x=\"8\" y=\"1\" rx=\"0\" ry=\"0\" width=\"206\" height=\"116\" /> \n        <rect x=\"238\" y=\"1\" rx=\"0\" ry=\"0\" width=\"206\" height=\"116\" /> \n        <rect x=\"469\" y=\"0\" rx=\"0\" ry=\"0\" width=\"206\" height=\"116\" /> \n        <rect x=\"8\" y=\"140\" rx=\"0\" ry=\"0\" width=\"206\" height=\"116\" /> \n        <rect x=\"238\" y=\"140\" rx=\"0\" ry=\"0\" width=\"206\" height=\"116\" /> \n        <rect x=\"469\" y=\"140\" rx=\"0\" ry=\"0\" width=\"206\" height=\"116\" />\n    </ContentLoader>\n);\n  \n\nfunction GeneratedAlerts (props) {\n    const [open, setOpen] = useState(false);\n    const [key, setKey] = useState(0);\n\n    const handleClickOpen = i => event => {\n        setOpen(true);\n        setKey(i);\n    };\n    const handleClose = () => {\n        setOpen(false);\n    };\n\n    let dialog = \"\";\n    const { generatedAlertsData } = props;\n    const { sites } = useContext(GeneralContext);\n\n    if (generatedAlertsData !== null) {\n        if (generatedAlertsData.length > 0) {\n            const chosen_site = generatedAlertsData[key];\n            dialog = getAlertDialog(chosen_site, open, handleClose, sites);\n        }\n    }\n\n    return (\n        <Fragment>\n            <Grid container spacing={2}>\n                {\n                    generatedAlertsData === null ? (\n                        <MyLoader />\n                    ) : (\n                        generatedAlertsData.map((alert_detail, index) => (\n                            createCard(alert_detail, index, handleClickOpen, handleClose)\n                        ))\n                    )\n                   \n                }\n                {dialog}\n            </Grid>\n        </Fragment>\n    );\n}\n\nexport default GeneratedAlerts;","import React, { Fragment } from \"react\";\nimport PropTypes from \"prop-types\";\nimport { withStyles } from \"@material-ui/core/styles\";\nimport FormLabel from \"@material-ui/core/FormLabel\";\nimport FormControl from \"@material-ui/core/FormControl\";\nimport FormGroup from \"@material-ui/core/FormGroup\";\nimport FormControlLabel from \"@material-ui/core/FormControlLabel\";\nimport FormHelperText from \"@material-ui/core/FormHelperText\";\nimport Switch from \"@material-ui/core/Switch\";\nimport Checkbox from \"@material-ui/core/Checkbox\";\n\nconst styles = theme => ({\n    formControl: {\n        width: \"-webkit-fill-available\"\n    },\n    formLabel: {\n        display: \"flex\",\n        alignItems: \"center\",\n        justifyContent: \"space-between\",\n        width: \"100%\"\n    },\n    checkboxes: {\n        paddingTop: 4,\n        paddingBottom: 4\n    },\n    checkboxesGroup: {\n        display: \"flex\",\n        flexDirection: \"column\",\n        [theme.breakpoints.up(\"sm\")]: {\n            flexDirection: \"row\",\n            justifyContent: \"space-between\"\n        }\n    }\n});\n\nfunction CheckboxesGroup (props) {\n    const {\n        classes, switchState, switchHandler,\n        switchValue, label, changeHandler,\n        setTriggersState,\n        choices\n    } = props;\n\n    return (\n        <FormControl component=\"fieldset\" className={classes.formControl}>\n            <FormLabel component=\"legend\" className={classes.formLabel}>\n                <span>{label}</span>\n\n                <Switch\n                    checked={switchState}\n                    onChange={switchHandler}\n                    value={switchValue}\n                />\n            </FormLabel>\n\n            {\n                switchState ? (\n                    <Fragment>\n                        <FormGroup className={classes.checkboxesGroup}>\n                            {\n                                choices.map(({ state, value, label: clabel }, i) => {\n                                    const { status, disabled } = state;\n\n                                    return (\n                                        <FormControlLabel\n                                            key={i}\n                                            control={\n                                                <Checkbox\n                                                    checked={status}\n                                                    onChange={changeHandler(value)}\n                                                    value={value}\n                                                    className={classes.checkboxes}\n                                                    disabled={disabled}\n                                                />\n                                            }\n                                            label={clabel}\n                                        />\n                                    );\n                                })\n                            }\n                        </FormGroup>\n                        <FormHelperText>Add required if required</FormHelperText>\n                    </Fragment>\n                ) : (\n                    <div />\n                )\n            }\n        </FormControl>\n    );\n}\n\nexport default withStyles(styles)(CheckboxesGroup);","\nconst handleChange = (setTriggersState, trigger_type) => (key, element_id) => x => {\n    const data = key === \"timestamp\" ? x : x.target.value;\n    const alert_level = parseInt(element_id.charAt(1), 10);\n\n    setTriggersState({\n        action: \"UPDATE_DETAILS\",\n        trigger_type,\n        value: {\n            alert_level,\n            [key]: data\n        }\n    });\n};\n\nconst handleSwitchChange = (setTriggersState, trigger_type) => event => {\n    const is_checked = event.target.checked;\n    setTriggersState({ action: \"TOGGLE_SWITCH\", trigger_type, value: is_checked });\n\n    if ([\"on_demand\", \"earthquake\"].includes(trigger_type)) {\n        const action = is_checked ? \"ADD_TRIGGER\" : \"REMOVE_TRIGGER\";\n\n        let special_case_states;\n        let internal_sym_id = null;\n        // hardcoded internal_sym_id from database\n        if (trigger_type === \"on_demand\") {\n            special_case_states = { reason: \"\", reporterId: \"\" };\n            internal_sym_id = 12;\n        } else if (trigger_type === \"earthquake\") {\n            special_case_states = { magnitude: \"\", longitude: \"\", latitude: \"\" };\n            internal_sym_id = 11;\n        }\n\n        setTriggersState({\n            action,\n            trigger_type,\n            value: {\n                alert_level: 1, // Uses alert_level 1 since all earthquake and on_demand alerts are Alert 1 only\n                timestamp: null,\n                tech_info: \"\",\n                internal_sym_id,\n                ...special_case_states\n            }\n        });\n    }\n};\n\nconst handleCheckboxChange = (setTriggersState, trigger_type) => value => event => {\n    const is_checked = event.target.checked;\n    const action = is_checked ? \"ADD_TRIGGER\" : \"REMOVE_TRIGGER\";\n\n    let internal_sym_id = null;\n    // hardcoded internal_sym_id from database\n    if (trigger_type === \"surficial\") {\n        if (value === 2) internal_sym_id = 6;\n        else if (value === 3) internal_sym_id = 4;\n    } else if (trigger_type === \"subsurface\") {\n        if (value === 2) internal_sym_id = 3;\n        else if (value === 3) internal_sym_id = 1;\n    }\n\n    setTriggersState({\n        action,\n        trigger_type,\n        value: {\n            alert_level: value,\n            status: is_checked,\n            disabled: false,\n            timestamp: null,\n            tech_info: \"\",\n            internal_sym_id\n        }\n    });\n};\n\nconst handleRadioChange = (setTriggersState, trigger_type) => event => {\n    const { value } = event.target;\n\n    setTriggersState({\n        action: \"REMOVE_TRIGGER\",\n        trigger_type,\n        value: \"clear_all\"\n    });\n\n    setTriggersState({\n        action: \"ADD_TRIGGER\",\n        trigger_type,\n        value: {\n            alert_level: parseInt(value, 10),\n            timestamp: null,\n            tech_info: \"\",\n            internal_sym_id: 8 // Hardcoded internal sym_id ng Rainfall (R)\n        }\n    });\n};\n\nconst handleEventChange = (key, setTriggersState, trigger_type) => event => {\n    const { value } = event.target;\n\n    setTriggersState({\n        action: \"UPDATE_DETAILS\",\n        trigger_type,\n        value: {\n            alert_level: 1, // Uses alert_level 1 since all earthquake and ondemand alerts are Alert 1 only\n            [key]: value\n        }\n    });\n};\n\nexport { handleChange, handleCheckboxChange, handleRadioChange, handleEventChange, handleSwitchChange };\n","import React, { Fragment } from \"react\";\nimport { KeyboardDateTimePicker } from \"@material-ui/pickers\";\nimport { Grid, withStyles, TextField } from \"@material-ui/core\";\n\nconst styles = theme => ({\n    inputGridContainer: {\n        marginTop: 6,\n        marginBottom: 6\n    }\n});\n\nfunction TriggerTimestampAndTechInfoCombo (props) {\n    const {\n        classes, changeHandler, labelFor,\n        trigger_timestamp, tech_info\n    } = props;\n\n    return (\n        <Fragment>\n            <Grid item xs={12} sm={6} className={classes.inputGridContainer}>\n                <KeyboardDateTimePicker\n                    required\n                    autoOk\n                    label={`Trigger Timestamp (${labelFor})`}\n                    value={trigger_timestamp}\n                    onChange={changeHandler(\"timestamp\", labelFor)}\n                    ampm={false}\n                    placeholder=\"2010/01/01 00:00\"\n                    format=\"YYYY/MM/DD HH:mm\"\n                    mask=\"__/__/__ __:__\"\n                    clearable\n                    disableFuture\n                    fullWidth\n                />\n            </Grid>\n\n            <Grid item xs={12} sm={6} className={classes.inputGridContainer}>\n                <TextField\n                    required\n                    label={`Technical Information (${labelFor})`}\n                    multiline\n                    rowsMax=\"2\"\n                    placeholder={`Enter technical info for \"${labelFor}\" trigger`}\n                    value={tech_info}\n                    onChange={changeHandler(\"tech_info\", labelFor)}\n                    fullWidth\n                />\n            </Grid>\n        </Fragment>\n    );\n}\n\nexport default withStyles(styles)(TriggerTimestampAndTechInfoCombo);\n","import React, { Fragment } from \"react\";\nimport { Grid, withStyles } from \"@material-ui/core\";\n\nimport CheckboxGroupWithSwitch from \"../../reusables/CheckboxGroupWithSwitch\";\nimport { handleChange, handleCheckboxChange, handleSwitchChange } from \"./state_handlers\";\nimport TriggerTimestampAndTechInfoCombo from \"./TriggerTimestampAndTechInfoCombo\";\n\nconst styles = theme => ({\n    groupGridContainer: {\n        marginTop: 0,\n        marginBottom: 6\n    }\n});\n\nfunction SubsurfaceCheckboxGroup (props) {\n    const {\n        classes, triggersState, setTriggersState,\n        triggersReleased\n    } = props;\n\n    const { subsurface } = triggersState;\n    const { switchState, triggers } = subsurface;\n\n    const triggers_value = {\n        trigger_2: { status: false, disabled: false },\n        trigger_3: { status: false, disabled: false },\n        trigger_nd: { status: false, disabled: false },\n    };\n\n    if (triggers.length !== 0) {\n        triggers.forEach(trigger => {\n            const { alert_level, status, disabled } = trigger;\n            triggers_value[`trigger_${alert_level}`] = {\n                ...trigger,\n                status,\n                disabled\n            };\n\n            if (alert_level === \"nd\") {\n                triggers_value.trigger_2.disabled = true;\n                triggers_value.trigger_3.disabled = true;\n            } else {\n                triggers_value.trigger_nd.disabled = true;\n            }\n        });\n    }\n\n    const { trigger_2, trigger_3, trigger_nd } = triggers_value;\n\n    const checkbox_choices = [\n        { state: trigger_2, value: 2, label: \"Release trigger (s2)\" },\n        { state: trigger_3, value: 3, label: \"Release trigger (S3)\" }\n    ];\n\n    // let hide_subsurface_0 = true;\n    // if (\"subsurface\" in triggersReleased) {\n    //     hide_subsurface_0 = false;\n    // }\n    \n    const row = triggersReleased.filter(r => r.trigger_source === \"subsurface\");\n    if (row.length > 0) {\n        const temp = row.pop();\n        checkbox_choices.push({\n            state: trigger_nd, value: \"nd\", label: \"No data ([s/S]0)\"\n        });\n\n        if (temp.alert_level === -1) {\n            triggers_value.trigger_nd.status = true;\n            triggers_value.trigger_nd.disabled = false;\n        }\n    }\n\n    return (\n        <Fragment>\n            <Grid item xs={12} className={switchState ? classes.groupGridContainer : \"\"}>\n                <CheckboxGroupWithSwitch\n                    label=\"Subsurface\"\n                    switchState={switchState}\n                    switchHandler={handleSwitchChange(setTriggersState, \"subsurface\")}\n                    switchValue=\"subsurface_switch\"\n                    choices={checkbox_choices}\n                    changeHandler={handleCheckboxChange(setTriggersState, \"subsurface\")}\n                />\n            </Grid>\n            {\n                trigger_2.status && switchState ? (\n                    <TriggerTimestampAndTechInfoCombo\n                        labelFor=\"s2\"\n                        trigger_timestamp={trigger_2.timestamp}\n                        tech_info={trigger_2.tech_info}\n                        changeHandler={handleChange(setTriggersState, \"subsurface\")}\n                    />\n                ) : (\n                    <div />\n                )\n            }\n\n            {\n                trigger_3.status && switchState ? (\n                    <TriggerTimestampAndTechInfoCombo\n                        labelFor=\"S3\"\n                        trigger_timestamp={trigger_3.timestamp}\n                        tech_info={trigger_3.tech_info}\n                        changeHandler={handleChange(setTriggersState, \"subsurface\")}\n                    />\n                ) : (\n                    <div />\n                )\n            }\n        </Fragment>\n    );\n}\n\nexport default withStyles(styles)(SubsurfaceCheckboxGroup);\n","import React, { Fragment } from \"react\";\nimport { Grid, withStyles } from \"@material-ui/core\";\n\nimport { handleChange, handleCheckboxChange, handleSwitchChange } from \"./state_handlers\";\nimport CheckboxGroupWithSwitch from \"../../reusables/CheckboxGroupWithSwitch\";\nimport TriggerTimestampAndTechInfoCombo from \"./TriggerTimestampAndTechInfoCombo\";\n\nconst styles = theme => ({\n    groupGridContainer: {\n        marginTop: 0,\n        marginBottom: 6\n    }\n});\n\nfunction SurficialCheckboxGroup (props) {\n    const {\n        classes, triggersState, setTriggersState,\n        triggersReleased\n    } = props;\n\n    const { surficial } = triggersState;\n    const { switchState, triggers } = surficial;\n\n    const triggers_value = {\n        trigger_2: { status: false, disabled: false },\n        trigger_3: { status: false, disabled: false },\n        trigger_nd: { status: false, disabled: false },\n    };\n\n    if (triggers.length !== 0) {\n        triggers.forEach(trigger => {\n            const { alert_level, status, disabled } = trigger;\n            triggers_value[`trigger_${alert_level}`] = {\n                ...trigger,\n                status,\n                disabled\n            };\n\n            if (alert_level === \"nd\") {\n                triggers_value.trigger_2.disabled = true;\n                triggers_value.trigger_3.disabled = true;\n            } else {\n                triggers_value.trigger_nd.disabled = true;\n            }\n        });\n    }\n\n    const { trigger_2, trigger_3, trigger_nd } = triggers_value;\n\n    const checkbox_choices = [\n        { state: trigger_2, value: 2, label: \"Release trigger (g2)\" },\n        { state: trigger_3, value: 3, label: \"Release trigger (G3)\" }\n    ];\n\n    const row = triggersReleased.filter(r => r.trigger_source === \"surficial\");\n    if (row.length > 0) {\n        const temp = row.pop();\n        checkbox_choices.push({\n            state: trigger_nd, value: \"nd\", label: \"No data ([g/G]0)\"\n        });\n\n        if (temp.alert_level === -1) { \n            triggers_value.trigger_nd.status = true;\n            triggers_value.trigger_nd.disabled = false;\n        }\n    }\n\n    return (\n        <Fragment>\n            <Grid item xs={12} className={switchState ? classes.groupGridContainer : \"\"}>\n                <CheckboxGroupWithSwitch\n                    label=\"Surficial\"\n                    switchState={switchState}\n                    switchHandler={handleSwitchChange(setTriggersState, \"surficial\")}\n                    switchValue=\"surficial_switch\"\n                    choices={checkbox_choices}\n                    changeHandler={handleCheckboxChange(setTriggersState, \"surficial\")}\n                />\n            </Grid>\n            {\n                trigger_2.status ? (\n                    <TriggerTimestampAndTechInfoCombo\n                        labelFor=\"g2\"\n                        trigger_timestamp={trigger_2.timestamp}\n                        tech_info={trigger_2.tech_info}\n                        changeHandler={handleChange(setTriggersState, \"surficial\")}\n                    />\n                ) : (\n                    <div />\n                )\n            }\n\n            {\n                trigger_3.status ? (\n                    <TriggerTimestampAndTechInfoCombo\n                        labelFor=\"G3\"\n                        trigger_timestamp={trigger_3.timestamp}\n                        tech_info={trigger_3.tech_info}\n                        changeHandler={handleChange(setTriggersState, \"surficial\")}\n                    />\n                ) : (\n                    <div />\n                )\n            }\n        </Fragment>\n    );\n}\n\nexport default withStyles(styles)(SurficialCheckboxGroup);\n","import React, { Fragment } from \"react\";\nimport moment from \"moment\";\nimport {\n    Grid, makeStyles, FormControl,\n    FormLabel, Typography, TextField\n} from \"@material-ui/core\";\n\nimport { capitalizeFirstLetter } from \"../../../UtilityFunctions\";\n\nconst useStyles = makeStyles(theme => ({\n    groupGridContainer: {\n        marginTop: 0,\n        marginBottom: 6\n    }\n}));\n\nfunction MomsTriggerGroup (props) {\n    const {\n        triggersState, setTriggerState\n    } = props;\n    const classes = useStyles();\n\n    const { moms } = triggersState;\n    const { switchState, triggers } = moms;\n\n    const techInfoHandler = () => {\n        // TO DO:\n        // setTriggerState here\n        console.log(\"change has been made\");\n    };\n\n    return (\n        <Fragment>\n            <Grid item xs={12} className={switchState ? classes.groupGridContainer : \"\"}>\n                <FormControl component=\"fieldset\" className={classes.formControl}>\n                    <FormLabel component=\"legend\" className={classes.formLabel}>\n                        <span>Manifestation of Movement</span>\n                    </FormLabel>\n                </FormControl>\n                <Grid container spacing={2}>\n                    <Grid item xs={12} align=\"center\">\n                        <Typography variant=\"body1\" color=\"textSecondary\">\n                            NOTE: If you want to add MOMs in the release, use MOMs Insert Form.\n                        </Typography>\n                    </Grid>\n                    {\n                        triggers.map(row => {\n                            const { alert, timestamp, tech_info, moms_list } = row;\n                            return (\n                                <Fragment key={alert}>\n                                    <Grid item xs={12} sm={3} align=\"center\">\n                                        <Typography variant=\"body1\" component=\"span\" color=\"textSecondary\">Trigger: </Typography>\n                                        <Typography variant=\"body1\" component=\"span\"><strong>\n                                            {alert}\n                                        </strong></Typography>\n                                    </Grid>\n                                    <Grid item xs={12} sm={9} align=\"center\">\n                                        <Typography variant=\"body1\" component=\"span\" color=\"textSecondary\">Trigger Timestamp: </Typography>\n                                        <Typography variant=\"body1\" component=\"span\"><strong>\n                                            {timestamp.format(\"YYYY/MM/DD HH:mm:00\")}\n                                        </strong></Typography>\n                                    </Grid>\n\n                                    {\n                                        moms_list.map(ml => {\n                                            const { moms_instance, observance_ts } = ml;\n                                            const { feature: { feature_type }, feature_name, instance_id } = moms_instance;\n\n                                            return (\n                                                <Grid key={instance_id} item xs={12} container spacing={0} justify=\"space-around\">\n                                                    <Grid item xs={6} sm align=\"center\">\n                                                        <Typography variant=\"body2\" color=\"textSecondary\">Feature Type</Typography>\n                                                        <Typography variant=\"body2\"><strong>\n                                                            {capitalizeFirstLetter(feature_type)}\n                                                        </strong></Typography>\n                                                    </Grid>\n                                                    <Grid item xs={6} sm align=\"center\">\n                                                        <Typography variant=\"body2\" color=\"textSecondary\">Feature Name</Typography>\n                                                        <Typography variant=\"body2\"><strong>{feature_name}</strong></Typography>\n                                                    </Grid>\n                                                    <Grid item xs={12} sm align=\"center\">\n                                                        <Typography variant=\"body2\" color=\"textSecondary\">Observance Timestamp</Typography>\n                                                        <Typography variant=\"body2\"><strong>\n                                                            {moment(observance_ts).format(\"YYYY/MM/DD HH:mm:00\")}\n                                                        </strong></Typography>\n                                                    </Grid>\n                                                </Grid>\n                                            );\n                                        })\n                                    }\n\n                                    <Grid item xs={12} sm={12} className={classes.inputGridContainer}>\n                                        <TextField\n                                            required\n                                            label=\"Technical Info\"\n                                            multiline\n                                            rowsMax=\"2\"\n                                            placeholder=\"Enter technical info for 'MOMs' trigger\"\n                                            value={tech_info}\n                                            onChange={techInfoHandler}\n                                            fullWidth\n                                        />\n                                    </Grid>\n                                </Fragment>                            \n                            );\n                        })\n                    }\n                </Grid>\n            </Grid>\n        </Fragment>\n    );\n}\n\nexport default MomsTriggerGroup;\n","import React, { Fragment } from \"react\";\nimport PropTypes from \"prop-types\";\nimport { withStyles } from \"@material-ui/core/styles\";\nimport FormLabel from \"@material-ui/core/FormLabel\";\nimport FormControl from \"@material-ui/core/FormControl\";\nimport FormGroup from \"@material-ui/core/FormGroup\";\nimport FormControlLabel from \"@material-ui/core/FormControlLabel\";\nimport FormHelperText from \"@material-ui/core/FormHelperText\";\nimport Switch from \"@material-ui/core/Switch\";\nimport Radio from \"@material-ui/core/Radio\";\nimport RadioGroup from \"@material-ui/core/RadioGroup\";\n\nconst styles = theme => ({\n    formControl: {\n        width: \"-webkit-fill-available\"\n    },\n    formLabel: {\n        display: \"flex\",\n        alignItems: \"center\",\n        justifyContent: \"space-between\",\n        width: \"100%\"\n    },\n    radios: {\n        paddingTop: 4,\n        paddingBottom: 4\n    },\n    radioGroup: {\n        display: \"flex\",\n        flexDirection: \"column\",\n        [theme.breakpoints.up(\"sm\")]: {\n            flexDirection: \"row\",\n            justifyContent: \"space-between\"\n        }\n    }\n});\n\nfunction CheckboxesGroup (props) {\n    const { \n        classes, id, label,\n        changeHandler, radioValue, choices, \n        switchState, switchValue, switchHandler\n    } = props;\n\n    return (\n        <FormControl component=\"fieldset\" className={classes.formControl}>\n            <FormLabel component=\"legend\" className={classes.formLabel}>\n                <span>{label}</span>\n\n                <Switch\n                    checked={switchState}\n                    onChange={switchHandler}\n                    value={switchValue}\n                />\n            </FormLabel>\n\n            {\n                switchState ? (\n                    <Fragment>\n                        <RadioGroup \n                            className={classes.radioGroup}\n                            aria-label={label}\n                            name={id}\n                            value={radioValue}\n                            onChange={changeHandler}\n                        >\n                            {\n                                choices.map(({ value, label: clabel }, i) => (\n                                    <FormControlLabel\n                                        key={i}\n                                        value={value}\n                                        control={\n                                            <Radio className={classes.radios} />\n                                        }\n                                        label={clabel}\n                                    />\n                                ))\n                            }\n                        </RadioGroup>\n                        <FormHelperText>Add required if required</FormHelperText>\n                    </Fragment>\n                ) : (\n                    <div />\n                )\n            }\n        </FormControl>\n    );\n}\n\nexport default withStyles(styles)(CheckboxesGroup);","import React, { Fragment } from \"react\";\nimport { Grid, withStyles } from \"@material-ui/core\";\n\nimport { handleChange, handleRadioChange, handleSwitchChange } from \"./state_handlers\";\nimport RadioGroup from \"../../reusables/RadioGroupWithSwitch\";\nimport TriggerTimestampAndTechInfoCombo from \"./TriggerTimestampAndTechInfoCombo\";\n\nconst styles = theme => ({\n    groupGridContainer: {\n        marginTop: 0,\n        marginBottom: 6\n    }\n});\n\n\nfunction RainfallRadioGroup (props) {\n    const {\n        classes, triggersState, setTriggersState,\n        triggersReleased\n    } = props;\n\n    const { rainfall } = triggersState;\n    const { switchState, triggers } = rainfall;\n\n    let triggers_value = { alert_level: \"\" };\n    if (triggers.length !== 0) {\n        triggers.forEach(trigger => {\n            triggers_value = { ...trigger, alert_level: `${trigger.alert_level}` };\n        });\n    }\n\n    const choices = [\n        { value: \"1\", label: \"Release new trigger\" }\n    ];\n\n    const row = triggersReleased.filter(r => r.trigger_source === \"rainfall\");\n    if (row.length > 0) {\n        const temp = row.pop();\n        choices.push(\n            { value: \"-1\", label: \"No data (R0)\" },\n            { value: \"-2\", label: \"Intermediate threshold (rx)\" }\n        );\n        \n        // !QUICK FIX MUNA SA PAGRERELEASE\n        // if (temp.alert_level !== 1) { triggers_value.alert_level = temp.alert_level.toString(); }\n    }\n\n    return (\n        <Fragment>\n            <Grid item xs={12} className={switchState ? classes.groupGridContainer : \"\"}>\n                <RadioGroup\n                    label=\"Rainfall\"\n                    id=\"rainfall\"\n                    switchState={switchState}\n                    switchHandler={handleSwitchChange(setTriggersState, \"rainfall\")}\n                    switchValue=\"rainfall_switch\"\n                    radioValue={triggers_value.alert_level}\n                    choices={choices}\n                    changeHandler={handleRadioChange(setTriggersState, \"rainfall\")}\n                />\n            </Grid>\n\n            {\n                triggers_value.alert_level === \"1\" && switchState ? (\n                    <TriggerTimestampAndTechInfoCombo\n                        labelFor=\"R1\"\n                        trigger_timestamp={triggers_value.timestamp}\n                        tech_info={triggers_value.tech_info}\n                        changeHandler={handleChange(setTriggersState, \"rainfall\")}\n                    />\n                ) : (\n                    <div />\n                )\n            }\n        </Fragment>\n    );\n}\n\nexport default withStyles(styles)(RainfallRadioGroup);\n","import React, { Fragment } from \"react\";\nimport {\n    Grid, withStyles, FormControl,\n    FormLabel, Switch, TextField\n} from \"@material-ui/core\";\n\nimport { handleChange, handleEventChange, handleSwitchChange } from \"./state_handlers\";\nimport TriggerTimestampAndTechInfoCombo from \"./TriggerTimestampAndTechInfoCombo\";\n\nconst styles = theme => ({\n    formControl: {\n        width: \"-webkit-fill-available\"\n    },\n    formLabel: {\n        display: \"flex\",\n        alignItems: \"center\",\n        justifyContent: \"space-between\",\n        width: \"100%\"\n    },\n    groupGridContainer: {\n        marginTop: 0,\n        marginBottom: 0\n    },\n    inputGridContainer: {\n        marginTop: 6,\n        marginBottom: 6\n    }\n});\n\nfunction EarthquakeTriggerGroup (props) {\n    const {\n        classes, triggersState, setTriggersState\n    } = props;\n\n    const { earthquake } = triggersState;\n    const { switchState, triggers } = earthquake;\n\n    let eq_trig = {\n        timestamp: null,\n        tech_info: \"\",\n        magnitude: null,\n        latitude: null,\n        longitude: null\n    };\n    if (triggers.length !== 0) {\n        eq_trig = { ...triggers[0] }; // There is always only ONE EQ trigger\n    }\n\n    const { timestamp, tech_info, magnitude, latitude, longitude } = eq_trig;\n\n    return (\n        <Fragment>\n            <Grid item xs={12} className={switchState ? classes.groupGridContainer : \"\"}>\n                <FormControl component=\"fieldset\" className={classes.formControl}>\n                    <FormLabel component=\"legend\" className={classes.formLabel}>\n                        <span>Earthquake</span>\n\n                        <Switch\n                            checked={switchState}\n                            onChange={handleSwitchChange(setTriggersState, \"earthquake\")}\n                            value=\"switch_earthquake\"\n                        />\n                    </FormLabel>\n                </FormControl>\n            </Grid>\n\n            {\n                switchState ? (\n                    <Fragment>\n                        <TriggerTimestampAndTechInfoCombo\n                            labelFor=\"e1\"\n                            trigger_timestamp={timestamp}\n                            tech_info={tech_info}\n                            changeHandler={handleChange(setTriggersState, \"earthquake\")}\n                        />\n\n                        <Grid item xs={12} sm={4} className={classes.inputGridContainer}>\n                            <TextField\n                                required\n                                id=\"magnitude\"\n                                label=\"Magnitude\"\n                                value={magnitude}\n                                onChange={handleEventChange(\"magnitude\", setTriggersState, \"earthquake\")}\n                                type=\"number\"\n                            />\n                        </Grid>\n\n                        <Grid item xs={12} sm={4} className={classes.inputGridContainer}>\n                            <TextField\n                                required\n                                id=\"latitude\"\n                                label=\"Latitude\"\n                                value={latitude}\n                                onChange={handleEventChange(\"latitude\", setTriggersState, \"earthquake\")}\n                                type=\"number\"\n                            />\n                        </Grid>\n\n                        <Grid item xs={12} sm={4} className={classes.inputGridContainer}>\n                            <TextField\n                                required\n                                id=\"longitude\"\n                                label=\"Longitude\"\n                                value={longitude}\n                                onChange={handleEventChange(\"longitude\", setTriggersState, \"earthquake\")}\n                                type=\"number\"\n                            />\n                        </Grid>\n                    </Fragment>\n                ) : (\n                    <div />\n                )\n            }\n        </Fragment>\n    );\n}\n\nexport default withStyles(styles)(EarthquakeTriggerGroup);\n","import React, { Fragment } from \"react\";\nimport {\n    Grid, withStyles, FormControl,\n    FormLabel, Switch, TextField\n} from \"@material-ui/core\";\n\nimport { handleChange, handleEventChange, handleSwitchChange } from \"./state_handlers\";\nimport TriggerTimestampAndTechInfoCombo from \"./TriggerTimestampAndTechInfoCombo\";\nimport SelectInputForm from \"../../reusables/SelectInputForm\";\n\nconst community_contacts = [{ user_id: 1, name: \"MLGU Something\" }, { user_id: 2, name: \"LEWC Chenes\" }, { user_id: 3, name: \"BLGU Chos\" }];\n\nconst styles = theme => ({\n    formControl: {\n        width: \"-webkit-fill-available\"\n    },\n    formLabel: {\n        display: \"flex\",\n        alignItems: \"center\",\n        justifyContent: \"space-between\",\n        width: \"100%\"\n    },\n    groupGridContainer: {\n        marginTop: 0,\n        marginBottom: 0\n    },\n    inputGridContainer: {\n        marginTop: 6,\n        marginBottom: 6\n    }\n});\n\nfunction OnDemandTriggerGroup (props) {\n    const {\n        classes, triggersState, setTriggersState\n    } = props;\n\n    const { on_demand } = triggersState;\n    const { switchState, triggers } = on_demand;\n\n    let od_trig = {\n        timestamp: null,\n        tech_info: \"\",\n        reason: \"\",\n        reporterId: \"\"\n    };\n    if (triggers.length !== 0) {\n        od_trig = { ...triggers[0] };// There is always only ONE on demand trigger\n        // if (reporterId !== null) contact_person = community_contacts.find(x => x.user_id === reporterId).name;\n        // console.log(contact_person);\n    }\n\n    const { timestamp, tech_info, reason, reporterId } = od_trig;\n\n    return (\n        <Fragment>\n            <Grid item xs={12} className={switchState ? classes.groupGridContainer : \"\"}>\n                <FormControl component=\"fieldset\" className={classes.formControl}>\n                    <FormLabel component=\"legend\" className={classes.formLabel}>\n                        <span>On Demand</span>\n\n                        <Switch\n                            checked={switchState}\n                            onChange={handleSwitchChange(setTriggersState, \"on_demand\")}\n                            value=\"switch_on_demand\"\n                        />\n                    </FormLabel>\n                </FormControl>\n            </Grid>\n\n            {\n                switchState ? (\n                    <Fragment>\n                        <TriggerTimestampAndTechInfoCombo\n                            labelFor=\"d1\"\n                            trigger_timestamp={timestamp}\n                            tech_info={tech_info}\n                            changeHandler={handleChange(setTriggersState, \"on_demand\")}\n                        />\n\n                        <Grid item xs={12} sm={6} className={classes.inputGridContainer}>\n                            <TextField\n                                required\n                                id=\"reason\"\n                                label=\"Reason\"\n                                value={reason}\n                                onChange={handleEventChange(\"reason\", setTriggersState, \"on_demand\")}\n                                placeholder=\"Enter reason of on-demand request\"\n                                multiline\n                                rowsMax={2}\n                                fullWidth\n                            />\n                        </Grid>\n                        <Grid item xs={12} sm={6} className={classes.inputGridContainer}>\n                            <SelectInputForm\n                                label=\"Reporter\"\n                                div_id=\"reporter_id\"\n                                changeHandler={handleEventChange(\"reporterId\", setTriggersState, \"on_demand\")}\n                                value={reporterId}\n                                list={community_contacts}\n                                mapping={{ id: \"user_id\", label: \"name\" }}\n                            />\n                        </Grid>\n\n                    </Fragment>\n                ) : (\n                    <div />\n                )\n            }\n        </Fragment>\n    );\n}\n\nexport default withStyles(styles)(OnDemandTriggerGroup);\n","import React, { Fragment, useEffect, useState } from \"react\";\nimport moment from \"moment\";\nimport MomentUtils from \"@date-io/moment\";\nimport {\n    TextField, Grid,\n    FormControl, FormLabel, Switch,\n    Divider, makeStyles, CircularProgress\n} from \"@material-ui/core\";\nimport {\n    MuiPickersUtilsProvider,\n    KeyboardDateTimePicker, KeyboardTimePicker\n} from \"@material-ui/pickers\";\n\n// Stepper Related Imports\nimport Stepper from \"@material-ui/core/Stepper\";\nimport Step from \"@material-ui/core/Step\";\nimport StepLabel from \"@material-ui/core/StepLabel\";\nimport Typography from \"@material-ui/core/Typography\";\n\n// Form Related Imports\nimport SubsurfaceTriggerGroup from \"./SubsurfaceTriggerGroup\";\nimport SurficialTriggerGroup from \"./SurficialTriggerGroup\";\nimport MomsTriggerGroup from \"./MomsTriggerGroup\";\nimport RainfallTriggerGroup from \"./RainfallTriggerGroup\";\nimport EarthquakeTriggerGroup from \"./EarthquakeTriggerGroup\";\nimport OnDemandTriggerGroup from \"./OnDemandTriggerGroup\";\n\n// Widgets\nimport DynaslopeUserSelectInputForm from \"../../reusables/DynaslopeUserSelectInputForm\";\nimport DynaslopeSiteSelectInputForm from \"../../reusables/DynaslopeSiteSelectInputForm\";\n\nimport { getLatestSiteRelease } from \"./ajax\";\nimport { getCurrentUser } from \"../../sessions/auth\";\nimport { CTContext } from \"../../monitoring/dashboard/CTContext\";\n\nconst useStyles = makeStyles(theme => ({\n    inputGridContainer: {\n        marginTop: 6,\n        marginBottom: 6\n    },\n    checkboxGridContainer: {\n        marginTop: 12,\n        marginBottom: 6\n    },\n    selectInput: {\n        width: \"auto\",\n        [theme.breakpoints.down(\"xs\")]: {\n            width: \"250px\"\n        }\n    },\n    root: {\n        width: \"90%\",\n    },\n    backButton: {\n        marginRight: 1\n    },\n    instructions: {\n        marginTop: 1,\n        marginBottom: 1,\n    }\n}));\n\nfunction returnUpdateWarning () {\n    return (\n        <Fragment>\n            <Grid item xs={12} >\n                <Typography variant=\"body2\" color=\"secondary\">\n                    You chose a data timestamp that has been released. \n                    You are allowed to update release details but changes on triggers and alert level cannot be accepted. \n                    For those kind of changes, please contact the Software Infra Devs. Thank you.\n                </Typography>\n            </Grid>\n        </Fragment>\n    );\n}\n\nfunction GeneralInputForm (props) {\n    const {\n        setModalTitle, generalData, classes,\n        handleEventChange, handleDateTime,\n        setGeneralData, isUpdatingRelease,\n        changeState\n    } = props;\n\n    const {\n        siteId, dataTimestamp, releaseTime,\n        reporterIdMt, reporterIdCt\n    } = generalData;\n\n    useEffect(() => {\n        setModalTitle(\"Provide information to the following fields.\");\n    }, []);\n\n    const setSite = ret => {\n        const { label, data } = ret;\n        setGeneralData({\n            ...generalData,\n            siteId: ret,\n            address: label,\n            siteCode: data.site_code\n        });\n        changeState(\"siteId\", ret);\n    };\n\n    return (\n        <Fragment>\n            {\n                isUpdatingRelease && returnUpdateWarning()\n            }\n            <Grid item xs={12} className={classes.inputGridContainer}>\n                <DynaslopeSiteSelectInputForm\n                    value={siteId}\n                    changeHandler={value => setSite(value)}\n                />                \n            </Grid>\n\n            <Grid item xs={12} sm={6} className={classes.inputGridContainer}>\n                <KeyboardDateTimePicker\n                    required\n                    autoOk\n                    label=\"Data timestamp\"\n                    value={dataTimestamp}\n                    onChange={handleDateTime(\"dataTimestamp\")}\n                    ampm={false}\n                    placeholder=\"2010/01/01 00:00\"\n                    format=\"YYYY/MM/DD HH:mm\"\n                    mask=\"____/__/__ __:__\"\n                    clearable\n                    disableFuture\n                />\n            </Grid>\n\n            <Grid item xs={12} sm={6} className={classes.inputGridContainer}>\n                <KeyboardTimePicker\n                    required\n                    autoOk\n                    ampm={false}\n                    label=\"Time of release\"\n                    mask=\"__:__\"\n                    placeholder=\"00:00\"\n                    value={releaseTime}\n                    onChange={handleDateTime(\"releaseTime\")}\n                    clearable\n                />\n            </Grid>\n\n            <Grid item xs={12} sm={6} className={classes.inputGridContainer}>\n                <DynaslopeUserSelectInputForm\n                    variant=\"standard\"\n                    label=\"MT Personnel\"\n                    div_id=\"reporter_id_mt\"\n                    changeHandler={handleEventChange(\"reporterIdMt\")}\n                    value={reporterIdMt}\n                    disabled\n                />\n            </Grid>\n\n            <Grid item xs={12} sm={6} className={classes.inputGridContainer}>\n                <DynaslopeUserSelectInputForm\n                    variant=\"standard\"\n                    label=\"CT Personnel\"\n                    div_id=\"reporter_id_ct\"\n                    changeHandler={handleEventChange(\"reporterIdCt\")}\n                    value={reporterIdCt}\n                />\n            </Grid>\n        </Fragment>\n    );\n}\n\nfunction TriggersInputForm (props) {\n    const { \n        classes, triggersState, setTriggersState,\n        setModalTitle, hasNoGroundData, setHasNoGroundData,\n        triggersReleased, alert_level, setAlert0, isAlert0\n    } = props;\n\n    const {\n        subsurface: { switchState: subs_switch_state },\n        surficial: { switchState: surf_switch_state },\n        moms: { switchState: moms_switch_state } \n    } = triggersState;\n\n    useEffect(() => {\n        setModalTitle(\"Toggle ON all the triggers to be included in the internal alert computation, otherwise toggle them OFF. \" +\n        \"Fill in the required fields for each selected trigger.\");\n    }, []);\n    \n    return (\n        <Fragment>\n            {\n                alert_level !== 0 && (\n                    <Grid item xs={12} className={isAlert0 ? classes.groupGridContainer : \"\"}>\n                        <FormControl component=\"fieldset\" className={classes.formControl}>\n                            <FormLabel component=\"legend\" className={classes.formLabel}>\n                                <span style={{ color: \"#f50057\" }}>Lower to Alert 0</span>\n                                <Switch\n                                    checked={isAlert0}\n                                    onChange={event => setAlert0(event.target.checked)}\n                                    value=\"has_no_ground_data\"\n                                />\n                            </FormLabel>\n                        </FormControl>\n                    </Grid>\n                )\n            }\n            {\n                !subs_switch_state && !surf_switch_state && !moms_switch_state && alert_level <= 1 && (\n                    <Grid item xs={12} className={hasNoGroundData ? classes.groupGridContainer : \"\"}>\n                        <FormControl component=\"fieldset\" className={classes.formControl}>\n                            <FormLabel component=\"legend\" className={classes.formLabel}>\n                                <span style={{ color: \"#f50057\" }}>No Ground Data (ND)</span>\n                                <Switch\n                                    checked={hasNoGroundData}\n                                    onChange={event => setHasNoGroundData(event.target.checked)}\n                                    value=\"has_no_ground_data\"\n                                />\n                            </FormLabel>\n                        </FormControl>\n                    </Grid>\n                )\n            }\n            {\n                isAlert0 === false && (\n                    <Fragment>\n                        <Grid item xs={12}>\n                            <Typography variant=\"h6\" color=\"secondary\">Ground-Related Triggers</Typography>\n                        </Grid>\n                        <SubsurfaceTriggerGroup\n                            triggersState={triggersState}\n                            setTriggersState={setTriggersState}\n                            triggersReleased={triggersReleased}\n                        />\n                        <SurficialTriggerGroup\n                            triggersState={triggersState}\n                            setTriggersState={setTriggersState}\n                            triggersReleased={triggersReleased}\n                        />\n\n                        {/* <MomsTriggerGroup\n                            triggersState={triggersState}\n                            setTriggersState={setTriggersState}\n                        /> */}\n\n                        <Grid item xs={12} style={{ paddingTop: 20 }}>\n                            <Typography variant=\"h6\" color=\"secondary\">Secondary Triggers</Typography>\n                        </Grid>\n\n                        <RainfallTriggerGroup\n                            triggersState={triggersState}\n                            setTriggersState={setTriggersState}\n                            triggersReleased={triggersReleased}\n                        />\n\n                        <EarthquakeTriggerGroup\n                            triggersState={triggersState}\n                            setTriggersState={setTriggersState}\n                        />\n\n                        <OnDemandTriggerGroup\n                            triggersState={triggersState}\n                            setTriggersState={setTriggersState}\n                        />\n                    </Fragment>\n                )\n            }\n\n            \n        </Fragment>\n    );\n}\n\nfunction SummaryForm (props) {\n    const {\n        classes, handleEventChange,\n        generalData, internalAlertLevel, setModalTitle,\n        mtFullName, ctFullName, ewiPayload,\n        isAlertRecomputing\n    } = props;\n    const {\n        siteId, dataTimestamp, releaseTime, comments\n    } = generalData;\n\n    const [triggers_display, setTriggersDisplay] = useState(null);\n\n    useEffect(() => {\n        setModalTitle(\"Review release summary. Add comment if necessary.\");\n\n        let arr = [];\n        if (typeof ewiPayload.trigger_list_arr !== \"undefined\") {\n            arr = ewiPayload.trigger_list_arr;\n        }\n\n        let temp_list = <Typography variant=\"body2\" color=\"textPrimary\" align=\"center\">\n            No triggers included in this release.\n        </Typography>;\n\n        if (arr.length > 0) {\n            temp_list = arr.map((element, index) => {\n                const {\n                    ts_updated, alert_level, trigger_type,\n                    tech_info\n                } = element;\n    \n                const trig_source = trigger_type.charAt(0).toUpperCase() + trigger_type.slice(1);\n                const timestamp = moment(ts_updated).format(\"DD MMMM YYYY, HH:mm\");\n                return (\n                    <Fragment key={`${index + 1}`}>\n                        <Grid item xs={6} align=\"center\">\n                            <Typography variant=\"body2\" color=\"textSecondary\">Trigger</Typography>\n                            <Typography variant=\"body2\" color=\"textPrimary\">{`${trig_source} Alert ${alert_level}`}</Typography>\n                        </Grid>\n    \n                        <Grid item xs={6} align=\"center\">\n                            <Typography variant=\"body2\" color=\"textSecondary\">Trigger timestamp</Typography>\n                            <Typography variant=\"body2\" color=\"textPrimary\">{timestamp}</Typography>\n                        </Grid>\n    \n                        <Grid item xs={12} align=\"center\" style={{ paddingBottom: 20 }}>\n                            <Typography variant=\"body2\" color=\"textSecondary\">Tech info</Typography>\n                            <Typography variant=\"caption\" color=\"textPrimary\">{tech_info}</Typography>\n                        </Grid>\n                    </Fragment>\n                );\n            });\n        }\n        setTriggersDisplay(temp_list);\n    }, [ewiPayload]);\n\n    const data_ts = moment(dataTimestamp).format(\"DD MMMM YYYY, HH:mm\");\n    const release_time = moment(releaseTime).format(\"HH:mm\");\n\n    return (\n        <Fragment>\n            {\n                isAlertRecomputing ? (\n                    <Grid item xs={6}>\n                        <CircularProgress />\n                    </Grid>\n                ) : (\n                    <Fragment>\n                        <Grid item xs={6}>\n                            <Typography variant=\"body2\" color=\"textSecondary\">Site</Typography>\n                            <Typography variant=\"body1\" color=\"textPrimary\">\n                                {siteId.label}\n                            </Typography>\n                        </Grid>\n                        <Grid item xs={6}>\n                            <Typography variant=\"body2\" color=\"textSecondary\">Internal Alert</Typography>\n                            <Typography variant=\"body1\" color=\"textPrimary\">\n                                {internalAlertLevel}\n                            </Typography>\n                        </Grid>\n\n                        <Grid item xs={6}>\n                            <Typography variant=\"body2\" color=\"textSecondary\">Data Timestamp</Typography>\n                            <Typography variant=\"body1\" color=\"textPrimary\">\n                                {data_ts}\n                            </Typography>\n                        </Grid>\n                        <Grid item xs={6}>\n                            <Typography variant=\"body2\" color=\"textSecondary\">Release Time</Typography>\n                            <Typography variant=\"body1\" color=\"textPrimary\">\n                                {release_time}\n                            </Typography>\n                        </Grid>\n\n                        <Grid item xs={6}>\n                            <Typography variant=\"body2\" color=\"textSecondary\">MT Personnel</Typography>\n                            <Typography variant=\"body1\" color=\"textPrimary\">\n                                {mtFullName}\n                            </Typography>\n                        </Grid>\n\n                        <Grid item xs={6}>\n                            <Typography variant=\"body2\" color=\"textSecondary\">CT Personnel</Typography>\n                            <Typography variant=\"body1\" color=\"textPrimary\">\n                                {ctFullName}\n                            </Typography>\n                        </Grid>\n\n                        <Grid item xs={12}>\n                            <Divider className={classes.divider} /> \n                        </Grid>\n            \n                        <Grid item xs={12} container spacing={1}>\n                            <Grid item xs={12}>\n                                <Typography variant=\"button\" color=\"textSecondary\">Triggers</Typography>\n                            </Grid>\n                            <Grid item xs={12} container spacing={1} align=\"center\">\n                                {triggers_display}\n                            </Grid>\n                        </Grid>\n\n                        <Grid item xs={12}>\n                            <Divider className={classes.divider} /> \n                        </Grid>\n\n                        <Grid item xs={12} className={classes.inputGridContainer}>\n                            <TextField\n                                label=\"Comments\"\n                                multiline\n                                rowsMax=\"2\"\n                                placeholder=\"Enter additional comments necessary\"\n                                value={comments}\n                                onChange={handleEventChange(\"comments\")}\n                                fullWidth\n                            />\n                        </Grid>\n                    </Fragment>\n                )\n            }\n        </Fragment>\n    );\n}\n\nfunction AlertReleaseForm (comp_props) {\n    const {\n        activeStep, generalData,\n        setGeneralData, setInternalAlertLevel,\n        internalAlertLevel, // setTriggerList,\n        setPublicAlertLevel, isUpdatingRelease,\n        currentTriggersStatus, setDBSavedTriggers,\n        siteCurrentAlertLevel, setSiteCurrentAlertLevel\n    } = comp_props;\n    const classes = useStyles();\n    const props = { classes, ...comp_props };\n\n    const current_user = getCurrentUser();\n    const { first_name, last_name } = current_user;\n    const mtFullName = `${last_name}, ${first_name}`;\n    const { ct_full_name: ctFullName } = React.useContext(CTContext);\n\n    const [triggersReleased, setTriggersReleased] = useState([...currentTriggersStatus]);\n\n    const changeState = (key, value) => {\n        if (key === \"siteId\") {\n            // get the current Internal alert level of site\n            const input = { site_id: value.value };\n            getLatestSiteRelease(input, ret => {\n                console.log(ret);\n                const {\n                    internal_alert_level, public_alert_level,\n                    trigger_sources, alert_level\n                } = ret;\n                setTriggersReleased(trigger_sources);\n                setDBSavedTriggers(trigger_sources);\n                setPublicAlertLevel(public_alert_level);\n                setInternalAlertLevel(internal_alert_level);\n                setSiteCurrentAlertLevel(alert_level);\n            });\n        } else {\n            setGeneralData({ ...generalData, [key]: value });\n        }\n    };\n\n    const handleDateTime = key => value => {\n        changeState(key, value);\n    };\n\n    const handleEventChange = key => event => {\n        const { value } = event.target;\n        changeState(key, value);\n    };\n\n    const getSteps = () => {\n        return [\"What are the release details?\", \"List the triggers.\", \"Add Comments and Review Release Summary\"];\n    };\n    const steps = getSteps();\n\n    const getStepContent = stepIndex => {\n        switch (stepIndex) {\n            case 0:\n                return <GeneralInputForm\n                    {...props}\n                    handleDateTime={handleDateTime}\n                    handleEventChange={handleEventChange}\n                    isUpdatingRelease={isUpdatingRelease}\n                    changeState={changeState}\n                />;\n            case 1:\n                return <TriggersInputForm \n                    {...props}\n                    triggersReleased={triggersReleased}\n                    alert_level={siteCurrentAlertLevel}\n                />;\n            case 2:\n                return <SummaryForm {...props}\n                    mtFullName={mtFullName}\n                    ctFullName={ctFullName}\n                    internalAlertLevel={internalAlertLevel}\n                    handleEventChange={handleEventChange}\n                />;\n            case 3:\n                return (\n                    <Typography variant=\"body1\">\n                        Early warning information released! Please wait for the dashboard to update or check the \n                        site event timeline to confirm if EWI is released.\n                    </Typography>\n                );\n            default:\n                return \"Uknown stepIndex\";\n        }\n    };\n\n    return (\n        <MuiPickersUtilsProvider utils={MomentUtils}>\n            <Grid\n                container\n                justify=\"space-evenly\"\n                alignItems=\"center\"\n                spacing={1}\n            >\n\n                {getStepContent(activeStep)}\n                <div className={classes.root}>\n                    <Typography className={classes.instructions} />\n\n                    <Stepper activeStep={activeStep} alternativeLabel>\n                        {steps.map(label => (\n                            <Step key={label}>\n                                <StepLabel />\n                            </Step>\n                        ))}\n                    </Stepper>\n                </div>\n            </Grid>\n        </MuiPickersUtilsProvider>\n    );\n\n}\n\nexport default AlertReleaseForm;\n","\nimport { host } from \"../../../config\";\nimport { makePOSTAxiosRequest, makeGETAxiosRequest } from \"../../../UtilityFunctions\";\n\nexport function handleDelete (json_data, callback) {\n    const api_link = `${host}/api/issues_and_reminders/delete_narratives_from_db`;\n    makePOSTAxiosRequest(api_link, json_data, callback);\n}\n\nexport function createReleaseDetails (json_data, callback) {\n    // Make an API request\n    const api_link = `${host}/api/monitoring/create_release_details`;\n    makePOSTAxiosRequest(api_link, json_data, callback);\n}\n\nexport function getMonitoringReleaseByDataTS (site_code, data_ts, callback) {\n    const api_link = `${host}/api/monitoring/get_monitoring_releases_by_data_ts/${site_code}/${data_ts}`;\n    makeGETAxiosRequest(api_link, callback);\n}\n\nexport function getLatestSiteRelease (input, callback) {\n    const {\n        site_id\n    } = input;\n\n    let api_link = `${host}/api/monitoring/get_site_alert_details`;\n    api_link += `?site_id=${site_id}`;\n\n    makeGETAxiosRequest(api_link, callback);\n\n}\n\nexport function getUnreleasedRoutineSites (data_timestamp, callback) {\n    const api_link = `${host}/api/monitoring/get_unreleased_routine_sites/${data_timestamp}`;\n    \n    makeGETAxiosRequest(api_link, callback);\n}\n","import React, { useState, useEffect, useReducer } from \"react\";\nimport moment from \"moment\";\nimport {\n    Dialog, DialogTitle, DialogContent,\n    DialogContentText, DialogActions,\n    Button, makeStyles, withMobileDialog, Grid\n} from \"@material-ui/core\";\n\nimport { useSnackbar } from \"notistack\";\n\nimport AlertReleaseForm from \"./AlertReleaseForm\";\nimport { sendWSMessage } from \"../../../websocket/monitoring_ws\";\nimport { createReleaseDetails, getMonitoringReleaseByDataTS } from \"./ajax\";\nimport { getCurrentUser } from \"../../sessions/auth\";\nimport { CTContext } from \"../../monitoring/dashboard/CTContext\";\n\nconst useStyles = makeStyles(theme => ({\n    inputGridContainer: {\n        marginTop: 8,\n        marginBottom: 8\n    },\n    selectInput: {\n        width: \"auto\",\n        [theme.breakpoints.down(\"xs\")]: {\n            width: \"250px\"\n        }\n    }\n}));\n\nfunction checkIfToExtendValidity (has_no_ground_data, triggers) {\n    // NOTE: add other extension parameters\n    // like g0, s0, etc.\n    const { rainfall } = triggers;\n    let is_rx_or_rain_nd = false;\n\n    if (rainfall.switchState) {\n        // don't be confused na array ang triggers ng rainfall\n        // by design lang ito for easy implem of reducer pero\n        // isa lang talaga laman nito if switchState is true\n        rainfall.triggers.forEach(row => {\n            if (row.alert_level < 0) is_rx_or_rain_nd = true;\n        });\n    }\n\n    return has_no_ground_data || is_rx_or_rain_nd;\n}\n\nfunction prepareTriggers (triggers) {\n    const trigger_list = [];\n\n    Object.keys(triggers).forEach((key) => {\n        if (triggers[key].switchState) {\n            const temp = triggers[key].triggers;\n            const trigger_type = key === \"on_demand\" ? \"on demand\" : key;\n            \n            temp.forEach(trigger => {\n                const {\n                    timestamp, alert_level,\n                    internal_sym_id, tech_info\n                } = trigger;\n\n\n                let ts_updated = null;\n                if (timestamp !== null) \n                    ts_updated = timestamp.format(\"YYYY-MM-DD HH:mm:00\");\n\n                let final_alert_level = alert_level;\n                if (alert_level === \"nd\") final_alert_level = -1;\n                else if (alert_level === \"rx\") final_alert_level = -2;\n\n                let addendum;\n                switch (key) {\n                    case \"moms\":\n                        addendum = {\n                            moms_id_list: trigger.moms_id_list\n                        };\n                        break;\n                    case \"on_demand\":\n                        // eslint-disable-next-line no-case-declarations\n                        const od_details = {\n                            request_ts: ts_updated,\n                            narrative: trigger.reason,\n                            reporter_id: trigger.reporterId\n                        };\n                        addendum = {\n                            od_details\n                        };\n                        break;\n                    case \"earthquake\":\n                        // eslint-disable-next-line no-case-declarations\n                        const { magnitude, latitude, longitude } = trigger;\n                        // eslint-disable-next-line no-case-declarations\n                        const eq_details = {\n                            magnitude: parseFloat(magnitude), \n                            latitude: parseFloat(latitude),\n                            longitude: parseFloat(longitude)\n                        };\n                        addendum = {\n                            eq_details\n                        };\n                        break;\n                    default:\n                        addendum = {};\n                        break;\n                }\n\n                const formatted = {\n                    ...addendum,\n                    alert_level: final_alert_level,\n                    internal_sym_id,\n                    tech_info,\n                    trigger_type,\n                    ts_updated\n                };\n\n                trigger_list.push(formatted);\n            });\n        }\n    });\n    return trigger_list;\n}\n\nconst initial_triggers_data = {\n    subsurface: { switchState: false, triggers: [] },\n    surficial: { switchState: false, triggers: [] },\n    moms: { switchState: false, triggers: [] },\n    rainfall: { switchState: false, triggers: [] },\n    earthquake: { switchState: false, triggers: [] },\n    on_demand: { switchState: false, triggers: [] }\n};\n\nfunction alertTriggersReducer (triggs, { action, trigger_type, value }) {\n    let trigger = {};\n    let triggers_array = [];\n    if (action !== \"RESET_STATE\") {\n        const t = triggs[trigger_type];\n        trigger = { ...t };\n        const { triggers: arr } = trigger;\n        triggers_array = arr;\n    }\n\n    switch (action) {\n        case \"TOGGLE_SWITCH\":\n            return {\n                ...triggs,\n                [trigger_type]: {\n                    ...trigger,\n                    switchState: value\n                }\n            };\n        case \"ADD_TRIGGER\":\n            return {\n                ...triggs,\n                [trigger_type]: {\n                    ...trigger,\n                    triggers: [...triggers_array, value]\n                }\n            };\n        case \"REMOVE_TRIGGER\":\n            let temp;\n            if (value === \"clear_all\") {\n                temp = [];\n            } else {\n                temp = triggers_array.filter(trig => trig.alert_level !== value.alert_level);\n            }\n\n            return {\n                ...triggs,\n                [trigger_type]: {\n                    ...trigger,\n                    triggers: temp\n                }\n            };\n        case \"UPDATE_DETAILS\":\n            // eslint-disable-next-line no-case-declarations\n            const temp2 = triggers_array.map(trig => {\n                if (trig.alert_level === value.alert_level) return { ...trig, ...value };\n                return trig;\n            });\n            return {\n                ...triggs,\n                [trigger_type]: {\n                    ...trigger,\n                    triggers: temp2\n                }\n            };\n        case \"RESET_STATE\":\n            return { ...initial_triggers_data };\n        default: return triggs;\n    }\n}\n\nfunction AlertReleaseFormModal (props) {\n    const {\n        fullScreen, isOpen,\n        closeHandler, chosenCandidateAlert,\n        setChosenCandidateAlert, setIsOpenRoutineModal\n    } = props;\n    const classes = useStyles();\n    const { user_id: reporter_id_mt } = getCurrentUser();\n\n    const [ewiPayload, setEwiPayload] = useState({});\n    const [activeStep, setActiveStep] = useState(0);\n    const [isNextBtnDisabled, setIsNextBtnDisabled] = useState(true);\n    const steps = [1, 2, 3];\n    const [internalAlertLevel, setInternalAlertLevel] = useState(\"\");\n    const [publicAlertLevel, setPublicAlertLevel] = useState(\"\");\n    const [modal_title, setModalTitle] = useState(\"\");\n\n    const { reporter_id_ct } = React.useContext(CTContext);\n    \n    const initial_general_data = {\n        dataTimestamp: null,\n        releaseTime: moment(),\n        siteId: {},\n        siteCode: \"\", \n        address: \"\",\n        reporterIdCt: reporter_id_ct,\n        reporterIdMt: reporter_id_mt,\n        comments: \"\",\n        publicAlertSymbol: \"\",\n        publicAlertLevel: \"\",\n        triggerListStr: \"\"\n    };\n    const [generalData, setGeneralData] = useState({ ...initial_general_data });\n\n    const [has_no_ground_data, setHasNoGroundData] = useState(false);\n    const [isUpdatingRelease, setIsUpdatingRelease] = useState(false);\n    const [site_current_alert_level, setSiteCurrentAlertLevel] = useState(0);\n    const [is_alert_0, setAlert0] = useState(false);\n\n    const [triggers, setTriggers] = useReducer(alertTriggersReducer, { ...initial_triggers_data });\n    const [db_saved_triggers, setDBSavedTriggers] = useState([]);\n\n    const [current_triggers_status, setCurrentTriggersStatus] = useState([]);\n    const { enqueueSnackbar } = useSnackbar();\n\n    useEffect(() => {\n        const { dataTimestamp: input_data_ts, siteCode } = generalData;\n\n        if (typeof input_data_ts === \"object\" && moment.isMoment(input_data_ts)) {\n            const temp_ts = moment(input_data_ts).format(\"YYYY-MM-DD HH:mm:00\");\n\n            getMonitoringReleaseByDataTS(siteCode, temp_ts, latest_release => {\n                if (Object.entries(latest_release).length > 1) {\n                    setIsUpdatingRelease(true);\n                }\n            });\n        }\n    }, [generalData.dataTimestamp]);\n\n    useEffect(() => {\n        if (chosenCandidateAlert !== null && chosenCandidateAlert.general_status !== \"routine\") {\n            const {\n                site_id, site_code, public_alert_level,\n                public_alert_symbol, release_details, trigger_list_arr,\n                has_ground_data, non_triggering_moms, internal_alert_level,\n                current_triggers_status: cts, saved_event_triggers,\n                to_extend_validity\n            } = chosenCandidateAlert;\n            const { data_ts, trigger_list_str } = release_details;\n\n            setInternalAlertLevel(internal_alert_level);\n\n            const valid_triggers = [];\n            trigger_list_arr.forEach(row => {\n                if (row.invalid !== true) {\n                    valid_triggers.push(row);\n                }\n\n                if (row.trigger_type === \"moms\") {\n                    const { moms_list } = row;\n                    row.moms_id_list = moms_list.map(x => x.moms_id);\n                }\n            });\n\n            let final_non_trig_moms = null;\n            if (non_triggering_moms.length > 0) {\n                const moms_id_list = non_triggering_moms.map(row => row.moms_id);\n                final_non_trig_moms = {\n                    moms_id_list\n                };\n            }\n\n            setEwiPayload({\n                ...ewiPayload,\n                site_id,\n                site_code,\n                public_alert_level,\n                public_alert_symbol,\n                release_details: {\n                    data_ts,\n                    trigger_list_str,\n                    release_time: moment().format(\"HH:mm:00\")\n                },\n                publisher_details: {\n                    publisher_mt_id: reporter_id_mt,\n                    publisher_ct_id: reporter_id_ct\n                },\n                trigger_list_arr: valid_triggers,\n                non_triggering_moms: final_non_trig_moms,\n                to_extend_validity\n            });\n\n            const no_ground_data = !has_ground_data;\n            setHasNoGroundData(no_ground_data);\n\n            const temp = {\n                ...generalData,\n                reporterIdCt: reporter_id_ct,\n                dataTimestamp: moment(data_ts),\n                siteId: { value: site_id, label: site_code.toUpperCase() },\n                siteCode: site_code,\n                triggerListStr: trigger_list_str,\n                publicAlertSymbol: public_alert_symbol,\n                publicAlertLevel: public_alert_level,\n                nonTriggeringMoms: non_triggering_moms\n            };\n            setGeneralData({ ...temp });\n\n            setTriggers({ action: \"RESET_STATE\" });\n            if (typeof saved_event_triggers !== \"undefined\")\n                setDBSavedTriggers(saved_event_triggers);\n            // setCurrentTriggerList({ action: \"RESET_STATE\" });\n\n            const invalid_list = [];\n            // INCLUDE TRIGGERS THAT ARE GIVEN FROM ALERTGEN\n            trigger_list_arr.forEach(element => {\n                const { \n                    trigger_type, alert_level, ts_updated, \n                    internal_sym_id, tech_info, alert, invalid\n                } = element;\n\n                if (typeof invalid === \"undefined\") {\n                    let obj = { action: \"TOGGLE_SWITCH\", trigger_type, value: true };\n                    setTriggers(obj);\n                    // setCurrentTriggerList(obj);\n\n                    const value = {\n                        alert,\n                        alert_level,\n                        internal_sym_id,\n                        tech_info,\n                        disabled: false,\n                        status: true,\n                        timestamp: moment(ts_updated)\n                    };\n\n                    if (trigger_type === \"moms\") {\n                        const { moms_list } = element;\n                        value.moms_list = moms_list;\n                        value.moms_id_list = moms_list.map(row => row.moms_id);\n                    }\n                \n                    obj = { action: \"ADD_TRIGGER\", trigger_type, value };\n                    setTriggers(obj);\n                    // setCurrentTriggerList(obj);\n\n                    if (trigger_type in [\"on demand\", \"earthquake\"]) {\n                        let addendum = null;\n                        switch (trigger_type) {\n                            case \"on demand\":\n                                addendum = {\n                                    action: \"UPDATE_TRIGGER\",\n                                    trigger_type,\n                                    value: {\n                                        od_details: {\n                                            request_ts: \"\",\n                                            narrative: \"\"\n                                        }\n                                    }\n                                };\n                                break;\n                            case \"earthquake\":\n                                addendum = {\n                                    action: \"UPDATE_TRIGGER\",\n                                    trigger_type,\n                                    value: {\n                                        eq_details: {\n                                            magnitude: \"\",\n                                            latitude: \"\",\n                                            longitude: \"\"\n                                        }\n                                    }\n                                };\n                                break;\n                            default:\n                                break;\n                        }\n\n                        if (addendum != null) {\n                            setTriggers(addendum);\n                        }\n                    }\n                } else {\n                    invalid_list.push(trigger_type);\n                }\n            });\n\n            // Set in candidate alerts, programmed to contain only rxs and nds\n            setCurrentTriggersStatus(cts);\n            cts.forEach(row => {\n                const { trigger_source: trigger_type, alert_level } = row;\n\n                // Do not toggle NDs and Rxs if trigger is invalid\n                if (invalid_list.includes(trigger_type)) return; \n\n                let f_alert_level = alert_level;\n                // rainfall is excluded because of radio input (diff value as keys)\n                if (alert_level === -1 && trigger_type !== \"rainfall\") {\n                    f_alert_level = \"nd\";\n                }\n\n                let to_toggle = true;\n                if (alert_level <= 1 && [\"surficial\", \"subsurface\"].includes(trigger_type))\n                    to_toggle = false;\n                let obj = { \n                    action: \"TOGGLE_SWITCH\",\n                    trigger_type,\n                    value: to_toggle\n                };\n                setTriggers(obj);\n                // setCurrentTriggerList(obj);\n\n                const value = {\n                    status: true,\n                    disabled: false,\n                    alert_level: f_alert_level,\n                    timestamp: null,\n                    tech_info: \"\"\n                };\n\n                obj = { action: \"ADD_TRIGGER\", trigger_type, value };\n                setTriggers(obj);\n                // setCurrentTriggerList(obj);\n            });\n\n            setActiveStep(2);\n        } else {\n            setGeneralData({ ...initial_general_data });\n            setTriggers({ action: \"RESET_STATE\" });\n            // setCurrentTriggerList({ action: \"RESET_STATE\" });\n            setDBSavedTriggers([]);\n            setCurrentTriggersStatus([]);\n            setInternalAlertLevel(\"\");\n            setActiveStep(0);\n        }\n    }, [chosenCandidateAlert, reporter_id_ct]);\n\n    // THIS USEEFFECT CHECKS WHETHER NEXT BUTTON SHOULD BE ENABLED\n    // CHECK IF INPUT HAS ENTRIES\n    const [is_recomputing, setIsRecomputing] = useState(false);\n    useEffect(() => {\n        setIsNextBtnDisabled(true);\n\n        if (activeStep === 0) {\n            const {\n                siteId, dataTimestamp, releaseTime,\n                reporterIdCt, reporterIdMt\n            } = generalData;\n\n            if (siteId !== \"\" && dataTimestamp !== null && releaseTime !== null && reporterIdCt !== \"\" && reporterIdMt !== \"\") {\n                setIsNextBtnDisabled(false);\n            } else {\n                setIsNextBtnDisabled(true);\n            }\n        } else if (activeStep === 1) {\n            const trigger_keys_array = Object.keys(triggers);\n            let is_disabled = false;\n            for (let i = 0; i < trigger_keys_array.length; i += 1) {\n                const { switchState, triggers: trigger_list } = triggers[trigger_keys_array[i]];\n                if (switchState) {\n                    const { length } = trigger_list;\n\n                    if (length === 0) is_disabled = true;\n                    else {\n                        for (let j = 0; j < length; j += 1) {\n                            if ([1, 2, 3].includes(trigger_list[j].alert_level)) {\n                                if (trigger_keys_array[i] === \"on_demand\") {\n                                    const { reason, reporterId, tech_info, timestamp } = trigger_list[j];\n                                    if (\n                                        tech_info === \"\" || timestamp === \"\" ||\n                                        reason === \"\" || reporterId === \"\"\n                                    ) is_disabled = true;\n                                } else if (trigger_keys_array[i] === \"earthquake\") {\n                                    const {\n                                        tech_info, timestamp, magnitude,\n                                        longitude, latitude\n                                    } = trigger_list[j];\n                                    if (\n                                        tech_info === \"\" || timestamp === \"\" ||\n                                        magnitude === \"\" || longitude === \"\" ||\n                                        latitude === \"\"\n                                    ) is_disabled = true;\n\n                                } else {\n                                    const { tech_info, timestamp } = trigger_list[j];\n                                    if (tech_info === \"\" || timestamp === null) is_disabled = true;\n                                }\n                                break;\n                            }\n                        }\n                    }\n                }\n            }\n            setIsNextBtnDisabled(is_disabled);\n        } else if (activeStep === 2) {\n            const bool = reporter_id_ct === \"\";\n            setIsNextBtnDisabled(bool || is_recomputing);\n        }\n    }, [generalData, triggers, activeStep, reporter_id_ct, is_recomputing]);\n\n    useEffect(() => {\n        const { subsurface, surficial } = triggers;\n        if (subsurface.switchState || surficial.switchState)\n            setHasNoGroundData(false);\n    }, [triggers.subsurface, triggers.surficial]);\n\n    const handleSubmit = () => {\n        console.log(\"Submitting data...\", ewiPayload);\n        sendWSMessage(\"insert_ewi\", ewiPayload);\n    };\n\n    const handleNext = () => {\n        setActiveStep(prevActiveStep => prevActiveStep + 1);\n\n        const {\n            siteId, siteCode, publicAlertSymbol,\n            dataTimestamp, releaseTime, reporterIdMt,\n            reporterIdCt, comments, triggerListStr\n        } = generalData;\n        let latest_trigger_list = [];\n        let current_trigger_list = [];\n        let temp = {};\n\n        if (activeStep === 0) {\n            setEwiPayload({\n                ...ewiPayload,\n                site_id: siteId.value,\n                site_code: siteCode,\n                public_alert_level: publicAlertLevel,\n                public_alert_symbol: publicAlertSymbol,\n                release_details: {\n                    data_ts: moment(dataTimestamp).format(\"YYYY-MM-DD HH:mm:00\"),\n                    trigger_list_str: triggerListStr,\n                    release_time: moment(releaseTime).format(\"HH:mm:00\")\n                },\n                publisher_details: {\n                    publisher_mt_id: reporterIdMt,\n                    publisher_ct_id: reporterIdCt\n                },\n                non_triggering_moms: [] // should set non_triggering_moms on next\n            });\n        } else if (activeStep === 1) {\n            latest_trigger_list = prepareTriggers(triggers);\n            current_trigger_list = db_saved_triggers;\n\n            // PREPARE THE INTERNAL ALERT from BACKEND\n            const json_data = {\n                latest_trigger_list, current_trigger_list, \n                has_no_ground_data, is_alert_0\n            };\n            console.log(\"JSON data for alert generation recomputation\", json_data);\n\n            setIsRecomputing(true);\n\n            const final_arr = latest_trigger_list.filter(row => row.alert_level > 0);\n                \n            createReleaseDetails(json_data, ret => {\n                const {\n                    internal_alert_level, public_alert_level,\n                    trigger_list_str, public_alert_symbol\n                } = ret;\n                setPublicAlertLevel(public_alert_level);\n                setInternalAlertLevel(internal_alert_level);\n                setEwiPayload({\n                    ...ewiPayload,\n                    public_alert_level,\n                    public_alert_symbol,\n                    internal_alert_level,\n                    release_details: {\n                        ...ewiPayload.release_details,\n                        trigger_list_str\n                    },\n                    trigger_list_arr: final_arr,\n                    to_extend_validity: checkIfToExtendValidity(has_no_ground_data, triggers)\n                });\n\n                setIsRecomputing(false);\n            });\n        } else if (activeStep === (steps.length - 1)) {\n            setModalTitle(\"\");\n            temp = ewiPayload;\n            temp.release_details.comments = comments;\n           \n            const snackbar_key = enqueueSnackbar(\n                \"Inserting EWI release...\",\n                {\n                    variant: \"warning\",\n                    persist: true\n                }\n            );\n            temp.snackbar_key = snackbar_key;\n\n            setEwiPayload(temp);\n            handleSubmit();\n        }\n    };\n\n    const handleBack = () => {\n        setActiveStep(prevActiveStep => prevActiveStep - 1);\n    };\n\n    const handleClose = () => {\n        closeHandler();\n        setActiveStep(0);\n        setChosenCandidateAlert(null);\n        setGeneralData({ ...initial_general_data });\n        setEwiPayload({});\n        setAlert0(false);\n        setHasNoGroundData(false);\n    };\n\n    return (\n        <div>\n            <Dialog\n                fullWidth\n                fullScreen={fullScreen}\n                open={isOpen}\n                aria-labelledby=\"form-dialog-title\"\n            >\n                <DialogTitle id=\"form-dialog-title\">Alert Release Form</DialogTitle>\n                <DialogContent>\n                    <DialogContentText>                    \n                        {modal_title}\n                    </DialogContentText>\n                    <AlertReleaseForm\n                        activeStep={activeStep}\n                        isUpdatingRelease={isUpdatingRelease}\n                        triggersState={triggers} setTriggersState={setTriggers}\n                        generalData={generalData} setGeneralData={setGeneralData}\n                        internalAlertLevel={internalAlertLevel}\n                        setInternalAlertLevel={setInternalAlertLevel}\n                        publicAlertLevel={publicAlertLevel}\n                        setPublicAlertLevel={setPublicAlertLevel}\n                        setModalTitle={setModalTitle} ewiPayload={ewiPayload}\n                        hasNoGroundData={has_no_ground_data} setHasNoGroundData={setHasNoGroundData}\n                        currentTriggersStatus={current_triggers_status}\n                        setDBSavedTriggers={setDBSavedTriggers}\n                        siteCurrentAlertLevel={site_current_alert_level}\n                        setSiteCurrentAlertLevel={setSiteCurrentAlertLevel}\n                        isAlert0={is_alert_0} setAlert0={setAlert0}\n                        isAlertRecomputing={is_recomputing}\n                    />\n                </DialogContent>\n                <DialogActions>\n                    {\n                        activeStep === steps.length ? (\n                            <div>\n                                <Button onClick={handleClose} color=\"primary\">\n                                    Okay\n                                </Button>\n                            </div>\n                        ) : (\n                            <Grid container spacing={1} justify=\"space-between\">\n                                <Grid item xs style={{ display: chosenCandidateAlert === null ? \"flex\" : \"none\" }}>\n                                    <Button onClick={setIsOpenRoutineModal} className={classes.backButton}>\n                                        Release Routine\n                                    </Button>\n                                </Grid>\n                                <Grid item xs align=\"right\">\n                                    <Button onClick={handleClose} color=\"primary\">\n                                        Cancel\n                                    </Button>\n                                    <Button disabled={activeStep === 0} onClick={handleBack} className={classes.backButton}>\n                                        Back\n                                    </Button>\n                                    <Button variant=\"contained\" color=\"primary\" onClick={handleNext} disabled={isNextBtnDisabled}>\n                                        {activeStep === steps.length - 1 ? \"Submit\" : \"Next\"}\n                                    </Button>\n                                </Grid>\n                            </Grid>\n                        )\n                    }\n                </DialogActions>\n            </Dialog>\n        </div>\n    );\n}\n\nexport default withMobileDialog()(AlertReleaseFormModal);\n","import React, { useState, useEffect } from \"react\";\nimport MomentUtils from \"@date-io/moment\";\nimport moment from \"moment\";\nimport {\n    Grid, Divider, makeStyles\n} from \"@material-ui/core\";\nimport {\n    MuiPickersUtilsProvider,\n    KeyboardDateTimePicker, KeyboardTimePicker\n} from \"@material-ui/pickers\";\nimport List from \"@material-ui/core/List\";\nimport Card from \"@material-ui/core/Card\";\nimport CardHeader from \"@material-ui/core/CardHeader\";\nimport ListItem from \"@material-ui/core/ListItem\";\nimport ListItemText from \"@material-ui/core/ListItemText\";\nimport ListItemIcon from \"@material-ui/core/ListItemIcon\";\nimport Checkbox from \"@material-ui/core/Checkbox\";\nimport Button from \"@material-ui/core/Button\";\n\nimport DynaslopeUserSelectInputForm from \"../../reusables/DynaslopeUserSelectInputForm\";\nimport { CTContext } from \"../../monitoring/dashboard/CTContext\";\n\nconst useStyles = makeStyles(theme => ({\n    inputGridContainer: {\n        marginTop: 6,\n        marginBottom: 6\n    },\n    checkboxGridContainer: {\n        marginTop: 12,\n        marginBottom: 6\n    },\n    selectInput: {\n        width: \"auto\",\n        [theme.breakpoints.down(\"xs\")]: {\n            width: \"250px\"\n        }\n    },\n    root: {\n        margin: \"auto\",\n    },\n    cardHeader: {\n        padding: theme.spacing(1, 2),\n    },\n    list: {\n        width: 200,\n        height: 230,\n        backgroundColor: theme.palette.background.paper,\n        overflow: \"auto\",\n    },\n    button: {\n        margin: theme.spacing(0.5, 0),\n    },\n}));\n\nfunction not (a, b) {\n    return a.filter(row => !b.some(x => x.value === row.value));\n}\n  \nfunction intersection (a, b) {\n    return a.filter(row => b.some(x => x.value === row.value));\n}\n  \nfunction union (a, b) {\n    return [...a, ...not(b, a)];\n}\n\nfunction RoutineReleaseForm (comp_props) {\n    const {\n        routineData, setRoutineData,\n        a0SiteList, setA0SiteList,\n        NDSiteList, setNDSiteList,\n        dataTimestamp, setDataTimestamp\n    } = comp_props;\n    const classes = useStyles();\n    const { reporter_id_ct } = React.useContext(CTContext);\n\n    const [form_release_time, setFormReleaseTime] = useState(null);\n\n    useEffect(() => {\n        setFormReleaseTime(routineData.release_time);\n    }, [routineData]);\n\n    const { reporter_id_mt } = routineData;\n\n    const handleDateTime = key => value => {\n        const temp = { ...routineData, [key]: value };\n        setRoutineData(temp);\n\n        if (key === \"data_ts\") setDataTimestamp(moment(value).format(\"YYYY-MM-DD HH:mm:00\"));\n    };\n    \n    const [checked, setChecked] = React.useState([]);\n\n    const leftChecked = intersection(checked, a0SiteList.site_id_list);\n    const rightChecked = intersection(checked, NDSiteList.site_id_list);\n\n    const handleToggle = (value, list) => () => {\n        const currentIndex = checked.findIndex(row => row.value === value);\n        const newChecked = [...checked];\n\n        if (currentIndex === -1) {\n            const site = list.find(row => row.value === value);\n            newChecked.push(site);\n        } else {\n            newChecked.splice(currentIndex, 1);\n        }\n\n        setChecked(newChecked);\n    };\n\n    const numberOfChecked = items => intersection(checked, items).length;\n\n    const handleToggleAll = items => () => {\n        if (numberOfChecked(items) === items.length) {\n            setChecked(not(checked, items));\n        } else {\n            setChecked(union(checked, items));\n        }\n    };\n\n    const handleCheckedRight = () => {\n        setNDSiteList({\n            ...NDSiteList,\n            site_id_list: NDSiteList.site_id_list.concat(leftChecked)\n        });\n        setA0SiteList({\n            ...a0SiteList,\n            site_id_list: not(a0SiteList.site_id_list, leftChecked)\n        });\n        setChecked(not(checked, leftChecked));\n    };\n\n    const handleCheckedLeft = () => {\n        setA0SiteList({\n            ...a0SiteList,\n            site_id_list: a0SiteList.site_id_list.concat(rightChecked)\n        });\n        setNDSiteList({\n            ...NDSiteList,\n            site_id_list: not(NDSiteList.site_id_list, rightChecked)\n        });\n        setChecked(not(checked, rightChecked));\n    };\n\n    const customList = (title, items) => {\n        const { site_id_list } = items;\n        return (\n            <Card>\n                <CardHeader\n                    className={classes.cardHeader}\n                    avatar={\n                        <Checkbox\n                            onClick={handleToggleAll(site_id_list)}\n                            checked={numberOfChecked(site_id_list) === site_id_list.length && site_id_list.length !== 0}\n                            indeterminate={numberOfChecked(site_id_list) !== site_id_list.length && numberOfChecked(site_id_list) !== 0}\n                            disabled={site_id_list.length === 0}\n                            inputProps={{ \"aria-label\": \"all site_id_list selected\" }}\n                        />\n                    }\n                    title={title}\n                    // subheader={`${numberOfChecked(site_id_list)}/${site_id_list.length} selected`}\n                />\n                <Divider />\n                <List className={classes.list} dense component=\"div\" role=\"list\">\n                    {site_id_list.map(value => {\n                        const { value: site_id, label } = value;\n                        const labelId = `transfer-list-all-item-${site_id}-label`;\n\n                        return (\n                            <ListItem key={site_id} role=\"listitem\" button onClick={handleToggle(site_id, site_id_list)}>\n                                <ListItemIcon>\n                                    <Checkbox\n                                        checked={checked.some(row => row.value === site_id)}\n                                        tabIndex={-1}\n                                        disableRipple\n                                        inputProps={{ \"aria-labelledby\": labelId }}\n                                    />\n                                </ListItemIcon>\n                                <ListItemText id={labelId} primary={label} />\n                            </ListItem>\n                        );\n                    })}\n                    <ListItem />\n                </List>\n            </Card>\n        );\n    };\n\n    return (\n        <MuiPickersUtilsProvider utils={MomentUtils}>\n            <Grid\n                container\n                justify=\"space-evenly\"\n                alignItems=\"center\"\n                spacing={1}\n            >\n\n                <Grid item xs={12} sm={6} className={classes.inputGridContainer}>\n                    <KeyboardDateTimePicker\n                        required\n                        autoOk\n                        label=\"Data timestamp\"\n                        value={dataTimestamp}\n                        onChange={handleDateTime(\"data_ts\")}\n                        ampm={false}\n                        placeholder=\"2010/01/01 00:00\"\n                        format=\"YYYY/MM/DD HH:mm\"\n                        mask=\"____/__/__ __:__\"\n                        clearable\n                        disableFuture\n                        error={dataTimestamp === null}\n                    />\n                </Grid>\n\n                <Grid item xs={12} sm={6} className={classes.inputGridContainer}>\n                    <KeyboardTimePicker\n                        required\n                        autoOk\n                        ampm={false}\n                        label=\"Time of release\"\n                        mask=\"__:__\"\n                        placeholder=\"00:00\"\n                        value={form_release_time}\n                        onChange={handleDateTime(\"release_time\")}\n                        clearable\n                    />\n                </Grid>\n\n                {/* TRANSFER LIST GOES HERE */}\n                <Grid container spacing={2} justify=\"center\" alignItems=\"center\" className={classes.root}>\n                    <Grid item>{customList(\"A0 Sites\", a0SiteList)}</Grid>\n                    <Grid item>\n                        <Grid container direction=\"column\" alignItems=\"center\">\n                            <Button\n                                variant=\"outlined\"\n                                size=\"small\"\n                                className={classes.button}\n                                onClick={handleCheckedRight}\n                                disabled={leftChecked.length === 0}\n                                aria-label=\"move selected NDSiteList\"\n                            >\n                                &gt;\n                            </Button>\n                            <Button\n                                variant=\"outlined\"\n                                size=\"small\"\n                                className={classes.button}\n                                onClick={handleCheckedLeft}\n                                disabled={rightChecked.length === 0}\n                                aria-label=\"move selected a0SiteList\"\n                            >\n                                &lt;\n                            </Button>\n                        </Grid>\n                    </Grid>\n                    <Grid item>{customList(\"ND Sites\", NDSiteList)}</Grid>\n                </Grid>\n\n                <Grid item xs={12} sm={6} className={classes.inputGridContainer}>\n                    <DynaslopeUserSelectInputForm\n                        variant=\"standard\"\n                        label=\"MT Personnel\"\n                        div_id=\"reporter_id_mt\"\n                        value={reporter_id_mt}\n                        disabled\n                    />\n                </Grid>\n\n                <Grid item xs={12} sm={6} className={classes.inputGridContainer}>\n                    <DynaslopeUserSelectInputForm\n                        variant=\"standard\"\n                        label=\"CT Personnel\"\n                        div_id=\"reporter_id_ct\"\n                        value={reporter_id_ct}\n                        disabled\n                    />\n                </Grid>\n            </Grid>\n        </MuiPickersUtilsProvider>\n    );\n\n}\n\nexport default RoutineReleaseForm;\n","import React, { useState, useEffect, useContext } from \"react\";\nimport moment from \"moment\";\nimport {\n    Dialog, DialogTitle, DialogContent,\n    DialogContentText, DialogActions,\n    Button, withMobileDialog,\n} from \"@material-ui/core\";\n\nimport { useSnackbar } from \"notistack\";\nimport RoutineReleaseForm from \"./RoutineReleaseForm\";\nimport { sendWSMessage } from \"../../../websocket/monitoring_ws\";\nimport { getCurrentUser } from \"../../sessions/auth\";\nimport { CTContext } from \"../../monitoring/dashboard/CTContext\";\nimport { GeneralContext } from \"../../contexts/GeneralContext\";\nimport { getUnreleasedRoutineSites } from \"./ajax\";\n\n\nfunction prepareSitesOption (arr) {\n    let temp = [];\n    if (arr.length > 0) {\n        temp = arr.map(site => {\n            const { \n                site_code, site_id\n            } = site;\n    \n            const s_code = site_code.toUpperCase();\n            return { state: true, value: site_id, label: s_code, is_disabled: false };\n        });\n    }\n    \n    return temp.sort((a, b) => a.site_id > b.site_id);\n}\n\n\nfunction RoutineReleaseFormModal (props) {\n    const {\n        fullScreen, isOpen,\n        closeHandler, chosenCandidateAlert,\n        setChosenCandidateAlert\n    } = props;\n    const { user_id: reporter_id_mt } = getCurrentUser();\n    const { reporter_id_ct: tmp_ct } = React.useContext(CTContext);\n    const { sites } = useContext(GeneralContext);\n\n    const [ewiPayload, setEwiPayload] = useState({});\n    const { enqueueSnackbar } = useSnackbar();\n\n    const initial_routine_data = {\n        public_alert_symbol: \"A0\",\n        public_alert_level: 0,\n        data_ts: null,\n        release_time: moment(),\n        general_status: \"routine\",\n        reporter_id_ct: tmp_ct,\n        reporter_id_mt,\n        non_triggering_moms: {}\n    };\n\n    const a0_list = {\n        site_id_list: [],\n        internal_alert_level: \"A0\",\n        trigger_list_str: null\n    };\n    const nd_list = {\n        site_id_list: [],\n        internal_alert_level: \"ND\",\n        trigger_list_str: null\n    };\n\n    const [routineData, setRoutineData] = useState({ ...initial_routine_data });\n    const [a0SiteList, setA0SiteList] = useState({ ...a0_list });\n    const [NDSiteList, setNDSiteList] = useState({ ...nd_list });\n    const [site_options, setSiteOptions] = useState([]);\n    const [dataTimestamp, setDataTimestamp] = useState(null);\n\n    const disabled = (a0SiteList.site_id_list.length === 0 && NDSiteList.site_id_list.length === 0) || tmp_ct === \"\";\n\n    useEffect(() => {\n        setRoutineData({ ...initial_routine_data });\n        const temp = prepareSitesOption(sites);\n        setSiteOptions(temp);\n    }, [sites]);\n\n    useEffect(() => {\n        if (chosenCandidateAlert === null) {\n            if (dataTimestamp !== null) {\n                getUnreleasedRoutineSites(dataTimestamp, data => {\n                    const { unreleased_sites } = data;\n                    const temp = prepareSitesOption(unreleased_sites);\n                    setA0SiteList({\n                        ...a0SiteList,\n                        site_id_list: temp\n                    });\n                });\n            } else {\n                setA0SiteList({\n                    ...a0SiteList,\n                    site_id_list: []\n                });\n                setNDSiteList({\n                    ...NDSiteList,\n                    site_id_list: []\n                });\n            }\n        }\n    }, [dataTimestamp, chosenCandidateAlert]);\n\n    useEffect(() => {\n        if (typeof chosenCandidateAlert !== \"undefined\" && chosenCandidateAlert !== null && chosenCandidateAlert.general_status === \"routine\") {\n            const copy = { ...chosenCandidateAlert };\n            delete copy.routine_details;\n\n            const temp = {\n                ...initial_routine_data,\n                ...copy\n            };\n\n            setRoutineData(temp);\n            setDataTimestamp(copy.data_ts);\n\n            const { routine_details: rd } = { ...chosenCandidateAlert };\n            rd.forEach(row => {\n                const { site_id_list, internal_alert_level } = row;\n                const site_list = site_options.filter(s => site_id_list.includes(s.value));\n\n                const a_temp = {\n                    ...row,\n                    site_id_list: site_list\n                };\n\n                if (internal_alert_level === \"A0\") {\n                    setA0SiteList(a_temp);\n                } else {\n                    setNDSiteList(a_temp);\n                }\n            });\n\n            setEwiPayload({ ...ewiPayload });\n        }\n    }, [chosenCandidateAlert, site_options]);\n\n    const handleSubmit = () => {\n        const f_data_ts = moment(routineData.data_ts).format(\"YYYY-MM-DD HH:mm:00\");\n        const f_rel_time = moment(routineData.release_time).format(\"HH:mm:ss\");\n        const snackbar_key = enqueueSnackbar(\n            \"Inserting Routine EWI release...\",\n            {\n                variant: \"warning\",\n                persist: true\n            }\n        );\n\n        const temp_payload = {\n            ...routineData,\n            data_timestamp: f_data_ts,\n            release_time: f_rel_time,\n            reporter_id_ct: tmp_ct,\n            routine_details: [\n                { ...a0SiteList },\n                { ...NDSiteList }\n            ],\n            snackbar_key\n        };\n        \n        console.log(\"Submitting data...\", temp_payload);\n        sendWSMessage(\"insert_ewi\", temp_payload);\n        closeHandler();\n    };\n\n    const handleClose = () => {\n        closeHandler();\n        setChosenCandidateAlert(null);\n        setDataTimestamp(null);\n    };\n\n    return (\n        <div>\n            <Dialog\n                fullWidth\n                fullScreen={fullScreen}\n                open={isOpen}\n                aria-labelledby=\"form-dialog-title\"\n            >\n                <DialogTitle id=\"form-dialog-title\">Routine Release Form</DialogTitle>\n                <DialogContent>\n                    <DialogContentText>\n                        Transfer site codes to their respective list if needed. Put sites with ground data on A0 Sites list\n                        while put sites without ground data on ND Sites. \n                    </DialogContentText>\n                    <RoutineReleaseForm\n                        routineData={routineData}\n                        setRoutineData={setRoutineData}\n                        a0SiteList={a0SiteList}\n                        setA0SiteList={setA0SiteList}\n                        NDSiteList={NDSiteList}\n                        setNDSiteList={setNDSiteList}\n                        dataTimestamp={dataTimestamp}\n                        setDataTimestamp={setDataTimestamp}\n                    />\n                </DialogContent>\n                <DialogActions>\n                    <div>\n                        <div>\n                            <Button onClick={handleClose} color=\"primary\">\n                                Cancel\n                            </Button>\n                            <Button\n                                variant=\"contained\"\n                                color=\"primary\"\n                                onClick={handleSubmit}\n                                disabled={disabled}\n                            >\n                                Submit\n                            </Button>\n                        </div>\n                    </div>\n                </DialogActions>\n            </Dialog>\n        </div>\n    );\n}\n\nexport default withMobileDialog()(RoutineReleaseFormModal);\n","import axios from \"axios\";\nimport moment from \"moment\";\nimport { host } from \"../../../config\";\nimport { sendWSMessage } from \"../../../websocket/monitoring_ws\";\n// Session Stuff\nimport { getCurrentUser } from \"../../sessions/auth\";\n\nfunction makeAxiosRequest (json_data, api_link, callback = null) {\n    axios.post(api_link, json_data)\n    .then((response) => {\n        const { data } = response; \n        if (callback !== null) {\n            callback(data);\n        } \n    })\n    .catch((error) => {\n        console.log(error);\n    });\n\n}\n\nexport function handleIssuesAndReminders (json_data) {\n    const temp = json_data;\n    const { ts_posted, ts_expiration, site_id_list } = json_data;\n    const temp_list = [];\n    if (site_id_list !== null) {\n        site_id_list.forEach(({ value }) => {\n            // Value is site_id\n            temp_list.push(value);\n        });\n    }\n    temp.user_id = getCurrentUser().user_id;\n    temp.ts_posted = moment(ts_posted).format(\"YYYY-MM-DD HH:mm:ss\");\n    if (ts_expiration !== \"Invalid date\") temp.ts_expiration = moment(ts_expiration).format(\"YYYY-MM-DD HH:mm:ss\");\n    temp.site_id_list = temp_list;\n\n    return temp;\n}\n\nexport function insertIssuesAndRemindersViaWS (json_data) {\n    const data = handleIssuesAndReminders(json_data);\n    sendWSMessage(\"write_issues_and_reminders\", data);\n}\n\nexport function insertIssuesAndRemindersViaPost (json_data, callback) {\n    const data = handleIssuesAndReminders(json_data);\n    const api_link = `${host}/api/issues_and_reminders/write_issue_reminder_to_db`;\n    makeAxiosRequest(data, api_link, callback);\n\n}\n\n\n// eslint-disable-next-line import/prefer-default-export\nexport function getIssuesAndReminders (input, callback) {\n    const {\n        include_count, limit, offset,\n        filters, search_str, include_expired\n    } = input;\n\n    let api_link = `${host}/api/issues_and_reminders/get_issues_and_reminders`;\n    api_link += `?include_expired=${include_expired}`;\n\n    if (limit !== null || offset !== null) {\n        api_link += `&limit=${limit}&offset=${offset}`;\n\n        if (include_count) api_link += \"&include_count=true\";\n        if (filters.length !== 0) {\n            const filter_str = filters.map(row => {\n                const { name, data } = row;\n                return data.map(x => `&${name}=${x}`).join(\"\");\n            });\n    \n            api_link += filter_str.join(\"\");\n        }    \n        if (search_str !== \"\") api_link += `&search=${search_str}`;    \n    }\n\n    axios.get(api_link)\n    .then(response => {\n        const { data } = response;\n        callback(data);\n    })\n    .catch(error => {\n        console.error(error);\n    });\n\n}\n","export const sites = [\n    {\n        active: true, \n        barangay: \"Agbatuan\", \n        municipality: \"Dumarao\", \n        province: \"Capiz\", \n        psgc: 61904001, \n        purok: null, \n        region: \"VI\", \n        season: 1, \n        site_code: \"agb\", \n        site_id: 1, \n        sitio: null,\n        latitude: 11.281370,\n        longitude: 122.831100\n    }, \n    {\n        active: true, \n        barangay: \"Poblacion\", \n        municipality: \"Bakun\", \n        province: \"Benguet\", \n        psgc: 141103009, \n        purok: null, \n        region: \"CAR\", \n        season: 2, \n        site_code: \"bak\", \n        site_id: 2, \n        sitio: null,\n        latitude: 16.790700,\n        longitude: 120.661600\n    }, \n    {\n        active: true, \n        barangay: \"Banlasan\", \n        municipality: \"Calape\", \n        province: \"Bohol\", \n        psgc: 71210003, \n        purok: null, \n        region: \"VI\", \n        season: 1, \n        site_code: \"ban\", \n        site_id: 3, \n        sitio: null,\n        latitude: 9.888559,\n        longitude: 123.948800\n    }, \n    {\n        active: true, \n        barangay: \"Baras\", \n        municipality: \"Tarangnan\", \n        province: \"Samar\", \n        psgc: 86020008, \n        purok: null, \n        region: \"VIII\", \n        season: 1, \n        site_code: \"bar\", \n        site_id: 4, \n        sitio: null,\n        latitude: 11.902080,\n        longitude: 124.656600\n    }, \n    {\n        active: true, \n        barangay: \"Bayabas\", \n        municipality: \"Labo\", \n        province: \"Camarines Norte\", \n        psgc: 51606009, \n        purok: null, \n        region: \"V\", \n        season: 1, \n        site_code: \"bay\", \n        site_id: 5, \n        sitio: null,\n        latitude: 14.187970,\n        longitude: 122.467500\n    }, \n    {\n        active: true, \n        barangay: \"Boloc\", \n        municipality: \"Tubungan\", \n        province: \"Iloilo\", \n        psgc: 63046016, \n        purok: null, \n        region: \"VI\", \n        season: 2, \n        site_code: \"blc\", \n        site_id: 6, \n        sitio: null,\n        latitude: 10.826650,\n        longitude: 122.310800\n    }, \n    {\n        active: true, \n        barangay: \"Bolodbolod\", \n        municipality: \"St. Bernard\", \n        province: \"Southern Leyte\", \n        psgc: 86412004, \n        purok: \"3 & 4\", \n        region: \"VIII\", \n        season: 1, \n        site_code: \"bol\", \n        site_id: 7, \n        sitio: null,\n        latitude: 10.301990,\n        longitude: 125.127900\n    }, \n    {\n        active: true, \n        barangay: \"Bato\", \n        municipality: \"Sibonga\", \n        province: \"Cebu\", \n        psgc: 72246007, \n        purok: null, \n        region: \"VI\", \n        season: 1, \n        site_code: \"bto\", \n        site_id: 8, \n        sitio: null,\n        latitude: 10.013790,\n        longitude: 123.577600\n    }, \n    {\n        active: true, \n        barangay: \"San Carlos\", \n        municipality: \"Dapa\", \n        province: \"Surigao del Norte\", \n        psgc: 166707025, \n        purok: null, \n        region: \"XIII\", \n        season: 1, \n        site_code: \"car\", \n        site_id: 9, \n        sitio: null,\n        latitude: 9.719629,\n        longitude: 125.973700\n    }, \n    {\n        active: true, \n        barangay: \"Cudog\", \n        municipality: \"Lagawe\", \n        province: \"Ifugao\", \n        psgc: 142704010, \n        purok: null, \n        region: \"CAR\", \n        season: 2, \n        site_code: \"cud\", \n        site_id: 10, \n        sitio: \"Natuwolan at Wadwad\",\n        latitude: 16.809310,\n        longitude: 121.104700\n    }, \n    {\n        active: true, \n        barangay: \"Dadong\", \n        municipality: \"Tarragona\", \n        province: \"Davao Oriental\", \n        psgc: 112511003, \n        purok: null, \n        region: \"XI\", \n        season: 1, \n        site_code: \"dad\", \n        site_id: 11, \n        sitio: \"Sagasa\",\n        latitude: 7.137310,\n        longitude: 126.450900\n    }, \n    {\n        active: true, \n        barangay: \"Gaas\", \n        municipality: \"Balamban\", \n        province: \"Cebu\", \n        psgc: 72208014, \n        purok: null, \n        region: \"VII\", \n        season: 1, \n        site_code: \"gaa\", \n        site_id: 12, \n        sitio: null,\n        latitude: 10.423520,\n        longitude: 123.785100\n    }, \n    {\n        active: true, \n        barangay: \"Gamut\", \n        municipality: \"Tago\", \n        province: \"Surigao del Sur\", \n        psgc: 166818012, \n        purok: null, \n        region: \"XIII\", \n        season: 1, \n        site_code: \"gam\", \n        site_id: 13, \n        sitio: null,\n        latitude: 9.010100,\n        longitude: 126.167600\n    }, \n    {\n        active: true, \n        barangay: \"1 & 2\", \n        municipality: \"Hinabangan\", \n        province: \"Samar\", \n        psgc: 86008012, \n        purok: null, \n        region: \"VIII\", \n        season: 1, \n        site_code: \"hin\", \n        site_id: 14, \n        sitio: null,\n        latitude: 11.700640,\n        longitude: 125.069100\n    }, \n    {\n        active: true, \n        barangay: \"Humayhumay\", \n        municipality: \"Guihulngan City\", \n        province: \"Negros Oriental\", \n        psgc: 184611013, \n        purok: null, \n        region: \"VII\", \n        season: 1, \n        site_code: \"hum\", \n        site_id: 15, \n        sitio: null,\n        latitude: 10.183920,\n        longitude: 123.250300\n    }, \n    {\n        active: true, \n        barangay: \"Imelda\", \n        municipality: \"Tarangnan\", \n        province: \"Samar\", \n        psgc: 86020024, \n        purok: null, \n        region: \"VIII\", \n        season: 1, \n        site_code: \"ime\", \n        site_id: 16, \n        sitio: null,\n        latitude: 11.903830,\n        longitude: 124.752600\n    }, \n    {\n        active: true, \n        barangay: \"Immuli\", \n        municipality: \"Pidigan\", \n        province: \"Abra\", \n        psgc: 140118005, \n        purok: null, \n        region: \"CAR\", \n        season: 2, \n        site_code: \"imu\", \n        site_id: 17, \n        sitio: null,\n        latitude: 17.523080,\n        longitude: 120.604600\n    }, \n    {\n        active: true, \n        barangay: \"Inabasan\", \n        municipality: \"Maasin\", \n        province: \"Iloilo\", \n        psgc: 63029025, \n        purok: null, \n        region: \"VI\", \n        season: 2, \n        site_code: \"ina\", \n        site_id: 18, \n        sitio: \"Sambag\",\n        latitude: 10.869910,\n        longitude: 122.436200\n    }, \n    {\n        active: true, \n        barangay: \"Poblacion 1\", \n        municipality: \"San Jorge\", \n        province: \"Samar\", \n        psgc: 86025024, \n        purok: null, \n        region: \"VIII\", \n        season: 1, \n        site_code: \"jor\", \n        site_id: 19, \n        sitio: null,\n        latitude: 11.977790,\n        longitude: 124.824900\n    }, \n    {\n        active: true, \n        barangay: \"Ambuklao\", \n        municipality: \"Bokod\", \n        province: \"Benguet\", \n        psgc: 141104001, \n        purok: null, \n        region: \"CAR\", \n        season: 2, \n        site_code: \"lab\", \n        site_id: 20, \n        sitio: \"Labey\",\n        latitude: 16.470320,\n        longitude: 120.705400\n    }, \n    {\n        active: true, \n        barangay: \"Laygayon\", \n        municipality: \"Pinabacdao\", \n        province: \"Samar\", \n        psgc: 86013013, \n        purok: null, \n        region: \"VIII\", \n        season: 1, \n        site_code: \"lay\", \n        site_id: 21, \n        sitio: null,\n        latitude: 11.512700,\n        longitude: 125.025700\n    }, \n    {\n        active: true, \n        barangay: \"Lipanto\", \n        municipality: \"St. Bernard\", \n        province: \"Southern Leyte\", \n        psgc: 86412016, \n        purok: \"1\", \n        region: \"VIII\", \n        season: 1, \n        site_code: \"lip\", \n        site_id: 22, \n        sitio: null,\n        latitude: 10.227670,\n        longitude: 125.126600\n    }, \n    {\n        active: true, \n        barangay: \"Looc\", \n        municipality: \"Villanueva\", \n        province: \"Misamis Oriental\", \n        psgc: 104326011, \n        purok: null, \n        region: \"X\", \n        season: 1, \n        site_code: \"loo\", \n        site_id: 23, \n        sitio: null,\n        latitude: 8.597964,\n        longitude: 124.777500\n    }, \n    {\n        active: true, \n        barangay: \"Lipata\", \n        municipality: \"Paranas\", \n        province: \"Samar\", \n        psgc: 86022016, \n        purok: null, \n        region: \"VIII\", \n        season: 1, \n        site_code: \"lpa\", \n        site_id: 24, \n        sitio: null,\n        latitude: 11.786250,\n        longitude: 125.019600\n    }, \n    {\n        active: true, \n        barangay: \"Literon\", \n        municipality: \"Calbiga\", \n        province: \"Samar\", \n        psgc: 86004017, \n        purok: null, \n        region: \"VIII\", \n        season: 1, \n        site_code: \"lte\", \n        site_id: 25, \n        sitio: null,\n        latitude: 11.590370,\n        longitude: 125.090300\n    }, \n    {\n        active: true, \n        barangay: \"Lunas\", \n        municipality: \"Maasin City\", \n        province: \"Southern Leyte\", \n        psgc: 86407034, \n        purok: null, \n        region: \"VIII\", \n        season: 1, \n        site_code: \"lun\", \n        site_id: 26, \n        sitio: \"Caianuhan\",\n        latitude: 10.258190,\n        longitude: 124.877000\n    }, \n    {\n        active: true, \n        barangay: \"Magsaysay\", \n        municipality: \"Kibawe\", \n        province: \"Bukidnon\", \n        psgc: 101308016, \n        purok: \"1, 2 & 3\", \n        region: \"X\", \n        season: 1, \n        site_code: \"mag\", \n        site_id: 27, \n        sitio: null,\n        latitude: 7.519230,\n        longitude: 125.059800\n    }, \n    {\n        active: true, \n        barangay: \"Ambassador\", \n        municipality: \"Tublay\", \n        province: \"Benguet\", \n        psgc: 141114001, \n        purok: null, \n        region: \"CAR\", \n        season: 2, \n        site_code: \"mam\", \n        site_id: 28, \n        sitio: \"Mamuyod\",\n        latitude: 16.488300,\n        longitude: 120.689000\n    }, \n    {\n        active: true, \n        barangay: \"Marirong\", \n        municipality: \"Leon\", \n        province: \"Iloilo\", \n        psgc: 63028059, \n        purok: null, \n        region: \"VI\", \n        season: 2, \n        site_code: \"mar\", \n        site_id: 29, \n        sitio: null,\n        latitude: 10.827459,\n        longitude: 122.321555\n    }, \n    {\n        active: true, \n        barangay: \"Mac-Arthur\", \n        municipality: \"Esperanza\", \n        province: \"Agusan del Sur\", \n        psgc: 160303010, \n        purok: null, \n        region: \"XIII\", \n        season: 1, \n        site_code: \"mca\", \n        site_id: 30, \n        sitio: null,\n        latitude: 8.585430,\n        longitude: 125.741000\n    }, \n    {\n        active: true, \n        barangay: \"Manghulyawon\", \n        municipality: \"La Libertad\", \n        province: \"Negros Oriental\", \n        psgc: 184613013, \n        purok: null, \n        region: \"VII\", \n        season: 1, \n        site_code: \"mng\", \n        site_id: 31, \n        sitio: \"Dao\",\n        latitude: 10.047930,\n        longitude: 123.206200\n    }, \n    {\n        active: true, \n        barangay: \"Sto. Nino\", \n        municipality: \"Talaingod\", \n        province: \"Davao del Norte\", \n        psgc: 112322003, \n        purok: null, \n        region: \"XI\", \n        season: 1, \n        site_code: \"msl\", \n        site_id: 32, \n        sitio: \"Lower Mesolong\",\n        latitude: 7.629616,\n        longitude: 125.544500\n    }, \n    {\n        active: true, \n        barangay: \"Sto. Nino\", \n        municipality: \"Talaingod\", \n        province: \"Davao del Norte\", \n        psgc: 112322003, \n        purok: null, \n        region: \"XI\", \n        season: 1, \n        site_code: \"msu\", \n        site_id: 33, \n        sitio: \"Upper Mesolong\",\n        latitude: 7.628743,\n        longitude: 125.540300\n    }, \n    {\n        active: true, \n        barangay: \"Nagyubuyuban\", \n        municipality: \"San Fernando City\", \n        province: \"La Union\", \n        psgc: 13314034, \n        purok: \"5\", \n        region: \"I\", \n        season: 2, \n        site_code: \"nag\", \n        site_id: 34, \n        sitio: null,\n        latitude: 16.626780,\n        longitude: 120.417600\n    }, \n    {\n        active: true, \n        barangay: \"Nurcia\", \n        municipality: \"Lanuza\", \n        province: \"Surigao del Sur\", \n        psgc: 166810011, \n        purok: null, \n        region: \"XIII\", \n        season: 1, \n        site_code: \"nur\", \n        site_id: 35, \n        sitio: null,\n        latitude: 9.269702,\n        longitude: 126.138400\n    }, \n    {\n        active: true, \n        barangay: \"Oslao\", \n        municipality: \"San Francisco\", \n        province: \"Surigao del Norte\", \n        psgc: 166719010, \n        purok: null, \n        region: \"XIII\", \n        season: 1, \n        site_code: \"osl\", \n        site_id: 36, \n        sitio: null,\n        latitude: 9.757190,\n        longitude: 125.401400\n    }, \n    {\n        active: true, \n        barangay: \"Parasanon\", \n        municipality: \"Pinabacdao\", \n        province: \"Samar\", \n        psgc: 86013022, \n        purok: null, \n        region: \"VIII\", \n        season: 1, \n        site_code: \"par\", \n        site_id: 37, \n        sitio: null,\n        latitude: 11.514870,\n        longitude: 125.025500\n    }, \n    {\n        active: true, \n        barangay: \"Pepe\", \n        municipality: \"Leon\", \n        province: \"Iloilo\", \n        psgc: 63028070, \n        purok: null, \n        region: \"VI\", \n        season: 2, \n        site_code: \"pep\", \n        site_id: 38, \n        sitio: \"Bangi\",\n        latitude: 10.787880,\n        longitude: 122.333600\n    }, \n    {\n        active: true, \n        barangay: \"Pinagkamaligan\", \n        municipality: \"Calauag\", \n        province: \"Quezon\", \n        psgc: 45607060, \n        purok: null, \n        region: \"IVB\", \n        season: 1, \n        site_code: \"pin\", \n        site_id: 39, \n        sitio: null,\n        latitude: 13.953600,\n        longitude: 122.285500\n    }, \n    {\n        active: true, \n        barangay: \"Planas\", \n        municipality: \"Guihulngan City\", \n        province: \"Negros Oriental\", \n        psgc: 184611027, \n        purok: null, \n        region: \"VII\", \n        season: 1, \n        site_code: \"pla\", \n        site_id: 40, \n        sitio: \"Mambog\",\n        latitude: 10.159840,\n        longitude: 123.245900\n    }, \n    {\n        active: true, \n        barangay: \"Pange\", \n        municipality: \"Matnog\", \n        province: \"Sorsogon\", \n        psgc: 56212032, \n        purok: null, \n        region: \"V\", \n        season: 1, \n        site_code: \"png\", \n        site_id: 41, \n        sitio: null,\n        latitude: 12.630630,\n        longitude: 124.018300\n    }, \n    {\n        active: true, \n        barangay: \"Puguis\", \n        municipality: \"La Trinidad\", \n        province: \"Benguet\", \n        psgc: 141110013, \n        purok: null, \n        region: \"CAR\", \n        season: 2, \n        site_code: \"pug\", \n        site_id: 42, \n        sitio: \"Longlong\",\n        latitude: 16.446550,\n        longitude: 120.570600\n    }, \n    {\n        active: true, \n        barangay: \"Antadao\", \n        municipality: \"Sagada\", \n        province: \"Mt. Province\", \n        psgc: 144409005, \n        purok: null, \n        region: \"CAR\", \n        season: 2, \n        site_code: \"sag\", \n        site_id: 43, \n        sitio: null,\n        latitude: 17.082630,\n        longitude: 120.924800\n    }, \n    {\n        active: true, \n        barangay: \"Sibajay\", \n        municipality: \"Boston\", \n        province: \"Davao Oriental\", \n        psgc: 112503006, \n        purok: null, \n        region: \"XI\", \n        season: 1, \n        site_code: \"sib\", \n        site_id: 44, \n        sitio: null,\n        latitude: 7.825670,\n        longitude: 126.383400\n    }, \n    {\n        active: true, \n        barangay: \"Amgaleyguey\", \n        municipality: \"Buguias\", \n        province: \"Benguet\", \n        psgc: 141105002, \n        purok: null, \n        region: \"CAR\", \n        season: 2, \n        site_code: \"sin\", \n        site_id: 45, \n        sitio: \"Sinipsip\",\n        latitude: 16.723400,\n        longitude: 120.781500\n    }, \n    {\n        active: true, \n        barangay: \"Sumalsag\", \n        municipality: \"Malitbog\", \n        province: \"Bukidnon\", \n        psgc: 101313011, \n        purok: null, \n        region: \"X\", \n        season: 1, \n        site_code: \"sum\", \n        site_id: 46, \n        sitio: null,\n        latitude: 8.545110,\n        longitude: 124.859700\n    }, \n    {\n        active: true, \n        barangay: \"Talahid\", \n        municipality: \"Almeria\", \n        province: \"Biliran\", \n        psgc: 87801012, \n        purok: null, \n        region: \"VIII\", \n        season: 1, \n        site_code: \"tal\", \n        site_id: 47, \n        sitio: null,\n        latitude: 11.637420,\n        longitude: 124.366500\n    }, \n    {\n        active: true, \n        barangay: \"Taga\", \n        municipality: \"Pinukpuk\", \n        province: \"Kalinga\", \n        psgc: 143209022, \n        purok: null, \n        region: \"CAR\", \n        season: 2, \n        site_code: \"tga\", \n        site_id: 48, \n        sitio: null,\n        latitude: 17.573470,\n        longitude: 121.383400\n    }, \n    {\n        active: true, \n        barangay: \"Tue\", \n        municipality: \"Tadian\", \n        province: \"Mt. Province\", \n        psgc: 144410019, \n        purok: null, \n        region: \"CAR\", \n        season: 2, \n        site_code: \"tue\", \n        site_id: 49, \n        sitio: null,\n        latitude: 16.972290,\n        longitude: 120.828600\n    }, \n    {\n        active: true, \n        barangay: \"Umingan\", \n        municipality: \"Alimodian\", \n        province: \"Iloilo\", \n        psgc: 63002053, \n        purok: null, \n        region: \"VI\", \n        season: 2, \n        site_code: \"umi\", \n        site_id: 50, \n        sitio: null,\n        latitude: 10.908070,\n        longitude: 122.327800\n    }\n];\n\nexport const organizations = [\n    \"lewc\", \"blgu\", \"mlgu\", \"plgu\",\n    \"phivolcs\", \"dost\", \"mgb\", \"pdrrmc\",\n    \"pnp\", \"ngo\", \"region 8\", \"none\"\n];\n\nexport const sample_messages = [\n    {\n        id: 0,\n        name: {\n            first: \"Lenore\",\n            last: \"Cervantes\"\n        },\n        ts_received: \"2019-05-10 12:00:45\",\n        phone: \"+63 (916) 415-3837\",\n        message: \"Ipsum laborum mollit sit nulla duis magna ipsum pariatur ex do in. Consectetur do incididunt incididunt reprehenderit consectetur incididunt duis consectetur occaecat aute.\",\n        sender: \"PLGU Lenore Cervantes\"\n    },\n    {\n        id: 1,\n        name: {\n            first: \"Eaton\",\n            last: \"Cole\"\n        },\n        ts_received: \"2019-05-10 09:49:16\",\n        phone: \"+63 (840) 414-3654\",\n        message: \"Laboris in do et mollit reprehenderit velit. Esse aliquip proident occaecat nulla reprehenderit laboris consectetur laboris exercitation.\",\n        sender: \"PLGU Eaton Cole\"\n    },\n    {\n        id: 2, \n        name: {\n            first: \"Etta\",\n            last: \"Pittman\"\n        },\n        ts_received: \"2019-02-23 01:36:54\",\n        phone: \"+63 (893) 424-3942\",\n        message: \"Pariatur ut dolor minim nostrud occaecat aliquip est tempor nostrud ullamco mollit mollit consequat minim. Do irure id exercitation reprehenderit ex enim esse eu commodo aliqua quis quis qui amet.\",\n        sender: \"MLGU Etta Pittman\"\n    },\n    {\n        id: 3,\n        name: {\n            first: \"Ruth\",\n            last: \"Mullen\"\n        },\n        ts_received: \"2019-02-07 17:50:23\",\n        phone: \"+63 (833) 437-2661\",\n        message: \"Officia aute ipsum ea commodo elit excepteur labore fugiat aliqua labore excepteur nulla proident est. Proident duis veniam ipsum nisi deserunt proident laboris dolor aliquip Lorem enim amet.\",\n        sender: \"LEWC Ruth Mullen\"\n    },\n    {\n        id: 4, \n        name: {\n            first: \"Palmer\",\n            last: \"Gomez\"\n        },\n        ts_received: \"2019-04-21 03:15:49\",\n        phone: \"+63 (880) 497-2123\",\n        message: \"Adipisicing commodo proident aliqua excepteur minim ad sunt officia. Dolor dolor ut in occaecat et proident laboris esse nisi id dolore anim reprehenderit pariatur.\",\n        sender: \"LEWC Palmer Gomez\"\n    },\n    {\n        id: 5, \n        name: {\n            first: \"Melanie\",\n            last: \"Miranda\"\n        },\n        ts_received: \"2019-02-15 18:30:08\",\n        phone: \"+63 (889) 488-3851\",\n        message: \"Cillum eu id veniam esse magna velit. Deserunt reprehenderit id reprehenderit est aliqua anim.\",\n        sender: \"LEWC Melanie Miranda\"\n    },\n    {\n        id: 6, \n        name: {\n            first: \"Maggie\",\n            last: \"George\"\n        },\n        ts_received: \"2019-02-10 06:24:13\",\n        phone: \"+63 (962) 587-3677\",\n        message: \"Ex ex nostrud et enim minim fugiat esse labore Lorem. Amet sunt excepteur eu id reprehenderit adipisicing in.\",\n        sender: \"MLGU Maggie George\"\n    },\n    {\n        id: 7, \n        name: {\n            first: \"Matthews\",\n            last: \"Acosta\"\n        },\n        ts_received: \"2019-03-18 20:26:52\",\n        phone: \"+63 (880) 581-2315\",\n        message: \"Nulla id incididunt sint irure nulla magna ullamco Lorem excepteur ut. Irure sunt enim ut adipisicing.\",\n        sender: \"MLGU Matthews Acosta\"\n    },\n    {\n        id: 8, \n        name: {\n            first: \"Roach\",\n            last: \"Lowery\"\n        },\n        ts_received: \"2019-03-03 00:19:18\",\n        phone: \"+63 (811) 496-3731\",\n        message: \"Elit aliqua in id excepteur sunt deserunt aliquip sunt sit. Nisi laboris ad eiusmod reprehenderit amet eiusmod cupidatat nulla adipisicing deserunt occaecat enim amet ea.\",\n        sender: \"PLGU Roach Lowery\"\n    },\n    {\n        id: 9,\n        name: {\n            first: \"Nikki\",\n            last: \"Ruiz\"\n        },\n        ts_received: \"2019-04-04 01:47:52\",\n        phone: \"+63 (918) 530-3617\",\n        message: \"Amet elit aute veniam culpa nulla. Elit occaecat incididunt cupidatat consectetur laboris sint voluptate do enim aliquip.\",\n        sender: \"PLGU Nikki Ruiz\"\n    },\n    {\n        id: 100, \n        name: {\n            first: \"Melanie\",\n            last: \"Miranda\"\n        },\n        ts_received: \"2019-02-15 18:30:08\",\n        phone: \"+63 (889) 488-3851\",\n        message: \"Cillum eu id veniam esse magna velit. Deserunt reprehenderit id reprehenderit est aliqua anim.\",\n        sender: \"LEWC Melanie Miranda\"\n    },\n    {\n        id: 101, \n        name: {\n            first: \"Maggie\",\n            last: \"George\"\n        },\n        ts_received: \"2019-02-10 06:24:13\",\n        phone: \"+63 (962) 587-3677\",\n        message: \"Ex ex nostrud et enim minim fugiat esse labore Lorem. Amet sunt excepteur eu id reprehenderit adipisicing in.\",\n        sender: \"MLGU Maggie George\"\n    },\n    {\n        id: 102, \n        name: {\n            first: \"Matthews\",\n            last: \"Acosta\"\n        },\n        ts_received: \"2019-03-18 20:26:52\",\n        phone: \"+63 (880) 581-2315\",\n        message: \"Nulla id incididunt sint irure nulla magna ullamco Lorem excepteur ut. Irure sunt enim ut adipisicing.\",\n        sender: \"MLGU Matthews Acosta\"\n    }\n];\n\nexport const sample_messages_2 = [\n    {\n        id: 11,\n        name: {\n            first: \"Jacobs\",\n            last: \"Figueroa\"\n        },\n        ts_received: \"2019-03-28 10:57:12\",\n        phone: \"+63 (896) 505-3692\",\n        message: \"Fugiat dolore sint sint anim irure id mollit et aliquip elit nulla. Reprehenderit ut est dolore aliqua dolor adipisicing ipsum enim deserunt aliquip laborum ullamco.\",\n        sender: \"BLGU Jacobs Figueroa\"\n    },\n    {\n        id: 12,\n        name: {\n            first: \"Belinda\",\n            last: \"Dixon\"\n        },\n        ts_received: \"2019-05-08 13:37:35\",\n        phone: \"+63 (956) 565-2821\",\n        message: \"Anim anim sit commodo cillum eiusmod cillum qui est irure ex ex anim tempor do. Aliquip id sunt pariatur consequat amet exercitation.\",\n        sender: \"LEWC Belinda Dixon\"\n    },\n    {\n        id: 13,\n        name: {\n            first: \"Alisa\",\n            last: \"Hammond\"\n        },\n        ts_received: \"2019-02-18 18:09:34\",\n        phone: \"+63 (955) 517-2985\",\n        message: \"Enim mollit laboris do id. Reprehenderit incididunt laborum laborum esse reprehenderit occaecat elit magna occaecat magna nostrud.\",\n        sender: \"MLGU Alisa Hammond\"\n    },\n    {\n        id: 14,\n        name: {\n            first: \"Dickerson\",\n            last: \"Valenzuela\"\n        },\n        ts_received: \"2019-05-06 06:11:48\",\n        phone: \"+63 (875) 553-2832\",\n        message: \"Id non consectetur duis aliqua consectetur. Velit est veniam sit pariatur sunt officia.\",\n        sender: \"PLGU Dickerson Valenzuela\"\n    },\n    {\n        id: 15,\n        name: {\n            first: \"Rochelle\",\n            last: \"Dawson\"\n        },\n        ts_received: \"2019-02-20 06:53:03\",\n        phone: \"+63 (863) 592-3635\",\n        message: \"Non aliqua ipsum laboris qui consectetur proident aute. Anim amet velit nulla esse deserunt incididunt mollit proident non enim anim consectetur et.\",\n        sender: \"PLGU Rochelle Dawson\"\n    }\n];\n\nexport const sample_messages_3 = [\n    {\n        id: 21,\n        name: {\n            first: \"Copeland\",\n            last: \"Farley\"\n        },\n        ts_received: \"2019-03-05 10:23:48\",\n        phone: \"+63 (884) 517-2548\",\n        message: \"Id anim amet aute ullamco pariatur. Lorem minim nostrud id quis excepteur culpa voluptate dolore officia adipisicing sint eu eu incididunt.\",\n        sender: \"LEWC Copeland Farley\"\n    },\n    {\n        id: 22,\n        name: {\n            first: \"Monique\",\n            last: \"Miranda\"\n        },\n        ts_received: \"2019-04-04 20:38:54\",\n        phone: \"+63 (839) 575-2123\",\n        message: \"Proident labore magna nisi nulla excepteur Lorem cillum non sunt sunt. Proident nisi nisi nisi exercitation cupidatat officia quis magna aliqua voluptate mollit sunt.\",\n        sender: \"BLGU Monique Miranda\"\n    },\n    {\n        id: 23,\n        name: {\n            first: \"Bush\",\n            last: \"Snow\"\n        },\n        ts_received: \"2019-03-18 09:25:24\",\n        phone: \"+63 (946) 543-3478\",\n        message: \"Reprehenderit nisi occaecat pariatur occaecat. Fugiat aute dolore enim esse mollit ullamco.\",\n        sender: \"PLGU Bush Snow\"\n    },\n    {\n        id: 24,\n        name: {\n            first: \"Candice\",\n            last: \"Crane\"\n        },\n        ts_received: \"2019-04-29 15:13:43\",\n        phone: \"+63 (935) 581-3747\",\n        message: \"Nulla aliqua nisi sint duis ullamco sint exercitation. Aute anim aute veniam aliqua aute ex labore laborum quis et laboris tempor est.\",\n        sender: \"BLGU Candice Crane\"\n    },\n    {\n        id: 25,\n        name: {\n            first: \"Mooney\",\n            last: \"Moore\"\n        },\n        ts_received: \"2019-04-03 04:34:09\",\n        phone: \"+63 (871) 427-2638\",\n        message: \"Commodo id incididunt mollit dolor ex. Adipisicing Lorem culpa commodo mollit duis pariatur proident nulla quis consequat eu et pariatur ad.\",\n        sender: \"PLGU Mooney Moore\"\n    }\n];\n\nexport const sample_single_convo = {  \n    full_name: \"BTO MLGU - OFQUERIA, DAMIANO\",\n    recipients: [\n        {\n            first_name: \"Damiano\", \n            last_name: \"Ofqueria\", \n            middle_name: \"NA\", \n            mobile_numbers: [\n                {\n                    gsm_id: 3, \n                    mobile_id: 75, \n                    mobile_status: 1, \n                    priority: 1, \n                    sim_num: \"639327788115\"\n                }\n            ], \n            nickname: \"NA\", \n            organizations: [\n                {\n                    org_id: 18, \n                    org_name: \"MLGU\", \n                    scope: 2, \n                    site: {\n                        active: true, \n                        barangay: \"Bato\", \n                        municipality: \"Sibonga\", \n                        province: \"Cebu\", \n                        psgc: 72246007, \n                        purok: null, \n                        region: \"VI\", \n                        season: 1, \n                        site_code: \"bto\", \n                        site_id: 8, \n                        sitio: null\n                    }\n                }\n            ], \n            salutation: \"Sir\", \n            sex: \"M\", \n            status: 1, \n            user_hierarchy: [], \n            user_id: 117\n        }\n    ],\n    type: \"loadSmsConversation\",\n    data: [  \n        {  \n            convo_id: \"49102\",\n            mobile_id: \"75\",\n            ts_received: \"2019-05-20 08:20:01\",\n            ts_written: null,\n            ts_sent: null,\n            sms_msg: \"copy\",\n            read_status: \"1\",\n            web_status: null,\n            gsm_id: \"3\",\n            send_status: null,\n            timestamp: \"2019-05-20 08:20:01\",\n            user: \"BTO MLGU - OFQUERIA, DAMIANO\",\n            tags: []\n        },\n        {  \n            convo_id: \"264205\",\n            mobile_id: \"75\",\n            ts_received: null,\n            ts_written: \"2019-05-20 08:17:56\",\n            ts_sent: \"2019-05-20 08:18:07\",\n            sms_msg: \"Magandang umaga po.\\n\\nAlert 0 ang alert level sa Bato, Sibonga, Cebu ngayong May 20, 2019 8:00 AM.\\nInaasahan namin ang pagpapadala ng LEWC ng ground data bukas bago mag-11:30 AM para sa unang araw ng 3-day extended monitoring.\\n\\nSalamat. - Anne Marionne from PHIVOLCS-DYNASLOPE\",\n            read_status: null,\n            web_status: \"0\",\n            gsm_id: \"3\",\n            send_status: \"5\",\n            timestamp: \"2019-05-20 08:17:56\",\n            user: \"You\",\n            tags: []\n        },\n        {  \n            convo_id: \"264189\",\n            mobile_id: \"75\",\n            ts_received: null,\n            ts_written: \"2019-05-20 04:20:32\",\n            ts_sent: \"2019-05-20 04:20:55\",\n            sms_msg: \"Magandang umaga po.\\n\\nAlert 1 ang alert level sa Bato, Sibonga, Cebu ngayong May 20, 2019 4:00 AM.\\nMaaaring magkaroon ng landslide dahil sa nakaraan o kasalukuyang ulan. Ang recommended response ay PREPARE TO ASSIST THE HOUSEHOLDS AT RISK IN RESPONDING TO A HIGHER ALERT. Inaasahan namin ang pagpapadala ng LEWC ng ground data mamaya bago mag-7:30 AM. Ang susunod na Early Warning Information ay mamayang 8:00 AM.\\n\\nSalamat. - Anne Marionne from PHIVOLCS-DYNASLOPE - Anne Marionne from PHIVOLCS-DYNASLOPE\",\n            read_status: null,\n            web_status: \"0\",\n            gsm_id: \"3\",\n            send_status: \"5\",\n            timestamp: \"2019-05-20 04:20:32\",\n            user: \"You\",\n            tags: []\n        },\n        {  \n            convo_id: \"264181\",\n            mobile_id: \"75\",\n            ts_received: null,\n            ts_written: \"2019-05-20 00:04:53\",\n            ts_sent: \"2019-05-20 00:12:22\",\n            sms_msg: \"Magandang gabi po.\\n\\nAlert 1 ang alert level sa Bato, Sibonga, Cebu ngayong May 20, 2019 12:00 MN.\\nMaaaring magkaroon ng landslide dahil sa nakaraan o kasalukuyang ulan. Ang recommended response ay PREPARE TO ASSIST THE HOUSEHOLDS AT RISK IN RESPONDING TO A HIGHER ALERT. Inaasahan namin ang pagpapadala ng LEWC ng ground data mamaya bago mag-7:30 AM. Ang susunod na Early Warning Information ay mamayang 4:00 AM.\\n\\nSalamat. - Anne Marionne from PHIVOLCS-DYNASLOPE\",\n            read_status: null,\n            web_status: \"0\",\n            gsm_id: \"3\",\n            send_status: \"5\",\n            timestamp: \"2019-05-20 00:04:53\",\n            user: \"You\",\n            tags: []\n        },\n        {  \n            convo_id: \"49098\",\n            mobile_id: \"75\",\n            ts_received: \"2019-05-19 20:03:56\",\n            ts_written: null,\n            ts_sent: null,\n            sms_msg: \"copy\",\n            read_status: \"1\",\n            web_status: null,\n            gsm_id: \"3\",\n            send_status: null,\n            timestamp: \"2019-05-19 20:03:56\",\n            user: \"BTO MLGU - OFQUERIA, DAMIANO\",\n            tags: []\n        },\n        {  \n            convo_id: \"264173\",\n            mobile_id: \"75\",\n            ts_received: null,\n            ts_written: \"2019-05-19 20:01:20\",\n            ts_sent: \"2019-05-19 20:01:40\",\n            sms_msg: \"Magandang gabi po.\\n\\nAlert 1 ang alert level sa Bato, Sibonga, Cebu ngayong May 19, 2019 8:00 PM.\\nMaaaring magkaroon ng landslide dahil sa nakaraan o kasalukuyang ulan. Ang recommended response ay PREPARE TO ASSIST THE HOUSEHOLDS AT RISK IN RESPONDING TO A HIGHER ALERT. Inaasahan namin ang pagpapadala ng LEWC ng ground data bukas bago mag-7:30 AM. Ang susunod na Early Warning Information ay mamayang 12:00 MN.\\n\\nSalamat. - Camille Princess from PHIVOLCS-DYNASLOPE\",\n            read_status: null,\n            web_status: \"0\",\n            gsm_id: \"3\",\n            send_status: \"5\",\n            timestamp: \"2019-05-19 20:01:20\",\n            user: \"You\",\n            tags: []\n        },\n        {  \n            convo_id: \"264162\",\n            mobile_id: \"75\",\n            ts_received: null,\n            ts_written: \"2019-05-19 16:02:52\",\n            ts_sent: \"2019-05-19 16:03:14\",\n            sms_msg: \"Magandang hapon po.\\n\\nAlert 1 ang alert level sa Bato, Sibonga, Cebu ngayong May 19, 2019 4:00 PM.\\nMaaaring magkaroon ng landslide dahil sa nakaraan o kasalukuyang ulan. Ang recommended response ay PREPARE TO ASSIST THE HOUSEHOLDS AT RISK IN RESPONDING TO A HIGHER ALERT. Inaasahan namin ang pagpapadala ng LEWC ng ground data bukas bago mag-7:30 AM. Ang susunod na Early Warning Information ay mamayang 8:00 PM.\\n\\nSalamat. - Camille Princess from PHIVOLCS-DYNASLOPE\",\n            read_status: null,\n            web_status: \"0\",\n            gsm_id: \"3\",\n            send_status: \"5\",\n            timestamp: \"2019-05-19 16:02:52\",\n            user: \"You\",\n            tags: []\n        },\n        {  \n            convo_id: \"264136\",\n            mobile_id: \"75\",\n            ts_received: null,\n            ts_written: \"2019-05-19 12:02:12\",\n            ts_sent: \"2019-05-19 12:02:34\",\n            sms_msg: \"Magandang tanghali po.\\n\\nAlert 1 ang alert level sa Bato, Sibonga, Cebu ngayong May 19, 2019 12:00 NN.\\nMaaaring magkaroon ng landslide dahil sa nakaraan o kasalukuyang ulan. Ang recommended response ay PREPARE TO ASSIST THE HOUSEHOLDS AT RISK IN RESPONDING TO A HIGHER ALERT. Inaasahan namin ang pagpapadala ng LEWC ng ground data mamaya bago mag-3:30 PM. Ang susunod na Early Warning Information ay mamayang 4:00 PM.\\n\\nSalamat. - Camille Princess from PHIVOLCS-DYNASLOPE\",\n            read_status: null,\n            web_status: \"0\",\n            gsm_id: \"3\",\n            send_status: \"5\",\n            timestamp: \"2019-05-19 12:02:12\",\n            user: \"You\",\n            tags: []\n        },\n        {  \n            convo_id: \"264104\",\n            mobile_id: \"75\",\n            ts_received: null,\n            ts_written: \"2019-05-19 08:02:49\",\n            ts_sent: \"2019-05-19 08:03:08\",\n            sms_msg: \"Magandang umaga po.\\n\\nAlert 1 ang alert level sa Bato, Sibonga, Cebu ngayong May 19, 2019 8:00 AM.\\nMaaaring magkaroon ng landslide dahil sa nakaraan o kasalukuyang ulan. Ang recommended response ay PREPARE TO ASSIST THE HOUSEHOLDS AT RISK IN RESPONDING TO A HIGHER ALERT. Inaasahan namin ang pagpapadala ng LEWC ng ground data mamaya bago mag-11:30 AM. Ang susunod na Early Warning Information ay mamayang 12:00 NN.\\n\\nSalamat. - Morgan from PHIVOLCS-DYNASLOPE\",\n            read_status: null,\n            web_status: \"0\",\n            gsm_id: \"3\",\n            send_status: \"5\",\n            timestamp: \"2019-05-19 08:02:49\",\n            user: \"You\",\n            tags: []\n        },\n        {  \n            convo_id: \"264078\",\n            mobile_id: \"75\",\n            ts_received: null,\n            ts_written: \"2019-05-19 04:01:31\",\n            ts_sent: \"2019-05-19 04:01:59\",\n            sms_msg: \"Magandang umaga po.\\n\\nAlert 1 ang alert level sa Bato, Sibonga, Cebu ngayong May 19, 2019 4:00 AM.\\nMaaaring magkaroon ng landslide dahil sa nakaraan o kasalukuyang ulan. Ang recommended response ay PREPARE TO ASSIST THE HOUSEHOLDS AT RISK IN RESPONDING TO A HIGHER ALERT. Inaasahan namin ang pagpapadala ng LEWC ng ground data mamaya bago mag-7:30 AM. Ang susunod na Early Warning Information ay mamayang 8:00 AM.\\n\\nSalamat. - Morgan from PHIVOLCS-DYNASLOPE\",\n            read_status: null,\n            web_status: \"0\",\n            gsm_id: \"3\",\n            send_status: \"5\",\n            timestamp: \"2019-05-19 04:01:31\",\n            user: \"You\",\n            tags: []\n        },\n        {  \n            convo_id: \"264063\",\n            mobile_id: \"75\",\n            ts_received: null,\n            ts_written: \"2019-05-19 00:09:30\",\n            ts_sent: \"2019-05-19 00:10:03\",\n            sms_msg: \"Magandang gabi po.\\n\\nAlert 1 ang alert level sa Bato, Sibonga, Cebu ngayong May 19, 2019 12:00 MN.\\nMaaaring magkaroon ng landslide dahil sa nakaraan o kasalukuyang ulan. Ang recommended response ay PREPARE TO ASSIST THE HOUSEHOLDS AT RISK IN RESPONDING TO A HIGHER ALERT. Inaasahan namin ang pagpapadala ng LEWC ng ground data mamaya bago mag-7:30 AM. Ang susunod na Early Warning Information ay mamayang 4:00 AM.\\n\\nSalamat. - Morgan from PHIVOLCS-DYNASLOPE\",\n            read_status: null,\n            web_status: \"0\",\n            gsm_id: \"3\",\n            send_status: \"5\",\n            timestamp: \"2019-05-19 00:09:30\",\n            user: \"You\",\n            tags: []\n        },\n        {  \n            convo_id: \"264048\",\n            mobile_id: \"75\",\n            ts_received: null,\n            ts_written: \"2019-05-18 20:01:55\",\n            ts_sent: \"2019-05-18 22:02:57\",\n            sms_msg: \"Magandang gabi po.\\n\\nAlert 1 ang alert level sa Bato, Sibonga, Cebu ngayong May 18, 2019 8:00 PM.\\nMaaaring magkaroon ng landslide dahil sa nakaraan o kasalukuyang ulan. Ang recommended response ay PREPARE TO ASSIST THE HOUSEHOLDS AT RISK IN RESPONDING TO A HIGHER ALERT. Inaasahan namin ang pagpapadala ng LEWC ng ground data bukas bago mag-7:30 AM. Ang susunod na Early Warning Information ay mamayang 12:00 MN.\\n\\nSalamat. - Kenneth from PHIVOLCS-DYNASLOPE\",\n            read_status: null,\n            web_status: \"0\",\n            gsm_id: \"3\",\n            send_status: \"5\",\n            timestamp: \"2019-05-18 20:01:55\",\n            user: \"You\",\n            tags: []\n        },\n        {  \n            convo_id: \"264033\",\n            mobile_id: \"75\",\n            ts_received: null,\n            ts_written: \"2019-05-18 16:01:32\",\n            ts_sent: \"2019-05-18 16:01:49\",\n            sms_msg: \"Magandang hapon po.\\n\\nAlert 1 ang alert level sa Bato, Sibonga, Cebu ngayong May 18, 2019 4:00 PM.\\nMaaaring magkaroon ng landslide dahil sa nakaraan o kasalukuyang ulan. Ang recommended response ay PREPARE TO ASSIST THE HOUSEHOLDS AT RISK IN RESPONDING TO A HIGHER ALERT. Inaasahan namin ang pagpapadala ng LEWC ng ground data bukas bago mag-7:30 AM. Ang susunod na Early Warning Information ay mamayang 8:00 PM.\\n\\nSalamat. - Kenneth from PHIVOLCS-DYNASLOPE\",\n            read_status: null,\n            web_status: \"0\",\n            gsm_id: \"3\",\n            send_status: \"5\",\n            timestamp: \"2019-05-18 16:01:32\",\n            user: \"You\",\n            tags: []\n        },\n        {  \n            convo_id: \"263994\",\n            mobile_id: \"75\",\n            ts_received: null,\n            ts_written: \"2019-05-18 12:01:24\",\n            ts_sent: \"2019-05-18 12:01:44\",\n            sms_msg: \"Magandang tanghali po.\\n\\nAlert 1 ang alert level sa Bato, Sibonga, Cebu ngayong May 18, 2019 12:00 NN.\\nMaaaring magkaroon ng landslide dahil sa nakaraan o kasalukuyang ulan. Ang recommended response ay PREPARE TO ASSIST THE HOUSEHOLDS AT RISK IN RESPONDING TO A HIGHER ALERT. Inaasahan namin ang pagpapadala ng LEWC ng ground data mamaya bago mag-3:30 PM. Ang susunod na Early Warning Information ay mamayang 4:00 PM.\\n\\nSalamat. - Kenneth from PHIVOLCS-DYNASLOPE\",\n            read_status: null,\n            web_status: \"0\",\n            gsm_id: \"3\",\n            send_status: \"5\",\n            timestamp: \"2019-05-18 12:01:24\",\n            user: \"You\",\n            tags: []\n        },\n        {  \n            convo_id: \"263957\",\n            mobile_id: \"75\",\n            ts_received: null,\n            ts_written: \"2019-05-18 08:05:19\",\n            ts_sent: \"2019-05-18 08:05:36\",\n            sms_msg: \"Magandang umaga po.\\n\\nAlert 1 ang alert level sa Bato, Sibonga, Cebu ngayong May 18, 2019 8:00 AM.\\nMaaaring magkaroon ng landslide dahil sa nakaraan o kasalukuyang ulan. Ang recommended response ay PREPARE TO ASSIST THE HOUSEHOLDS AT RISK IN RESPONDING TO A HIGHER ALERT. Inaasahan namin ang pagpapadala ng LEWC ng ground data mamaya bago mag-11:30 AM. Ang susunod na Early Warning Information ay mamayang 12:00 NN.\\n\\nSalamat. - Reynante from PHIVOLCS-DYNASLOPE\",\n            read_status: null,\n            web_status: \"0\",\n            gsm_id: \"3\",\n            send_status: \"5\",\n            timestamp: \"2019-05-18 08:05:19\",\n            user: \"You\",\n            tags: []\n        },\n        {  \n            convo_id: \"263933\",\n            mobile_id: \"75\",\n            ts_received: null,\n            ts_written: \"2019-05-18 04:01:08\",\n            ts_sent: \"2019-05-18 04:01:26\",\n            sms_msg: \"Magandang umaga po.\\n\\nAlert 1 ang alert level sa Bato, Sibonga, Cebu ngayong May 18, 2019 4:00 AM.\\nMaaaring magkaroon ng landslide dahil sa nakaraan o kasalukuyang ulan. Ang recommended response ay PREPARE TO ASSIST THE HOUSEHOLDS AT RISK IN RESPONDING TO A HIGHER ALERT. Inaasahan namin ang pagpapadala ng LEWC ng ground data mamaya bago mag-7:30 AM. Ang susunod na Early Warning Information ay mamayang 8:00 AM.\\n\\nSalamat. - Reynante from PHIVOLCS-DYNASLOPE\",\n            read_status: null,\n            web_status: \"0\",\n            gsm_id: \"3\",\n            send_status: \"5\",\n            timestamp: \"2019-05-18 04:01:08\",\n            user: \"You\",\n            tags: []\n        },\n        {  \n            convo_id: \"263918\",\n            mobile_id: \"75\",\n            ts_received: null,\n            ts_written: \"2019-05-18 00:09:48\",\n            ts_sent: \"2019-05-18 00:10:06\",\n            sms_msg: \"Magandang gabi po.\\n\\nAlert 1 ang alert level sa Bato, Sibonga, Cebu ngayong May 18, 2019 12:00 MN.\\nMaaaring magkaroon ng landslide dahil sa nakaraan o kasalukuyang ulan. Ang recommended response ay PREPARE TO ASSIST THE HOUSEHOLDS AT RISK IN RESPONDING TO A HIGHER ALERT. Inaasahan namin ang pagpapadala ng LEWC ng ground data mamaya bago mag-7:30 AM. Ang susunod na Early Warning Information ay mamayang 4:00 AM.\\n\\nSalamat. - Reynante from PHIVOLCS-DYNASLOPE\",\n            read_status: null,\n            web_status: \"0\",\n            gsm_id: \"3\",\n            send_status: \"5\",\n            timestamp: \"2019-05-18 00:09:48\",\n            user: \"You\",\n            tags: []\n        },\n        {  \n            convo_id: \"263903\",\n            mobile_id: \"75\",\n            ts_received: null,\n            ts_written: \"2019-05-17 19:59:21\",\n            ts_sent: \"2019-05-17 20:00:09\",\n            sms_msg: \"Magandang gabi po.\\n\\nAlert 1 ang alert level sa Bato, Sibonga, Cebu ngayong May 17, 2019 8:00 PM.\\nMaaaring magkaroon ng landslide dahil sa nakaraan o kasalukuyang ulan. Ang recommended response ay PREPARE TO ASSIST THE HOUSEHOLDS AT RISK IN RESPONDING TO A HIGHER ALERT. Inaasahan namin ang pagpapadala ng LEWC ng ground data bukas bago mag-7:30 AM. Ang susunod na Early Warning Information ay mamayang 12:00 MN.\\n\\nSalamat. - John Webster from PHIVOLCS-DYNASLOPE\",\n            read_status: null,\n            web_status: \"0\",\n            gsm_id: \"3\",\n            send_status: \"5\",\n            timestamp: \"2019-05-17 19:59:21\",\n            user: \"You\",\n            tags: [\"ewi_message\"]\n        },\n        {  \n            convo_id: \"263888\",\n            mobile_id: \"75\",\n            ts_received: null,\n            ts_written: \"2019-05-17 16:05:02\",\n            ts_sent: \"2019-05-17 16:05:44\",\n            sms_msg: \"Magandang hapon po.\\n\\nAlert 1 ang alert level sa Bato, Sibonga, Cebu ngayong May 17, 2019 4:00 PM.\\nMaaaring magkaroon ng landslide dahil sa nakaraan o kasalukuyang ulan. Ang recommended response ay PREPARE TO ASSIST THE HOUSEHOLDS AT RISK IN RESPONDING TO A HIGHER ALERT. Inaasahan namin ang pagpapadala ng LEWC ng ground data bukas bago mag-7:30 AM. Ang susunod na Early Warning Information ay mamayang 8:00 PM.\\n\\nSalamat. - John Webster from PHIVOLCS-DYNASLOPE\",\n            read_status: null,\n            web_status: \"0\",\n            gsm_id: \"3\",\n            send_status: \"5\",\n            timestamp: \"2019-05-17 16:05:02\",\n            user: \"You\",\n            tags: [\"ewi_message\"]\n        },\n        {  \n            convo_id: \"263778\",\n            mobile_id: \"75\",\n            ts_received: null,\n            ts_written: \"2019-05-17 12:07:03\",\n            ts_sent: \"2019-05-17 12:07:46\",\n            sms_msg: \"Magandang tanghali po.\\n\\nAlert 1 ang alert level sa Bato, Sibonga, Cebu ngayong May 17, 2019 12:00 NN.\\nMaaaring magkaroon ng landslide dahil sa nakaraan o kasalukuyang ulan. Ang recommended response ay PREPARE TO ASSIST THE HOUSEHOLDS AT RISK IN RESPONDING TO A HIGHER ALERT. Inaasahan namin ang pagpapadala ng LEWC ng ground data mamaya bago mag-3:30 PM. Ang susunod na Early Warning Information ay mamayang 4:00 PM.\\n\\nSalamat. - John Webster from PHIVOLCS-DYNASLOPE\",\n            read_status: null,\n            web_status: \"0\",\n            gsm_id: \"3\",\n            send_status: \"5\",\n            timestamp: \"2019-05-17 12:07:03\",\n            user: \"You\",\n            tags: [\"ewi_message\"]\n        },\n        {  \n            convo_id: \"263780\",\n            mobile_id: \"75\",\n            ts_received: null,\n            ts_written: \"2019-05-17 12:07:03\",\n            ts_sent: \"2019-05-17 12:07:46\",\n            sms_msg: \"Magandang tanghali po.\",\n            read_status: null,\n            web_status: \"0\",\n            gsm_id: \"3\",\n            send_status: \"5\",\n            timestamp: \"2019-05-17 12:07:03\",\n            user: \"You\",\n            tags: []\n        }\n    ]\n};\n\nexport const data_presence_rain_gauges = [\n    {\n        presence: 0, \n        ts_updated: \"2019-06-07T07:55:26+00:00\", \n        last_data: \"2019-01-15T23:32:22+00:00\", \n        rain_gauge: {\n            gauge_name: \"agbta\", \n            data_source: \"senslope\", \n            longitude: \"122.8311000000\", \n            latitude: \"11.2813700000\", \n            rain_id: 1, \n            date_deactivated: null\n        }, \n        diff_days: 142\n    }, \n    {\n        presence: 1, \n        ts_updated: \"2019-06-07T07:55:26+00:00\", \n        last_data: \"2018-08-13T12:30:04+00:00\", \n        rain_gauge: {\n            gauge_name: \"bakg\", \n            data_source: \"senslope\", \n            longitude: \"120.6609030000\", \n            latitude: \"16.7896310000\", \n            rain_id: 2, \n            date_deactivated: null\n        }, \n        diff_days: 0\n    }, \n    {\n        presence: 0, \n        ts_updated: \"2019-06-07T07:55:26+00:00\", \n        last_data: \"2019-01-15T23:30:54+00:00\", \n        rain_gauge: {\n            gauge_name: \"bantb\", \n            data_source: \"senslope\", \n            longitude: \"123.9488000000\", \n            latitude: \"9.8885830000\", \n            rain_id: 3, \n            date_deactivated: null\n        }, \n        diff_days: 142\n    }, \n    {\n        presence: 1, \n        ts_updated: \"2019-06-07T07:55:26+00:00\", \n        last_data: \"2019-01-15T23:30:55+00:00\", \n        rain_gauge: {\n            gauge_name: \"bartb\", \n            data_source: \"senslope\", \n            longitude: \"124.6566000000\", \n            latitude: \"11.9027800000\", \n            rain_id: 4, \n            date_deactivated: null\n        }, \n        diff_days: 0\n    }, \n    {\n        presence: 0, \n        ts_updated: \"2019-06-07T07:55:26+00:00\", \n        last_data: \"2017-09-21T21:15:00+00:00\", \n        rain_gauge: {\n            gauge_name: \"bayg\", \n            data_source: \"senslope\", \n            longitude: \"122.4674680000\", \n            latitude: \"14.1879200000\", \n            rain_id: 5, \n            date_deactivated: null\n        }, \n        diff_days: 623\n    }, \n    {\n        presence: 0, \n        ts_updated: \"2019-06-07T07:55:26+00:00\", \n        last_data: \"2018-12-13T11:30:58+00:00\", \n        rain_gauge: {\n            gauge_name: \"bolra\", \n            data_source: \"senslope\", \n            longitude: \"125.1266190000\", \n            latitude: \"10.2988260000\", \n            rain_id: 7, \n            date_deactivated: null\n        }, \n        diff_days: 175\n    }, \n    {\n        presence: 0, \n        ts_updated: \"2019-06-07T07:55:26+00:00\", \n        last_data: \"2018-12-10T21:45:04+00:00\", \n        rain_gauge: {\n            gauge_name: \"btog\", \n            data_source: \"senslope\", \n            longitude: \"123.5783710000\", \n            latitude: \"10.0139400000\", \n            rain_id: 8, \n            date_deactivated: null\n        }, \n        diff_days: 178\n    }, \n    {\n        presence: 0, \n        ts_updated: \"2019-06-07T07:55:26+00:00\", \n        last_data: \"2018-12-04T00:30:59+00:00\", \n        rain_gauge: {\n            gauge_name: \"carta\", \n            data_source: \"senslope\", \n            longitude: \"125.9738000000\", \n            latitude: \"9.7197260000\", \n            rain_id: 9, \n            date_deactivated: null\n        }, \n        diff_days: 185\n    }, \n    {\n        presence: 0, \n        ts_updated: \"2019-06-07T07:55:26+00:00\", \n        last_data: \"2019-01-15T23:31:06+00:00\", \n        rain_gauge: {\n            gauge_name: \"cudta\", \n            data_source: \"senslope\", \n            longitude: \"121.1047000000\", \n            latitude: \"16.8093100000\", \n            rain_id: 10, \n            date_deactivated: null\n        }, \n        diff_days: 142\n    }, \n    {\n        presence: 0, \n        ts_updated: \"2019-06-07T07:55:26+00:00\", \n        last_data: \"2018-09-29T04:30:59+00:00\", \n        rain_gauge: {\n            gauge_name: \"dadtb\", \n            data_source: \"senslope\", \n            longitude: \"126.4514000000\", \n            latitude: \"7.1373530000\", \n            rain_id: 11, \n            date_deactivated: null\n        }, \n        diff_days: 251\n    }, \n    {\n        presence: 0, \n        ts_updated: \"2019-06-07T07:55:26+00:00\", \n        last_data: \"2019-01-15T23:31:08+00:00\", \n        rain_gauge: {\n            gauge_name: \"hinsb\", \n            data_source: \"senslope\", \n            longitude: \"125.0691000000\", \n            latitude: \"11.7006400000\", \n            rain_id: 13, \n            date_deactivated: null\n        }, \n        diff_days: 142\n    }, \n    {\n        presence: 0, \n        ts_updated: \"2019-06-07T07:55:26+00:00\", \n        last_data: \"2017-07-01T20:00:00+00:00\", \n        rain_gauge: {\n            gauge_name: \"humb\", \n            data_source: \"senslope\", \n            longitude: \"123.2514000000\", \n            latitude: \"10.1810200000\", \n            rain_id: 14, \n            date_deactivated: null\n        }, \n        diff_days: 705\n    }, \n    {\n        presence: 1, \n        ts_updated: \"2019-06-07T07:55:26+00:00\", \n        last_data: \"2019-01-15T23:30:04+00:00\", \n        rain_gauge: {\n            gauge_name: \"imug\", \n            data_source: \"senslope\", \n            longitude: \"120.6046100000\", \n            latitude: \"17.5234700000\", \n            rain_id: 16, \n            date_deactivated: null\n        }, \n        diff_days: 0\n    }, \n    {\n        presence: 0, \n        ts_updated: \"2019-06-07T07:55:26+00:00\", \n        last_data: \"2019-01-15T23:30:59+00:00\", \n        rain_gauge: {\n            gauge_name: \"jorta\", \n            data_source: \"senslope\", \n            longitude: \"124.8249000000\", \n            latitude: \"11.9777900000\", \n            rain_id: 18, \n            date_deactivated: null\n        }, \n        diff_days: 142\n    }, \n    {\n        presence: 0, \n        ts_updated: \"2019-06-07T07:55:26+00:00\", \n        last_data: \"2019-01-15T23:31:29+00:00\", \n        rain_gauge: {\n            gauge_name: \"laysa\", \n            data_source: \"senslope\", \n            longitude: \"125.0257000000\", \n            latitude: \"11.5127000000\", \n            rain_id: 20, \n            date_deactivated: null\n        }, \n        diff_days: 142\n    }, \n    {\n        presence: true, \n        ts_updated: \"2019-06-07T07:55:26+00:00\", \n        last_data: \"2019-01-05T15:00:59+00:00\", \n        rain_gauge: {\n            gauge_name: \"lipra\", \n            data_source: \"senslope\", \n            longitude: \"125.1275590000\", \n            latitude: \"10.2263180000\", \n            rain_id: 21, \n            date_deactivated: null\n        }, \n        diff_days: 0\n    }, \n    {\n        presence: 0, \n        ts_updated: \"2019-06-07T07:55:26+00:00\", \n        last_data: \"2019-01-15T23:31:42+00:00\", \n        rain_gauge: {\n            gauge_name: \"loota\", \n            data_source: \"senslope\", \n            longitude: \"124.7775000000\", \n            latitude: \"8.5979640000\", \n            rain_id: 23, \n            date_deactivated: null\n        }, \n        diff_days: 142\n    }, \n    {\n        presence: 0, \n        ts_updated: \"2019-06-07T07:55:26+00:00\", \n        last_data: \"2019-01-15T23:31:29+00:00\", \n        rain_gauge: {\n            gauge_name: \"lpasb\", \n            data_source: \"senslope\", \n            longitude: \"125.0193000000\", \n            latitude: \"11.7860700000\", \n            rain_id: 24, \n            date_deactivated: null\n        }, \n        diff_days: 142\n    }, \n    {\n        presence: true, \n        ts_updated: \"2019-06-07T07:55:26+00:00\", \n        last_data: \"2018-09-10T01:15:04+00:00\", \n        rain_gauge: {\n            gauge_name: \"lteg\", \n            data_source: \"senslope\", \n            longitude: \"125.0914500000\", \n            latitude: \"11.5902400000\", \n            rain_id: 25, \n            date_deactivated: null\n        }, \n        diff_days: 0\n    }, \n    {\n        presence: true, \n        ts_updated: \"2019-06-07T07:55:26+00:00\", \n        last_data: \"2019-01-15T23:30:05+00:00\", \n        rain_gauge: {\n            gauge_name: \"lung\", \n            data_source: \"senslope\", \n            longitude: \"124.8794300000\", \n            latitude: \"10.2579900000\", \n            rain_id: 26, \n            date_deactivated: null\n        }, \n        diff_days: 0\n    }, \n    {\n        presence: 0, \n        ts_updated: \"2019-06-07T07:55:26+00:00\", \n        last_data: \"2017-09-23T09:45:00+00:00\", \n        rain_gauge: {\n            gauge_name: \"magg\", \n            data_source: \"senslope\", \n            longitude: \"125.0583760000\", \n            latitude: \"7.5175480000\", \n            rain_id: 27, \n            date_deactivated: null\n        }, \n        diff_days: 621\n    }, \n    {\n        presence: true, \n        ts_updated: \"2019-06-07T07:55:26+00:00\", \n        last_data: \"2017-07-31T23:01:00+00:00\", \n        rain_gauge: {\n            gauge_name: \"mamta\", \n            data_source: \"senslope\", \n            longitude: \"120.6890000000\", \n            latitude: \"16.4883000000\", \n            rain_id: 28, \n            date_deactivated: null\n        }, \n        diff_days: 0\n    }, \n    {\n        presence: 0, \n        ts_updated: \"2019-06-07T07:55:26+00:00\", \n        last_data: \"2019-01-15T23:30:05+00:00\", \n        rain_gauge: {\n            gauge_name: \"marg\", \n            data_source: \"senslope\", \n            longitude: \"122.3235860000\", \n            latitude: \"10.8218430000\", \n            rain_id: 29, \n            date_deactivated: null\n        }, \n        diff_days: 142\n    }, \n    {\n        presence: 0, \n        ts_updated: \"2019-06-07T07:55:26+00:00\", \n        last_data: \"2019-01-15T23:31:15+00:00\", \n        rain_gauge: {\n            gauge_name: \"mcata\", \n            data_source: \"senslope\", \n            longitude: \"125.7410000000\", \n            latitude: \"8.5854300000\", \n            rain_id: 30, \n            date_deactivated: null\n        }, \n        diff_days: 142\n    }, \n    {\n        presence: 0, \n        ts_updated: \"2019-06-07T07:55:26+00:00\", \n        last_data: \"2019-01-15T23:34:01+00:00\", \n        rain_gauge: {\n            gauge_name: \"mngsa\", \n            data_source: \"senslope\", \n            longitude: \"123.2062000000\", \n            latitude: \"10.0479300000\", \n            rain_id: 32, \n            date_deactivated: null\n        }, \n        diff_days: 142\n    }, \n    {\n        presence: 0, \n        ts_updated: \"2019-06-07T07:55:26+00:00\", \n        last_data: \"2018-04-15T22:32:00+00:00\", \n        rain_gauge: {\n            gauge_name: \"msuta\", \n            data_source: \"senslope\", \n            longitude: \"125.5403000000\", \n            latitude: \"7.6287430000\", \n            rain_id: 33, \n            date_deactivated: null\n        }, \n        diff_days: 417\n    }, \n    {\n        presence: 0, \n        ts_updated: \"2019-06-07T07:55:26+00:00\", \n        last_data: \"2019-01-15T23:31:42+00:00\", \n        rain_gauge: {\n            gauge_name: \"nagtb\", \n            data_source: \"senslope\", \n            longitude: \"120.4172000000\", \n            latitude: \"16.6267600000\", \n            rain_id: 34, \n            date_deactivated: null\n        }, \n        diff_days: 142\n    }, \n    {\n        presence: 0, \n        ts_updated: \"2019-06-07T07:55:26+00:00\", \n        last_data: \"2017-05-07T18:01:00+00:00\", \n        rain_gauge: {\n            gauge_name: \"oslb\", \n            data_source: \"senslope\", \n            longitude: \"125.4014000000\", \n            latitude: \"9.7572600000\", \n            rain_id: 36, \n            date_deactivated: null\n        }, \n        diff_days: 760\n    }, \n    {\n        presence: 0, \n        ts_updated: \"2019-06-07T07:55:26+00:00\", \n        last_data: \"2019-01-15T23:30:59+00:00\", \n        rain_gauge: {\n            gauge_name: \"parta\", \n            data_source: \"senslope\", \n            longitude: \"125.0255000000\", \n            latitude: \"11.5148700000\", \n            rain_id: 37, \n            date_deactivated: null\n        }, \n        diff_days: 142\n    }, \n    {\n        presence: 0, \n        ts_updated: \"2019-06-07T07:55:26+00:00\", \n        last_data: \"2018-10-31T17:30:06+00:00\", \n        rain_gauge: {\n            gauge_name: \"pepg\", \n            data_source: \"senslope\", \n            longitude: \"122.3341400000\", \n            latitude: \"10.7873510000\", \n            rain_id: 38, \n            date_deactivated: null\n        }, \n        diff_days: 218\n    }, \n    {\n        presence: 0, \n        ts_updated: \"2019-06-07T07:55:26+00:00\", \n        last_data: \"2019-01-15T23:06:53+00:00\", \n        rain_gauge: {\n            gauge_name: \"plat\", \n            data_source: \"senslope\", \n            longitude: \"123.2452000000\", \n            latitude: \"10.1598400000\", \n            rain_id: 40, \n            date_deactivated: null\n        }, \n        diff_days: 142\n    }, \n    {\n        presence: 0, \n        ts_updated: \"2019-06-07T07:55:26+00:00\", \n        last_data: \"2019-01-15T23:31:50+00:00\", \n        rain_gauge: {\n            gauge_name: \"pngta\", \n            data_source: \"senslope\", \n            longitude: \"124.0183000000\", \n            latitude: \"12.6306300000\", \n            rain_id: 41, \n            date_deactivated: null\n        }, \n        diff_days: 142\n    }, \n    {\n        presence: 0, \n        ts_updated: \"2019-06-07T07:55:26+00:00\", \n        last_data: \"2018-11-22T08:31:28+00:00\", \n        rain_gauge: {\n            gauge_name: \"sagta\", \n            data_source: \"senslope\", \n            longitude: \"120.9248000000\", \n            latitude: \"17.0826300000\", \n            rain_id: 43, \n            date_deactivated: null\n        }, \n        diff_days: 196\n    }, \n    {\n        presence: 0, \n        ts_updated: \"2019-06-07T07:55:26+00:00\", \n        last_data: \"2018-02-25T19:00:00+00:00\", \n        rain_gauge: {\n            gauge_name: \"sibta\", \n            data_source: \"senslope\", \n            longitude: \"126.3834000000\", \n            latitude: \"7.8256700000\", \n            rain_id: 44, \n            date_deactivated: null\n        }, \n        diff_days: 466\n    }, \n    {\n        presence: 0, \n        ts_updated: \"2019-06-07T07:55:26+00:00\", \n        last_data: \"2019-01-15T23:32:04+00:00\", \n        rain_gauge: {\n            gauge_name: \"sintb\", \n            data_source: \"senslope\", \n            longitude: \"120.7813000000\", \n            latitude: \"16.7234000000\", \n            rain_id: 45, \n            date_deactivated: null\n        }, \n        diff_days: 142\n    }, \n    {\n        presence: 0, \n        ts_updated: \"2019-06-07T07:55:26+00:00\", \n        last_data: \"2018-11-03T00:00:59+00:00\", \n        rain_gauge: {\n            gauge_name: \"sumta\", \n            data_source: \"senslope\", \n            longitude: \"124.8597000000\", \n            latitude: \"8.5451100000\", \n            rain_id: 46, \n            date_deactivated: null\n        }, \n        diff_days: 216\n    }, \n    {\n        presence: 0, \n        ts_updated: \"2019-06-07T07:55:26+00:00\", \n        last_data: \"2019-01-15T23:30:42+00:00\", \n        rain_gauge: {\n            gauge_name: \"talsa\", \n            data_source: \"senslope\", \n            longitude: \"124.3665000000\", \n            latitude: \"11.6374200000\", \n            rain_id: 47, \n            date_deactivated: null\n        }, \n        diff_days: 142\n    }, \n    {\n        presence: 0, \n        ts_updated: \"2019-06-07T07:55:26+00:00\", \n        last_data: \"2019-01-15T23:30:23+00:00\", \n        rain_gauge: {\n            gauge_name: \"tgatb\", \n            data_source: \"senslope\", \n            longitude: \"121.3834000000\", \n            latitude: \"17.5734700000\", \n            rain_id: 48, \n            date_deactivated: null\n        }, \n        diff_days: 142\n    }, \n    {\n        presence: 0, \n        ts_updated: \"2019-06-07T07:55:26+00:00\", \n        last_data: \"2019-01-15T23:30:59+00:00\", \n        rain_gauge: {\n            gauge_name: \"tuetb\", \n            data_source: \"senslope\", \n            longitude: \"120.8287000000\", \n            latitude: \"16.9701500000\", \n            rain_id: 49, \n            date_deactivated: null\n        }, \n        diff_days: 142\n    }, \n    {\n        presence: 0, \n        ts_updated: \"2019-06-07T07:55:26+00:00\", \n        last_data: \"2017-12-15T01:30:00+00:00\", \n        rain_gauge: {\n            gauge_name: \"umig\", \n            data_source: \"senslope\", \n            longitude: \"122.3283400000\", \n            latitude: \"10.9083610000\", \n            rain_id: 50, \n            date_deactivated: null\n        }, \n        diff_days: 539\n    }, \n    {\n        presence: 0, \n        ts_updated: \"2019-06-07T07:55:26+00:00\", \n        last_data: \"2019-01-15T23:30:04+00:00\", \n        rain_gauge: {\n            gauge_name: \"inag\", \n            data_source: \"senslope\", \n            longitude: \"122.4371000000\", \n            latitude: \"10.8688200000\", \n            rain_id: 1151, \n            date_deactivated: null\n        }, \n        diff_days: 142\n    }, \n    {\n        presence: 0, \n        ts_updated: \"2019-06-07T07:55:26+00:00\", \n        last_data: \"2019-01-15T23:31:16+00:00\", \n        rain_gauge: {\n            gauge_name: \"labt\", \n            data_source: \"senslope\", \n            longitude: \"120.7055000000\", \n            latitude: \"16.4704100000\", \n            rain_id: 1152, \n            date_deactivated: null\n        }, \n        diff_days: 142\n    }, \n    {\n        presence: 0, \n        ts_updated: \"2019-06-07T07:55:26+00:00\", \n        last_data: \"2019-01-15T23:30:56+00:00\", \n        rain_gauge: {\n            gauge_name: \"nurtb\", \n            data_source: \"senslope\", \n            longitude: \"126.1384000000\", \n            latitude: \"9.2697580000\", \n            rain_id: 1153, \n            date_deactivated: null\n        }, \n        diff_days: 142\n    }, \n    {\n        presence: 0, \n        ts_updated: \"2019-06-07T07:55:26+00:00\", \n        last_data: \"2018-11-23T00:01:00+00:00\", \n        rain_gauge: {\n            gauge_name: \"gaatc\", \n            data_source: \"senslope\", \n            longitude: \"123.7854000000\", \n            latitude: \"10.4232300000\", \n            rain_id: 1189, \n            date_deactivated: null\n        }, \n        diff_days: 196\n    }, \n    {\n        presence: 0, \n        ts_updated: \"2019-06-07T07:55:26+00:00\", \n        last_data: \"2019-01-15T23:31:34+00:00\", \n        rain_gauge: {\n            gauge_name: \"blcsb\", \n            data_source: \"senslope\", \n            longitude: \"122.3108000000\", \n            latitude: \"10.8266200000\", \n            rain_id: 1190, \n            date_deactivated: null\n        }, \n        diff_days: 142\n    }, \n    {\n        presence: 0, \n        ts_updated: \"2019-06-07T07:55:26+00:00\", \n        last_data: \"2019-01-15T23:30:59+00:00\", \n        rain_gauge: {\n            gauge_name: \"imera\", \n            data_source: \"senslope\", \n            longitude: \"124.7525000000\", \n            latitude: \"11.9046200000\", \n            rain_id: 1201, \n            date_deactivated: null\n        }, \n        diff_days: 142\n    }, \n    {\n        presence: 0, \n        ts_updated: \"2019-06-07T07:55:26+00:00\", \n        last_data: \"2019-01-15T23:31:25+00:00\", \n        rain_gauge: {\n            gauge_name: \"pugra\", \n            data_source: \"senslope\", \n            longitude: \"120.5706000000\", \n            latitude: \"16.4465500000\", \n            rain_id: 1205, \n            date_deactivated: null\n        }, \n        diff_days: 142\n    }, \n    {\n        presence: 0, \n        ts_updated: \"2019-06-07T07:55:26+00:00\", \n        last_data: \"2018-12-22T01:45:59+00:00\", \n        rain_gauge: {\n            gauge_name: \"gamra\", \n            data_source: \"senslope\", \n            longitude: \"126.1676000000\", \n            latitude: \"9.0101000000\", \n            rain_id: 1224, \n            date_deactivated: null\n        }, \n        diff_days: 167\n    }, \n    {\n        presence: 0, \n        ts_updated: \"2019-06-07T07:55:26+00:00\", \n        last_data: \"2019-01-02T18:30:58+00:00\", \n        rain_gauge: {\n            gauge_name: \"pngtc\", \n            data_source: \"senslope\", \n            longitude: \"124.0194000000\", \n            latitude: \"12.6299200000\", \n            rain_id: 1288, \n            date_deactivated: null\n        }, \n        diff_days: 155\n    }\n];\n\nexport const data_presence_tsm = [\n    {\n        presence: 0, \n        ts_updated: \"2019-06-07T07:55:25+00:00\", \n        diff_days: 142, \n        last_data: \"2019-01-15T23:34:00+00:00\", \n        tsm_sensor: {\n            date_deactivated: null, \n            number_of_segments: 20, \n            date_activated: \"2015-07-15\", \n            logger: {\n                latitude: 11.28082, \n                logger_model: 3, \n                date_deactivated: null, \n                date_activated: \"2015-08-31\", \n                longitude: 122.8313, \n                logger_id: 1, \n                logger_name: \"agbsb\"\n            }, \n            version: 2, \n            tsm_id: 1, \n            segment_length: 0.75\n        }\n    }, \n    {\n        presence: 0, \n        ts_updated: \"2019-06-07T07:55:25+00:00\", \n        diff_days: 142, \n        last_data: \"2019-01-15T23:32:00+00:00\", \n        tsm_sensor: {\n            date_deactivated: null, \n            number_of_segments: 12, \n            date_activated: \"2015-07-19\", \n            logger: {\n                latitude: 11.28137, \n                logger_model: 6, \n                date_deactivated: null, \n                date_activated: \"2015-08-31\", \n                longitude: 122.8311, \n                logger_id: 2, \n                logger_name: \"agbta\"\n            }, \n            version: 2, \n            tsm_id: 2, \n            segment_length: 1.0\n        }\n    }, \n    {\n        presence: 0, \n        ts_updated: \"2019-06-07T07:55:25+00:00\", \n        diff_days: 202, \n        last_data: \"2018-11-16T16:00:00+00:00\", \n        tsm_sensor: {\n            date_deactivated: null, \n            number_of_segments: 20, \n            date_activated: \"2016-05-13\", \n            logger: {\n                latitude: 16.7907, \n                logger_model: 10, \n                date_deactivated: null, \n                date_activated: \"2016-05-13\", \n                longitude: 120.6616, \n                logger_id: 4, \n                logger_name: \"bakta\"\n            }, \n            version: 3, \n            tsm_id: 3, \n            segment_length: 1.0\n        }\n    }, \n    {\n        presence: 0, \n        ts_updated: \"2019-06-07T07:55:25+00:00\", \n        diff_days: 299, \n        last_data: \"2018-08-11T15:00:00+00:00\", \n        tsm_sensor: {\n            date_deactivated: null, \n            number_of_segments: 27, \n            date_activated: \"2016-04-24\", \n            logger: {\n                latitude: 16.79103, \n                logger_model: 10, \n                date_deactivated: null, \n                date_activated: \"2016-04-24\", \n                longitude: 120.6613, \n                logger_id: 5, \n                logger_name: \"baktb\"\n            }, \n            version: 3, \n            tsm_id: 4, \n            segment_length: 1.0\n        }\n    }, \n    {\n        presence: 0, \n        ts_updated: \"2019-06-07T07:55:25+00:00\", \n        diff_days: 302, \n        last_data: \"2018-08-08T19:00:00+00:00\", \n        tsm_sensor: {\n            date_deactivated: null, \n            number_of_segments: 27, \n            date_activated: \"2016-05-04\", \n            logger: {\n                latitude: 16.79031, \n                logger_model: 10, \n                date_deactivated: null, \n                date_activated: \"2016-05-04\", \n                longitude: 120.6605, \n                logger_id: 6, \n                logger_name: \"baktc\"\n            }, \n            version: 3, \n            tsm_id: 5, \n            segment_length: 1.0\n        }\n    }, \n    {\n        presence: 0, \n        ts_updated: \"2019-06-07T07:55:25+00:00\", \n        diff_days: 142, \n        last_data: \"2019-01-15T23:31:00+00:00\", \n        tsm_sensor: {\n            date_deactivated: null, \n            number_of_segments: 14, \n            date_activated: \"2016-02-03\", \n            logger: {\n                latitude: 9.888559, \n                logger_model: 2, \n                date_deactivated: null, \n                date_activated: \"2016-02-03\", \n                longitude: 123.9488, \n                logger_id: 7, \n                logger_name: \"banta\"\n            }, \n            version: 3, \n            tsm_id: 6, \n            segment_length: 1.0\n        }\n    }, \n    {\n        presence: 0, \n        ts_updated: \"2019-06-07T07:55:25+00:00\", \n        diff_days: 142, \n        last_data: \"2019-01-15T23:30:00+00:00\", \n        tsm_sensor: {\n            date_deactivated: null, \n            number_of_segments: 14, \n            date_activated: \"2016-02-03\", \n            logger: {\n                latitude: 9.888583, \n                logger_model: 6, \n                date_deactivated: null, \n                date_activated: \"2016-02-03\", \n                longitude: 123.9488, \n                logger_id: 8, \n                logger_name: \"bantb\"\n            }, \n            version: 3, \n            tsm_id: 7, \n            segment_length: 1.0\n        }\n    }, \n    {\n        presence: 0, \n        ts_updated: \"2019-06-07T07:55:25+00:00\", \n        diff_days: 142, \n        last_data: \"2019-01-15T23:31:00+00:00\", \n        tsm_sensor: {\n            date_deactivated: null, \n            number_of_segments: 15, \n            date_activated: \"2016-01-23\", \n            logger: {\n                latitude: 11.90206, \n                logger_model: 3, \n                date_deactivated: null, \n                date_activated: \"2016-01-23\", \n                longitude: 124.6547, \n                logger_id: 9, \n                logger_name: \"barsc\"\n            }, \n            version: 3, \n            tsm_id: 8, \n            segment_length: 1.0\n        }\n    }, \n    {\n        presence: 0, \n        ts_updated: \"2019-06-07T07:55:25+00:00\", \n        diff_days: 142, \n        last_data: \"2019-01-15T23:30:00+00:00\", \n        tsm_sensor: {\n            date_deactivated: null, \n            number_of_segments: 15, \n            date_activated: \"2016-02-03\", \n            logger: {\n                latitude: 11.90278, \n                logger_model: 2, \n                date_deactivated: null, \n                date_activated: \"2016-02-03\", \n                longitude: 124.6566, \n                logger_id: 10, \n                logger_name: \"barta\"\n            }, \n            version: 3, \n            tsm_id: 9, \n            segment_length: 1.0\n        }\n    }, \n    {\n        presence: 0, \n        ts_updated: \"2019-06-07T07:55:25+00:00\", \n        diff_days: 142, \n        last_data: \"2019-01-15T23:30:00+00:00\", \n        tsm_sensor: {\n            date_deactivated: null, \n            number_of_segments: 15, \n            date_activated: \"2016-01-23\", \n            logger: {\n                latitude: 11.90278, \n                logger_model: 6, \n                date_deactivated: null, \n                date_activated: \"2016-01-23\", \n                longitude: 124.6566, \n                logger_id: 11, \n                logger_name: \"bartb\"\n            }, \n            version: 3, \n            tsm_id: 10, \n            segment_length: 1.0\n        }\n    }, \n    {\n        presence: 0, \n        ts_updated: \"2019-06-07T07:55:25+00:00\", \n        diff_days: 643, \n        last_data: \"2017-09-02T03:30:00+00:00\", \n        tsm_sensor: {\n            date_deactivated: null, \n            number_of_segments: 20, \n            date_activated: \"2015-01-28\", \n            logger: {\n                latitude: 14.18756, \n                logger_model: 3, \n                date_deactivated: null, \n                date_activated: \"2015-01-27\", \n                longitude: 122.4679, \n                logger_id: 12, \n                logger_name: \"baysb\"\n            }, \n            version: 2, \n            tsm_id: 11, \n            segment_length: 0.75\n        }\n    }, \n    {\n        presence: 0, \n        ts_updated: \"2019-06-07T07:55:25+00:00\", \n        diff_days: 624, \n        last_data: \"2017-09-20T18:15:00+00:00\", \n        tsm_sensor: {\n            date_deactivated: null, \n            number_of_segments: 15, \n            date_activated: \"2015-01-22\", \n            logger: {\n                latitude: 14.18797, \n                logger_model: 2, \n                date_deactivated: null, \n                date_activated: \"2015-01-23\", \n                longitude: 122.4675, \n                logger_id: 13, \n                logger_name: \"bayta\"\n            }, \n            version: 2, \n            tsm_id: 12, \n            segment_length: 1.0\n        }\n    }, \n    {\n        presence: 0, \n        ts_updated: \"2019-06-07T07:55:25+00:00\", \n        diff_days: 624, \n        last_data: \"2017-09-20T18:15:00+00:00\", \n        tsm_sensor: {\n            date_deactivated: null, \n            number_of_segments: 13, \n            date_activated: \"2015-01-28\", \n            logger: {\n                latitude: 14.18832, \n                logger_model: 6, \n                date_deactivated: \"2017-04-26\", \n                date_activated: \"2015-01-28\", \n                longitude: 122.4676, \n                logger_id: 14, \n                logger_name: \"baytc\"\n            }, \n            version: 2, \n            tsm_id: 13, \n            segment_length: 1.0\n        }\n    }, \n    {\n        presence: 0, \n        ts_updated: \"2019-06-07T07:55:25+00:00\", \n        diff_days: 142, \n        last_data: \"2019-01-15T23:30:00+00:00\", \n        tsm_sensor: {\n            date_deactivated: null, \n            number_of_segments: 20, \n            date_activated: \"2013-04-06\", \n            logger: {\n                latitude: 10.82662, \n                logger_model: 3, \n                date_deactivated: null, \n                date_activated: null, \n                longitude: 122.3108, \n                logger_id: 17, \n                logger_name: \"blcsb\"\n            }, \n            version: 3, \n            tsm_id: 16, \n            segment_length: 1.0\n        }\n    }, \n    {\n        presence: 0, \n        ts_updated: \"2019-06-07T07:55:25+00:00\", \n        diff_days: 178, \n        last_data: \"2018-12-10T21:30:00+00:00\", \n        tsm_sensor: {\n            date_deactivated: null, \n            number_of_segments: 15, \n            date_activated: \"2016-04-27\", \n            logger: {\n                latitude: 10.01379, \n                logger_model: 10, \n                date_deactivated: null, \n                date_activated: \"2016-04-27\", \n                longitude: 123.5776, \n                logger_id: 21, \n                logger_name: \"btota\"\n            }, \n            version: 2, \n            tsm_id: 19, \n            segment_length: 1.0\n        }\n    }, \n    {\n        presence: 0, \n        ts_updated: \"2019-06-07T07:55:25+00:00\", \n        diff_days: 212, \n        last_data: \"2018-11-06T21:33:00+00:00\", \n        tsm_sensor: {\n            date_deactivated: null, \n            number_of_segments: 15, \n            date_activated: \"2016-04-27\", \n            logger: {\n                latitude: 10.01384, \n                logger_model: 10, \n                date_deactivated: null, \n                date_activated: \"2016-04-27\", \n                longitude: 123.5786, \n                logger_id: 22, \n                logger_name: \"btotb\"\n            }, \n            version: 2, \n            tsm_id: 20, \n            segment_length: 1.0\n        }\n    }, \n    {\n        presence: 0, \n        ts_updated: \"2019-06-07T07:55:25+00:00\", \n        diff_days: 183, \n        last_data: \"2018-12-05T22:01:00+00:00\", \n        tsm_sensor: {\n            date_deactivated: null, \n            number_of_segments: 17, \n            date_activated: \"2014-12-12\", \n            logger: {\n                latitude: 16.80931, \n                logger_model: 6, \n                date_deactivated: null, \n                date_activated: \"2014-12-15\", \n                longitude: 121.1047, \n                logger_id: 25, \n                logger_name: \"cudta\"\n            }, \n            version: 2, \n            tsm_id: 23, \n            segment_length: 1.0\n        }\n    }, \n    {\n        presence: 0, \n        ts_updated: \"2019-06-07T07:55:25+00:00\", \n        diff_days: 142, \n        last_data: \"2019-01-15T23:31:00+00:00\", \n        tsm_sensor: {\n            date_deactivated: null, \n            number_of_segments: 17, \n            date_activated: \"2015-03-01\", \n            logger: {\n                latitude: 16.80884, \n                logger_model: 2, \n                date_deactivated: null, \n                date_activated: \"2015-03-29\", \n                longitude: 121.1047, \n                logger_id: 26, \n                logger_name: \"cudtb\"\n            }, \n            version: 2, \n            tsm_id: 24, \n            segment_length: 1.0\n        }\n    }, \n    {\n        presence: 0, \n        ts_updated: \"2019-06-07T07:55:25+00:00\", \n        diff_days: 391, \n        last_data: \"2018-05-11T17:02:00+00:00\", \n        tsm_sensor: {\n            date_deactivated: null, \n            number_of_segments: 20, \n            date_activated: \"2015-05-01\", \n            logger: {\n                latitude: 7.13731, \n                logger_model: 2, \n                date_deactivated: null, \n                date_activated: \"2015-10-13\", \n                longitude: 126.4509, \n                logger_id: 27, \n                logger_name: \"dadta\"\n            }, \n            version: 2, \n            tsm_id: 25, \n            segment_length: 1.0\n        }\n    }, \n    {\n        presence: 0, \n        ts_updated: \"2019-06-07T07:55:25+00:00\", \n        diff_days: 257, \n        last_data: \"2018-09-22T17:32:00+00:00\", \n        tsm_sensor: {\n            date_deactivated: null, \n            number_of_segments: 24, \n            date_activated: \"2015-05-02\", \n            logger: {\n                latitude: 7.137353, \n                logger_model: 6, \n                date_deactivated: null, \n                date_activated: \"2015-10-13\", \n                longitude: 126.4514, \n                logger_id: 28, \n                logger_name: \"dadtb\"\n            }, \n            version: 2, \n            tsm_id: 26, \n            segment_length: 1.0\n        }\n    }, \n    {\n        presence: 0, \n        ts_updated: \"2019-06-07T07:55:25+00:00\", \n        diff_days: 146, \n        last_data: \"2019-01-12T04:32:00+00:00\", \n        tsm_sensor: {\n            date_deactivated: null, \n            number_of_segments: 15, \n            date_activated: \"2016-02-03\", \n            logger: {\n                latitude: 10.42352, \n                logger_model: 3, \n                date_deactivated: null, \n                date_activated: \"2016-02-03\", \n                longitude: 123.7851, \n                logger_id: 29, \n                logger_name: \"gaasa\"\n            }, \n            version: 3, \n            tsm_id: 27, \n            segment_length: 1.0\n        }\n    }, \n    {\n        presence: 0, \n        ts_updated: \"2019-06-07T07:55:25+00:00\", \n        diff_days: 142, \n        last_data: \"2019-01-15T23:32:00+00:00\", \n        tsm_sensor: {\n            date_deactivated: null, \n            number_of_segments: 15, \n            date_activated: \"2016-03-04\", \n            logger: {\n                latitude: 11.70064, \n                logger_model: 3, \n                date_deactivated: null, \n                date_activated: \"2016-03-04\", \n                longitude: 125.0691, \n                logger_id: 33, \n                logger_name: \"hinsa\"\n            }, \n            version: 3, \n            tsm_id: 31, \n            segment_length: 1.0\n        }\n    }, \n    {\n        presence: 0, \n        ts_updated: \"2019-06-07T07:55:25+00:00\", \n        diff_days: 142, \n        last_data: \"2019-01-15T23:30:00+00:00\", \n        tsm_sensor: {\n            date_deactivated: null, \n            number_of_segments: 12, \n            date_activated: \"2016-03-04\", \n            logger: {\n                latitude: 11.70064, \n                logger_model: 7, \n                date_deactivated: null, \n                date_activated: \"2016-03-04\", \n                longitude: 125.0691, \n                logger_id: 34, \n                logger_name: \"hinsb\"\n            }, \n            version: 3, \n            tsm_id: 32, \n            segment_length: 0.5\n        }\n    }, \n    {\n        presence: 0, \n        ts_updated: \"2019-06-07T07:55:25+00:00\", \n        diff_days: 720, \n        last_data: \"2017-06-16T23:34:00+00:00\", \n        tsm_sensor: {\n            date_deactivated: null, \n            number_of_segments: 26, \n            date_activated: \"2013-04-08\", \n            logger: {\n                latitude: 10.18392, \n                logger_model: 5, \n                date_deactivated: null, \n                date_activated: \"2013-04-11\", \n                longitude: 123.2503, \n                logger_id: 35, \n                logger_name: \"humb\"\n            }, \n            version: 1, \n            tsm_id: 33, \n            segment_length: 1.0\n        }\n    }, \n    {\n        presence: 0, \n        ts_updated: \"2019-06-07T07:55:25+00:00\", \n        diff_days: 288, \n        last_data: \"2018-08-23T02:30:00+00:00\", \n        tsm_sensor: {\n            date_deactivated: null, \n            number_of_segments: 22, \n            date_activated: \"2013-04-06\", \n            logger: {\n                latitude: 10.18102, \n                logger_model: 9, \n                date_deactivated: null, \n                date_activated: \"2013-04-09\", \n                longitude: 123.2514, \n                logger_id: 36, \n                logger_name: \"humt\"\n            }, \n            version: 1, \n            tsm_id: 34, \n            segment_length: 1.0\n        }\n    }, \n    {\n        presence: 0, \n        ts_updated: \"2019-06-07T07:55:25+00:00\", \n        diff_days: 170, \n        last_data: \"2018-12-18T23:00:00+00:00\", \n        tsm_sensor: {\n            date_deactivated: null, \n            number_of_segments: 20, \n            date_activated: \"2015-11-08\", \n            logger: {\n                latitude: 11.90462, \n                logger_model: 3, \n                date_deactivated: null, \n                date_activated: \"2015-11-10\", \n                longitude: 124.7525, \n                logger_id: 37, \n                logger_name: \"imesb\"\n            }, \n            version: 3, \n            tsm_id: 35, \n            segment_length: 0.5\n        }\n    }, \n    {\n        presence: 0, \n        ts_updated: \"2019-06-07T07:55:25+00:00\", \n        diff_days: 169, \n        last_data: \"2018-12-20T01:00:00+00:00\", \n        tsm_sensor: {\n            date_deactivated: null, \n            number_of_segments: 12, \n            date_activated: \"2015-11-13\", \n            logger: {\n                latitude: 11.90383, \n                logger_model: 2, \n                date_deactivated: null, \n                date_activated: \"2015-11-13\", \n                longitude: 124.7526, \n                logger_id: 38, \n                logger_name: \"imeta\"\n            }, \n            version: 3, \n            tsm_id: 36, \n            segment_length: 1.0\n        }\n    }, \n    {\n        presence: 0, \n        ts_updated: \"2019-06-07T07:55:25+00:00\", \n        diff_days: 647, \n        last_data: \"2017-08-28T14:58:00+00:00\", \n        tsm_sensor: {\n            date_deactivated: null, \n            number_of_segments: 25, \n            date_activated: \"2016-06-29\", \n            logger: {\n                latitude: 17.52308, \n                logger_model: 10, \n                date_deactivated: null, \n                date_activated: \"2016-07-19\", \n                longitude: 120.6046, \n                logger_id: 41, \n                logger_name: \"imuta\"\n            }, \n            version: 3, \n            tsm_id: 38, \n            segment_length: 1.0\n        }\n    }, \n    {\n        presence: 0, \n        ts_updated: \"2019-06-07T07:55:25+00:00\", \n        diff_days: 142, \n        last_data: \"2019-01-15T23:30:00+00:00\", \n        tsm_sensor: {\n            date_deactivated: null, \n            number_of_segments: 18, \n            date_activated: \"2015-10-29\", \n            logger: {\n                latitude: 10.86991, \n                logger_model: 2, \n                date_deactivated: null, \n                date_activated: \"2015-10-29\", \n                longitude: 122.4362, \n                logger_id: 43, \n                logger_name: \"inata\"\n            }, \n            version: 3, \n            tsm_id: 40, \n            segment_length: 1.0\n        }\n    }, \n    {\n        presence: 0, \n        ts_updated: \"2019-06-07T07:55:25+00:00\", \n        diff_days: 215, \n        last_data: \"2018-11-04T03:00:00+00:00\", \n        tsm_sensor: {\n            date_deactivated: null, \n            number_of_segments: 15, \n            date_activated: \"2015-10-13\", \n            logger: {\n                latitude: 10.86893, \n                logger_model: 6, \n                date_deactivated: \"2017-11-14\", \n                date_activated: \"2015-10-13\", \n                longitude: 122.4367, \n                logger_id: 44, \n                logger_name: \"inatb\"\n            }, \n            version: 3, \n            tsm_id: 41, \n            segment_length: 1.0\n        }\n    }, \n    {\n        presence: 0, \n        ts_updated: \"2019-06-07T07:55:25+00:00\", \n        diff_days: 215, \n        last_data: \"2018-11-04T03:00:00+00:00\", \n        tsm_sensor: {\n            date_deactivated: null, \n            number_of_segments: 14, \n            date_activated: \"2015-10-27\", \n            logger: {\n                latitude: 10.86882, \n                logger_model: 2, \n                date_deactivated: \"2017-11-14\", \n                date_activated: \"2015-10-27\", \n                longitude: 122.4371, \n                logger_id: 45, \n                logger_name: \"inatc\"\n            }, \n            version: 3, \n            tsm_id: 42, \n            segment_length: 1.0\n        }\n    }, \n    {\n        presence: 0, \n        ts_updated: \"2019-06-07T07:55:25+00:00\", \n        diff_days: 168, \n        last_data: \"2018-12-21T04:31:00+00:00\", \n        tsm_sensor: {\n            date_deactivated: null, \n            number_of_segments: 24, \n            date_activated: \"2016-03-18\", \n            logger: {\n                latitude: 11.97779, \n                logger_model: 6, \n                date_deactivated: null, \n                date_activated: \"2016-03-18\", \n                longitude: 124.8249, \n                logger_id: 46, \n                logger_name: \"jorta\"\n            }, \n            version: 3, \n            tsm_id: 43, \n            segment_length: 1.0\n        }\n    }, \n    {\n        presence: 0, \n        ts_updated: \"2019-06-07T07:55:25+00:00\", \n        diff_days: 188, \n        last_data: \"2018-11-30T15:03:00+00:00\", \n        tsm_sensor: {\n            date_deactivated: null, \n            number_of_segments: 25, \n            date_activated: \"2012-11-13\", \n            logger: {\n                latitude: 16.47032, \n                logger_model: 3, \n                date_deactivated: null, \n                date_activated: \"2013-03-06\", \n                longitude: 120.7054, \n                logger_id: 47, \n                logger_name: \"labb\"\n            }, \n            version: 1, \n            tsm_id: 44, \n            segment_length: 1.0\n        }\n    }, \n    {\n        presence: 0, \n        ts_updated: \"2019-06-07T07:55:25+00:00\", \n        diff_days: 142, \n        last_data: \"2019-01-15T23:31:00+00:00\", \n        tsm_sensor: {\n            date_deactivated: null, \n            number_of_segments: 39, \n            date_activated: \"2012-11-01\", \n            logger: {\n                latitude: 16.47041, \n                logger_model: 7, \n                date_deactivated: null, \n                date_activated: \"2013-03-06\", \n                longitude: 120.7055, \n                logger_id: 48, \n                logger_name: \"labt\"\n            }, \n            version: 1, \n            tsm_id: 45, \n            segment_length: 1.0\n        }\n    }, \n    {\n        presence: 0, \n        ts_updated: \"2019-06-07T07:55:25+00:00\", \n        diff_days: 142, \n        last_data: \"2019-01-15T23:30:00+00:00\", \n        tsm_sensor: {\n            date_deactivated: null, \n            number_of_segments: 10, \n            date_activated: \"2015-11-25\", \n            logger: {\n                latitude: 11.5127, \n                logger_model: 7, \n                date_deactivated: null, \n                date_activated: \"2015-11-26\", \n                longitude: 125.0257, \n                logger_id: 49, \n                logger_name: \"laysa\"\n            }, \n            version: 3, \n            tsm_id: 46, \n            segment_length: 1.0\n        }\n    }, \n    {\n        presence: 0, \n        ts_updated: \"2019-06-07T07:55:25+00:00\", \n        diff_days: 142, \n        last_data: \"2019-01-15T23:30:00+00:00\", \n        tsm_sensor: {\n            date_deactivated: null, \n            number_of_segments: 10, \n            date_activated: \"2015-11-24\", \n            logger: {\n                latitude: 11.5304, \n                logger_model: 3, \n                date_deactivated: null, \n                date_activated: \"2015-11-26\", \n                longitude: 125.0269, \n                logger_id: 50, \n                logger_name: \"laysb\"\n            }, \n            version: 3, \n            tsm_id: 47, \n            segment_length: 1.0\n        }\n    }, \n    {\n        presence: 0, \n        ts_updated: \"2019-06-07T07:55:25+00:00\", \n        diff_days: 379, \n        last_data: \"2018-05-23T20:12:00+00:00\", \n        tsm_sensor: {\n            date_deactivated: null, \n            number_of_segments: 30, \n            date_activated: \"2012-06-24\", \n            logger: {\n                latitude: 10.22767, \n                logger_model: 3, \n                date_deactivated: null, \n                date_activated: \"2012-05-29\", \n                longitude: 125.1266, \n                logger_id: 51, \n                logger_name: \"lipb\"\n            }, \n            version: 1, \n            tsm_id: 48, \n            segment_length: 0.5\n        }\n    }, \n    {\n        presence: 0, \n        ts_updated: \"2019-06-07T07:55:25+00:00\", \n        diff_days: 178, \n        last_data: \"2018-12-10T17:32:00+00:00\", \n        tsm_sensor: {\n            date_deactivated: null, \n            number_of_segments: 29, \n            date_activated: \"2012-06-21\", \n            logger: {\n                latitude: 10.22764, \n                logger_model: 7, \n                date_deactivated: null, \n                date_activated: \"2012-05-29\", \n                longitude: 125.1269, \n                logger_id: 52, \n                logger_name: \"lipt\"\n            }, \n            version: 1, \n            tsm_id: 49, \n            segment_length: 0.5\n        }\n    }, \n    {\n        presence: 0, \n        ts_updated: \"2019-06-07T07:55:25+00:00\", \n        diff_days: 142, \n        last_data: \"2019-01-15T23:31:00+00:00\", \n        tsm_sensor: {\n            date_deactivated: null, \n            number_of_segments: 23, \n            date_activated: \"2016-10-17\", \n            logger: {\n                latitude: 8.597964, \n                logger_model: 23, \n                date_deactivated: null, \n                date_activated: \"2016-10-17\", \n                longitude: 124.7775, \n                logger_id: 53, \n                logger_name: \"loota\"\n            }, \n            version: 3, \n            tsm_id: 50, \n            segment_length: 1.0\n        }\n    }, \n    {\n        presence: 0, \n        ts_updated: \"2019-06-07T07:55:25+00:00\", \n        diff_days: 142, \n        last_data: \"2019-01-15T23:31:00+00:00\", \n        tsm_sensor: {\n            date_deactivated: null, \n            number_of_segments: 30, \n            date_activated: \"2016-09-01\", \n            logger: {\n                latitude: 8.597222, \n                logger_model: 21, \n                date_deactivated: null, \n                date_activated: \"2016-09-01\", \n                longitude: 124.7769, \n                logger_id: 54, \n                logger_name: \"lootb\"\n            }, \n            version: 3, \n            tsm_id: 51, \n            segment_length: 0.5\n        }\n    }, \n    {\n        presence: 0, \n        ts_updated: \"2019-06-07T07:55:25+00:00\", \n        diff_days: 142, \n        last_data: \"2019-01-15T23:32:00+00:00\", \n        tsm_sensor: {\n            date_deactivated: null, \n            number_of_segments: 15, \n            date_activated: \"2015-11-08\", \n            logger: {\n                latitude: 11.78625, \n                logger_model: 3, \n                date_deactivated: null, \n                date_activated: \"2015-11-09\", \n                longitude: 125.0196, \n                logger_id: 55, \n                logger_name: \"lpasa\"\n            }, \n            version: 3, \n            tsm_id: 52, \n            segment_length: 1.0\n        }\n    }, \n    {\n        presence: 0, \n        ts_updated: \"2019-06-07T07:55:25+00:00\", \n        diff_days: 142, \n        last_data: \"2019-01-15T23:30:00+00:00\", \n        tsm_sensor: {\n            date_deactivated: null, \n            number_of_segments: 16, \n            date_activated: \"2015-11-13\", \n            logger: {\n                latitude: 11.78607, \n                logger_model: 7, \n                date_deactivated: null, \n                date_activated: \"2015-11-14\", \n                longitude: 125.0193, \n                logger_id: 56, \n                logger_name: \"lpasb\"\n            }, \n            version: 3, \n            tsm_id: 53, \n            segment_length: 1.0\n        }\n    }, \n    {\n        presence: 0, \n        ts_updated: \"2019-06-07T07:55:25+00:00\", \n        diff_days: 284, \n        last_data: \"2018-08-26T13:00:00+00:00\", \n        tsm_sensor: {\n            date_deactivated: null, \n            number_of_segments: 14, \n            date_activated: \"2016-08-09\", \n            logger: {\n                latitude: 11.59037, \n                logger_model: 12, \n                date_deactivated: null, \n                date_activated: \"2016-08-23\", \n                longitude: 125.0903, \n                logger_id: 58, \n                logger_name: \"ltesa\"\n            }, \n            version: 3, \n            tsm_id: 54, \n            segment_length: 1.0\n        }\n    }, \n    {\n        presence: 1, \n        ts_updated: \"2019-06-07T07:55:25+00:00\", \n        diff_days: -6477, \n        last_data: \"2037-02-28T12:00:00+00:00\", \n        tsm_sensor: {\n            date_deactivated: null, \n            number_of_segments: 14, \n            date_activated: \"2016-08-09\", \n            logger: {\n                latitude: 11.5899, \n                logger_model: 11, \n                date_deactivated: null, \n                date_activated: \"2016-08-23\", \n                longitude: 125.0905, \n                logger_id: 59, \n                logger_name: \"ltetb\"\n            }, \n            version: 3, \n            tsm_id: 55, \n            segment_length: 1.0\n        }\n    }, \n    {\n        presence: 0, \n        ts_updated: \"2019-06-07T07:55:25+00:00\", \n        diff_days: 142, \n        last_data: \"2019-01-15T23:31:00+00:00\", \n        tsm_sensor: {\n            date_deactivated: null, \n            number_of_segments: 20, \n            date_activated: \"2015-06-16\", \n            logger: {\n                latitude: 10.25819, \n                logger_model: 10, \n                date_deactivated: null, \n                date_activated: \"2016-03-17\", \n                longitude: 124.877, \n                logger_id: 63, \n                logger_name: \"luntc\"\n            }, \n            version: 2, \n            tsm_id: 58, \n            segment_length: 1.0\n        }\n    }, \n    {\n        presence: 0, \n        ts_updated: \"2019-06-07T07:55:25+00:00\", \n        diff_days: 142, \n        last_data: \"2019-01-15T23:30:00+00:00\", \n        tsm_sensor: {\n            date_deactivated: null, \n            number_of_segments: 30, \n            date_activated: \"2016-11-22\", \n            logger: {\n                latitude: 10.25819, \n                logger_model: 10, \n                date_deactivated: null, \n                date_activated: \"2016-11-23\", \n                longitude: 124.877, \n                logger_id: 64, \n                logger_name: \"luntd\"\n            }, \n            version: 3, \n            tsm_id: 59, \n            segment_length: 0.5\n        }\n    }, \n    {\n        presence: 0, \n        ts_updated: \"2019-06-07T07:55:25+00:00\", \n        diff_days: 621, \n        last_data: \"2017-09-23T09:01:00+00:00\", \n        tsm_sensor: {\n            date_deactivated: null, \n            number_of_segments: 25, \n            date_activated: \"2015-03-21\", \n            logger: {\n                latitude: 7.51923, \n                logger_model: 10, \n                date_deactivated: null, \n                date_activated: \"2016-02-23\", \n                longitude: 125.0598, \n                logger_id: 66, \n                logger_name: \"magta\"\n            }, \n            version: 2, \n            tsm_id: 60, \n            segment_length: 1.0\n        }\n    }, \n    {\n        presence: 0, \n        ts_updated: \"2019-06-07T07:55:25+00:00\", \n        diff_days: 729, \n        last_data: \"2017-06-07T15:30:00+00:00\", \n        tsm_sensor: {\n            date_deactivated: null, \n            number_of_segments: 23, \n            date_activated: \"2015-03-27\", \n            logger: {\n                latitude: 7.51953, \n                logger_model: 10, \n                date_deactivated: null, \n                date_activated: \"2016-02-23\", \n                longitude: 125.0591, \n                logger_id: 67, \n                logger_name: \"magtb\"\n            }, \n            version: 2, \n            tsm_id: 61, \n            segment_length: 1.0\n        }\n    }, \n    {\n        presence: 0, \n        ts_updated: \"2019-06-07T07:55:25+00:00\", \n        diff_days: 142, \n        last_data: \"2019-01-15T23:31:00+00:00\", \n        tsm_sensor: {\n            date_deactivated: null, \n            number_of_segments: 29, \n            date_activated: \"2016-12-01\", \n            logger: {\n                latitude: 16.4883, \n                logger_model: 6, \n                date_deactivated: null, \n                date_activated: \"2016-12-03\", \n                longitude: 120.689, \n                logger_id: 72, \n                logger_name: \"mamta\"\n            }, \n            version: 3, \n            tsm_id: 66, \n            segment_length: 1.0\n        }\n    }, \n    {\n        presence: 0, \n        ts_updated: \"2019-06-07T07:55:25+00:00\", \n        diff_days: 142, \n        last_data: \"2019-01-15T23:31:00+00:00\", \n        tsm_sensor: {\n            date_deactivated: null, \n            number_of_segments: 27, \n            date_activated: \"2016-11-07\", \n            logger: {\n                latitude: 16.48857, \n                logger_model: 4, \n                date_deactivated: null, \n                date_activated: \"2016-11-07\", \n                longitude: 120.6916, \n                logger_id: 73, \n                logger_name: \"mamtb\"\n            }, \n            version: 3, \n            tsm_id: 67, \n            segment_length: 1.0\n        }\n    }, \n    {\n        presence: 0, \n        ts_updated: \"2019-06-07T07:55:25+00:00\", \n        diff_days: 142, \n        last_data: \"2019-01-15T23:01:00+00:00\", \n        tsm_sensor: {\n            date_deactivated: null, \n            number_of_segments: 20, \n            date_activated: \"2015-11-13\", \n            logger: {\n                latitude: 10.827459, \n                logger_model: 10, \n                date_deactivated: null, \n                date_activated: \"2016-01-30\", \n                longitude: 122.321555, \n                logger_id: 74, \n                logger_name: \"marta\"\n            }, \n            version: 3, \n            tsm_id: 68, \n            segment_length: 1.0\n        }\n    }, \n    {\n        presence: 0, \n        ts_updated: \"2019-06-07T07:55:25+00:00\", \n        diff_days: 142, \n        last_data: \"2019-01-15T22:32:00+00:00\", \n        tsm_sensor: {\n            date_deactivated: null, \n            number_of_segments: 20, \n            date_activated: \"2015-11-24\", \n            logger: {\n                latitude: 10.82726, \n                logger_model: 10, \n                date_deactivated: null, \n                date_activated: \"2015-11-26\", \n                longitude: 122.3227, \n                logger_id: 75, \n                logger_name: \"martb\"\n            }, \n            version: 3, \n            tsm_id: 69, \n            segment_length: 1.0\n        }\n    }, \n    {\n        presence: 0, \n        ts_updated: \"2019-06-07T07:55:25+00:00\", \n        diff_days: 142, \n        last_data: \"2019-01-15T23:31:00+00:00\", \n        tsm_sensor: {\n            date_deactivated: null, \n            number_of_segments: 20, \n            date_activated: \"2015-04-14\", \n            logger: {\n                latitude: 8.585882, \n                logger_model: 3, \n                date_deactivated: null, \n                date_activated: \"2016-02-26\", \n                longitude: 125.7409, \n                logger_id: 77, \n                logger_name: \"mcasb\"\n            }, \n            version: 2, \n            tsm_id: 70, \n            segment_length: 1.0\n        }\n    }, \n    {\n        presence: 0, \n        ts_updated: \"2019-06-07T07:55:25+00:00\", \n        diff_days: 143, \n        last_data: \"2019-01-14T21:31:00+00:00\", \n        tsm_sensor: {\n            date_deactivated: null, \n            number_of_segments: 20, \n            date_activated: \"2015-03-29\", \n            logger: {\n                latitude: 8.58543, \n                logger_model: 6, \n                date_deactivated: null, \n                date_activated: \"2016-02-24\", \n                longitude: 125.741, \n                logger_id: 78, \n                logger_name: \"mcata\"\n            }, \n            version: 2, \n            tsm_id: 71, \n            segment_length: 0.75\n        }\n    }, \n    {\n        presence: 0, \n        ts_updated: \"2019-06-07T07:55:25+00:00\", \n        diff_days: 807, \n        last_data: \"2017-03-21T21:05:00+00:00\", \n        tsm_sensor: {\n            date_deactivated: null, \n            number_of_segments: 13, \n            date_activated: \"2015-08-26\", \n            logger: {\n                latitude: 7.628743, \n                logger_model: 6, \n                date_deactivated: null, \n                date_activated: \"2015-09-21\", \n                longitude: 125.5403, \n                logger_id: 80, \n                logger_name: \"mesta\"\n            }, \n            version: 2, \n            tsm_id: 73, \n            segment_length: 1.0\n        }\n    }, \n    {\n        presence: 0, \n        ts_updated: \"2019-06-07T07:55:25+00:00\", \n        diff_days: 142, \n        last_data: \"2019-01-15T23:33:00+00:00\", \n        tsm_sensor: {\n            date_deactivated: null, \n            number_of_segments: 18, \n            date_activated: \"2016-01-20\", \n            logger: {\n                latitude: 10.04793, \n                logger_model: 7, \n                date_deactivated: null, \n                date_activated: \"2016-01-21\", \n                longitude: 123.2062, \n                logger_id: 81, \n                logger_name: \"mngsa\"\n            }, \n            version: 3, \n            tsm_id: 74, \n            segment_length: 1.0\n        }\n    }, \n    {\n        presence: 0, \n        ts_updated: \"2019-06-07T07:55:25+00:00\", \n        diff_days: 142, \n        last_data: \"2019-01-15T23:30:00+00:00\", \n        tsm_sensor: {\n            date_deactivated: null, \n            number_of_segments: 17, \n            date_activated: \"2016-01-28\", \n            logger: {\n                latitude: 10.04781, \n                logger_model: 2, \n                date_deactivated: null, \n                date_activated: \"2016-01-30\", \n                longitude: 123.2062, \n                logger_id: 82, \n                logger_name: \"mngtb\"\n            }, \n            version: 3, \n            tsm_id: 75, \n            segment_length: 1.0\n        }\n    }, \n    {\n        presence: 0, \n        ts_updated: \"2019-06-07T07:55:25+00:00\", \n        diff_days: 804, \n        last_data: \"2017-03-24T08:30:00+00:00\", \n        tsm_sensor: {\n            date_deactivated: null, \n            number_of_segments: 15, \n            date_activated: \"2016-11-03\", \n            logger: {\n                latitude: 7.629616, \n                logger_model: 10, \n                date_deactivated: null, \n                date_activated: null, \n                longitude: 125.5445, \n                logger_id: 83, \n                logger_name: \"mslta\"\n            }, \n            version: 3, \n            tsm_id: 76, \n            segment_length: 1.0\n        }\n    }, \n    {\n        presence: 0, \n        ts_updated: \"2019-06-07T07:55:25+00:00\", \n        diff_days: 296, \n        last_data: \"2018-08-14T19:02:00+00:00\", \n        tsm_sensor: {\n            date_deactivated: null, \n            number_of_segments: 13, \n            date_activated: \"2015-08-26\", \n            logger: {\n                latitude: 7.628743, \n                logger_model: 6, \n                date_deactivated: null, \n                date_activated: \"2015-09-21\", \n                longitude: 125.5403, \n                logger_id: 84, \n                logger_name: \"msuta\"\n            }, \n            version: 2, \n            tsm_id: 77, \n            segment_length: 1.0\n        }\n    }, \n    {\n        presence: 0, \n        ts_updated: \"2019-06-07T07:55:25+00:00\", \n        diff_days: 278, \n        last_data: \"2018-09-01T19:32:00+00:00\", \n        tsm_sensor: {\n            date_deactivated: null, \n            number_of_segments: 20, \n            date_activated: \"2015-01-10\", \n            logger: {\n                latitude: 16.62678, \n                logger_model: 3, \n                date_deactivated: null, \n                date_activated: \"2015-07-14\", \n                longitude: 120.4176, \n                logger_id: 85, \n                logger_name: \"nagsa\"\n            }, \n            version: 2, \n            tsm_id: 78, \n            segment_length: 0.75\n        }\n    }, \n    {\n        presence: 0, \n        ts_updated: \"2019-06-07T07:55:25+00:00\", \n        diff_days: 142, \n        last_data: \"2019-01-15T23:31:00+00:00\", \n        tsm_sensor: {\n            date_deactivated: null, \n            number_of_segments: 30, \n            date_activated: \"2014-12-22\", \n            logger: {\n                latitude: 16.62676, \n                logger_model: 6, \n                date_deactivated: null, \n                date_activated: \"2015-01-09\", \n                longitude: 120.4172, \n                logger_id: 86, \n                logger_name: \"nagtb\"\n            }, \n            version: 2, \n            tsm_id: 79, \n            segment_length: 1.0\n        }\n    }, \n    {\n        presence: 0, \n        ts_updated: \"2019-06-07T07:55:25+00:00\", \n        diff_days: 142, \n        last_data: \"2019-01-15T23:31:00+00:00\", \n        tsm_sensor: {\n            date_deactivated: null, \n            number_of_segments: 30, \n            date_activated: \"2015-07-06\", \n            logger: {\n                latitude: 9.269702, \n                logger_model: 2, \n                date_deactivated: null, \n                date_activated: \"2015-09-25\", \n                longitude: 126.1384, \n                logger_id: 87, \n                logger_name: \"nurta\"\n            }, \n            version: 2, \n            tsm_id: 80, \n            segment_length: 0.5\n        }\n    }, \n    {\n        presence: 0, \n        ts_updated: \"2019-06-07T07:55:25+00:00\", \n        diff_days: 142, \n        last_data: \"2019-01-15T23:30:00+00:00\", \n        tsm_sensor: {\n            date_deactivated: null, \n            number_of_segments: 24, \n            date_activated: \"2015-07-09\", \n            logger: {\n                latitude: 9.269758, \n                logger_model: 6, \n                date_deactivated: null, \n                date_activated: \"2015-09-25\", \n                longitude: 126.1384, \n                logger_id: 88, \n                logger_name: \"nurtb\"\n            }, \n            version: 2, \n            tsm_id: 81, \n            segment_length: 0.5\n        }\n    }, \n    {\n        presence: 0, \n        ts_updated: \"2019-06-07T07:55:25+00:00\", \n        diff_days: 322, \n        last_data: \"2018-07-19T20:01:00+00:00\", \n        tsm_sensor: {\n            date_deactivated: null, \n            number_of_segments: 23, \n            date_activated: \"2012-11-30\", \n            logger: {\n                latitude: 9.75719, \n                logger_model: 3, \n                date_deactivated: null, \n                date_activated: \"2013-05-23\", \n                longitude: 125.4014, \n                logger_id: 89, \n                logger_name: \"oslb\"\n            }, \n            version: 1, \n            tsm_id: 82, \n            segment_length: 1.0\n        }\n    }, \n    {\n        presence: 0, \n        ts_updated: \"2019-06-07T07:55:25+00:00\", \n        diff_days: 170, \n        last_data: \"2018-12-18T16:01:00+00:00\", \n        tsm_sensor: {\n            date_deactivated: null, \n            number_of_segments: 31, \n            date_activated: \"2015-12-12\", \n            logger: {\n                latitude: 11.51487, \n                logger_model: 6, \n                date_deactivated: null, \n                date_activated: \"2015-12-12\", \n                longitude: 125.0255, \n                logger_id: 92, \n                logger_name: \"parta\"\n            }, \n            version: 3, \n            tsm_id: 85, \n            segment_length: 0.5\n        }\n    }, \n    {\n        presence: 0, \n        ts_updated: \"2019-06-07T07:55:25+00:00\", \n        diff_days: 142, \n        last_data: \"2019-01-15T23:31:00+00:00\", \n        tsm_sensor: {\n            date_deactivated: null, \n            number_of_segments: 20, \n            date_activated: \"2015-12-10\", \n            logger: {\n                latitude: 11.51502, \n                logger_model: 2, \n                date_deactivated: null, \n                date_activated: \"2015-12-10\", \n                longitude: 125.0256, \n                logger_id: 93, \n                logger_name: \"partb\"\n            }, \n            version: 3, \n            tsm_id: 86, \n            segment_length: 0.5\n        }\n    }, \n    {\n        presence: 0, \n        ts_updated: \"2019-06-07T07:55:25+00:00\", \n        diff_days: 218, \n        last_data: \"2018-10-31T17:00:00+00:00\", \n        tsm_sensor: {\n            date_deactivated: null, \n            number_of_segments: 13, \n            date_activated: \"2015-08-05\", \n            logger: {\n                latitude: 10.78865, \n                logger_model: 10, \n                date_deactivated: null, \n                date_activated: \"2015-08-28\", \n                longitude: 122.3333, \n                logger_id: 97, \n                logger_name: \"peptc\"\n            }, \n            version: 2, \n            tsm_id: 89, \n            segment_length: 1.0\n        }\n    }, \n    {\n        presence: 0, \n        ts_updated: \"2019-06-07T07:55:25+00:00\", \n        diff_days: 281, \n        last_data: \"2018-08-29T19:04:00+00:00\", \n        tsm_sensor: {\n            date_deactivated: null, \n            number_of_segments: 40, \n            date_activated: \"2013-03-20\", \n            logger: {\n                latitude: 10.15984, \n                logger_model: 3, \n                date_deactivated: null, \n                date_activated: \"2013-03-23\", \n                longitude: 123.2459, \n                logger_id: 99, \n                logger_name: \"plab\"\n            }, \n            version: 1, \n            tsm_id: 91, \n            segment_length: 0.5\n        }\n    }, \n    {\n        presence: 0, \n        ts_updated: \"2019-06-07T07:55:25+00:00\", \n        diff_days: 142, \n        last_data: \"2019-01-15T23:31:00+00:00\", \n        tsm_sensor: {\n            date_deactivated: null, \n            number_of_segments: 24, \n            date_activated: \"2016-03-29\", \n            logger: {\n                latitude: 12.63063, \n                logger_model: 6, \n                date_deactivated: null, \n                date_activated: \"2016-03-30\", \n                longitude: 124.0183, \n                logger_id: 101, \n                logger_name: \"pngta\"\n            }, \n            version: 3, \n            tsm_id: 93, \n            segment_length: 1.0\n        }\n    }, \n    {\n        presence: 0, \n        ts_updated: \"2019-06-07T07:55:25+00:00\", \n        diff_days: 142, \n        last_data: \"2019-01-15T23:31:00+00:00\", \n        tsm_sensor: {\n            date_deactivated: null, \n            number_of_segments: 29, \n            date_activated: \"2016-04-06\", \n            logger: {\n                latitude: 12.63063, \n                logger_model: 2, \n                date_deactivated: null, \n                date_activated: \"2016-04-06\", \n                longitude: 124.0183, \n                logger_id: 102, \n                logger_name: \"pngtb\"\n            }, \n            version: 3, \n            tsm_id: 94, \n            segment_length: 1.0\n        }\n    }, \n    {\n        presence: 0, \n        ts_updated: \"2019-06-07T07:55:25+00:00\", \n        diff_days: 163, \n        last_data: \"2018-12-25T08:30:00+00:00\", \n        tsm_sensor: {\n            date_deactivated: null, \n            number_of_segments: 19, \n            date_activated: \"2016-04-06\", \n            logger: {\n                latitude: 12.62992, \n                logger_model: 2, \n                date_deactivated: null, \n                date_activated: \"2016-04-06\", \n                longitude: 124.0194, \n                logger_id: 103, \n                logger_name: \"pngtc\"\n            }, \n            version: 3, \n            tsm_id: 95, \n            segment_length: 1.0\n        }\n    }, \n    {\n        presence: 0, \n        ts_updated: \"2019-06-07T07:55:25+00:00\", \n        diff_days: 196, \n        last_data: \"2018-11-22T08:31:00+00:00\", \n        tsm_sensor: {\n            date_deactivated: null, \n            number_of_segments: 19, \n            date_activated: \"2015-03-03\", \n            logger: {\n                latitude: 17.08263, \n                logger_model: 6, \n                date_deactivated: null, \n                date_activated: \"2015-06-28\", \n                longitude: 120.9248, \n                logger_id: 106, \n                logger_name: \"sagta\"\n            }, \n            version: 2, \n            tsm_id: 98, \n            segment_length: 0.5\n        }\n    }, \n    {\n        presence: 0, \n        ts_updated: \"2019-06-07T07:55:25+00:00\", \n        diff_days: 142, \n        last_data: \"2019-01-15T23:31:00+00:00\", \n        tsm_sensor: {\n            date_deactivated: null, \n            number_of_segments: 20, \n            date_activated: \"2015-03-07\", \n            logger: {\n                latitude: 17.08339, \n                logger_model: 2, \n                date_deactivated: null, \n                date_activated: \"2015-06-28\", \n                longitude: 120.9249, \n                logger_id: 107, \n                logger_name: \"sagtb\"\n            }, \n            version: 2, \n            tsm_id: 99, \n            segment_length: 0.5\n        }\n    }, \n    {\n        presence: 0, \n        ts_updated: \"2019-06-07T07:55:25+00:00\", \n        diff_days: 484, \n        last_data: \"2018-02-07T18:32:00+00:00\", \n        tsm_sensor: {\n            date_deactivated: null, \n            number_of_segments: 10, \n            date_activated: \"2015-05-11\", \n            logger: {\n                latitude: 7.82567, \n                logger_model: 6, \n                date_deactivated: null, \n                date_activated: \"2015-10-15\", \n                longitude: 126.3834, \n                logger_id: 108, \n                logger_name: \"sibta\"\n            }, \n            version: 2, \n            tsm_id: 100, \n            segment_length: 1.0\n        }\n    }, \n    {\n        presence: 0, \n        ts_updated: \"2019-06-07T07:55:25+00:00\", \n        diff_days: 142, \n        last_data: \"2019-01-15T23:30:00+00:00\", \n        tsm_sensor: {\n            date_deactivated: null, \n            number_of_segments: 30, \n            date_activated: \"2016-08-31\", \n            logger: {\n                latitude: 16.7234, \n                logger_model: 22, \n                date_deactivated: null, \n                date_activated: \"2016-09-26\", \n                longitude: 120.7815, \n                logger_id: 111, \n                logger_name: \"sinsa\"\n            }, \n            version: 3, \n            tsm_id: 103, \n            segment_length: 1.0\n        }\n    }, \n    {\n        presence: 0, \n        ts_updated: \"2019-06-07T07:55:25+00:00\", \n        diff_days: 142, \n        last_data: \"2019-01-15T23:31:00+00:00\", \n        tsm_sensor: {\n            date_deactivated: null, \n            number_of_segments: 25, \n            date_activated: \"2016-09-01\", \n            logger: {\n                latitude: 16.7234, \n                logger_model: 23, \n                date_deactivated: null, \n                date_activated: \"2016-09-01\", \n                longitude: 120.7813, \n                logger_id: 113, \n                logger_name: \"sintb\"\n            }, \n            version: 3, \n            tsm_id: 105, \n            segment_length: 1.0\n        }\n    }, \n    {\n        presence: 0, \n        ts_updated: \"2019-06-07T07:55:25+00:00\", \n        diff_days: 229, \n        last_data: \"2018-10-21T04:01:00+00:00\", \n        tsm_sensor: {\n            date_deactivated: null, \n            number_of_segments: 15, \n            date_activated: \"2015-02-05\", \n            logger: {\n                latitude: 8.54511, \n                logger_model: 6, \n                date_deactivated: null, \n                date_activated: \"2015-10-17\", \n                longitude: 124.8597, \n                logger_id: 115, \n                logger_name: \"sumta\"\n            }, \n            version: 2, \n            tsm_id: 107, \n            segment_length: 1.0\n        }\n    }, \n    {\n        presence: 0, \n        ts_updated: \"2019-06-07T07:55:25+00:00\", \n        diff_days: 142, \n        last_data: \"2019-01-15T23:32:00+00:00\", \n        tsm_sensor: {\n            date_deactivated: null, \n            number_of_segments: 39, \n            date_activated: \"2016-10-22\", \n            logger: {\n                latitude: 8.54565, \n                logger_model: 2, \n                date_deactivated: null, \n                date_activated: \"2016-10-23\", \n                longitude: 124.8591, \n                logger_id: 117, \n                logger_name: \"sumtc\"\n            }, \n            version: 3, \n            tsm_id: 109, \n            segment_length: 0.5\n        }\n    }, \n    {\n        presence: 0, \n        ts_updated: \"2019-06-07T07:55:25+00:00\", \n        diff_days: 142, \n        last_data: \"2019-01-15T23:31:00+00:00\", \n        tsm_sensor: {\n            date_deactivated: null, \n            number_of_segments: 30, \n            date_activated: \"2016-03-07\", \n            logger: {\n                latitude: 11.63742, \n                logger_model: 2, \n                date_deactivated: null, \n                date_activated: \"2016-03-07\", \n                longitude: 124.3665, \n                logger_id: 119, \n                logger_name: \"taltb\"\n            }, \n            version: 3, \n            tsm_id: 111, \n            segment_length: 0.5\n        }\n    }, \n    {\n        presence: 0, \n        ts_updated: \"2019-06-07T07:55:25+00:00\", \n        diff_days: 599, \n        last_data: \"2017-10-15T22:36:00+00:00\", \n        tsm_sensor: {\n            date_deactivated: null, \n            number_of_segments: 30, \n            date_activated: \"2016-06-11\", \n            logger: {\n                latitude: 17.57347, \n                logger_model: 2, \n                date_deactivated: null, \n                date_activated: \"2016-06-11\", \n                longitude: 121.3834, \n                logger_id: 120, \n                logger_name: \"tgata\"\n            }, \n            version: 3, \n            tsm_id: 112, \n            segment_length: 1.0\n        }\n    }, \n    {\n        presence: 0, \n        ts_updated: \"2019-06-07T07:55:25+00:00\", \n        diff_days: 265, \n        last_data: \"2018-09-14T09:31:00+00:00\", \n        tsm_sensor: {\n            date_deactivated: null, \n            number_of_segments: 30, \n            date_activated: \"2016-06-01\", \n            logger: {\n                latitude: 17.57347, \n                logger_model: 6, \n                date_deactivated: null, \n                date_activated: \"2016-06-01\", \n                longitude: 121.3834, \n                logger_id: 121, \n                logger_name: \"tgatb\"\n            }, \n            version: 3, \n            tsm_id: 113, \n            segment_length: 1.0\n        }\n    }, \n    {\n        presence: 0, \n        ts_updated: \"2019-06-07T07:55:25+00:00\", \n        diff_days: 142, \n        last_data: \"2019-01-15T23:31:00+00:00\", \n        tsm_sensor: {\n            date_deactivated: null, \n            number_of_segments: 32, \n            date_activated: \"2016-10-17\", \n            logger: {\n                latitude: 16.97229, \n                logger_model: 2, \n                date_deactivated: \"2016-02-26\", \n                date_activated: \"2015-07-02\", \n                longitude: 120.8286, \n                logger_id: 122, \n                logger_name: \"tueta\"\n            }, \n            version: 3, \n            tsm_id: 115, \n            segment_length: 1.0\n        }\n    }, \n    {\n        presence: 0, \n        ts_updated: \"2019-06-07T07:55:25+00:00\", \n        diff_days: 164, \n        last_data: \"2018-12-24T18:31:00+00:00\", \n        tsm_sensor: {\n            date_deactivated: null, \n            number_of_segments: 32, \n            date_activated: \"2015-02-18\", \n            logger: {\n                latitude: 16.97015, \n                logger_model: 6, \n                date_deactivated: null, \n                date_activated: \"2015-02-18\", \n                longitude: 120.8287, \n                logger_id: 124, \n                logger_name: \"tuetb\"\n            }, \n            version: 2, \n            tsm_id: 116, \n            segment_length: 1.0\n        }\n    }, \n    {\n        presence: 0, \n        ts_updated: \"2019-06-07T07:55:25+00:00\", \n        diff_days: 569, \n        last_data: \"2017-11-14T18:00:00+00:00\", \n        tsm_sensor: {\n            date_deactivated: null, \n            number_of_segments: 20, \n            date_activated: \"2015-04-15\", \n            logger: {\n                latitude: 10.90807, \n                logger_model: 10, \n                date_deactivated: null, \n                date_activated: \"2016-05-12\", \n                longitude: 122.3278, \n                logger_id: 126, \n                logger_name: \"umita\"\n            }, \n            version: 2, \n            tsm_id: 117, \n            segment_length: 1.0\n        }\n    }, \n    {\n        presence: 0, \n        ts_updated: \"2019-06-07T07:55:25+00:00\", \n        diff_days: 142, \n        last_data: \"2019-01-15T23:31:00+00:00\", \n        tsm_sensor: {\n            date_deactivated: null, \n            number_of_segments: 30, \n            date_activated: \"2017-02-09\", \n            logger: {\n                latitude: 10.82815, \n                logger_model: 2, \n                date_deactivated: null, \n                date_activated: \"2017-02-08\", \n                longitude: 122.3115, \n                logger_id: 134, \n                logger_name: \"blcta\"\n            }, \n            version: 3, \n            tsm_id: 118, \n            segment_length: 1.0\n        }\n    }, \n    {\n        presence: 0, \n        ts_updated: \"2019-06-07T07:55:25+00:00\", \n        diff_days: 218, \n        last_data: \"2018-10-31T17:30:00+00:00\", \n        tsm_sensor: {\n            date_deactivated: null, \n            number_of_segments: 30, \n            date_activated: null, \n            logger: {\n                latitude: 10.78788, \n                logger_model: 13, \n                date_deactivated: null, \n                date_activated: \"2015-08-27\", \n                longitude: 122.3336, \n                logger_id: 95, \n                logger_name: \"pepsb\"\n            }, \n            version: 3, \n            tsm_id: 119, \n            segment_length: 0.5\n        }\n    }, \n    {\n        presence: 0, \n        ts_updated: \"2019-06-07T07:55:25+00:00\", \n        diff_days: 204, \n        last_data: \"2018-11-14T11:30:00+00:00\", \n        tsm_sensor: {\n            date_deactivated: null, \n            number_of_segments: 40, \n            date_activated: \"2018-04-05\", \n            logger: {\n                latitude: 10.82662, \n                logger_model: 36, \n                date_deactivated: null, \n                date_activated: \"2017-09-12\", \n                longitude: 122.31132, \n                logger_id: 135, \n                logger_name: \"blcpz\"\n            }, \n            version: 3, \n            tsm_id: 121, \n            segment_length: 0.5\n        }\n    }, \n    {\n        presence: 0, \n        ts_updated: \"2019-06-07T07:55:25+00:00\", \n        diff_days: 142, \n        last_data: \"2019-01-15T23:31:00+00:00\", \n        tsm_sensor: {\n            date_deactivated: null, \n            number_of_segments: 30, \n            date_activated: \"2017-02-20\", \n            logger: {\n                latitude: 10.30199, \n                logger_model: 2, \n                date_deactivated: null, \n                date_activated: \"2017-02-21\", \n                longitude: 125.1279, \n                logger_id: 142, \n                logger_name: \"bolta\"\n            }, \n            version: 3, \n            tsm_id: 124, \n            segment_length: 0.5\n        }\n    }\n];\n\nexport const data_presence_loggers = [\n    {\n        presence: 0, \n        ts_updated: \"2019-06-07T07:55:35+00:00\", \n        last_data: \"2019-01-15T23:35:15+00:00\", \n        logger_id: 1, \n        diff_days: 142, \n        logger: {\n            longitude: 122.8313, \n            date_activated: \"2015-08-31\", \n            logger_name: \"agbsb\", \n            latitude: 11.28082, \n            site: 1, \n            model_id: 3, \n            logger_id: 1, \n            date_deactivated: null\n        }\n    }, \n    {\n        presence: 0, \n        ts_updated: \"2019-06-07T07:55:35+00:00\", \n        last_data: \"2019-01-15T23:32:22+00:00\", \n        logger_id: 2, \n        diff_days: 142, \n        logger: {\n            longitude: 122.8311, \n            date_activated: \"2015-08-31\", \n            logger_name: \"agbta\", \n            latitude: 11.28137, \n            site: 1, \n            model_id: 6, \n            logger_id: 2, \n            date_deactivated: null\n        }\n    }, \n    {\n        presence: 0, \n        ts_updated: \"2019-06-07T07:55:35+00:00\", \n        last_data: \"2018-08-13T12:30:04+00:00\", \n        logger_id: 3, \n        diff_days: 297, \n        logger: {\n            longitude: 120.660903, \n            date_activated: \"2016-08-09\", \n            logger_name: \"bakg\", \n            latitude: 16.789631, \n            site: 2, \n            model_id: 31, \n            logger_id: 3, \n            date_deactivated: null\n        }\n    }, \n    {\n        presence: 1, \n        ts_updated: \"2019-06-07T07:55:35+00:00\", \n        last_data: null, \n        logger_id: 4, \n        diff_days: 0, \n        logger: {\n            longitude: 120.6616, \n            date_activated: \"2016-05-13\", \n            logger_name: \"bakta\", \n            latitude: 16.7907, \n            site: 2, \n            model_id: 10, \n            logger_id: 4, \n            date_deactivated: null\n        }\n    }, \n    {\n        presence: 0, \n        ts_updated: \"2019-06-07T07:55:35+00:00\", \n        last_data: \"2019-01-15T23:31:41+00:00\", \n        logger_id: 7, \n        diff_days: 142, \n        logger: {\n            longitude: 123.9488, \n            date_activated: \"2016-02-03\", \n            logger_name: \"banta\", \n            latitude: 9.888559, \n            site: 3, \n            model_id: 2, \n            logger_id: 7, \n            date_deactivated: null\n        }\n    }, \n    {\n        presence: 0, \n        ts_updated: \"2019-06-07T07:55:35+00:00\", \n        last_data: \"2019-01-15T23:30:54+00:00\", \n        logger_id: 8, \n        diff_days: 142, \n        logger: {\n            longitude: 123.9488, \n            date_activated: \"2016-02-03\", \n            logger_name: \"bantb\", \n            latitude: 9.888583, \n            site: 3, \n            model_id: 6, \n            logger_id: 8, \n            date_deactivated: null\n        }\n    }, \n    {\n        presence: 0, \n        ts_updated: \"2019-06-07T07:55:35+00:00\", \n        last_data: \"2019-01-15T23:32:16+00:00\", \n        logger_id: 9, \n        diff_days: 142, \n        logger: {\n            longitude: 124.6547, \n            date_activated: \"2016-01-23\", \n            logger_name: \"barsc\", \n            latitude: 11.90206, \n            site: 4, \n            model_id: 3, \n            logger_id: 9, \n            date_deactivated: null\n        }\n    }, \n    {\n        presence: 0, \n        ts_updated: \"2019-06-07T07:55:35+00:00\", \n        last_data: \"2019-01-15T23:30:55+00:00\", \n        logger_id: 10, \n        diff_days: 142, \n        logger: {\n            longitude: 124.6566, \n            date_activated: \"2016-02-03\", \n            logger_name: \"barta\", \n            latitude: 11.90278, \n            site: 4, \n            model_id: 2, \n            logger_id: 10, \n            date_deactivated: null\n        }\n    }, \n    {\n        presence: 0, \n        ts_updated: \"2019-06-07T07:55:35+00:00\", \n        last_data: \"2019-01-15T23:30:55+00:00\", \n        logger_id: 11, \n        diff_days: 142, \n        logger: {\n            longitude: 124.6566, \n            date_activated: \"2016-01-23\", \n            logger_name: \"bartb\", \n            latitude: 11.90278, \n            site: 4, \n            model_id: 6, \n            logger_id: 11, \n            date_deactivated: null\n        }\n    }, \n    {\n        presence: 0, \n        ts_updated: \"2019-06-07T07:55:35+00:00\", \n        last_data: \"2018-01-23T20:01:00+00:00\", \n        logger_id: 12, \n        diff_days: 499, \n        logger: {\n            longitude: 122.4679, \n            date_activated: \"2015-01-27\", \n            logger_name: \"baysb\", \n            latitude: 14.18756, \n            site: 5, \n            model_id: 3, \n            logger_id: 12, \n            date_deactivated: null\n        }\n    }, \n    {\n        presence: 0, \n        ts_updated: \"2019-06-07T07:55:35+00:00\", \n        last_data: \"2017-04-23T23:01:00+00:00\", \n        logger_id: 13, \n        diff_days: 774, \n        logger: {\n            longitude: 122.4675, \n            date_activated: \"2015-01-23\", \n            logger_name: \"bayta\", \n            latitude: 14.18797, \n            site: 5, \n            model_id: 2, \n            logger_id: 13, \n            date_deactivated: null\n        }\n    }, \n    {\n        presence: 0, \n        ts_updated: \"2019-06-07T07:55:35+00:00\", \n        last_data: \"2019-01-15T23:31:34+00:00\", \n        logger_id: 17, \n        diff_days: 142, \n        logger: {\n            longitude: 122.3108, \n            date_activated: null, \n            logger_name: \"blcsb\", \n            latitude: 10.82662, \n            site: 6, \n            model_id: 3, \n            logger_id: 17, \n            date_deactivated: null\n        }\n    }, \n    {\n        presence: 0, \n        ts_updated: \"2019-06-07T07:55:35+00:00\", \n        last_data: \"2018-12-10T21:45:04+00:00\", \n        logger_id: 20, \n        diff_days: 178, \n        logger: {\n            longitude: 123.578371, \n            date_activated: \"2014-04-27\", \n            logger_name: \"btog\", \n            latitude: 10.01394, \n            site: 8, \n            model_id: 31, \n            logger_id: 20, \n            date_deactivated: null\n        }\n    }, \n    {\n        presence: 0, \n        ts_updated: \"2019-06-07T07:55:35+00:00\", \n        last_data: \"2019-01-15T23:31:06+00:00\", \n        logger_id: 25, \n        diff_days: 142, \n        logger: {\n            longitude: 121.1047, \n            date_activated: \"2014-12-15\", \n            logger_name: \"cudta\", \n            latitude: 16.80931, \n            site: 10, \n            model_id: 6, \n            logger_id: 25, \n            date_deactivated: null\n        }\n    }, \n    {\n        presence: 0, \n        ts_updated: \"2019-06-07T07:55:35+00:00\", \n        last_data: \"2019-01-15T23:31:29+00:00\", \n        logger_id: 26, \n        diff_days: 142, \n        logger: {\n            longitude: 121.1047, \n            date_activated: \"2015-03-29\", \n            logger_name: \"cudtb\", \n            latitude: 16.80884, \n            site: 10, \n            model_id: 2, \n            logger_id: 26, \n            date_deactivated: null\n        }\n    }, \n    {\n        presence: 0, \n        ts_updated: \"2019-06-07T07:55:35+00:00\", \n        last_data: \"2018-07-03T02:30:59+00:00\", \n        logger_id: 27, \n        diff_days: 339, \n        logger: {\n            longitude: 126.4509, \n            date_activated: \"2015-10-13\", \n            logger_name: \"dadta\", \n            latitude: 7.13731, \n            site: 11, \n            model_id: 2, \n            logger_id: 27, \n            date_deactivated: null\n        }\n    }, \n    {\n        presence: 0, \n        ts_updated: \"2019-06-07T07:55:35+00:00\", \n        last_data: \"2018-09-29T04:30:59+00:00\", \n        logger_id: 28, \n        diff_days: 251, \n        logger: {\n            longitude: 126.4514, \n            date_activated: \"2015-10-13\", \n            logger_name: \"dadtb\", \n            latitude: 7.137353, \n            site: 11, \n            model_id: 6, \n            logger_id: 28, \n            date_deactivated: null\n        }\n    }, \n    {\n        presence: 0, \n        ts_updated: \"2019-06-07T07:55:35+00:00\", \n        last_data: \"2019-01-15T23:30:58+00:00\", \n        logger_id: 29, \n        diff_days: 142, \n        logger: {\n            longitude: 123.7851, \n            date_activated: \"2016-02-03\", \n            logger_name: \"gaasa\", \n            latitude: 10.42352, \n            site: 12, \n            model_id: 3, \n            logger_id: 29, \n            date_deactivated: null\n        }\n    }, \n    {\n        presence: 0, \n        ts_updated: \"2019-06-07T07:55:35+00:00\", \n        last_data: \"2018-11-23T00:01:00+00:00\", \n        logger_id: 30, \n        diff_days: 196, \n        logger: {\n            longitude: 123.7854, \n            date_activated: \"2018-02-22\", \n            logger_name: \"gaatc\", \n            latitude: 10.42323, \n            site: 12, \n            model_id: 7, \n            logger_id: 30, \n            date_deactivated: null\n        }\n    }, \n    {\n        presence: 0, \n        ts_updated: \"2019-06-07T07:55:35+00:00\", \n        last_data: \"2017-08-01T17:00:00+00:00\", \n        logger_id: 31, \n        diff_days: 674, \n        logger: {\n            longitude: 126.1676, \n            date_activated: \"2013-05-04\", \n            logger_name: \"gamb\", \n            latitude: 9.0101, \n            site: 13, \n            model_id: 3, \n            logger_id: 31, \n            date_deactivated: null\n        }\n    }, \n    {\n        presence: 0, \n        ts_updated: \"2019-06-07T07:55:35+00:00\", \n        last_data: \"2019-01-15T23:32:41+00:00\", \n        logger_id: 33, \n        diff_days: 142, \n        logger: {\n            longitude: 125.0691, \n            date_activated: \"2016-03-04\", \n            logger_name: \"hinsa\", \n            latitude: 11.70064, \n            site: 14, \n            model_id: 3, \n            logger_id: 33, \n            date_deactivated: null\n        }\n    }, \n    {\n        presence: 0, \n        ts_updated: \"2019-06-07T07:55:35+00:00\", \n        last_data: \"2019-01-15T23:31:08+00:00\", \n        logger_id: 34, \n        diff_days: 142, \n        logger: {\n            longitude: 125.0691, \n            date_activated: \"2016-03-04\", \n            logger_name: \"hinsb\", \n            latitude: 11.70064, \n            site: 14, \n            model_id: 7, \n            logger_id: 34, \n            date_deactivated: null\n        }\n    }, \n    {\n        presence: 0, \n        ts_updated: \"2019-06-07T07:55:35+00:00\", \n        last_data: \"2017-07-01T20:00:00+00:00\", \n        logger_id: 35, \n        diff_days: 705, \n        logger: {\n            longitude: 123.2503, \n            date_activated: \"2013-04-11\", \n            logger_name: \"humb\", \n            latitude: 10.18392, \n            site: 15, \n            model_id: 5, \n            logger_id: 35, \n            date_deactivated: null\n        }\n    }, \n    {\n        presence: 0, \n        ts_updated: \"2019-06-07T07:55:35+00:00\", \n        last_data: \"2018-12-13T07:04:46+00:00\", \n        logger_id: 36, \n        diff_days: 176, \n        logger: {\n            longitude: 123.2514, \n            date_activated: \"2013-04-09\", \n            logger_name: \"humt\", \n            latitude: 10.18102, \n            site: 15, \n            model_id: 9, \n            logger_id: 36, \n            date_deactivated: null\n        }\n    }, \n    {\n        presence: 0, \n        ts_updated: \"2019-06-07T07:55:35+00:00\", \n        last_data: \"2018-12-18T22:30:59+00:00\", \n        logger_id: 37, \n        diff_days: 170, \n        logger: {\n            longitude: 124.7525, \n            date_activated: \"2015-11-10\", \n            logger_name: \"imesb\", \n            latitude: 11.90462, \n            site: 16, \n            model_id: 3, \n            logger_id: 37, \n            date_deactivated: null\n        }\n    }, \n    {\n        presence: 0, \n        ts_updated: \"2019-06-07T07:55:35+00:00\", \n        last_data: \"2018-12-23T17:30:59+00:00\", \n        logger_id: 38, \n        diff_days: 165, \n        logger: {\n            longitude: 124.7526, \n            date_activated: \"2015-11-13\", \n            logger_name: \"imeta\", \n            latitude: 11.90383, \n            site: 16, \n            model_id: 2, \n            logger_id: 38, \n            date_deactivated: null\n        }\n    }, \n    {\n        presence: 0, \n        ts_updated: \"2019-06-07T07:55:35+00:00\", \n        last_data: \"2019-01-15T23:30:04+00:00\", \n        logger_id: 39, \n        diff_days: 142, \n        logger: {\n            longitude: 120.60461, \n            date_activated: \"2016-07-19\", \n            logger_name: \"imug\", \n            latitude: 17.52347, \n            site: 17, \n            model_id: 31, \n            logger_id: 39, \n            date_deactivated: null\n        }\n    }, \n    {\n        presence: 0, \n        ts_updated: \"2019-06-07T07:55:35+00:00\", \n        last_data: \"2019-01-15T23:30:55+00:00\", \n        logger_id: 43, \n        diff_days: 142, \n        logger: {\n            longitude: 122.4362, \n            date_activated: \"2015-10-29\", \n            logger_name: \"inata\", \n            latitude: 10.86991, \n            site: 18, \n            model_id: 2, \n            logger_id: 43, \n            date_deactivated: null\n        }\n    }, \n    {\n        presence: 0, \n        ts_updated: \"2019-06-07T07:55:35+00:00\", \n        last_data: \"2019-01-15T23:30:59+00:00\", \n        logger_id: 46, \n        diff_days: 142, \n        logger: {\n            longitude: 124.8249, \n            date_activated: \"2016-03-18\", \n            logger_name: \"jorta\", \n            latitude: 11.97779, \n            site: 19, \n            model_id: 6, \n            logger_id: 46, \n            date_deactivated: null\n        }\n    }, \n    {\n        presence: 0, \n        ts_updated: \"2019-06-07T07:55:35+00:00\", \n        last_data: \"2018-11-30T15:03:08+00:00\", \n        logger_id: 47, \n        diff_days: 188, \n        logger: {\n            longitude: 120.7054, \n            date_activated: \"2013-03-06\", \n            logger_name: \"labb\", \n            latitude: 16.47032, \n            site: 20, \n            model_id: 3, \n            logger_id: 47, \n            date_deactivated: null\n        }\n    }, \n    {\n        presence: 0, \n        ts_updated: \"2019-06-07T07:55:35+00:00\", \n        last_data: \"2019-01-15T23:31:16+00:00\", \n        logger_id: 48, \n        diff_days: 142, \n        logger: {\n            longitude: 120.7055, \n            date_activated: \"2013-03-06\", \n            logger_name: \"labt\", \n            latitude: 16.47041, \n            site: 20, \n            model_id: 7, \n            logger_id: 48, \n            date_deactivated: null\n        }\n    }, \n    {\n        presence: 0, \n        ts_updated: \"2019-06-07T07:55:35+00:00\", \n        last_data: \"2019-01-15T23:31:29+00:00\", \n        logger_id: 49, \n        diff_days: 142, \n        logger: {\n            longitude: 125.0257, \n            date_activated: \"2015-11-26\", \n            logger_name: \"laysa\", \n            latitude: 11.5127, \n            site: 21, \n            model_id: 7, \n            logger_id: 49, \n            date_deactivated: null\n        }\n    }, \n    {\n        presence: 0, \n        ts_updated: \"2019-06-07T07:55:35+00:00\", \n        last_data: \"2019-01-15T23:31:11+00:00\", \n        logger_id: 50, \n        diff_days: 142, \n        logger: {\n            longitude: 125.0269, \n            date_activated: \"2015-11-26\", \n            logger_name: \"laysb\", \n            latitude: 11.5304, \n            site: 21, \n            model_id: 3, \n            logger_id: 50, \n            date_deactivated: null\n        }\n    }, \n    {\n        presence: 0, \n        ts_updated: \"2019-06-07T07:55:35+00:00\", \n        last_data: \"2018-06-18T11:30:58+00:00\", \n        logger_id: 51, \n        diff_days: 353, \n        logger: {\n            longitude: 125.1266, \n            date_activated: \"2012-05-29\", \n            logger_name: \"lipb\", \n            latitude: 10.22767, \n            site: 22, \n            model_id: 3, \n            logger_id: 51, \n            date_deactivated: null\n        }\n    }, \n    {\n        presence: 0, \n        ts_updated: \"2019-06-07T07:55:35+00:00\", \n        last_data: \"2019-01-15T23:33:02+00:00\", \n        logger_id: 52, \n        diff_days: 142, \n        logger: {\n            longitude: 125.1269, \n            date_activated: \"2012-05-29\", \n            logger_name: \"lipt\", \n            latitude: 10.22764, \n            site: 22, \n            model_id: 7, \n            logger_id: 52, \n            date_deactivated: null\n        }\n    }, \n    {\n        presence: 0, \n        ts_updated: \"2019-06-07T07:55:35+00:00\", \n        last_data: \"2019-01-15T23:31:42+00:00\", \n        logger_id: 53, \n        diff_days: 142, \n        logger: {\n            longitude: 124.7775, \n            date_activated: \"2016-10-17\", \n            logger_name: \"loota\", \n            latitude: 8.597964, \n            site: 23, \n            model_id: 23, \n            logger_id: 53, \n            date_deactivated: null\n        }\n    }, \n    {\n        presence: 0, \n        ts_updated: \"2019-06-07T07:55:35+00:00\", \n        last_data: \"2019-01-15T23:32:55+00:00\", \n        logger_id: 55, \n        diff_days: 142, \n        logger: {\n            longitude: 125.0196, \n            date_activated: \"2015-11-09\", \n            logger_name: \"lpasa\", \n            latitude: 11.78625, \n            site: 24, \n            model_id: 3, \n            logger_id: 55, \n            date_deactivated: null\n        }\n    }, \n    {\n        presence: 0, \n        ts_updated: \"2019-06-07T07:55:35+00:00\", \n        last_data: \"2019-01-15T23:31:29+00:00\", \n        logger_id: 56, \n        diff_days: 142, \n        logger: {\n            longitude: 125.0193, \n            date_activated: \"2015-11-14\", \n            logger_name: \"lpasb\", \n            latitude: 11.78607, \n            site: 24, \n            model_id: 7, \n            logger_id: 56, \n            date_deactivated: null\n        }\n    }, \n    {\n        presence: 0, \n        ts_updated: \"2019-06-07T07:55:35+00:00\", \n        last_data: \"2018-09-10T01:15:04+00:00\", \n        logger_id: 57, \n        diff_days: 270, \n        logger: {\n            longitude: 125.09145, \n            date_activated: \"2016-08-23\", \n            logger_name: \"lteg\", \n            latitude: 11.59024, \n            site: 25, \n            model_id: 31, \n            logger_id: 57, \n            date_deactivated: null\n        }\n    }, \n    {\n        presence: 0, \n        ts_updated: \"2019-06-07T07:55:35+00:00\", \n        last_data: \"2019-01-15T23:30:05+00:00\", \n        logger_id: 60, \n        diff_days: 142, \n        logger: {\n            longitude: 124.87943, \n            date_activated: \"2016-03-17\", \n            logger_name: \"lung\", \n            latitude: 10.25799, \n            site: 26, \n            model_id: 31, \n            logger_id: 60, \n            date_deactivated: null\n        }\n    }, \n    {\n        presence: 0, \n        ts_updated: \"2019-06-07T07:55:35+00:00\", \n        last_data: \"2017-09-23T09:45:00+00:00\", \n        logger_id: 65, \n        diff_days: 621, \n        logger: {\n            longitude: 125.058376, \n            date_activated: \"2016-02-23\", \n            logger_name: \"magg\", \n            latitude: 7.517548, \n            site: 27, \n            model_id: 31, \n            logger_id: 65, \n            date_deactivated: null\n        }\n    }, \n    {\n        presence: 0, \n        ts_updated: \"2019-06-07T07:55:35+00:00\", \n        last_data: \"2017-07-31T23:01:00+00:00\", \n        logger_id: 72, \n        diff_days: 675, \n        logger: {\n            longitude: 120.689, \n            date_activated: \"2016-12-03\", \n            logger_name: \"mamta\", \n            latitude: 16.4883, \n            site: 28, \n            model_id: 6, \n            logger_id: 72, \n            date_deactivated: null\n        }\n    }, \n    {\n        presence: 0, \n        ts_updated: \"2019-06-07T07:55:35+00:00\", \n        last_data: \"2019-01-15T23:31:45+00:00\", \n        logger_id: 73, \n        diff_days: 142, \n        logger: {\n            longitude: 120.6916, \n            date_activated: \"2016-11-07\", \n            logger_name: \"mamtb\", \n            latitude: 16.48857, \n            site: 28, \n            model_id: 4, \n            logger_id: 73, \n            date_deactivated: null\n        }\n    }, \n    {\n        presence: 0, \n        ts_updated: \"2019-06-07T07:55:35+00:00\", \n        last_data: \"2019-01-15T23:30:05+00:00\", \n        logger_id: 76, \n        diff_days: 142, \n        logger: {\n            longitude: 122.323586, \n            date_activated: \"2016-01-30\", \n            logger_name: \"marg\", \n            latitude: 10.821843, \n            site: 29, \n            model_id: 31, \n            logger_id: 76, \n            date_deactivated: null\n        }\n    }, \n    {\n        presence: 0, \n        ts_updated: \"2019-06-07T07:55:35+00:00\", \n        last_data: \"2019-01-15T23:31:34+00:00\", \n        logger_id: 77, \n        diff_days: 142, \n        logger: {\n            longitude: 125.7409, \n            date_activated: \"2016-02-26\", \n            logger_name: \"mcasb\", \n            latitude: 8.585882, \n            site: 30, \n            model_id: 3, \n            logger_id: 77, \n            date_deactivated: null\n        }\n    }, \n    {\n        presence: 0, \n        ts_updated: \"2019-06-07T07:55:35+00:00\", \n        last_data: \"2019-01-15T23:31:15+00:00\", \n        logger_id: 78, \n        diff_days: 142, \n        logger: {\n            longitude: 125.741, \n            date_activated: \"2016-02-24\", \n            logger_name: \"mcata\", \n            latitude: 8.58543, \n            site: 30, \n            model_id: 6, \n            logger_id: 78, \n            date_deactivated: null\n        }\n    }, \n    {\n        presence: 0, \n        ts_updated: \"2019-06-07T07:55:35+00:00\", \n        last_data: \"2018-08-14T16:33:13+00:00\", \n        logger_id: 80, \n        diff_days: 296, \n        logger: {\n            longitude: 125.5403, \n            date_activated: \"2015-09-21\", \n            logger_name: \"mesta\", \n            latitude: 7.628743, \n            site: 51, \n            model_id: 6, \n            logger_id: 80, \n            date_deactivated: null\n        }\n    }, \n    {\n        presence: 0, \n        ts_updated: \"2019-06-07T07:55:35+00:00\", \n        last_data: \"2019-01-15T23:34:01+00:00\", \n        logger_id: 81, \n        diff_days: 142, \n        logger: {\n            longitude: 123.2062, \n            date_activated: \"2016-01-21\", \n            logger_name: \"mngsa\", \n            latitude: 10.04793, \n            site: 31, \n            model_id: 7, \n            logger_id: 81, \n            date_deactivated: null\n        }\n    }, \n    {\n        presence: 0, \n        ts_updated: \"2019-06-07T07:55:35+00:00\", \n        last_data: \"2019-01-15T23:30:54+00:00\", \n        logger_id: 82, \n        diff_days: 142, \n        logger: {\n            longitude: 123.2062, \n            date_activated: \"2016-01-30\", \n            logger_name: \"mngtb\", \n            latitude: 10.04781, \n            site: 31, \n            model_id: 2, \n            logger_id: 82, \n            date_deactivated: null\n        }\n    }, \n    {\n        presence: 0, \n        ts_updated: \"2019-06-07T07:55:35+00:00\", \n        last_data: \"2018-04-15T22:32:00+00:00\", \n        logger_id: 84, \n        diff_days: 417, \n        logger: {\n            longitude: 125.5403, \n            date_activated: \"2015-09-21\", \n            logger_name: \"msuta\", \n            latitude: 7.628743, \n            site: 33, \n            model_id: 6, \n            logger_id: 84, \n            date_deactivated: null\n        }\n    }, \n    {\n        presence: 0, \n        ts_updated: \"2019-06-07T07:55:35+00:00\", \n        last_data: \"2019-01-15T23:31:55+00:00\", \n        logger_id: 85, \n        diff_days: 142, \n        logger: {\n            longitude: 120.4176, \n            date_activated: \"2015-07-14\", \n            logger_name: \"nagsa\", \n            latitude: 16.62678, \n            site: 34, \n            model_id: 3, \n            logger_id: 85, \n            date_deactivated: null\n        }\n    }, \n    {\n        presence: 0, \n        ts_updated: \"2019-06-07T07:55:35+00:00\", \n        last_data: \"2019-01-15T23:31:42+00:00\", \n        logger_id: 86, \n        diff_days: 142, \n        logger: {\n            longitude: 120.4172, \n            date_activated: \"2015-01-09\", \n            logger_name: \"nagtb\", \n            latitude: 16.62676, \n            site: 34, \n            model_id: 6, \n            logger_id: 86, \n            date_deactivated: null\n        }\n    }, \n    {\n        presence: 0, \n        ts_updated: \"2019-06-07T07:55:35+00:00\", \n        last_data: \"2019-01-15T23:31:17+00:00\", \n        logger_id: 87, \n        diff_days: 142, \n        logger: {\n            longitude: 126.1384, \n            date_activated: \"2015-09-25\", \n            logger_name: \"nurta\", \n            latitude: 9.269702, \n            site: 35, \n            model_id: 2, \n            logger_id: 87, \n            date_deactivated: null\n        }\n    }, \n    {\n        presence: 0, \n        ts_updated: \"2019-06-07T07:55:35+00:00\", \n        last_data: \"2019-01-15T23:30:56+00:00\", \n        logger_id: 88, \n        diff_days: 142, \n        logger: {\n            longitude: 126.1384, \n            date_activated: \"2015-09-25\", \n            logger_name: \"nurtb\", \n            latitude: 9.269758, \n            site: 35, \n            model_id: 6, \n            logger_id: 88, \n            date_deactivated: null\n        }\n    }, \n    {\n        presence: 0, \n        ts_updated: \"2019-06-07T07:55:35+00:00\", \n        last_data: \"2017-05-07T18:01:00+00:00\", \n        logger_id: 89, \n        diff_days: 760, \n        logger: {\n            longitude: 125.4014, \n            date_activated: \"2013-05-23\", \n            logger_name: \"oslb\", \n            latitude: 9.75719, \n            site: 36, \n            model_id: 3, \n            logger_id: 89, \n            date_deactivated: null\n        }\n    }, \n    {\n        presence: 0, \n        ts_updated: \"2019-06-07T07:55:35+00:00\", \n        last_data: \"2019-01-15T23:30:59+00:00\", \n        logger_id: 92, \n        diff_days: 142, \n        logger: {\n            longitude: 125.0255, \n            date_activated: \"2015-12-12\", \n            logger_name: \"parta\", \n            latitude: 11.51487, \n            site: 37, \n            model_id: 6, \n            logger_id: 92, \n            date_deactivated: null\n        }\n    }, \n    {\n        presence: 0, \n        ts_updated: \"2019-06-07T07:55:35+00:00\", \n        last_data: \"2019-01-15T23:31:59+00:00\", \n        logger_id: 93, \n        diff_days: 142, \n        logger: {\n            longitude: 125.0256, \n            date_activated: \"2015-12-10\", \n            logger_name: \"partb\", \n            latitude: 11.51502, \n            site: 37, \n            model_id: 2, \n            logger_id: 93, \n            date_deactivated: null\n        }\n    }, \n    {\n        presence: 0, \n        ts_updated: \"2019-06-07T07:55:35+00:00\", \n        last_data: \"2018-10-31T17:30:06+00:00\", \n        logger_id: 94, \n        diff_days: 218, \n        logger: {\n            longitude: 122.33414, \n            date_activated: \"2016-03-09\", \n            logger_name: \"pepg\", \n            latitude: 10.787351, \n            site: 38, \n            model_id: 31, \n            logger_id: 94, \n            date_deactivated: null\n        }\n    }, \n    {\n        presence: 1, \n        ts_updated: \"2019-06-07T07:55:35+00:00\", \n        last_data: null, \n        logger_id: 95, \n        diff_days: 0, \n        logger: {\n            longitude: 122.3336, \n            date_activated: \"2015-08-27\", \n            logger_name: \"pepsb\", \n            latitude: 10.78788, \n            site: 38, \n            model_id: 13, \n            logger_id: 95, \n            date_deactivated: null\n        }\n    }, \n    {\n        presence: 1, \n        ts_updated: \"2019-06-07T07:55:35+00:00\", \n        last_data: null, \n        logger_id: 97, \n        diff_days: 0, \n        logger: {\n            longitude: 122.3333, \n            date_activated: \"2015-08-28\", \n            logger_name: \"peptc\", \n            latitude: 10.78865, \n            site: 38, \n            model_id: 10, \n            logger_id: 97, \n            date_deactivated: null\n        }\n    }, \n    {\n        presence: 0, \n        ts_updated: \"2019-06-07T07:55:35+00:00\", \n        last_data: \"2018-10-01T01:36:52+00:00\", \n        logger_id: 99, \n        diff_days: 249, \n        logger: {\n            longitude: 123.2459, \n            date_activated: \"2013-03-23\", \n            logger_name: \"plab\", \n            latitude: 10.15984, \n            site: 40, \n            model_id: 3, \n            logger_id: 99, \n            date_deactivated: null\n        }\n    }, \n    {\n        presence: 0, \n        ts_updated: \"2019-06-07T07:55:35+00:00\", \n        last_data: \"2019-01-15T23:31:50+00:00\", \n        logger_id: 101, \n        diff_days: 142, \n        logger: {\n            longitude: 124.0183, \n            date_activated: \"2016-03-30\", \n            logger_name: \"pngta\", \n            latitude: 12.63063, \n            site: 41, \n            model_id: 6, \n            logger_id: 101, \n            date_deactivated: null\n        }\n    }, \n    {\n        presence: 0, \n        ts_updated: \"2019-06-07T07:55:35+00:00\", \n        last_data: \"2019-01-15T23:31:36+00:00\", \n        logger_id: 102, \n        diff_days: 142, \n        logger: {\n            longitude: 124.0183, \n            date_activated: \"2016-04-06\", \n            logger_name: \"pngtb\", \n            latitude: 12.63063, \n            site: 41, \n            model_id: 2, \n            logger_id: 102, \n            date_deactivated: null\n        }\n    }, \n    {\n        presence: 0, \n        ts_updated: \"2019-06-07T07:55:35+00:00\", \n        last_data: \"2019-01-02T18:30:58+00:00\", \n        logger_id: 103, \n        diff_days: 155, \n        logger: {\n            longitude: 124.0194, \n            date_activated: \"2016-04-06\", \n            logger_name: \"pngtc\", \n            latitude: 12.62992, \n            site: 41, \n            model_id: 2, \n            logger_id: 103, \n            date_deactivated: null\n        }\n    }, \n    {\n        presence: 0, \n        ts_updated: \"2019-06-07T07:55:35+00:00\", \n        last_data: \"2018-11-22T08:31:28+00:00\", \n        logger_id: 106, \n        diff_days: 196, \n        logger: {\n            longitude: 120.9248, \n            date_activated: \"2015-06-28\", \n            logger_name: \"sagta\", \n            latitude: 17.08263, \n            site: 43, \n            model_id: 6, \n            logger_id: 106, \n            date_deactivated: null\n        }\n    }, \n    {\n        presence: 0, \n        ts_updated: \"2019-06-07T07:55:35+00:00\", \n        last_data: \"2019-01-15T23:31:29+00:00\", \n        logger_id: 107, \n        diff_days: 142, \n        logger: {\n            longitude: 120.9249, \n            date_activated: \"2015-06-28\", \n            logger_name: \"sagtb\", \n            latitude: 17.08339, \n            site: 43, \n            model_id: 2, \n            logger_id: 107, \n            date_deactivated: null\n        }\n    }, \n    {\n        presence: 0, \n        ts_updated: \"2019-06-07T07:55:35+00:00\", \n        last_data: \"2018-02-25T19:00:00+00:00\", \n        logger_id: 108, \n        diff_days: 466, \n        logger: {\n            longitude: 126.3834, \n            date_activated: \"2015-10-15\", \n            logger_name: \"sibta\", \n            latitude: 7.82567, \n            site: 44, \n            model_id: 6, \n            logger_id: 108, \n            date_deactivated: null\n        }\n    }, \n    {\n        presence: 1, \n        ts_updated: \"2019-06-07T07:55:35+00:00\", \n        last_data: null, \n        logger_id: 111, \n        diff_days: 0, \n        logger: {\n            longitude: 120.7815, \n            date_activated: \"2016-09-26\", \n            logger_name: \"sinsa\", \n            latitude: 16.7234, \n            site: 45, \n            model_id: 22, \n            logger_id: 111, \n            date_deactivated: null\n        }\n    }, \n    {\n        presence: 0, \n        ts_updated: \"2019-06-07T07:55:35+00:00\", \n        last_data: \"2019-01-15T23:32:04+00:00\", \n        logger_id: 113, \n        diff_days: 142, \n        logger: {\n            longitude: 120.7813, \n            date_activated: \"2016-09-01\", \n            logger_name: \"sintb\", \n            latitude: 16.7234, \n            site: 45, \n            model_id: 23, \n            logger_id: 113, \n            date_deactivated: null\n        }\n    }, \n    {\n        presence: 0, \n        ts_updated: \"2019-06-07T07:55:35+00:00\", \n        last_data: \"2018-11-03T00:00:59+00:00\", \n        logger_id: 115, \n        diff_days: 216, \n        logger: {\n            longitude: 124.8597, \n            date_activated: \"2015-10-17\", \n            logger_name: \"sumta\", \n            latitude: 8.54511, \n            site: 46, \n            model_id: 6, \n            logger_id: 115, \n            date_deactivated: null\n        }\n    }, \n    {\n        presence: 0, \n        ts_updated: \"2019-06-07T07:55:35+00:00\", \n        last_data: \"2019-01-15T23:32:59+00:00\", \n        logger_id: 117, \n        diff_days: 142, \n        logger: {\n            longitude: 124.8591, \n            date_activated: \"2016-10-23\", \n            logger_name: \"sumtc\", \n            latitude: 8.54565, \n            site: 46, \n            model_id: 2, \n            logger_id: 117, \n            date_deactivated: null\n        }\n    }, \n    {\n        presence: 0, \n        ts_updated: \"2019-06-07T07:55:35+00:00\", \n        last_data: \"2019-01-15T23:30:42+00:00\", \n        logger_id: 118, \n        diff_days: 142, \n        logger: {\n            longitude: 124.3665, \n            date_activated: \"2016-03-03\", \n            logger_name: \"talsa\", \n            latitude: 11.63742, \n            site: 47, \n            model_id: 7, \n            logger_id: 118, \n            date_deactivated: null\n        }\n    }, \n    {\n        presence: 0, \n        ts_updated: \"2019-06-07T07:55:35+00:00\", \n        last_data: \"2019-01-15T23:31:59+00:00\", \n        logger_id: 119, \n        diff_days: 142, \n        logger: {\n            longitude: 124.3665, \n            date_activated: \"2016-03-07\", \n            logger_name: \"taltb\", \n            latitude: 11.63742, \n            site: 47, \n            model_id: 2, \n            logger_id: 119, \n            date_deactivated: null\n        }\n    }, \n    {\n        presence: 0, \n        ts_updated: \"2019-06-07T07:55:35+00:00\", \n        last_data: \"2019-01-15T23:30:59+00:00\", \n        logger_id: 120, \n        diff_days: 142, \n        logger: {\n            longitude: 121.3834, \n            date_activated: \"2016-06-11\", \n            logger_name: \"tgata\", \n            latitude: 17.57347, \n            site: 48, \n            model_id: 2, \n            logger_id: 120, \n            date_deactivated: null\n        }\n    }, \n    {\n        presence: 0, \n        ts_updated: \"2019-06-07T07:55:35+00:00\", \n        last_data: \"2019-01-15T23:30:23+00:00\", \n        logger_id: 121, \n        diff_days: 142, \n        logger: {\n            longitude: 121.3834, \n            date_activated: \"2016-06-01\", \n            logger_name: \"tgatb\", \n            latitude: 17.57347, \n            site: 48, \n            model_id: 6, \n            logger_id: 121, \n            date_deactivated: null\n        }\n    }, \n    {\n        presence: 0, \n        ts_updated: \"2019-06-07T07:55:35+00:00\", \n        last_data: \"2019-01-15T23:31:22+00:00\", \n        logger_id: 123, \n        diff_days: 142, \n        logger: {\n            longitude: 120.8286, \n            date_activated: \"2016-02-26\", \n            logger_name: \"tueta\", \n            latitude: 16.97229, \n            site: 49, \n            model_id: 2, \n            logger_id: 123, \n            date_deactivated: null\n        }\n    }, \n    {\n        presence: 0, \n        ts_updated: \"2019-06-07T07:55:35+00:00\", \n        last_data: \"2019-01-15T23:30:59+00:00\", \n        logger_id: 124, \n        diff_days: 142, \n        logger: {\n            longitude: 120.8287, \n            date_activated: \"2015-02-18\", \n            logger_name: \"tuetb\", \n            latitude: 16.97015, \n            site: 49, \n            model_id: 6, \n            logger_id: 124, \n            date_deactivated: null\n        }\n    }, \n    {\n        presence: 0, \n        ts_updated: \"2019-06-07T07:55:35+00:00\", \n        last_data: \"2017-12-15T01:30:00+00:00\", \n        logger_id: 125, \n        diff_days: 539, \n        logger: {\n            longitude: 122.32834, \n            date_activated: \"2016-05-11\", \n            logger_name: \"umig\", \n            latitude: 10.908361, \n            site: 50, \n            model_id: 31, \n            logger_id: 125, \n            date_deactivated: null\n        }\n    }, \n    {\n        presence: 1, \n        ts_updated: \"2019-06-07T07:55:35+00:00\", \n        last_data: null, \n        logger_id: 126, \n        diff_days: 0, \n        logger: {\n            longitude: 122.3278, \n            date_activated: \"2016-05-12\", \n            logger_name: \"umita\", \n            latitude: 10.90807, \n            site: 50, \n            model_id: 10, \n            logger_id: 126, \n            date_deactivated: null\n        }\n    }, \n    {\n        presence: 0, \n        ts_updated: \"2019-06-07T07:55:35+00:00\", \n        last_data: \"2019-01-05T15:00:59+00:00\", \n        logger_id: 128, \n        diff_days: 152, \n        logger: {\n            longitude: 125.127559, \n            date_activated: \"2017-04-26\", \n            logger_name: \"lipra\", \n            latitude: 10.226318, \n            site: 22, \n            model_id: 35, \n            logger_id: 128, \n            date_deactivated: null\n        }\n    }, \n    {\n        presence: 0, \n        ts_updated: \"2019-06-07T07:55:35+00:00\", \n        last_data: \"2018-12-13T11:30:58+00:00\", \n        logger_id: 129, \n        diff_days: 175, \n        logger: {\n            longitude: 125.126619, \n            date_activated: \"2017-04-26\", \n            logger_name: \"bolra\", \n            latitude: 10.298826, \n            site: 7, \n            model_id: 35, \n            logger_id: 129, \n            date_deactivated: null\n        }\n    }, \n    {\n        presence: 0, \n        ts_updated: \"2019-06-07T07:55:35+00:00\", \n        last_data: \"2017-09-21T21:15:00+00:00\", \n        logger_id: 130, \n        diff_days: 623, \n        logger: {\n            longitude: 122.467468, \n            date_activated: \"2017-04-26\", \n            logger_name: \"bayg\", \n            latitude: 14.18792, \n            site: 5, \n            model_id: 31, \n            logger_id: 130, \n            date_deactivated: null\n        }\n    },\n    {\n        presence: 0, \n        ts_updated: \"2019-06-07T07:55:35+00:00\", \n        last_data: \"2018-09-26T21:33:02+00:00\", \n        logger_id: 133, \n        diff_days: 253, \n        logger: {\n            longitude: 122.4676, \n            date_activated: \"2017-04-26\", \n            logger_name: \"baytc\", \n            latitude: 14.18832, \n            site: 5, \n            model_id: 10, \n            logger_id: 133, \n            date_deactivated: null\n        }\n    }, \n    {\n        presence: 0, \n        ts_updated: \"2019-06-07T07:55:35+00:00\", \n        last_data: \"2019-01-15T23:32:07+00:00\", \n        logger_id: 134, \n        diff_days: 142, \n        logger: {\n            longitude: 122.3115, \n            date_activated: \"2017-02-08\", \n            logger_name: \"blcta\", \n            latitude: 10.82815, \n            site: 6, \n            model_id: 2, \n            logger_id: 134, \n            date_deactivated: null\n        }\n    }, \n    {\n        presence: 0, \n        ts_updated: \"2019-06-07T07:55:35+00:00\", \n        last_data: \"2019-01-15T23:30:19+00:00\", \n        logger_id: 135, \n        diff_days: 142, \n        logger: {\n            longitude: 122.31132, \n            date_activated: \"2017-09-12\", \n            logger_name: \"blcpz\", \n            latitude: 10.82662, \n            site: 6, \n            model_id: 36, \n            logger_id: 135, \n            date_deactivated: null\n        }\n    }, \n    {\n        presence: 0, \n        ts_updated: \"2019-06-07T07:55:35+00:00\", \n        last_data: \"2019-01-15T23:30:04+00:00\", \n        logger_id: 138, \n        diff_days: 142, \n        logger: {\n            longitude: 122.4371, \n            date_activated: \"2017-11-15\", \n            logger_name: \"inag\", \n            latitude: 10.86882, \n            site: 18, \n            model_id: 31, \n            logger_id: 138, \n            date_deactivated: null\n        }\n    }, \n    {\n        presence: 0, \n        ts_updated: \"2019-06-07T07:55:35+00:00\", \n        last_data: \"2018-09-25T22:33:58+00:00\", \n        logger_id: 139, \n        diff_days: 254, \n        logger: {\n            longitude: 122.4362, \n            date_activated: \"2017-11-15\", \n            logger_name: \"inatb\", \n            latitude: 10.86991, \n            site: 18, \n            model_id: 10, \n            logger_id: 139, \n            date_deactivated: null\n        }\n    }, \n    {\n        presence: 0, \n        ts_updated: \"2019-06-07T07:55:35+00:00\", \n        last_data: \"2018-09-26T00:33:49+00:00\", \n        logger_id: 140, \n        diff_days: 254, \n        logger: {\n            longitude: 122.4371, \n            date_activated: \"2017-11-15\", \n            logger_name: \"inatc\", \n            latitude: 10.86882, \n            site: 18, \n            model_id: 10, \n            logger_id: 140, \n            date_deactivated: null\n        }\n    }, \n    {\n        presence: 0, \n        ts_updated: \"2019-06-07T07:55:35+00:00\", \n        last_data: \"2019-01-15T23:32:12+00:00\", \n        logger_id: 142, \n        diff_days: 142, \n        logger: {\n            longitude: 125.1279, \n            date_activated: \"2017-02-21\", \n            logger_name: \"bolta\", \n            latitude: 10.30199, \n            site: 7, \n            model_id: 2, \n            logger_id: 142, \n            date_deactivated: null\n        }\n    }, \n    {\n        presence: 0, \n        ts_updated: \"2019-06-07T07:55:35+00:00\", \n        last_data: \"2019-01-15T23:30:04+00:00\", \n        logger_id: 146, \n        diff_days: 142, \n        logger: {\n            longitude: 121.061436, \n            date_activated: \"2017-04-26\", \n            logger_name: \"phig\", \n            latitude: 14.650118, \n            site: 52, \n            model_id: 31, \n            logger_id: 146, \n            date_deactivated: null\n        }\n    },\n    {\n        presence: 0, \n        ts_updated: \"2019-06-07T07:55:35+00:00\", \n        last_data: \"2019-01-15T23:31:25+00:00\", \n        logger_id: 151, \n        diff_days: 142, \n        logger: {\n            longitude: 120.5706, \n            date_activated: \"2018-11-16\", \n            logger_name: \"pugra\", \n            latitude: 16.44655, \n            site: 42, \n            model_id: 35, \n            logger_id: 151, \n            date_deactivated: null\n        }\n    }, \n    {\n        presence: 0, \n        ts_updated: \"2019-06-07T07:55:35+00:00\", \n        last_data: \"2018-12-22T01:45:59+00:00\", \n        logger_id: 152, \n        diff_days: 167, \n        logger: {\n            longitude: 126.1676, \n            date_activated: \"2017-05-16\", \n            logger_name: \"gamra\", \n            latitude: 9.0101, \n            site: 13, \n            model_id: 35, \n            logger_id: 152, \n            date_deactivated: null\n        }\n    }, \n    {\n        presence: 0, \n        ts_updated: \"2019-06-07T07:55:35+00:00\", \n        last_data: \"2019-01-15T23:30:59+00:00\", \n        logger_id: 154, \n        diff_days: 142, \n        logger: {\n            longitude: 124.7526, \n            date_activated: \"2017-08-09\", \n            logger_name: \"imera\", \n            latitude: 11.90383, \n            site: 16, \n            model_id: 35, \n            logger_id: 154, \n            date_deactivated: null\n        }\n    }\n];\n","import React, { useState, useEffect, Fragment } from \"react\";\nimport {\n    TextField, Grid, makeStyles, Divider\n} from \"@material-ui/core\";\n\n// Form Related Imports\nimport MomentUtils from \"@date-io/moment\";\nimport { MuiPickersUtilsProvider, KeyboardDateTimePicker } from \"@material-ui/pickers\";\n\nimport FormControlLabel from \"@material-ui/core/FormControlLabel\";\nimport Radio from \"@material-ui/core/Radio\";\nimport RadioGroup from \"@material-ui/core/RadioGroup\";\nimport Checkbox from \"@material-ui/core/Checkbox\";\nimport Tooltip from \"@material-ui/core/Tooltip\";\n\nimport DynaslopeSiteSelectInputForm, { prepareSitesOption } from \"../../reusables/DynaslopeSiteSelectInputForm\";\nimport { sites } from \"../../../store\";\n\nconst sites_option = prepareSitesOption(sites);\n\nconst useStyles = makeStyles(theme => ({\n    inputGridContainer: {\n        marginTop: 6,\n        marginBottom: 6\n    },\n    checkboxGridContainer: {\n        marginTop: 12,\n        marginBottom: 6\n    },\n    selectInput: {\n        width: \"auto\",\n        [theme.breakpoints.down(\"xs\")]: {\n            width: \"250px\"\n        }\n    },\n    root: {\n        width: \"90%\",\n    },\n    backButton: {\n        marginRight: 1\n    },\n    instructions: {\n        marginTop: 1,\n        marginBottom: 1,\n    },\n    formControl: {\n        width: \"-webkit-fill-available\"\n    },\n    formLabel: {\n        display: \"flex\",\n        alignItems: \"center\",\n        justifyContent: \"space-between\",\n        width: \"100%\"\n    },\n    justify: {\n        display: \"flex\",\n        justifyContent: \"space-evenly\"\n    }\n}));\n\n\nfunction IssuesAndReminderForm (props) {\n    const {\n        issueReminderData,\n        setIssueReminderData, fullScreen,\n        toResolve\n    } = props;\n\n    const classes = useStyles();\n\n    const {\n        iar_id, detail, ts_expiration,\n        resolution, is_event_entry, site_id_list\n    } = issueReminderData; \n    const [default_radio_value, set_default_radio_value] = useState(\"general\");\n    const [radio_value, setRadioValue] = useState(default_radio_value);\n    const [is_general_iar, setIsGeneralIar] = useState(radio_value);\n    const [is_event_checked, setIsEventChecked] = useState(false);\n    const [is_persistent_checked, setIsPersistentChecked] = useState(false);\n\n    useEffect(() => {\n        setIsEventChecked(is_event_entry);\n\n        if (iar_id !== \"\" && typeof iar_id !== \"undefined\") {\n            const site_choices = site_id_list.map(site_id => {\n                return sites_option.filter(number => number.value === site_id).pop();\n            });\n\n            setIssueReminderData({\n                ...issueReminderData,\n                site_id_list: site_choices\n            });\n        }\n        \n        if (site_id_list !== null && typeof site_id_list !== \"undefined\" ) {\n            if (site_id_list.length > 0) {\n                set_default_radio_value(\"site\");\n                setRadioValue(\"site\");\n                setIsGeneralIar(\"site\");    \n            }           \n        }\n        \n        if (ts_expiration === null) {\n            setIsPersistentChecked(true);\n        }\n    }, []);\n\n    const handleRadioChange = event => {\n        const { target: { value } } = event;\n        setRadioValue(value);\n        setIsGeneralIar(value);\n    };\n\n    const handleDateTime = key => value => {\n        setIssueReminderData({\n            ...issueReminderData,\n            [key]: value  \n        });\n    };\n\n    const update_site_value = (value) => setIssueReminderData({\n        ...issueReminderData,\n        site_id_list: value  \n    });\n\n    const handleEventChange = key => event => {\n        const { value } = event.target;\n\n        setIssueReminderData({\n            ...issueReminderData,\n            [key]: value  \n        });\n    };\n\n    const switchHandler = event => {\n        const { value, checked } = event.target;\n\n        switch (value) {\n            case \"is_event_entry\": \n                setIsEventChecked(checked);\n                if (!checked) setIsPersistentChecked(false);\n                setIssueReminderData({\n                    ...issueReminderData,\n                    is_event_entry: checked\n                });\n                break;\n            case \"is_persistent\":\n                setIsPersistentChecked(checked);\n                setIssueReminderData({\n                    ...issueReminderData,\n                    is_persistent: checked\n                });\n                break;\n            default:\n                break;\n        }\n    };\n\n    return (\n        <MuiPickersUtilsProvider utils={MomentUtils}>\n            {\n                !toResolve ? (\n                    <Grid\n                        container\n                        spacing={1}\n                    >\n                        <Grid item xs={12}>\n                            <RadioGroup\n                                aria-label=\"position\"\n                                name=\"position\"\n                                value={radio_value}\n                                onChange={handleRadioChange}\n                                row\n                                className={fullScreen ? \"\" : classes.justify}\n                            >\n                                <FormControlLabel\n                                    value=\"general\"\n                                    control={<Radio color=\"primary\" />}\n                                    label=\"General issue/reminder\"\n                                    labelPlacement=\"end\"\n                               \n                                />\n                                <FormControlLabel\n                                    value=\"site\"\n                                    control={<Radio color=\"primary\" />}\n                                    label=\"Site-specific issue/reminder\"\n                                    labelPlacement=\"end\"\n                                          \n                                />\n                            </RadioGroup>\n                        </Grid>\n\n                        <Grid item xs={12}>\n                            <Divider style={{ marginBottom: 8 }} />\n                        </Grid>\n\n                        {\n                            is_general_iar === \"site\" && (\n                                <Fragment>\n                                    <Grid item xs={12}>\n                                        <DynaslopeSiteSelectInputForm \n                                            value={site_id_list}\n                                            changeHandler={update_site_value}\n                                            isMulti\n                                            includeAddressOnOptions={false}\n                                        />\n                                    </Grid>\n                                    <Grid item xs={12}>\n                                        <FormControlLabel\n                                            key=\"is_event_entry\"\n                                            control={\n                                                <Checkbox\n                                                    checked={is_event_checked}\n                                                    onChange={switchHandler}\n                                                    value=\"is_event_entry\"\n                                                    className={classes.checkboxes}\n                                                />\n                                            }\n                                            label={\n                                                <div>\n                                                    Related to current monitoring event <Tooltip\n                                                        title=\"Checking this will make the issue/reminder expire at the end of site(s) current monitoring event validity\"><strong>[?]</strong></Tooltip>\n                                                </div>\n                                            }\n                                            className=\"primary\"\n                                        />\n                                    </Grid>\n                                </Fragment>\n                            )\n                        }\n                        \n                        {\n                            (is_general_iar || !is_event_checked) && (\n                                <Fragment>\n                                    <Grid item xs={12} md={6} container justify=\"center\">\n                                        <FormControlLabel\n                                            key=\"is_persistent\"\n                                            control={\n                                                <Checkbox\n                                                    checked={is_persistent_checked}\n                                                    onChange={switchHandler}\n                                                    value=\"is_persistent\" \n                                                    className={classes.checkboxes}\n                                                />\n                                            }\n                                            label=\"Persistent reminder\"\n                                            className=\"primary\"\n                                        />\n                                    </Grid>\n                            \n                                    {\n                                        !is_persistent_checked ? (\n                                            <Grid item xs={12} md={6}>\n                                                <KeyboardDateTimePicker\n                                                    autoOk\n                                                    label=\"Issue/Reminder Expiration\"\n                                                    value={ts_expiration}\n                                                    onChange={handleDateTime(\"ts_expiration\")}\n                                                    ampm={false}\n                                                    format=\"YYYY-MM-DD HH:mm:ss\"\n                                                    mask=\"____-__-__ __:__:__\"\n                                                    clearable\n                                                />\n                                            </Grid>\n                                        ) : (\n                                            <Grid item md={6} />\n                                        )\n                                    }\n                                </Fragment>\n                            )\n                        }\n                    \n                        <Grid item xs={12}>\n                            <Divider style={{ margin: \"8px 0\" }} />\n                        </Grid>\n\n                        <Grid item xs={12}>\n                            <TextField\n                                required\n                                label=\"Details\"\n                                value={detail}\n                                onChange={handleEventChange(\"detail\")}\n                                placeholder=\"Enter detail\"\n                                multiline\n                                rowsMax={6}\n                                fullWidth\n                                className={classes.textField}\n                            />\n                        </Grid>\n                    \n                    </Grid>\n                ) : (\n                    <Grid container spacing={1}>\n                        <Grid item xs={12}>\n                            <TextField\n                                required\n                                label=\"Resolution\"\n                                value={resolution || \"\"}\n                                onChange={handleEventChange(\"resolution\")}\n                                placeholder=\"Enter resolution\"\n                                multiline\n                                rowsMax={6}\n                                fullWidth\n                                className={classes.textField}\n                            />\n                        </Grid>                        \n                    </Grid>\n                )\n            }\n        </MuiPickersUtilsProvider>           \n    );\n}\n\n\nexport default IssuesAndReminderForm;\n","import React, { useState, useEffect } from \"react\";\n\nimport {\n    Dialog, DialogTitle, DialogContent,\n    DialogContentText, DialogActions,\n    Button, withMobileDialog\n} from \"@material-ui/core\";\n\nimport moment from \"moment\";\n\nimport { insertIssuesAndRemindersViaPost } from \"./ajax\";\nimport IssuesAndReminderForm from \"./IssuesAndRemindersForm\";\n\n// Session Stuff\nimport { getCurrentUser } from \"../../sessions/auth\";\n\nconst default_state = {\n    detail: \"\",\n    iar_id: \"\",\n    site_id_list: null,\n    user_id: \"\",\n    postings: \"\",\n    resolution: null,\n    resolved_by: null,\n    ts_resolved: null,\n    ts_posted: moment().format(\"YYYY-MM-DD HH:mm:ss\"),\n    ts_expiration: null,\n    is_event_entry: false,\n    is_persistent: false\n};\n\nfunction IssuesAndReminderModal (props) {\n    const {\n        fullScreen, isOpen,\n        closeHandler, setIsIandRUpdateNeeded,\n        chosenIssueReminder, isIandRUpdateNeeded, toResolve,\n        setToRefresh, toRefresh\n    } = props;\n    const [issue_reminder_data, setIssueReminderData] = useState({});\n    \n    useEffect(() => {\n        if (isIandRUpdateNeeded) {\n            const chosenData = chosenIssueReminder;\n            const get_site_id_list = chosenIssueReminder.postings.map(row => row.site_id);\n            const event_ids = [];\n            chosenIssueReminder.postings.forEach(row => {\n                const { event: event_id } = row;\n                if (event_id !== null) event_ids.push(event_id);\n            });\n            chosenData.site_id_list = get_site_id_list;\n            chosenData.is_event_entry = event_ids.length > 0;\n            setIssueReminderData(chosenData);\n        } else {\n            setIssueReminderData(default_state);\n        }\n    }, [isOpen, chosenIssueReminder]);\n\n    const closeHandlerAction = () => {\n        setIsIandRUpdateNeeded(false);\n        closeHandler(false);\n    };\n\n    const handleSubmit = () => {\n        const { resolution } = issue_reminder_data;\n        const ts_now = moment().format(\"YYYY-MM-DD HH:mm:ss\");\n        let temp = {\n            ...issue_reminder_data,\n            ts_posted: ts_now\n        };\n\n        if (resolution !== \"\" && resolution !== null) {\n            const resolver_user_id = getCurrentUser().user_id;\n            temp = {\n                ...issue_reminder_data,\n                ts_resolved: ts_now,\n                resolved_by: resolver_user_id\n            };   \n        }\n\n        insertIssuesAndRemindersViaPost(temp, data => {\n            if (data && typeof toRefresh !== \"undefined\") {\n                setToRefresh(!toRefresh);\n            }\n        });\n        closeHandlerAction();  \n    };\n    \n    return (\n        <Dialog\n            fullWidth\n            fullScreen={fullScreen}\n            open={isOpen}\n            aria-labelledby=\"form-dialog-title\"\n\n        >\n            <DialogTitle id=\"form-dialog-title\">Issues and Reminder Form</DialogTitle>\n            <DialogContent>\n                <DialogContentText>\n                    Provide information to the following fields.\n                </DialogContentText>\n\n                <IssuesAndReminderForm\n                    issueReminderData={issue_reminder_data}\n                    setIssueReminderData={setIssueReminderData}\n                    fullScreen={fullScreen}\n                    toResolve={toResolve}\n                />\n            </DialogContent>\n            <DialogActions>\n                <Button onClick={closeHandlerAction} color=\"primary\">\n                    Cancel\n                </Button>\n                <Button color=\"secondary\" onClick={handleSubmit} disabled={false}>\n                    Submit\n                </Button>\n            </DialogActions>\n        </Dialog>\n    );\n}\n\nexport default withMobileDialog()(IssuesAndReminderModal);\n","import React, {\n    Fragment, useState, useEffect\n} from \"react\";\n\nimport {\n    Typography, GridList, \n    GridListTile, GridListTileBar, \n    IconButton, Tooltip,\n    Dialog, DialogContent, DialogTitle,\n    DialogActions, Button, DialogContentText,\n    makeStyles\n} from \"@material-ui/core\";\nimport InfoIcon from \"@material-ui/icons/InfoOutlined\";\n\nimport moment from \"moment\";\n\nimport IssuesAndReminderModal from \"./IssuesAndReminderModal\";\nimport { receiveIssuesAndReminders } from \"../../../websocket/monitoring_ws\";\n\nconst useStyles = makeStyles(theme => ({\n    inputGridContainer: {\n        marginTop: 8,\n        marginBottom: 8\n    },\n    selectInput: {\n        width: \"auto\",\n        [theme.breakpoints.down(\"xs\")]: {\n            width: \"250px\"\n        }\n    },\n    gridList: {\n        height: \"100vh\",\n        margin: \"0 !important\",\n        boxShadow: \"0px 2px 1px -1px rgba(0,0,0,0.2), 0px 1px 1px 0px rgba(0,0,0,0.14), 0px 1px 3px 0px rgba(0,0,0,0.12)\",\n        \"&::-webkit-scrollbar\": {\n            width: 5\n        },\n        \"&::-webkit-scrollbar-track\": {\n            boxShadow: \"inset 0 0 5px grey\"\n        },\n        \"&::-webkit-scrollbar-thumb\": {\n            background: \"rgba(127, 127, 127, 0.7)\"\n        },\n        position: \"sticky\",\n        top: 148,\n        padding: 8\n    },\n    hasNoIssues: {\n        display: \"flex\",\n        justifyContent: \"center\",\n        alignItems: \"center\",\n        background: \"gainsboro\",\n        border: \"4px solid #CCCCCC\"\n    },\n    icon: {\n        color: \"rgba(255, 255, 255, 0.54)\",\n    },\n    previewText: {\n        padding: \"12px\",\n        fontSize: \"14px\",\n        minHeight: 68\n    },\n    tile: {\n        border: \"0.5px solid #b2b2b2\",\n        padding: \"0 !important\",\n        marginBottom: 6,\n        \"&:last-of-type\": {\n            marginBottom: 0\n        }\n    },\n    tileBar: {\n        background: \"#7f7f7f\",\n        height: \"50px !important\"\n    }\n}));\n\nfunction IssuesAndReminderCard (props) {\n    const { \n        isCardModalOpen, chosenIssueReminder,\n        setCardModalOpen, setIsOpenIssueReminderModal,\n        setToResolve, setIsIandRUpdateNeeded\n    } = props;\n    const { site_list, ts_posted, detail, issue_reporter } = chosenIssueReminder;\n    const { first_name, last_name } = issue_reporter;\n\n    const item_title = prepareTileTitle(site_list, false);\n    const ts = moment(ts_posted).format(\"DD MMMM YYYY, HH:mm\");\n\n    const handleEdit = () => {\n        setCardModalOpen(false);\n        setToResolve(false);\n        setIsOpenIssueReminderModal(true);\n        setIsIandRUpdateNeeded(true);\n\n    };\n    const handleResolve = () => {\n        setCardModalOpen(false);\n        setToResolve(true);\n        setIsOpenIssueReminderModal(true);\n        setIsIandRUpdateNeeded(true);\n    };\n  \n    return (\n        <Dialog open={isCardModalOpen} maxWidth=\"sm\">\n            <DialogTitle style={{ paddingBottom: 8 }}>\n                <div style={{ display: \"flex\", alignItems: \"center\" }}>\n                    <InfoIcon style={{ paddingRight: 8 }} /> {item_title}\n                </div>\n            </DialogTitle>\n            <DialogContent>\n                <DialogContentText>{ts}</DialogContentText>\n                <DialogContentText style={{ textIndent: 40 }} align=\"justify\">{detail}</DialogContentText>\n                <DialogContentText align=\"right\" style={{ marginBottom: 0 }}>{`${first_name} ${last_name}`}</DialogContentText>\n            </DialogContent>\n            <DialogActions disableSpacing>\n                <Button onClick={handleEdit} color=\"primary\">\n                    Edit\n                </Button>\n                <Button onClick={handleResolve} color=\"secondary\">\n                    Resolve\n                </Button>\n                <Button onClick={() => setCardModalOpen(false)} color=\"primary\" autoFocus>\n                    Close\n                </Button>\n            </DialogActions>\n        </Dialog>\n    );\n}\n\nfunction prepareTileData (classes, processed_i_n_r, handleInfoExpand) {\n    return processed_i_n_r.map((tile, index) => {\n        const { \n            site_list, detail, \n            issue_reporter, iar_id\n        } = tile;\n        \n        const item_title = prepareTileTitle(site_list);\n        \n        return (\n            <GridListTile\n                key={`test ${index + 1}`}\n                cols={2}\n                className={classes.tile}\n            >\n                <Typography className={classes.previewText}>\n                    {detail}\n                </Typography>\n                <GridListTileBar\n                    className={classes.tileBar}\n                    title={`${iar_id} ${item_title}`}\n                    subtitle={`${issue_reporter.first_name} ${issue_reporter.last_name}`}\n                    actionIcon={\n                        <Tooltip title=\"Expand card\">\n                            <IconButton \n                                aria-label=\"Expand\"\n                                className={classes.icon}\n                                onClick={handleInfoExpand(tile)}\n                            >\n                                <InfoIcon />\n                            </IconButton>\n                        </Tooltip>\n                    }\n                />\n            </GridListTile>\n        );\n    });\n}\n\nfunction prepareTileTitle (site_list, to_caps_general) {\n    let item_title = to_caps_general ? \"GENERAL\" : \"General\";\n    if (site_list.length !== 0) {\n        item_title = site_list.join(\", \");\n    }\n    return item_title;\n}\n\nfunction includeSiteList (issues_and_reminders) {\n    const processed_i_n_r = issues_and_reminders.map((iar, index) => {\n        const site_id_list = [];\n        const site_list = [];\n        const site_events_list = [];\n\n        const is_persistent = iar.ts_expiration === null;\n\n        iar.postings.forEach(element => {\n            const { event_id, site_id, site } = element;\n            if (site_id !== null) {\n                site_id_list.push(site_id);\n                site_list.push(site.site_code.toUpperCase());\n                site_events_list.push(event_id);\n            }\n        });\n\n        const is_event_entry = site_events_list.length !== 0;\n\n        const new_iar = {\n            ...iar, \n            site_id_list,\n            site_list,\n            site_events_list,\n            is_event_entry,\n            is_persistent\n        };\n\n        return new_iar;\n    });\n\n    return processed_i_n_r;\n}\n\nfunction IssuesAndReminderList (props) {\n    const {\n        isOpenIssueReminderModal, setIsOpenIssueReminderModal,\n        isIandRUpdateNeeded, setIsIandRUpdateNeeded\n    } = props;\n\n    const classes = useStyles();\n\n    const [tile_data, setTileData] = useState([]);\n    const [has_active_issues, setHasActiveIssues] = useState(false);\n    const [chosenIssueReminder, setChosenIssueReminder] = useState({\n        site_list: [],\n        site_id_list: null,\n        ts_posted: null,\n        detail: \"\", issue_reporter: { first_name: \"\", last_name: \"\" }\n    });\n    const [is_card_modal_open, setCardModalOpen] = useState(false);\n    const [toResolve, setToResolve] = useState(false);\n\n    useEffect(() => {\n        receiveIssuesAndReminders(issues_and_reminders => {\n            setHasActiveIssues(false);\n            let final_tile_data = (\n                <Typography component=\"div\" style={{ fontStyle: \"italic\", width: \"auto\", height: 0 }}>\n                    No active issues\n                </Typography>\n            );\n\n            if (issues_and_reminders.length !== 0) {\n                const processed_i_n_r = includeSiteList(issues_and_reminders);\n                final_tile_data = prepareTileData(classes, processed_i_n_r, handleInfoExpand);\n                setHasActiveIssues(true);\n            }\n\n            setTileData(final_tile_data);\n        });\n    }, [classes]);\n\n    const handleInfoExpand = value => event => {\n        setChosenIssueReminder(value);\n        setCardModalOpen(true);\n       \n    };\n    const closeModal = () => {\n        setIsOpenIssueReminderModal(false);\n    };\n\n    return (\n        <Fragment>\n            <GridList component=\"div\" cellHeight=\"auto\" className={`${classes.gridList} ${!has_active_issues && classes.hasNoIssues}`}>\n                {tile_data}\n            </GridList>\n            \n            <IssuesAndReminderCard \n                isCardModalOpen={is_card_modal_open}\n                setCardModalOpen={setCardModalOpen}\n                chosenIssueReminder={chosenIssueReminder}\n                setToResolve={setToResolve}\n                setIsOpenIssueReminderModal={setIsOpenIssueReminderModal}\n                setIsIandRUpdateNeeded={setIsIandRUpdateNeeded}\n            />\n            \n            <IssuesAndReminderModal\n                isOpen={isOpenIssueReminderModal}\n                isIandRUpdateNeeded={isIandRUpdateNeeded}\n                chosenIssueReminder={chosenIssueReminder}\n                setIsIandRUpdateNeeded={setIsIandRUpdateNeeded}\n                toResolve={toResolve}\n                closeHandler ={closeModal}\n            \n            />\n        </Fragment>\n    );\n}\n\nexport default IssuesAndReminderList;\n","import React, { useState, useEffect } from \"react\";\nimport { Link } from \"react-router-dom\";\n\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Accordion from \"@material-ui/core/Accordion\";\nimport AccordionDetails from \"@material-ui/core/AccordionDetails\";\nimport AccordionSummary from \"@material-ui/core/AccordionSummary\";\nimport AccordionActions from \"@material-ui/core/AccordionActions\";\nimport Typography from \"@material-ui/core/Typography\";\nimport ExpandMoreIcon from \"@material-ui/icons/ExpandMore\";\nimport Button from \"@material-ui/core/Button\";\nimport Divider from \"@material-ui/core/Divider\";\nimport TodayIcon from \"@material-ui/icons/Today\";\n\nimport moment from \"moment\";\nimport { Grid } from \"@material-ui/core\";\n\nconst useStyles = makeStyles((theme) => ({\n    summary: {\n        minHeight: 24\n    },\n    summaryContent: {\n        marginBottom: 6,\n        marginTop: 6\n    },\n    icon: {\n        paddingTop: 6,\n        paddingBottom: 6\n    },\n    details: { paddingTop: 16 }\n}));\n\n// This function returns a component displaying current shift and next 2 shifts\nfunction MonitoringShiftsPanel (props) {\n    const { shiftData } = props;\n    const classes = useStyles();\n    const [shifts, setShifts] = useState([]);\n\n    useEffect(() => {    \n        if (shiftData !== null || shiftData !== \"undefined\") {\n            const data = shiftData.filter(row => {\n                if (moment(row.ts) > moment().subtract({ hours: 12 })) {\n                    return row;\n                }\n                return null;\n            });\n            const temp = data.slice(0, 3);\n            setShifts(temp);\n        }\n    }, [shiftData]);\n\n    const getShiftStatus = (ts => {\n        const now = moment();\n        const shift_start = moment(ts);\n        const shift_end = moment(ts).add(12, \"hours\");\n\n        if (now > shift_start && shift_start <= shift_end)\n            return \"Current\";\n\n        if (now.add(12, \"hours\") > shift_start)\n            return \"Next\";\n\n        if (now.add(24, \"hours\") > shift_start)\n            return shift_start.format(\"MMMM D, A (ddd)\");\n\n        return null;\n    });\n\n    return (\n        <Accordion defaultExpanded={false}>\n            <AccordionSummary\n                expandIcon={<ExpandMoreIcon />}\n                aria-controls=\"panel1c-content\"\n                id=\"panel1c-header\"\n                className={classes.summary}\n                IconButtonProps={{ className: classes.icon }}\n                classes={{ content: classes.summaryContent }}\n            >\n                <Grid container justify=\"space-between\" alignItems=\"baseline\">\n                    <Grid item xs>\n                        <Typography variant=\"caption\">\n                            <strong>MONITORING SHIFT</strong>\n                        </Typography>\n                    </Grid>\n\n                    {\n                        shifts.length > 0 && (\n                            <Grid \n                                item xs container\n                                justify=\"space-evenly\"\n                            >\n                                <Typography variant=\"overline\">\n                                    MT - {shifts[0].iompmt}\n                                </Typography>\n\n                                <Typography variant=\"overline\">\n                                    CT - {shifts[0].iompct}\n                                </Typography>\n                            </Grid>\n                        )\n                    }\n                </Grid>\n            </AccordionSummary>\n            <Divider />\n            <AccordionDetails>\n                <Grid container justify=\"space-evenly\" className={classes.details}>\n                    {\n                        shifts.length > 0 && shifts.map(row => (\n                            <Grid item xs={6} sm={4} key={row.ts}>\n                                <Typography variant=\"subtitle2\" align=\"center\">\n                                    <strong>{getShiftStatus(row.ts)}</strong>\n                                </Typography>\n                                <Typography variant=\"body2\" align=\"center\">        \n                                    {row.iompmt} (MT)\n                                </Typography>\n                                <Typography variant=\"body2\" align=\"center\" gutterBottom>        \n                                    {row.iompct} (CT)\n                                </Typography>\n                            </Grid>\n                        ))\n                    } \n                </Grid>\n            </AccordionDetails>\n            <Divider />\n            <AccordionActions>\n                <Link to=\"monitoring/shifts_and_reports/shifts\" style={{ textDecoration: \"none\" }}>\n                    <Button size=\"small\" color=\"primary\" startIcon={<TodayIcon />}>\n                        Go to Calendar\n                    </Button>\n                </Link>\n            </AccordionActions>\n        </Accordion>\n    );\n}\n\nexport default MonitoringShiftsPanel;\n","import React, { Fragment, useState } from \"react\";\nimport {\n    Grid, TextField, Button,\n    Divider, IconButton, Typography\n} from \"@material-ui/core\";\nimport { DeleteForever as DeleteIcon } from \"@material-ui/icons\";\nimport Tooltip from \"@material-ui/core/Tooltip\";\n\nimport MomentUtils from \"@date-io/moment\";\nimport { MuiPickersUtilsProvider, KeyboardDateTimePicker } from \"@material-ui/pickers\";\n\n// Widgets\nimport DynaslopeUserSelectInputForm from \"../../reusables/DynaslopeUserSelectInputForm\";\nimport SelectMultipleWithSuggest from \"../../reusables/SelectMultipleWithSuggest\";\nimport DynaslopeSiteSelectInputForm from \"../../reusables/DynaslopeSiteSelectInputForm\";\n\nfunction MomsInputFields (props) {\n    const {\n        momsEntry: moms_entry,\n        updateField: update_field,\n        isAddingNewInstance: is_adding_new_instance,\n        setIsNoneEntrySelected,\n        location, site_code\n    } = props;\n    // console.log(props);\n    const { moms, options } = moms_entry;\n    const { feature_type } = moms;\n    const is_none_entry = feature_type !== null && feature_type.label === \"None\";\n    setIsNoneEntrySelected(is_none_entry);\n\n    return (\n        <Grid container spacing={2}>\n            <Grid item xs={12} sm={6} md={6}>\n                <SelectMultipleWithSuggest\n                    label=\"Feature Type\"\n                    options={options.feature_type}\n                    value={moms.feature_type}\n                    changeHandler={update_field(\"feature_type\")}\n                    placeholder=\"Select feature type\"\n                    renderDropdownIndicator\n                    openMenuOnClick\n                />\n            </Grid>\n            \n            {\n                !is_none_entry && (\n                    <Grid item xs={12} container spacing={1}>\n                        <Tooltip \n                            title=\"Feature names are auto-generated. To add new MOMs feature name, choose (Add new instance)\"\n                            placement=\"top\"\n                            interactive\n                        >\n                            <Grid item xs={12} sm={6} md={6}>\n                                <SelectMultipleWithSuggest\n                                    label=\"Feature Name\"\n                                    options={options.feature_name.options}\n                                    isDisabled={options.feature_name.disabled}\n                                    value={moms.feature_name}\n                                    changeHandler={update_field(\"feature_name\")}\n                                    placeholder={options.feature_name.disabled ? \"Disabled\" : \"Select feature name\"}\n                                    renderDropdownIndicator\n                                    openMenuOnClick\n                                />\n                            </Grid>\n                        </Tooltip>\n                        {\n                            is_adding_new_instance && (\n                                <Grid item xs={12} sm={6} md={6}>\n                                    <TextField\n                                        label=\"Location\"\n                                        multiline\n                                        rowsMax=\"2\"\n                                        placeholder=\"Enter location of new instance\"\n                                        value={location}\n                                        onChange={update_field(\"location\")}\n                                        fullWidth\n                                        InputLabelProps={{\n                                            shrink: true,\n                                        }}\n                                    />\n                                </Grid>\n                            )\n                        }\n                    </Grid>\n                )\n            }\n\n            <Grid item xs={12} sm={6} md={6}>\n                <SelectMultipleWithSuggest\n                    label=\"Alert Level\"\n                    options={options.alert_level.options}\n                    isDisabled={options.alert_level.disabled}\n                    value={moms.alert_level}\n                    changeHandler={update_field(\"alert_level\")}\n                    placeholder={options.alert_level.disabled ? \"Disabled\" : \"Select alert level\"}\n                    renderDropdownIndicator\n                    openMenuOnClick\n                />\n            </Grid>\n\n            <Grid item xs={12} sm={6} md={6}>\n                <KeyboardDateTimePicker\n                    required\n                    autoOk\n                    label=\"Observance Timestamp\"\n                    value={moms.observance_ts}\n                    onChange={update_field(\"observance_ts\")}\n                    ampm={false}\n                    placeholder=\"2010/01/01 00:00\"\n                    format=\"YYYY/MM/DD HH:mm\"\n                    mask=\"____/__/__ __:__\"\n                    clearable\n                    disableFuture\n                    fullWidth\n                />\n            </Grid>\n\n            <Grid item xs={12} sm={6} md={6}>\n                <TextField\n                    label=\"Narrative\"\n                    multiline\n                    rowsMax=\"2\"\n                    placeholder=\"Enter report narrative\"\n                    value={moms.narrative}\n                    onChange={update_field(\"narrative\")}\n                    fullWidth\n                    InputLabelProps={{\n                        shrink: true,\n                    }}\n                />\n            </Grid>\n\n            <Grid item xs={12} sm={6} md={6}>\n                <DynaslopeUserSelectInputForm\n                    variant=\"standard\"\n                    label=\"Reporter\"\n                    div_id=\"reporter\"\n                    changeHandler={update_field(\"reporter\")}\n                    value={moms.reporter}\n                    isCommunityStaff=\"true\"\n                    site_code={site_code}\n                />\n            </Grid>\n\n            <Grid item xs={12} sm={6} md={6}>\n                <TextField\n                    label=\"Remarks\"\n                    multiline\n                    rowsMax=\"2\"\n                    placeholder=\"Enter expert's remarks\"\n                    value={moms.remarks}\n                    onChange={update_field(\"remarks\")}\n                    fullWidth\n                    InputLabelProps={{\n                        shrink: true,\n                    }}\n                />\n            </Grid>\n\n            <Grid item xs={12} sm={6} md={6}>\n                <DynaslopeUserSelectInputForm\n                    variant=\"standard\"\n                    label=\"Validator\"\n                    div_id=\"validator\"\n                    changeHandler={update_field(\"validator\")}\n                    value={moms.validator}\n                />\n            </Grid>\n        </Grid>\n    );\n}\n\nfunction MomsForm (props) {\n    const {\n        momsEntries, setMomsEntries,\n        selectSite, site, setSite\n    } = props;\n\n    const [isAddingNewInstance, setIsAddingNewInstance] = useState(false);\n    const [isNoneEntrySelected, setIsNoneEntrySelected] = useState(false);\n\n    const addInstanceFn = () => setMomsEntries({ action: \"ADD_INSTANCE\" });\n    const updateField = key => attribute => event => {\n        const group_1 = [\"feature_type\", \"feature_name\", \"alert_level\", \"observance_ts\"];\n        const group_2 = [\"narrative\", \"remarks\", \"reporter\", \"validator\", \"location\"];\n        let value = \"\";\n\n        if (attribute === \"feature_name\") {\n            if (event.label === \"(Add new instance)\") setIsAddingNewInstance(true);\n            else setIsAddingNewInstance(false);\n        }\n\n        if (group_1.includes(attribute)) {\n            value = event;\n        } else if (group_2.includes(attribute)) {\n            const { value: v } = event.target;\n            value = v;\n        }\n\n        setMomsEntries({\n            action: \"UPDATE_DETAILS\",\n            key,\n            attribute,\n            value\n        });\n    };\n    const deleteInstanceFn = key => () => setMomsEntries({ action: \"DELETE_INSTANCE\", key });\n\n    return (\n        <Fragment>\n            {\n                selectSite && (\n                    <div style={{ marginBottom: 12 }}>\n                        <DynaslopeSiteSelectInputForm\n                            value={site}\n                            changeHandler={value => setSite(value)}\n                        />\n                    </div>\n                )\n            }\n\n            {\n                site !== null && (\n                    <Fragment>\n                        <MuiPickersUtilsProvider utils={MomentUtils}>\n                            {\n                                momsEntries.map((entry, key) => {\n                                    const is_first = key === 0;\n                                    const is_last = momsEntries.length === key + 1;\n\n                                    return (\n                                        <Fragment key={`moms_${key}`}>\n                                            <div style={{ \n                                                display: \"flex\", \n                                                justifyContent: \"space-between\", \n                                                alignItems: \"center\",\n                                                paddingBottom: is_first ? 12 : 0\n                                            }}>\n                                                <Typography variant=\"subtitle2\">Entry Number {key + 1}</Typography>\n\n                                                {\n                                                    !is_first && (\n                                                        <IconButton \n                                                            aria-label=\"delete\" \n                                                            color=\"primary\"\n                                                            onClick={deleteInstanceFn(key)}\n                                                        >\n                                                            <DeleteIcon />\n                                                        </IconButton>\n                                                    )\n                                                }\n                                            </div>\n\n                                            <MomsInputFields \n                                                momsEntry={entry}\n                                                updateField={updateField(key)}\n                                                isAddingNewInstance={isAddingNewInstance}\n                                                setIsNoneEntrySelected={setIsNoneEntrySelected}\n                                                site_code={site.data.site_code}\n                                            />\n\n                                            {\n                                                !is_last && (\n                                                    <Divider\n                                                        style={{ margin: \"24px 0 12px\" }}\n                                                        variant=\"middle\"\n                                                    />\n                                                )\n                                            }\n                                        </Fragment>\n                                    );\n                                })\n                            }\n                        </MuiPickersUtilsProvider>\n\n                        {\n                            !isNoneEntrySelected && (\n                                <div style={{ margin: \"16px 0\", textAlign: \"right\" }}>\n                                    <Button\n                                        variant=\"contained\"\n                                        color=\"primary\"\n                                        size=\"small\"\n                                        onClick={addInstanceFn}\n                                    >\n                                        Add MOMs Observation\n                                    </Button>\n                                </div>\n                            )\n                        }\n                    </Fragment>\n                )\n            }\n        </Fragment>\n    );\n}\n\nexport default MomsForm;","import { capitalizeFirstLetter } from \"../../../UtilityFunctions\";\n\nconst moms_entry = {\n    moms: {\n        feature_type: null,\n        feature_name: null,\n        alert_level: null,\n        observance_ts: null,\n        narrative: \"\",\n        reporter: \"\",\n        remarks: \"\",\n        validator: \"\",\n        location: \"\"\n    }, \n    options: {\n        feature_type: [],\n        feature_name: {\n            options: [],\n            disabled: true\n        },\n        alert_level: {\n            options: [],\n            disabled: true\n        }\n    }\n};\n\nfunction reducerFunction (state, payload) {\n    const { action, key, attribute, value } = payload;\n    const new_state = JSON.parse(JSON.stringify(state));\n\n    switch (action) {\n        case \"OVERWRITE\":\n            return [\n                ...value\n            ];\n        case \"ADD_INSTANCE\":\n            return [\n                ...state,\n                JSON.parse(JSON.stringify(moms_entry))\n            ];\n        case \"DELETE_INSTANCE\":\n            new_state.splice(key, 1);\n\n            return [...new_state];\n        case \"UPDATE_DETAILS\":\n            new_state[key].moms[attribute] = value;\n\n            if (attribute === \"feature_type\") {\n                const { instances, alerts } = value;\n\n                const instances_opt = instances.map(ins => {\n                    const { instance_id, feature_name } = ins;\n                    const cap = capitalizeFirstLetter(feature_name);\n                    return { value: instance_id, label: cap }; \n                });\n                // LOUIE ADDS Add new instance option\n                instances_opt.push({ value: 0, label: \"(Add new instance)\" });\n\n                const alerts_opt = alerts.map(al => {\n                    const { feature_alert_id, alert_level, description } = al;\n                    return { value, feature_alert_id, label: alert_level, description };\n                });\n\n                const { moms, options } = new_state[key];\n\n                new_state[key].options = {\n                    ...options,\n                    feature_name: {\n                        options: instances_opt,\n                        disabled: false\n                    },\n                    alert_level: {\n                        options: alerts_opt,\n                        disabled: false\n                    },\n                };\n\n                new_state[key].moms = {\n                    ...moms,\n                    feature_name: null,\n                    alert_level: null\n                };\n            }\n\n            return [...new_state];\n        default:\n            return state;\n    }\n}\n\nexport { moms_entry, reducerFunction };","import React, { useState, useEffect, useReducer, useContext } from \"react\";\nimport moment from \"moment\";\nimport {\n    Dialog, DialogTitle, DialogContent,\n    DialogContentText, DialogActions,\n    Button, withMobileDialog, Typography,\n    makeStyles, Grid\n} from \"@material-ui/core\";\n\nimport { useSnackbar } from \"notistack\";\nimport MomsForm from \"./MomsForm\";\nimport { reducerFunction, moms_entry } from \"./state_handlers\";\nimport { insertMomsToDB, getMOMsFeatures } from \"./ajax\";\nimport { getCurrentUser } from \"../../sessions/auth\";\nimport { sendWSMessage } from \"../../../websocket/monitoring_ws\";\nimport { capitalizeFirstLetter } from \"../../../UtilityFunctions\";\nimport { GeneralContext } from \"../../contexts/GeneralContext\";\n\nconst useStyles = makeStyles(theme => ({\n    form_message_style: {\n        color: \"red\",\n        fontStyle: \"italic\"\n    }\n}));\n\nfunction momsFormValidation (moms_entries) {\n    let has_duplicate_feature_name = false;\n    let has_duplicate_obs_ts = false;\n    let empty_fields = new Set();\n    const feature_name_collection = [];\n    const observance_ts_collection = [];\n    let form_messsage = \"\";\n    let button_state;\n\n    moms_entries.forEach((row, index) => {\n        const { moms } = row;\n        const {\n            alert_level, feature_type, narrative,\n            observance_ts, remarks, reporter, validator\n        } = moms;\n        let { feature_name, location } = moms;\n        \n        const moment_obs_ts = moment(observance_ts).format(\"YYYY-MM-DD HH:mm:00\");\n\n        if (feature_type !== null) {\n            const { value: feature_type_value } = feature_type;\n            if (feature_type_value === 9) {\n                feature_name = \"value\";\n            }\n        }\n\n        if (feature_name !== null) {\n            const { value: feature_name_value } = feature_name;\n            if (feature_name_collection.includes(feature_name_value)) {\n                if (has_duplicate_feature_name === false) {\n                    has_duplicate_feature_name = true;\n                }\n            } else {\n                feature_name_collection.push(feature_name_value);\n            }\n            if (feature_name_value === 0) {\n                if (location === undefined) {\n                    location = \"\";\n                }\n            } else {\n                location = \"value\";\n            }\n        }\n        \n        if (has_duplicate_feature_name === true || moment_obs_ts !== \"Invalid date\") {\n            if (observance_ts_collection.includes(moment_obs_ts)) {\n                if (has_duplicate_obs_ts === false) {\n                    has_duplicate_obs_ts = true;\n                }\n            } else {\n                observance_ts_collection.push(moment_obs_ts);\n            }\n        } \n\n        if (feature_type === null) {\n            empty_fields.add(\"feature type\");\n        }\n\n        if (feature_name === null) {\n            empty_fields.add(\"feature name\");\n        }  \n\n        if (location === \"\") {\n            empty_fields.add(\"location\");\n        }\n\n        if (alert_level === null) {\n            empty_fields.add(\"alert level\");\n        }\n\n        if (observance_ts === null) {\n            empty_fields.add(\"observance timestamp\");\n        } \n        \n        if (narrative === \"\") {\n            empty_fields.add(\"narrative\");\n        }\n\n        if (reporter === \"\") {\n            empty_fields.add(\"reporter\");\n        }\n\n        if (remarks === \"\") {\n            empty_fields.add(\"remarks\");\n        }\n\n        if (validator === \"\") {\n            empty_fields.add(\"validator\");\n        }\n        \n    });\n\n    empty_fields = [...empty_fields];\n\n    if (has_duplicate_feature_name === false) has_duplicate_obs_ts = false;\n    \n    if (empty_fields.length !== 0 || has_duplicate_obs_ts === true) {\n        button_state = true;\n        form_messsage = `Please input ${empty_fields.join(\", \")} form(s). `;\n        if (has_duplicate_obs_ts) {\n            form_messsage += `Duplicate observance time for the same feature instance.`;\n        }\n    } else {\n        button_state = false;\n    }\n\n    return { button_state, form_messsage };\n}\n\nfunction MomsInsertModal (props) {\n    const {\n        fullScreen, isOpen,\n        closeHandler, match\n    } = props;\n    const classes = useStyles();\n    const { sites } = useContext(GeneralContext);\n\n    const [site, setSite] = useState(null);\n    const [site_code, setSiteCode] = useState(null);\n    const [to_select_site, setToSelectSite] = useState(true);\n    const [moms_entries, setMomsEntries] = useReducer(reducerFunction, []);\n    const [submit_button_state, setSubmitButtonState] = useState(false);\n    const [moms_form_message, setMomsFormMessage] = useState(\"\");\n\n    useEffect(() => {\n        if (typeof match !== \"undefined\") {\n            const { params: { site_code: sc } } = match;\n            setToSelectSite(false);\n            setSiteCode(sc);\n        } \n    }, [match]);\n    \n    useEffect(() => {\n        const row = sites.find(x => x.site_code === site_code);\n        if (row) setSite({ value: row.site_id, data: row });\n    }, [sites, site_code]);\n\n    const { enqueueSnackbar, closeSnackbar } = useSnackbar();\n    const snackBarActionFn = key => {\n        return (<Button\n            color=\"primary\"\n            onClick={() => { closeSnackbar(key); }}\n        >\n            Dismiss\n        </Button>);\n    };\n    \n    const [moms_feature_types, setMomsFeatureTypes] = useState([]);\n    useEffect(() => {\n        if (site !== null) {\n            getMOMsFeatures(site.data.site_code, data => {\n                const feature_types = data.map(feat => {\n                    const { feature_id, feature_type, instances, alerts } = feat;\n                    const cap = capitalizeFirstLetter(feature_type);\n                    return { value: feature_id, label: cap, instances, alerts }; \n                });\n\n                setMomsFeatureTypes({ ...moms_feature_types, feature_type: feature_types });\n\n                const moms_entry_copy = moms_entry;\n                moms_entry_copy.options.feature_type = feature_types;\n\n                const is = [moms_entry_copy];\n                setMomsEntries({ action: \"OVERWRITE\", value: is });\n            });\n        }\n    }, [site]);\n\n    useEffect(() => {\n        // console.log(moms_entries);\n        const { button_state, form_messsage } = momsFormValidation(moms_entries);\n        setSubmitButtonState(button_state);\n        setMomsFormMessage(form_messsage);\n    }, [moms_entries]);\n\n    const handleSubmit = () => {\n        console.log(\"moms_entries\", moms_entries);\n\n        const moms_list = moms_entries.map(({ moms }, index) => {\n            const {\n                alert_level, feature_name, feature_type,\n                narrative, observance_ts, remarks,\n                reporter, validator, location\n            } = moms;\n\n            const moment_obs_ts = moment(observance_ts).format(\"YYYY-MM-DD HH:mm:ss\");\n            const current_user = getCurrentUser();\n            const { label: f_type } = feature_type;\n\n            let f_name = \"None\";\n            let instance_id = null;\n            if (f_type !== \"None\") {\n                const { value: val, label } = feature_name;\n                f_name = label === \"(Add new instance)\" ? null : label;\n                instance_id = val;\n            }\n\n            return \t{\n                alert_level: alert_level.label,\n                instance_id,\n                feature_name: f_name,\n                feature_type: f_type,\n                report_narrative: narrative,\n                observance_ts: moment_obs_ts,\n                remarks,\n                reporter_id: reporter,\n                validator_id: validator,\n                location,\n                iomp: current_user.user_id\n            };\n        });\n\n        const { data: { site_code: sc } } = site;\n        const payload = {\n            moms_list,\n            site_code: sc\n        };\n\n        console.log(\"PAYLOAD\", payload);\n\n        closeHandler();\n        insertMomsToDB(payload, response => {\n            let message = \"MOMs input success!\";\n            let variant = \"success\";\n            if (response.status) {\n                sendWSMessage(\"run_alert_generation\", { site_code: sc });\n            } else {\n                const { message: msg } = response;\n                message = msg;\n                variant = \"error\";\n            }\n\n            enqueueSnackbar(\n                message, \n                {\n                    variant,\n                    autoHideDuration: 7000,\n                    action: snackBarActionFn\n                }\n            );\n        }, () => {\n            enqueueSnackbar(\n                \"Error MOMS input...\",\n                {\n                    variant: \"error\",\n                    autoHideDuration: 7000,\n                    action: snackBarActionFn\n                }\n            );\n        });\n    };\n\n    return (\n        <Dialog\n            fullWidth\n            fullScreen={fullScreen}\n            open={isOpen}\n            maxWidth=\"sm\"\n            aria-labelledby=\"form-dialog-title\"\n        >\n            <DialogTitle id=\"form-dialog-title\">Insert Manifestation of Movement Form</DialogTitle>\n            <DialogContent>\n                <DialogContentText>\n                    Provide manifestation of movement (MOMs) details to save information in our database.\n                </DialogContentText>\n\n                <MomsForm\n                    momsEntries={moms_entries}\n                    setMomsEntries={setMomsEntries}\n                    site={site}\n                    setSite={setSite}\n                    selectSite={to_select_site}\n                />\n            </DialogContent>\n            <DialogActions>\n                <Grid container spacing={2} justify=\"center\" alignItems=\"center\">\n                    <Grid item xs={12} sm={8} align=\"center\">\n                        <Typography\n                            variant=\"caption\"\n                            className={classes.form_message_style}\n                            gutterBottom\n                        >\n                            {moms_form_message}\n                        </Typography>\n                    </Grid>\n                    <Grid item xs={12} sm={4} align=\"right\">\n                        <Button onClick={closeHandler} color=\"primary\">\n                            Cancel\n                        </Button>\n                        <Button \n                            onClick={handleSubmit}\n                            color=\"primary\"\n                            disabled={submit_button_state}>\n                            Submit\n                        </Button>\n                    </Grid>\n                </Grid>\n            </DialogActions>\n        </Dialog>\n    );\n}\n\nexport default withMobileDialog()(MomsInsertModal);\n","import axios from \"axios\";\nimport { host } from \"../../../config\";\n\n\nexport function insertMomsToDB (moms_list, callback, err_callback) {\n    const api_link = `${host}/api/manifestations_of_movement/write_monitoring_moms_to_db`;\n\n    console.log(\"moms_list\", moms_list);\n\n    axios.post(api_link, moms_list)\n    .then((response) => {\n        const { data } = response; \n        if (callback !== null) {\n            console.log(\"Moms Insert result\", data);\n            callback(data);\n        } \n    })\n    .catch((error) => {\n        console.log(error);\n        if (err_callback !== null) {\n            err_callback(error);\n        }\n    });\n}\n\nexport function getMOMsFeatures (site_code, callback) {\n    const api_link = `${host}/api/manifestations_of_movement/get_moms_features/${site_code}`;\n\n    axios.get(api_link)\n    .then(response => {\n        const { data } = response;\n        console.log(\"MOMs Features\", data);\n        callback(data);\n    })\n    .catch(error => {\n        console.error(error);\n    });\n}","import React from \"react\";\nimport { Button } from \"@material-ui/core\";\nimport { Landscape } from \"@material-ui/icons\";\n\nexport default function InsertMomsButton (props) {\n    const { clickHandler } = props;\n\n    return (\n        <Button\n            variant=\"contained\"\n            color=\"primary\"\n            size=\"small\"\n            onClick={clickHandler}\n            startIcon={<Landscape />}\n        >\n            Insert MOMs\n        </Button>\n    );\n}\n","import React, { \n    Fragment, useEffect, \n    useState, useContext \n} from \"react\";\n\nimport withWidth, { isWidthUp } from \"@material-ui/core/withWidth\";\nimport { \n    Button, Grid, makeStyles, \n    Hidden, Accordion, AccordionSummary,\n    AccordionDetails, Divider, Typography\n} from \"@material-ui/core\";\nimport { \n    AddAlert, Warning, ExpandMore,\n    Landscape\n} from \"@material-ui/icons\";\nimport { SpeedDial, SpeedDialAction, SpeedDialIcon } from \"@material-ui/lab\";\n\nimport { useSnackbar } from \"notistack\";\n\nimport PageTitle from \"../../reusables/PageTitle\";\nimport TabBar from \"../../reusables/TabBar\";\nimport MonitoringTables from \"./MonitoringTables\";\nimport GeneratedAlerts from \"./GeneratedAlerts\";\nimport AlertReleaseFormModal from \"../../widgets/alert_release_form/AlertReleaseFormModal\";\nimport RoutineReleaseFormModal from \"../../widgets/alert_release_form/RoutineReleaseFormModal\";\nimport IssuesAndRemindersList from \"../../widgets/issues_and_reminders_form/IssuesAndRemindersList\";\nimport MonitoringShiftsPanel from \"../../widgets/monitoring_shifts/MonitoringShiftsPanel\";\nimport GeneralStyles from \"../../../GeneralStyles\";\nimport { \n    subscribeToWebSocket, unsubscribeToWebSocket,\n    receiveGeneratedAlerts, receiveCandidateAlerts,\n    receiveAlertsFromDB, receiveEWIInsertResponse\n} from \"../../../websocket/monitoring_ws\";\nimport { getMonitoringShifts, receiveMonitoringShiftData, removeReceiveMonitoringShiftData } from \"../../../websocket/misc_ws\";\nimport MomsInsertModal from \"../../widgets/moms/MomsInsertModal\";\nimport InsertMomsButton from \"../../widgets/moms/InsertMomsButton\";\nimport { GeneralContext } from \"../../contexts/GeneralContext\";\n\nconst useStyles = makeStyles(theme => {\n    const gen_style = GeneralStyles(theme);\n    return {\n        ...gen_style,\n        tabBar: {\n            ...gen_style.pageContentMargin\n        },\n        tabBarContent: {\n            marginTop: 30\n        },\n        speedDial: {\n            position: \"fixed\",\n            \"&.MuiSpeedDial-directionUp\": {\n                bottom: theme.spacing(2),\n                right: theme.spacing(2),\n            }\n        }\n    };\n});\n\nconst tabs_array = [\n    { label: \"Monitoring Tables\", href: \"monitoring-tables\" },\n    { label: \"Generated Alerts\", href: \"generated-alerts\" }\n];\n\nfunction Container (props) {\n    const { width, history } = props;\n    const classes = useStyles();\n\n    const [chosenTab, setChosenTab] = useState(0);\n    const [generatedAlerts, setGeneratedAlerts] = useState(null);\n    const [monitoringShifts, setMonitoringShifts] = useState([]);\n    const [candidateAlertsData, setCandidateAlertsData] = useState(null);\n    const [alertsFromDbData, setAlertsFromDbData] = useState(null);\n    const [isOpenReleaseModal, setIsOpenReleaseModal] = useState(false);\n    const [isOpenRoutineModal, setIsOpenRoutineModal] = useState(false);\n    const [chosenCandidateAlert, setChosenCandidateAlert] = useState(null);\n    const [isOpenIssueReminderModal, setIsOpenIssueReminderModal] = useState(false);\n    const [isIandRUpdateNeeded, setIsIandRUpdateNeeded] = useState(false);\n    const [is_moms_modal_open, setMomsModal] = useState(false);\n    const set_moms_modal_fn = bool => () => setMomsModal(bool);\n    const { setIsReconnecting } = useContext(GeneralContext);\n    const { enqueueSnackbar, closeSnackbar } = useSnackbar();\n    \n    useEffect(() => {\n        subscribeToWebSocket(setIsReconnecting);\n\n        receiveGeneratedAlerts(generated_alerts => setGeneratedAlerts(generated_alerts));\n        receiveCandidateAlerts(candidate_alerts => setCandidateAlertsData(candidate_alerts));\n        receiveAlertsFromDB(alerts_from_db => setAlertsFromDbData(alerts_from_db));\n        getMonitoringShifts();\n        receiveMonitoringShiftData(shift_data => setMonitoringShifts(shift_data));\n        receiveEWIInsertResponse(response => {\n            const { snackbar_key, message, status } = response;\n            closeSnackbar(snackbar_key);\n            enqueueSnackbar(\n                message,\n                {\n                    variant: status ? \"success\" : \"error\",\n                    autoHideDuration: 7000\n                }\n            );\n        });\n\n        return function cleanup () {\n            unsubscribeToWebSocket();\n            removeReceiveMonitoringShiftData();\n        };\n    }, []);\n\n    const handleTabSelected = chosen_tab => {\n        setChosenTab(chosen_tab);\n    };\n    \n    const handleBoolean = (data, bool) => () => {\n        if (data === \"is_open_release_modal\") setIsOpenReleaseModal(bool);\n        else if (data === \"is_open_issues_modal\") {\n            setIsIandRUpdateNeeded(!bool);\n            setIsOpenIssueReminderModal(bool);\n        }\n        else if (data === \"is_routine_modal_open\") setIsOpenRoutineModal(bool);\n    };\n\n    const releaseAlertHandler = (chosen_candidate, general_status) => () => {\n        setChosenCandidateAlert(chosen_candidate);\n\n        if (general_status === \"routine\") {\n            handleBoolean(\"is_routine_modal_open\", true)();\n        } else {\n            handleBoolean(\"is_open_release_modal\", true)();\n        }\n    };\n\n    const routineReleaseHandler = chosen_candidate => () => {\n        setChosenCandidateAlert(chosen_candidate);\n        handleBoolean(\"is_open_release_modal\", false)();\n        handleBoolean(\"is_routine_modal_open\", true)();\n    };\n\n    const is_desktop = isWidthUp(\"md\", width);\n\n    const [open, setOpen] = useState(false);\n    const actions = [\n        { icon: <AddAlert />, name: \"Release alert\", action: releaseAlertHandler(null) },\n        { icon: <Landscape />, name: \"Insert MOMs\", action: set_moms_modal_fn(true) },\n        { icon: <Warning />, name: \"Add issue/reminder\", action: handleBoolean(\"is_open_issues_modal\", true) }\n    ];\n\n    const custom_buttons = <span>\n        <Button\n            aria-label=\"Add issue/reminder\"\n            variant=\"contained\"\n            color=\"primary\"\n            size=\"small\"\n            style={{ marginRight: 8 }}\n            onClick={handleBoolean(\"is_open_issues_modal\", true)}\n            startIcon={<Warning />}\n        >\n            Add issue/reminder\n        </Button>\n        <span style={{ marginRight: 8 }}>\n            <InsertMomsButton clickHandler={set_moms_modal_fn(true)} />\n        </span>\n        <Button\n            aria-label=\"Release alert\"\n            variant=\"contained\"\n            color=\"primary\"\n            size=\"small\"\n            onClick={releaseAlertHandler(null)}\n            startIcon={<AddAlert />}\n        >\n            Release Alert\n        </Button>\n    </span>;\n\n    return (\n        <Fragment>\n            <div className={classes.pageContentMargin}>\n                <PageTitle\n                    title=\"Alert Monitoring | Dashboard\"\n                    customButtons={is_desktop ? custom_buttons : false}\n                />\n            </div>\n\n            <div className={classes.tabBar}>\n                <Grid container spacing={3}>\n                    <Grid item xs={12} md={3}>\n                        <Hidden smDown>\n                            <IssuesAndRemindersList \n                                isOpenIssueReminderModal={isOpenIssueReminderModal}\n                                setIsOpenIssueReminderModal={setIsOpenIssueReminderModal}\n                                isIandRUpdateNeeded={isIandRUpdateNeeded}\n                                setIsIandRUpdateNeeded={setIsIandRUpdateNeeded}\n                            />\n                        </Hidden>\n\n                        <Hidden mdUp>\n                            <Accordion defaultExpanded={false}>\n                                <AccordionSummary\n                                    expandIcon={<ExpandMore />}\n                                    aria-controls=\"panel1c-content\"\n                                    id=\"panel1c-header\"\n                                >\n                                    <Grid container justify=\"space-between\" alignItems=\"baseline\">\n                                        <Typography variant=\"caption\">\n                                            <strong>ISSUES AND REMINDERS</strong>\n                                        </Typography>\n                                    </Grid>\n                                </AccordionSummary>\n                                <Divider />\n                                <AccordionDetails>\n                                    <Grid container justify=\"space-evenly\" className={classes.details}>\n                                        <IssuesAndRemindersList \n                                            isOpenIssueReminderModal={isOpenIssueReminderModal}\n                                            setIsOpenIssueReminderModal={setIsOpenIssueReminderModal}\n                                            isIandRUpdateNeeded={isIandRUpdateNeeded}\n                                            setIsIandRUpdateNeeded={setIsIandRUpdateNeeded}\n                                        />\n                                    </Grid>\n                                </AccordionDetails>\n                            </Accordion>\n                        </Hidden>\n                    </Grid>\n                    \n                    <Grid item xs={12} md={9}>\n                        <div style={{ marginBottom: 12 }}>\n                            <MonitoringShiftsPanel shiftData={monitoringShifts}/>\n                        </div>\n\n                        <TabBar\n                            chosenTab={chosenTab}\n                            onSelect={handleTabSelected}\n                            tabsArray={tabs_array}\n                        />\n                        <div className={classes.tabBarContent}>         \n                            {chosenTab === 0 && (\n                                <MonitoringTables\n                                    width={width}\n                                    candidateAlertsData={candidateAlertsData}\n                                    alertsFromDbData={alertsFromDbData}\n                                    releaseFormOpenHandler={releaseAlertHandler}\n                                    history={history}\n                                />\n                            )}\n                            {chosenTab === 1 && <GeneratedAlerts generatedAlertsData={generatedAlerts} />}\n                        </div>\n                    </Grid>\n                </Grid>\n            </div>\n\n            {\n                !is_desktop && (\n                    <SpeedDial\n                        ariaLabel=\"SpeedDial example\"\n                        className={classes.speedDial}\n                        FabProps={{\n                            color: \"secondary\"\n                        }}\n                        icon={<SpeedDialIcon />}\n                        onClose={() => setOpen(false)}\n                        onOpen={() => setOpen(true)}\n                        open={open}\n                    >\n                        {\n                            actions.map(item => (\n                                <SpeedDialAction\n                                    key={item.name}\n                                    icon={item.icon}\n                                    tooltipTitle={item.name}\n                                    onClick={item.action}\n                                />\n                            ))\n                        }\n                    </SpeedDial>\n                )\n            }\n\n            <AlertReleaseFormModal\n                isOpen={isOpenReleaseModal}\n                closeHandler={handleBoolean(\"is_open_release_modal\", false)}\n                setChosenCandidateAlert={setChosenCandidateAlert}\n                chosenCandidateAlert={chosenCandidateAlert}\n                alertsFromDbData={alertsFromDbData}\n                setIsOpenRoutineModal={routineReleaseHandler(null)}\n            />\n\n            <RoutineReleaseFormModal\n                isOpen={isOpenRoutineModal}\n                closeHandler={handleBoolean(\"is_routine_modal_open\", false)}\n                chosenCandidateAlert={chosenCandidateAlert}\n                setChosenCandidateAlert={setChosenCandidateAlert}\n            />\n\n            <MomsInsertModal\n                isOpen={is_moms_modal_open}\n                closeHandler={set_moms_modal_fn(false)}\n            />\n        </Fragment>\n    );\n\n\n}\nexport default withWidth()(Container);\n","import React, { useState, useEffect, Fragment } from \"react\";\nimport moment from \"moment\";\nimport { Timeline, TimelineItem } from \"vertical-timeline-component-for-react\";\nimport {\n    Typography, Grid, Button,\n    Divider, makeStyles, Icon\n} from \"@material-ui/core\";\n\nimport { Description, Assessment } from \"@material-ui/icons\";\nimport { getEventTimelineEntries } from \"../ajax\";\nimport { capitalizeFirstLetter } from \"../../../UtilityFunctions\";\nimport BulletinModal from \"../../widgets/bulletin/BulletinModal\";\n\nconst useStyles = makeStyles(theme => ({\n    timeline: {\n        margin: \"0 auto\",\n        lineColor: \"#DDDDDD\",\n        paddingTop: 24\n    }\n}));\n\nfunction processTriggers (triggers) {\n    const ReturnDiv = <ul>\n        {\n            triggers.map(trigger => {\n                const {\n                    ts, info, internal_sym: { \n                        trigger_symbol: {\n                            alert_symbol,\n                            trigger_hierarchy: { trigger_source }\n                        },\n                        alert_symbol: int_alert_sym\n                    }, trigger_id\n                } = trigger;\n            \n                const source = trigger_source === \"moms\" ? \"Manifestation of Movement\"\n                    : capitalizeFirstLetter(trigger_source);\n            \n                const main = <li>{\n                    `${source} (${alert_symbol}) alert triggered on ${moment(ts).format(\"MMMM Do YYYY, hh:mm A\")}`\n                }</li>;\n                const tech_info = <ul><li>{info}</li></ul>;\n\n                const additional = [];\n                if (trigger_source === \"moms\") {\n                    const { trigger_misc: { moms_releases } } = trigger;\n\n                    moms_releases.forEach(moms_entry => {\n                        const entry = processMomsTrigger(moms_entry, int_alert_sym);\n                        additional.push(entry);\n                    });\n                } else if (trigger_source === \"on demand\") {\n                    const { trigger_misc: { on_demand } } = trigger;\n                    const { narrative: { narrative } } = on_demand;\n                    additional.push(<ul key=\"od\"><li>Reason:</li><ul><li>{narrative}</li></ul></ul>);\n                }\n\n                return <Fragment key={trigger_id}>\n                    {main}{tech_info}\n                    {additional.map(row => row)}\n                </Fragment>;\n            })\n        }\n    </ul>;\n\n    return ReturnDiv;\n}\n\nfunction processMomsTrigger (moms_entry, int_alert_sym, non_triggering = false) {\n    const {\n        moms_details: { \n            moms_instance: {\n                feature: { feature_type },\n                feature_name\n            },\n            op_trigger,\n            validator: { first_name: vfn, last_name: vln },\n            reporter: { first_name: rfn, last_name: rln },\n            narrative: { narrative },\n            remarks, moms_id\n        }\n    } = moms_entry;\n\n    const prefix = non_triggering ? \"Non-triggering \" : \"\";\n\n    const feature_set = <ul key={moms_id}>\n        <li>\n            {prefix}Feature: {capitalizeFirstLetter(feature_type)} {feature_name} ({int_alert_sym + op_trigger})\n        </li>\n        <ul>\n            <li>Narrative: {narrative}</li>\n            <li>Reporter: {`${rfn} ${rln}`}</li>\n            <li>Remarks: {remarks}</li>\n            <li>Validator: {`${vfn} ${vln}`}</li>\n        </ul>\n    </ul>;\n    \n    return feature_set;\n}\n\nfunction getReleaseHeader (release_type) {\n    let headers = \"EARLY WARNING INFORMATION\";\n    if (release_type === \"end_of_validity\") headers = \"END OF MONITORING\";\n    else if (release_type === \"overdue\") headers = \"OVERDUE\";\n    else if (release_type === \"extended\") headers = \"EXTENDED MONITORING\";\n    else if (release_type === \"routine\") headers = \"ROUTINE MONITORING\";\n\n    return headers;\n}\n\nfunction getColorBasedOnReleaseType (release_type) {\n    let color = \"#F8991D\";\n    if (release_type === \"end_of_validity\") color = \"#00B200\";\n    else if (release_type === \"overdue\") color = \"#FA4413\";\n    else if (release_type === \"extended\") color = \"#00B200\";\n    else if (release_type === \"routine\") color = \"#59081E\";\n\n    return color;\n}\n\n// eslint-disable-next-line max-params\nfunction buildTimelineElements (timelineItems, bulletinHandler, site_code, site_id) {\n    const temp = [];\n    let key = 0;\n    timelineItems.forEach(item => {\n        key += 1;\n        const {\n            item_timestamp, item_data, item_type\n        } = item;\n        let element = null;\n\n        const moment_item_timestamp = moment(item_timestamp).format(\"DD MMMM YYYY, hh:mm A\");\n\n        if (item_type === \"narrative\") {\n            element = (\n                <TimelineItem\n                    key={key}\n                    dateText={moment_item_timestamp}\n                    style={{ color: \"#969696\" }}\n                    dateComponent={(\n                        <div\n                            style={{\n                                display: \"block\",\n                                \"float\": \"right\",\n                                padding: \"10px\",\n                                marginRight: 38,\n                                background: \"rgb(150, 150, 150)\",\n                                color: \"#fff\",\n                            }}\n                        >\n                            {moment_item_timestamp}\n                        </div>\n                    )}                                            \n                >\n                    <Typography variant=\"body2\" component=\"div\">\n                        {item_data.narrative}\n                    </Typography>\n                </TimelineItem>\n            );\n        } else if (item_type === \"release\") {\n            const {\n                release_time, data_ts, release_publishers,\n                triggers, is_onset, internal_alert_level,\n                moms_releases, release_id, comments\n            } = item_data;\n\n            const { release_type } = item;\n            const card_color = getColorBasedOnReleaseType(release_type);\n            const header = getReleaseHeader(release_type);\n            \n            let moment_data_ts = moment(data_ts);\n            if (!is_onset) moment_data_ts = moment_data_ts.add(30, \"minutes\");\n            moment_data_ts = moment_data_ts.format(\"MMMM Do YYYY, h:mm A\");\n            \n            let mt = \"\";\n            let ct = \"\";\n            release_publishers.forEach(publisher => {\n                const { role, user_details } = publisher;\n                const { first_name, last_name } = user_details;\n                if (role === \"mt\") mt = `${first_name} ${last_name}`;\n                if (role === \"ct\") ct = `${first_name} ${last_name}`;\n            });\n\n            element = (\n                <TimelineItem\n                    key={key}\n                    dateText={moment_item_timestamp}\n                    style={{ color: card_color }}\n                    dateInnerStyle={{ background: card_color, lineHeight: \"48px\", textAlign: \"center\" }}\n                    bodyContainerStyle={{\n                        background: \"#EEEEEE\",\n                        padding: \"18px 20px\",\n                        borderRadius: \"8px\",\n                        boxShadow: \"0.2rem 0.2rem 0.5rem 0 rgba(0, 0, 0, 0.2)\",\n                    }}\n                >\n                    <Grid container spacing={1}>\n                        <Grid item xs={12} container alignItems=\"center\">\n                            <Icon style={{ color: card_color, height: 45, width: \"auto\", paddingRight: 8 }}>\n                                <Description style={{ height: 45, width: \"auto\" }} />\n                            </Icon>\n                            <div>\n                                <Typography\n                                    variant=\"caption\" component=\"div\"\n                                    style={{ color: card_color }}\n                                >\n                                    <strong>{header}</strong>\n                                </Typography>\n                                <Typography\n                                    variant=\"h6\" component=\"div\"\n                                    style={{ color: card_color, lineHeight: 1.2 }}\n                                >\n                                    <strong>{moment_data_ts}</strong>\n                                </Typography>\n                            </div>\n                        </Grid>\n                        <Grid item xs={12}><Divider /></Grid>\n                        <Grid item xs={12} container justify=\"space-between\">\n                            <Typography variant=\"body2\" style={{ color: card_color }}>\n                                Release Time: <strong>{release_time}</strong>\n                            </Typography>\n                            <Typography variant=\"body2\" style={{ color: card_color }}>\n                                Internal Alert Level: <strong>{internal_alert_level}</strong>\n                            </Typography>\n                        </Grid>\n                        {\n                            triggers.length > 0 && (\n                                <Fragment>\n                                    <Grid item xs={12}><Divider /></Grid>\n                                    <Grid item xs={12}>\n                                        <Typography \n                                            variant=\"body2\"\n                                            component=\"div\"\n                                            style={{ color: card_color }}\n                                        >\n                                            <strong>{processTriggers(triggers)}</strong>\n                                        </Typography>\n                                    </Grid>\n                                </Fragment>\n                            )\n                        }\n\n                        {\n                            moms_releases.length > 0 && (\n                                <Fragment>\n                                    <Grid item xs={12}><Divider /></Grid>\n                                    <Grid item xs={12}>\n                                        <Typography \n                                            variant=\"body2\"\n                                            component=\"div\"\n                                            style={{ color: card_color }}\n                                        >\n                                            <strong>\n                                                {\n                                                    moms_releases.map(row => processMomsTrigger(row, \"m\", true))\n                                                }\n                                            </strong>\n                                        </Typography>\n                                    </Grid>\n                                </Fragment>\n                            )\n                        }\n                        {\n                            comments !== \"\" && comments !== null && (\n                                <Fragment>\n                                    <Grid item xs={12}><Divider /></Grid>\n                                    <Grid item xs={12} container justify=\"space-between\">\n                                        <Typography variant=\"body2\" style={{ color: card_color }}>\n                                            Comments: <strong>{comments}</strong>\n                                        </Typography>\n                                    </Grid>\n                                </Fragment>\n                            )\n                        }\n                        <Grid item xs={12}><Divider /></Grid>\n                        <Grid item xs={12} container justify=\"space-between\" alignItems=\"center\">\n                            <Typography variant=\"body2\" style={{ color: card_color }}>\n                                {mt} | {ct}\n                            </Typography>\n                            <Button\n                                aria-label=\"Show bulletin\"\n                                variant=\"text\"\n                                color=\"primary\"\n                                size=\"small\"\n                                onClick={bulletinHandler({ release_id, site_code, site_id })}\n                            >\n                                Bulletin\n                            </Button>\n                        </Grid>\n                    </Grid>\n                </TimelineItem>\n            );\n        } else if (item_type === \"eos\") {\n            const card_color = \"#3f51b5\";\n            element = (\n                <TimelineItem\n                    key={key}\n                    dateText={moment_item_timestamp}\n                    style={{ color: card_color }}\n                    dateInnerStyle={{ background: card_color, lineHeight: \"48px\" }}\n                    bodyContainerStyle={{\n                        background: \"#EEEEEE\",\n                        padding: \"18px 20px\",\n                        borderRadius: \"8px\",\n                        boxShadow: \"0.2rem 0.2rem 0.5rem 0 rgba(0, 0, 0, 0.2)\",\n                    }}\n                >\n                    <Grid container spacing={1}>\n                        <Grid item xs={12} container alignItems=\"center\">\n                            <Icon style={{ color: card_color, height: 45, width: \"auto\", paddingRight: 8 }}>\n                                <Assessment style={{ height: 45, width: \"auto\" }} />\n                            </Icon>\n                            <div>\n                                <Typography\n                                    variant=\"caption\" component=\"div\"\n                                    style={{ color: card_color }}\n                                >\n                                    <strong>END-OF-SHIFT-ANALYSIS</strong>\n                                </Typography>\n                                <Typography\n                                    variant=\"h6\" component=\"div\"\n                                    style={{ color: card_color, lineHeight: 1.2 }}\n                                >\n                                    <strong>{moment(item_timestamp).format(\"MMMM Do YYYY, h:mm A\")}</strong>\n                                </Typography>\n                            </div>\n                        </Grid>\n                        <Grid item xs={12}><Divider /></Grid>\n                        <Grid item xs={12}>\n                            <Typography\n                                variant=\"body2\"\n                                style={{ color: card_color }}\n                                dangerouslySetInnerHTML={{ __html: item_data }}\n                            />\n                        </Grid>\n                    </Grid>\n                    {/* <h3 style={{ color: card_color }}>END-OF-SHIFT ANALYSIS</h3> */}\n                    {/* <h4>{moment_item_timestamp.toUpperCase()}</h4><br/> */}\n                    {/* HIGHLY DANGEROUS REACT CODE: */}\n                    {/* Might wanna use react-html-parser in the future  */}\n                    {/* <div dangerouslySetInnerHTML={{ __html: item_data }} /> */}\n                </TimelineItem>\n            );\n        }\n\n        temp.push(element);\n    });\n    return temp;\n}\n\nfunction MonitoringEventTimeline (props) {\n    const { match: { params: { event_id } } } = props;\n    const classes = useStyles();\n    const [eventDetails, setEventDetails] = useState({\n        event_id,\n        site_code: \"---\",\n        site_id: 1,\n        validity: moment(),\n        event_start: moment(),\n        site_address: \"\",\n        status: 1\n    });\n    const [timelineItems, setTimelineItems] = useState([]);\n    const [chosenReleaseDetail, setChosenReleaseDetail] = useState({});\n    const [isOpenBulletinModal, setIsOpenBulletinModal] = useState(false);\n\n    useEffect(() => {\n        const input = { event_id };\n        getEventTimelineEntries(input, ret => {\n            const {\n                event_details, timeline_items\n            } = ret;\n            if (Object.keys(event_details).length > 0) {\n                setEventDetails(event_details);\n                setTimelineItems(timeline_items);\n            }\n        });\n    }, []);\n\n    const monitoring_type = eventDetails.status === 1 ? \"ROUTINE\" : \"EVENT\";\n    const bulletinHandler = release => event => {\n        console.log(release);\n        const rel = { ...release, type: null };\n        setChosenReleaseDetail(rel);\n        setIsOpenBulletinModal(true);\n    };\n\n    const format_str = \"MMMM Do YYYY, hh:mm A\";\n    const start_ts = moment(eventDetails.event_start).format(format_str);\n\n    let end_ts = \"PRESENT\";\n    if (eventDetails.validity !== null) end_ts = moment(eventDetails.validity).format(format_str);\n\n    return (\n        <Grid container spacing={2}>\n            {/* <Grid item xs={12} align=\"center\">\n                <Typography variant=\"h5\">\n                    {monitoring_type} Monitoring Timeline\n                </Typography>\n            </Grid> */}\n            <Grid item xs={12}>\n                <Typography variant=\"h6\" align=\"center\">\n                    <strong>{monitoring_type} MONITORING TIMELINE</strong>\n                </Typography>\n                <Typography \n                    variant=\"h4\"\n                    align=\"center\"\n                >\n                    {eventDetails.site_address} ({eventDetails.site_code.toUpperCase()})\n                </Typography>\n                <Typography \n                    variant=\"subtitle1\"\n                    align=\"center\"\n                >\n                    { `${start_ts} to ${end_ts}` }\n                </Typography>\n            </Grid>\n\n            <Timeline className={classes.timeline} lineColor=\"#DDDDDD\">\n                {\n                    buildTimelineElements(timelineItems, bulletinHandler, eventDetails.site_code, eventDetails.site_id)\n                }\n            </Timeline>\n\n            <BulletinModal \n                classes={classes}\n                isOpenBulletinModal={isOpenBulletinModal}\n                setIsOpenBulletinModal={setIsOpenBulletinModal}\n                releaseDetail={chosenReleaseDetail}\n            />     \n        </Grid>\n    );\n}\n\nexport default MonitoringEventTimeline;\n","import React from \"react\";\nimport Grow from \"@material-ui/core/Grow\";\nimport TextField from \"@material-ui/core/TextField\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport ForwardIcon from \"@material-ui/icons/Forward\";\nimport ClearIcon from \"@material-ui/icons/Clear\";\nimport { withStyles } from \"@material-ui/core/styles\";\n\nconst defaultSearchStyles = theme => ({\n    main: {\n        display: \"flex\",\n        flex: \"1 0 auto\",\n    },\n    searchText: {\n        flex: \"0.8 0\",\n    },\n    clearIcon: {\n        \"&:hover\": {\n            color: theme.palette.error.main,\n        },\n    },\n});\n\nclass CustomSearchRender extends React.Component {\n    componentDidMount () {\n        document.addEventListener(\"keydown\", this.onKeyDown, false);\n    }\n\n    componentWillUnmount () {\n        document.removeEventListener(\"keydown\", this.onKeyDown, false);\n    }\n\nhandleTextChange = event => {\n    const { options, onSearch } = this.props;\n    const { onSearchChange } = options;\n\n    if (onSearchChange) {\n        onSearchChange(event.target.value);\n    }\n\n    onSearch(event.target.value);\n};\n\nonKeyDown = event => {\n    const { onHide, onSearchClick } = this.props;\n    if (event.keyCode === 27) {\n        onHide();\n    } else if (event.keyCode === 13) {\n        onSearchClick();\n    }\n};\n\nrender () {\n    const { classes, options, onHide, searchText, onSearchClick } = this.props;\n\n    return (\n        <Grow appear in timeout={300}>\n            <div className={classes.main} ref={el => (this.rootRef = el)}>\n                <TextField\n                    placeholder=\"Search events using YYYY-MM-DD format...\"\n                    className={classes.searchText}\n                    InputProps={{\n                        \"aria-label\": options.textLabels.toolbar.search,\n                    }}\n                    value={searchText || \"\"}\n                    onChange={this.handleTextChange}\n                    fullWidth\n                    inputRef={el => (this.searchField = el)}\n                />\n                <IconButton className={classes.clearIcon} style={{ marginLeft: 6 }} onClick={onSearchClick}>\n                    <ForwardIcon />\n                </IconButton>\n                <IconButton className={classes.clearIcon} onClick={onHide}>\n                    <ClearIcon />\n                </IconButton>\n            </div>\n        </Grow>\n    );\n}\n}\n\nexport default withStyles(defaultSearchStyles, { name: \"CustomSearchRender\" })(CustomSearchRender);","import React, { useState, useEffect, useContext, Fragment } from \"react\";\nimport moment from \"moment\";\nimport MUIDataTable from \"mui-datatables\";\nimport withWidth, { isWidthUp } from \"@material-ui/core/withWidth\";\nimport {\n    CircularProgress, Typography, Paper,\n    makeStyles\n} from \"@material-ui/core\";\nimport { createMuiTheme, MuiThemeProvider } from \"@material-ui/core/styles\";\nimport { Route, Switch, Link } from \"react-router-dom\";\n\nimport MonitoringEventTimeline from \"./EventTimeline\";\nimport CustomSearchRender from \"./CustomSearchRender\";\nimport PageTitle from \"../../reusables/PageTitle\";\nimport GeneralStyles from \"../../../GeneralStyles\";\nimport { prepareSiteAddress } from \"../../../UtilityFunctions\";\nimport { GeneralContext } from \"../../contexts/GeneralContext\";\nimport { getMonitoringEvents } from \"../ajax\";\n\nconst filter_sites_option = [];\n\nconst useStyles = makeStyles(theme => ({\n    ...GeneralStyles(theme),\n    eventTable: {\n        minWidth: \"900px\"\n    }\n}));\n\nfunction prepareEventTimelineLink (url, event_id) {\n    return (\n        <Link\n            to={`${url}/${event_id}`}\n        >\n            {event_id}\n        </Link>\n    );\n}\n\nfunction prepareEventsArray (arr, sites_dict) {\n    return arr.map(\n        (element, index) => {\n            const {\n                event_id, site_code, entry_type, \n                event_start, validity, public_alert\n            } = element;\n\n            let final_event_start = null;\n            let final_ts_end = \"ROUTINE\";\n            \n            if (event_start !== \"\" && event_start !== null) final_event_start = moment(event_start).format(\"D MMMM YYYY, HH:mm\");\n            if (validity !== \"\" && validity !== null) final_ts_end = moment(validity).format(\"D MMMM YYYY, HH:mm\");\n\n            let address = \"\";\n            if (Object.keys(sites_dict).length) {\n                const { address: add } = sites_dict[site_code.toUpperCase()];\n                address = add;\n            }\n\n            const event_entry = [\n                event_id,\n                address,\n                entry_type,\n                public_alert,\n                final_event_start,\n                final_ts_end\n            ];\n\n            return event_entry;\n        });\n}\n\nconst getMuiTheme = createMuiTheme({\n    overrides: {\n        MUIDataTableHeadCell: {\n            root: {\n                zIndex: \"0 !important\"\n            }\n        }\n    }\n});\n\nfunction MonitoringEventsTable (props) {\n    const {\n        width, location,\n        match: { url }\n    } = props;\n\n    const classes = useStyles();\n\n    const [data, setData] = useState([[\"Loading Data...\"]]);\n    const [page, setPage] = useState(0);\n    const [rowsPerPage, setRowsPerPage] = useState(10);\n    const [count, setCount] = useState(1);\n    const [isLoading, setIsLoading] = useState(false);\n    const [sites_dict, setSitesDict] = useState({});\n\n    // SEARCH AND FILTERS\n    const [filters, setFilters] = useState([]);\n    const [filter_list, setFilterList] = useState([]);\n    const [search_str, setSearchString] = useState(\"\");\n    const [on_search_open, setOnSearchOpen] = useState(false);\n\n    const { sites } = useContext(GeneralContext);\n\n    useEffect(() => {\n        const temp = {};\n        sites.forEach(site => {\n            const address = prepareSiteAddress(site, true, \"start\");\n            const site_code = site.site_code.toUpperCase();\n            filter_sites_option.push(site_code);\n            temp[site_code] = { site_id: site.site_id, address };\n        });\n        setSitesDict(temp);\n    }, [sites]);\n\n    useEffect(() => {\n        // setTotalEventCount(setCount);\n        setIsLoading(true);\n\n        const offset = page * rowsPerPage;\n        const limit = (page * rowsPerPage) + rowsPerPage;\n\n        const input = {\n            include_count: true,\n            limit, offset, filters, search_str\n        };\n        \n        getMonitoringEvents(input, ret2 => {            \n            const { events, count: total } = ret2;\n            const final_data = prepareEventsArray(events, sites_dict);\n            setData(final_data);\n            setCount(total);\n            setIsLoading(false);\n        });\n    }, [\n        page, rowsPerPage, filters,\n        search_str, url, sites_dict\n    ]);\n\n    const options = {\n        textLabels: {\n            body: {\n                noMatch: \"No data\",\n            }\n        },\n        filterType: \"multiselect\",\n        responsive: isWidthUp(width, \"xs\") ? \"standard\" : \"simple\",\n        searchText: search_str,\n        searchPlaceholder: \"Type words to search narrative column\",\n        rowsPerPageOptions: [5, 10, 15],\n        rowsPerPage,\n        count,\n        page,\n        filter: true,\n        selectableRows: \"none\",\n        print: false,\n        download: false,\n        // filterType: \"dropdown\",\n        serverSide: true,\n        onTableChange: (action, tableState) => {\n            // console.log(action, tableState);\n            // a developer could react to change on an action basis or\n            // examine the state as a whole and do whatever they want\n            if (action === \"changePage\") {\n                const { page: cur_page } = tableState;\n                setPage(cur_page);\n            } else if (action === \"changeRowsPerPage\") {\n                const { rowsPerPage: cur_rpp } = tableState;\n                if (cur_rpp !== rowsPerPage) setRowsPerPage(cur_rpp);\n            } else if (action === \"resetFilters\") {\n                setFilterList({});\n                setFilters([]);\n            } else if (action === \"onSearchOpen\") {\n                setOnSearchOpen(true);\n            }\n        },\n        onSearchChange: (search_string) => {\n            // Looking for proper async implementation\n            console.log(`Searching for ${search_string}`);\n        },\n        onFilterChange: (changedColumn, ret_filters) => {\n            const chosen_filters = [];\n            let is_empty = true;\n            ret_filters.forEach((row, index) => {\n\n                let filter_var = null;\n\n                if (row.length !== 0) {\n                    is_empty = false;\n                    const { name: column_name } = columns[index];\n                    if (column_name === \"site_name\") {\n                        const site_ids = [];\n                        const site_names = [];\n\n                        row.forEach(site => {\n                            site_ids.push(sites_dict[site].site_id);\n                            site_names.push(site);\n                        });\n\n                        chosen_filters.push({\n                            name: \"site_ids\",\n                            data: site_ids\n                        });\n\n                        filter_var = site_names;\n                    } else if (column_name === \"entry_type\") {\n                        const entry_types = [];\n                        const entry_type_ids = [];\n                        let temp;\n\n                        row.forEach(type => {\n                            if (type === \"EVENT\") { \n                                temp = 2;\n                            } else if (type === \"ROUTINE\") {\n                                temp = 1;\n                            }\n                            entry_types.push(type);\n                            entry_type_ids.push(temp);\n                        });\n\n                        chosen_filters.push({\n                            name: \"entry_types\",\n                            data: entry_type_ids\n                        });\n\n                        filter_var = entry_types;\n                    }\n                    setFilterList({ ...filter_list, [column_name]: filter_var });\n                }\n            });\n\n            if (is_empty) setFilterList({});\n            setFilters(chosen_filters);\n        },\n        customSearchRender: (searchText, handleSearch, hideSearch, rendererOptions) => {\n            let searchStr = searchText || \"\";\n\n            if (on_search_open) {\n                searchStr = search_str;\n                setOnSearchOpen(false);\n            }\n\n            const custom_on_hide_fn = () => {\n                hideSearch();\n                setOnSearchOpen(false);\n            };\n\n            return (\n                <CustomSearchRender\n                    searchText={searchText}\n                    onSearch={handleSearch}\n                    onHide={custom_on_hide_fn}\n                    options={rendererOptions}\n                    onSearchClick={() => setSearchString(searchStr)}\n                />\n            );\n        }\n    };\n\n    const columns = [\n        {\n            name: \"event_id\",\n            label: \"Event ID\",\n            options: {\n                filter: false,\n                customBodyRender: (value, { rowIndex }) => {\n                    if (value === \"Loading Data...\") return value;\n                    return prepareEventTimelineLink(url, value);\n                }\n            }\n        },\n        {\n            name: \"site_name\",\n            label: \"Site\",\n            options: {\n                filter: true,\n                filterList: typeof filter_list.site_name === \"undefined\" ? [] : filter_list.site_name, \n                filterOptions: {\n                    names: filter_sites_option\n                }\n            }\n        },\n        {\n            name: \"entry_type\",\n            label: \"Entry Type\",\n            options: {\n                filter: true,\n                filterList: typeof filter_list.entry_type === \"undefined\" ? [] : filter_list.entry_type, \n                filterOptions: {\n                    names: [\"ROUTINE\", \"EVENT\"]\n                },\n                sort: false\n            }\n        },\n        {\n            name: \"public_alert\",\n            label: \"Last Alert Level\",\n            options: {\n                filter: true,\n                sort: true\n            }\n        },\n        {\n            name: \"ts_start\",\n            label: \"Event Start\",\n            options: {\n                filter: false,\n                sort: false\n            }\n        },\n        {\n            name: \"ts_end\",\n            label: \"Event End\",\n            options: {\n                filter: false,\n                sort: false\n            }\n        }\n    ];\n\n    return (\n        <Fragment>\n            <div className={classes.pageContentMargin}>\n                <PageTitle title=\"Alert Monitoring | Events\" />\n            </div>\n            <div className={classes.pageContentMargin}>\n                <Switch location={location}>\n                    <Route exact path={url} render={\n                        props => (\n                            <Paper className={classes.paperContainer}>\n                                <MuiThemeProvider theme={getMuiTheme}>\n                                    <MUIDataTable\n                                        title={\n                                            <Typography variant=\"h5\" component=\"div\">\n                                                Monitoring Events Table\n                                                {\n                                                    isLoading &&\n                                                        <CircularProgress\n                                                            size={24}\n                                                            style={{\n                                                                marginLeft: 15,\n                                                                position: \"relative\",\n                                                                top: 4\n                                                            }}\n                                                        />\n                                                }\n                                            </Typography>\n                                        }\n                                        data={data}\n                                        columns={columns}\n                                        options={options}\n                                    />\n                                </MuiThemeProvider>                    \n                            </Paper>\n                        )\n                    }/>\n\n                    <Route path={`${url}/:event_id`} render={\n                        props => (\n                            <MonitoringEventTimeline\n                                {...props}\n                                width={width}\n                            />\n                        )\n                    }/>\n                </Switch>\n            </div>\n        </Fragment>\n    );\n}\n\nexport default withWidth()(MonitoringEventsTable);\n","import React, { useState, useEffect, Fragment } from \"react\";\nimport moment from \"moment\";\nimport { useSnackbar } from \"notistack\";\nimport Accordion from \"@material-ui/core/Accordion\";\nimport AccordionDetails from \"@material-ui/core/AccordionDetails\";\nimport AccordionSummary from \"@material-ui/core/AccordionSummary\";\nimport AccordionActions from \"@material-ui/core/AccordionActions\";\nimport Typography from \"@material-ui/core/Typography\";\nimport ExpandMoreIcon from \"@material-ui/icons/ExpandMore\";\nimport Button from \"@material-ui/core/Button\";\nimport Divider from \"@material-ui/core/Divider\";\nimport Tooltip from \"@material-ui/core/Tooltip\";\nimport { Grid, makeStyles, Chip, Paper, CircularProgress } from \"@material-ui/core\";\nimport { Refresh, SaveAlt, Send, Info, Attachment, CheckCircle } from \"@material-ui/icons\";\n\n// import CKEditor from \"@ckeditor/ckeditor5-react\";\n// import ClassicEditor from \"@ckeditor/ckeditor5-build-classic\";\n\nimport ReactQuill from \"react-quill\";\nimport \"react-quill/dist/quill.snow.css\";\n\nimport CheckboxesGroup from \"../../reusables/CheckboxGroup\";\n// import { useInterval, remapCkeditorEnterKey } from \"../../../UtilityFunctions\";\nimport { saveEOSDataAnalysis, downloadEosCharts, getNarrative } from \"../ajax\";\nimport { sendEOSEmail } from \"../../communication/mailbox/ajax\";\n\nconst modules = {\n    toolbar: [\n        [\"bold\", \"italic\", \"underline\", \"strike\", \"blockquote\"],\n        [{ list: \"ordered\" }, { list: \"bullet\" }, \n            { indent: \"-1\" }, { indent: \"+1\" }],\n        [\"link\"],\n        [\"clean\"]\n    ],\n    clipboard: {\n        // toggle to add extra line breaks when pasting HTML:\n        matchVisual: false, // originally false\n    }\n};\n\nconst formats = [\n    \"bold\", \"italic\", \"underline\", \"strike\", \"blockquote\",\n    \"list\", \"bullet\", \"indent\",\n    \"link\"\n];\n\nconst useStyles = makeStyles(theme => ({\n    root: {\n        width: \"100%\",\n    },\n    icons: {\n        fontSize: \"1.15rem\",\n        [theme.breakpoints.down(\"xs\")]: {\n            fontSize: \"1.7rem\"\n        }\n    },\n    details: {\n        alignItems: \"center\",\n    },\n    column: {\n        flexBasis: \"33.33%\",\n    },\n    helper: {\n        borderLeft: `2px solid ${theme.palette.divider}`,\n        padding: `${theme.spacing()}px ${theme.spacing(2)}px`,\n    },\n    link: {\n        color: theme.palette.primary.main,\n        textDecoration: \"none\",\n        \"&:hover\": {\n            textDecoration: \"underline\",\n        },\n    },\n}));\n\nfunction extractSelectedCharts (checkboxStatus) {\n    const chart_list = Object.keys(checkboxStatus).filter(key => checkboxStatus[key] === true);\n    return chart_list;\n}\n\nfunction prepareMailBody (mail_contents) {\n    const { shiftSummary, dataAnalysis, shiftNarratives } = mail_contents;\n    const f_summary = shiftSummary.replace(/<p>/g, \"\").replace(/<\\/p>/g, \"<br/>\");\n    const f_analysis = dataAnalysis.replace(/<p>/g, \"\").replace(/<\\/p>/g, \"<br/>\");\n    const f_narratives = shiftNarratives.replace(/<p>/g, \"\").replace(/<\\/p>/g, \"<br/>\");\n    const template = `<p>${f_summary}</p><br/><p>${f_analysis}</p><br/><p>${f_narratives}</p>`;\n\n    return template;\n}\n\nfunction DetailedAccordion (props) {\n    const {\n        data: eos_report, shiftStartTs, currentUser\n    } = props;\n    const classes = useStyles();\n    const {\n        site_code, eos_head, shift_start_info,\n        shift_end_info, data_analysis, narratives,\n        event_id, validity\n    } = eos_report;\n\n    const node_shift_summary = `${eos_head}<br/>${shift_start_info}<br/><br/>${shift_end_info}`;\n    const [shiftSummary, setShiftSummary] = useState(node_shift_summary);\n    const [dataAnalysis, setDataAnalysis] = useState(data_analysis);\n    const [analysis_char_count, setAnalysisCharCount] = useState(data_analysis.length);\n    const [shiftNarratives, setShiftNarratives] = useState(narratives);\n    const { enqueueSnackbar, closeSnackbar } = useSnackbar();\n    // const [narrative_editor, setNarrativeEditor] = useState(null);\n    const [attachedFiles, setAttachedFiles] = useState([]);\n\n    const default_cbox = {\n        rainfall: false, surficial: false\n    };\n    const default_label = [[\"rainfall\", \"Rainfall\", false]];\n    const { has_markers, has_surficial_data, subsurface_columns } = eos_report;\n\n    let surf_label = \"Surficial\";\n    let surf_dis = false;\n    if (has_markers) {\n        if (!has_surficial_data) {\n            surf_label += \" (No data)\";\n            surf_dis = true;\n        }\n    } else {\n        surf_label += \" (No markers)\";\n        surf_dis = true;\n    }\n    default_label.push([\"surficial\", surf_label, surf_dis]);\n\n    subsurface_columns.forEach(row => {\n        const { logger: { logger_name } } = row;\n        const key = `subsurface_${logger_name}`;\n        let label = `Subsurface - ${logger_name.toUpperCase()}`;\n        default_cbox[key] = false;\n        const no_data = !row.has_data;\n        if (no_data) {\n            label += \" (No data)\";\n        }\n        default_label.push([key, label, no_data]);\n    });\n\n    const [checkboxStatus, setCheckboxStatus] = useState(default_cbox);\n\n    const choices = default_label.map(row => {\n        return { \n            state: checkboxStatus[row[0]],\n            value: row[0],\n            label: row[1],\n            is_disabled: row[2]\n        };\n    });\n\n    const [start_saving_countdown, setStartSavingCountdown] = useState(false);\n    const [interval_id, setIntervalID] = useState(null);\n    const [saving_status, setSavingStatus] = useState(null);\n\n    useEffect(() => {\n        if (start_saving_countdown) {\n            if (interval_id !== null) clearTimeout(interval_id);\n            setSavingStatus(\"typing\");\n\n            const tying_delay_id = setTimeout(() => {\n                setSavingStatus(\"saving\");\n                const saving_delay_id = setTimeout(() => {\n                    const temp = {\n                        shift_ts: shiftStartTs,\n                        event_id,\n                        dataAnalysis\n                    };\n\n                    saveEOSDataAnalysis(temp, response => {\n                        console.log(\"response\", response);\n                        setSavingStatus(\"saved\");\n                        setStartSavingCountdown(false);\n                    });\n                }, 3000);\n                setIntervalID(saving_delay_id);\n            }, 3000);\n            setIntervalID(tying_delay_id);\n        }\n    }, [dataAnalysis]);\n\n    const shift_ts_end = moment(shiftStartTs).add(12, \"hours\");\n    const moment_validity = moment(validity);\n    const ts_end = moment_validity.isBefore(shift_ts_end)\n        ? moment_validity.subtract(30, \"minutes\").format(\"YYYY-MM-DD HH:mm:ss\")\n        : moment(shift_ts_end).format(\"YYYY-MM-DD HH:mm:ss\");\n\n    const { location: { host, protocol } } = window;\n    const rendering_url = `${protocol}//${host}/chart_rendering/${site_code}/${ts_end}`;\n    const handleCheckboxEvent = value => event => {\n        const { target: { checked } } = event;\n        setCheckboxStatus({ ...checkboxStatus, [value]: checked });\n\n        if (checked) {\n            let type = value;\n            if (![\"surficial\", \"rainfall\"].includes(value)) {\n                type = value.replace(\"_\", \"/\");              \n            }\n            window.open(`${rendering_url}/${type}`, \"_blank\");\n        }\n    };\n\n    const snackBarActionFn = key => {\n        return (<Button\n            color=\"primary\"\n            onClick={() => { closeSnackbar(key); }}\n        >\n            Dismiss\n        </Button>);\n    };\n\n    const handleSendEOS = () => {\n        const loading_snackbar = enqueueSnackbar(\n            \"Sending End-of-Shift Report...\",\n            {\n                variant: \"warning\",\n                persist: true\n            }\n        );\n\n        const form_data = new FormData();\n        const file_name_ts = moment(ts_end).add(30, \"minutes\")\n        .format(\"YYYY-MM-DD HH:mm:ss\");\n        const charts = extractSelectedCharts(checkboxStatus);\n        charts.forEach(row => form_data.append(\"charts\", row));\n\n        attachedFiles.forEach(row => {       \n            form_data.append(\"attached_files\", row);\n        });\n\n        const input = {\n            shift_ts: shiftStartTs,\n            event_id,\n            data_analysis: dataAnalysis,\n            file_name_ts,\n            mail_body: prepareMailBody({ shiftSummary, dataAnalysis, shiftNarratives }),\n            site_code,\n            user_id: currentUser.user_id,\n        };\n\n        // eslint-disable-next-line no-restricted-syntax\n        for (const key in input) {\n            // eslint-disable-next-line no-prototype-builtins\n            if (input.hasOwnProperty(key)) form_data.append(key, input[key]);\n        }\n\n        sendEOSEmail(form_data, response=> {\n            closeSnackbar(loading_snackbar);\n            console.log(response);\n            let message = \"Error sending End-of-Shift Report...\";\n            let variant = \"error\";\n            if (response === \"Success\") {\n                message = \"End-of-Shift Report Sent!\";\n                variant = \"success\";\n            }\n\n            enqueueSnackbar(\n                message,\n                {\n                    variant,\n                    autoHideDuration: 7000,\n                    action: snackBarActionFn\n                }\n            );\n        }, () => {\n            closeSnackbar(loading_snackbar); \n            enqueueSnackbar(\n                \"Error sending End-of-Shift Report...\",\n                {\n                    variant: \"error\",\n                    autoHideDuration: 7000,\n                    action: snackBarActionFn\n                }\n            );\n        });\n    };\n\n    const handleDownload = () => {\n        const charts = extractSelectedCharts(checkboxStatus);\n        const input = {\n            site_code, user_id: currentUser.user_id, charts, file_name: `${site_code}_chart.pdf`\n        };\n\n        downloadEosCharts(input, response => {\n            const { message, file_response: { file_path, message: render_msg } } = response;\n            console.log(\"response\", render_msg);\n            if (message === \"success\") {\n                enqueueSnackbar(\n                    `Charts Saved! Path: ${file_path}`,\n                    {\n                        variant: \"success\",\n                        autoHideDuration: 7000,\n                        action: snackBarActionFn\n                    }\n                );\n            } else {\n                enqueueSnackbar(\n                    \"Error saving charts...\",\n                    {\n                        variant: \"error\",\n                        autoHideDuration: 7000,\n                        action: snackBarActionFn\n                    }\n                );\n            }\n        });\n    };\n    \n    const handleFileChange = event => {\n        const { files } = event.target;\n        for (let i = 0; i < files.length; i += 1) {\n            const temp = files.item(i);\n            if (!attachedFiles.some(x => x.name === temp.name)) {\n                attachedFiles.push(temp);\n            }\n        }\n        setAttachedFiles([...attachedFiles]);\n    };\n\n    const handleRemoveFile = index => () => {\n        const files = attachedFiles;\n        files.splice(index, 1);\n        setAttachedFiles([...files]);\n    };\n    \n    const refreshNarratives = () => {\n        const temp = {\n            shift_ts: shiftStartTs,\n            event_id\n        };\n        getNarrative(temp, site_narrative => {\n            console.log(site_narrative);\n            setShiftNarratives(site_narrative);\n            // narrative_editor.setData(site_narrative);\n        });\n    };\n\n    // const config = {\n    //     toolbar: [\"bold\", \"italic\", \"link\", \"bulletedList\", \"numberedList\", \"blockQuote\", \"|\", \"undo\", \"redo\"]\n    // };\n\n    const editors = [\n        { \n            label: \"Shift Summary\", value: shiftSummary,\n            key: \"shift_summary\", updateFn: setShiftSummary\n        },\n        { \n            label: \"Data Analysis\", value: dataAnalysis,\n            key: \"data_analysis\", updateFn: setDataAnalysis\n        }\n    ];\n\n    const is_analysis_over_limit = analysis_char_count > 3000;\n\n    return (\n        <Accordion>\n            <AccordionSummary expandIcon={<ExpandMoreIcon />}>\n                <div className={classes.column}>\n                    <Typography variant=\"body1\">{site_code.toUpperCase()}</Typography>\n                </div>\n                <div className={classes.column}>\n                    <Typography variant=\"body1\">Shift Report</Typography>\n                </div>\n            </AccordionSummary>\n            <Divider />\n            <AccordionDetails className={classes.details}>\n                <Grid container spacing={2}>\n                    <Grid item xs={12} style={{ marginTop: 12 }}>\n                        <Typography variant=\"body1\">\n                            <strong>Charts</strong>\n                        </Typography>\n                    </Grid>\n                    \n                    <Grid \n                        item xs={12} container\n                        spacing={1} justify=\"space-around\"\n                    >\n                        <CheckboxesGroup \n                            label=\"Data Sources\"\n                            changeHandler={handleCheckboxEvent}\n                            choices={choices}\n                            checkboxStyle=\"primary\"\n                        />\n                    </Grid>\n\n                    <Grid item xs={12} >\n                        <Typography variant=\"body1\">\n                            <strong>Attachments</strong>\n                        </Typography>\n                    </Grid>\n\n                    <Grid item xs={12} container>\n                        <Grid item xs={12}>\n                            <Paper square style={{ \n                                padding: \"8px 12px\", marginBottom: 12,\n                                background: \"gainsboro\", border: \"4px solid #CCCCCC\"\n                            }}>\n                                {\n                                    attachedFiles.length > 0 \n                                        ? attachedFiles.map((file, index) => {\n                                            return (\n                                                <Chip key={file.name} label={file.name} onDelete={handleRemoveFile(index)} color=\"primary\" />\n                                            );\n                                        })\n                                        : <Typography variant=\"body2\"><i>None</i></Typography>\n                                }\n                            </Paper>\n                        </Grid>\n                        <Grid item xs={12} container justify=\"flex-end\">\n                            <input\n                                className={classes.input}\n                                style={{ display: \"none\" }}\n                                multiple\n                                type=\"file\"\n                                onChange={handleFileChange}\n                                onClick={event => { event.target.value = null; }}\n                                id={`input-file-${site_code}`}\n                            />\n                            <label htmlFor={`input-file-${site_code}`}>\n                                <Button \n                                    startIcon={<Attachment />} \n                                    variant=\"contained\"\n                                    component=\"span\"\n                                    color=\"primary\"\n                                    size=\"small\"\n                                >\n                                    {attachedFiles.length > 0 ? \"Add more\" : \"Attach File\"}\n                                </Button>\n                            </label> \n                        </Grid>\n                    </Grid>\n\n                    {   \n                        editors.map(({ label, value, key, updateFn }) => (\n                            <Fragment key={key}>\n                                <Grid item xs={12}>\n                                    <Typography variant=\"body1\">\n                                        <strong>{label}</strong>\n                                    </Typography>\n                                </Grid>\n                                <Grid item xs={12}>\n                                    { /* \n                                        NOTE: To change textarea height of CKEditor, change .ck-editor__editable \n                                        value on index.css on react-ui/web\n                                    */ }\n                                    {/* <CKEditor\n                                        editor={ClassicEditor}\n                                        config={config}\n                                        onInit={editor => {\n                                            editor.setData(value);\n                                            remapCkeditorEnterKey(editor);\n                                        }}\n                                        onChange={(event, editor) => {\n                                            const data = editor.getData();\n                                            if (label === \"Data Analysis\") {\n                                                setAnalysisCharCount(data.length);\n                                            }\n                                            updateFn(data);\n                                        }}\n                                    /> */}\n                                    <ReactQuill \n                                        onChange={e => {\n                                            if (label === \"Data Analysis\") {\n                                                setAnalysisCharCount(e.length);\n                                                if (interval_id !== null) {\n                                                    setStartSavingCountdown(true);\n                                                } else { setIntervalID(1); }\n                                            }\n                                            updateFn(e);\n                                        }}\n                                        defaultValue={value}\n                                        modules={modules}\n                                        formats={formats}\n                                    />\n                                </Grid>\n                                {\n                                    label === \"Data Analysis\" && (\n                                        <Grid \n                                            container item xs={12}\n                                            justify=\"flex-end\" alignItems=\"center\"\n                                            style={{ color: is_analysis_over_limit ? \"red\" : \"black\" }}\n                                        >\n                                            <Tooltip \n                                                title=\"Content of text area is formatted on the background using HTML. HTML elements are included in the character count.\"\n                                                placement=\"top\"\n                                                interactive\n                                                arrow\n                                            >\n                                                <div><Info color=\"primary\" fontSize=\"small\"/>&nbsp;</div>\n                                            </Tooltip>\n                                            <Typography variant=\"caption\">\n                                                <strong>Character count (including HTML): {analysis_char_count}/3000</strong>\n                                            </Typography>\n\n                                            {\n                                                saving_status !== null && <Typography \n                                                    variant=\"caption\" component=\"div\"\n                                                    style={{\n                                                        marginLeft: 24, display: \"flex\", alignItems: \"center\",\n                                                        color: [\"typing\", \"saving\"].includes(saving_status) ? \"orange\" : \"green\"\n                                                    }}\n                                                >\n                                                    <div style={{ marginRight: 6 }}>\n                                                        <strong>{saving_status.toUpperCase()}</strong>\n                                                    </div>\n                                                    {\n\n                                                        [\"typing\", \"saving\"].includes(saving_status) ? <CircularProgress size={20}/>\n                                                            : <CheckCircle />\n                                                    }\n                                                </Typography>  \n                                            }      \n                                        </Grid>\n                                    )\n                                }\n                            </Fragment>\n                        ))\n                    }\n\n                    <Grid item xs={12}>\n                        <Typography variant=\"body1\">\n                            <strong>Shift Narratives </strong>\n                        </Typography>\n                        <Typography variant=\"body2\">\n                            <i>NOTE: It is recommended NOT to add narratives via this text box. Use Site Logs Form instead then click Refresh.</i>\n                        </Typography>\n                    </Grid>\n                    \n                    <Grid item xs={12}>\n                        {/* <CKEditor\n                            editor={ClassicEditor}\n                            config={config}\n                            onInit={editor => {\n                                editor.setData(shiftNarratives);\n                                setNarrativeEditor(editor);\n                                // editor.destroy();\n                            }}\n                            onChange={(event, editor) => {\n                                const data = editor.getData();\n                                setShiftNarratives(data);\n                            }}\n                        />  */}\n                        <ReactQuill \n                            onChange={e => setShiftNarratives(e)}\n                            value={shiftNarratives}\n                            defaultValue={shiftNarratives}\n                            modules={modules}\n                            formats={formats}\n                            bounds=\".app\"\n                        />\n                    </Grid>\n                </Grid>\n            </AccordionDetails>\n            <Divider />\n            <AccordionActions>\n                <Button\n                    size=\"small\"\n                    onClick={handleDownload}\n                    startIcon={<SaveAlt />}\n                >\n                    Download Charts\n                </Button>\n                <Button\n                    size=\"small\"\n                    startIcon={<Refresh />}\n                    onClick={refreshNarratives}\n                >\n                    Refresh Narratives\n                </Button>\n                <Button\n                    size=\"small\"\n                    color=\"primary\"\n                    startIcon={<Send />}\n                    onClick={handleSendEOS}\n                    disabled={is_analysis_over_limit}\n                >\n                    Send\n                </Button>\n            </AccordionActions>\n        </Accordion>\n    );\n}\n\nexport default DetailedAccordion;\n","import React, { useState } from \"react\";\nimport {\n    Dialog, DialogTitle, DialogContent,\n    DialogContentText, DialogActions,\n    Button, withMobileDialog, Checkbox,\n    FormControl, FormControlLabel,\n    Typography, IconButton, Grid,\n    CircularProgress, Box\n} from \"@material-ui/core\";\nimport { DoneAll } from \"@material-ui/icons\";\n\nfunction processCheckboxValues (props) {\n    const { \n        selectedSites, setSelectedSites,\n        site_code, checkAll\n    } = props;\n\n    const selected = selectedSites;\n\n    if (!selected.includes(site_code)) {\n        selected.push(site_code);\n    } else if (!checkAll) {\n        const index = selected.indexOf(site_code);\n        selected.splice(index, 1);\n    }\n\n    setSelectedSites([...selected]);\n}\n\nfunction SelectSiteModal (props) {\n    const {\n        fullScreen, isOpen,\n        closeHandler, eosData,\n        setSelectedEosData, setModalOpen,\n        setEosData\n    } = props;\n\n    const [selectedSites, setSelectedSites] = useState([]);\n    const [checkAll, setCheckAll] = useState(true);\n \n    const handleChange = site_code => event => {\n        const data = { selectedSites, setSelectedSites, site_code };\n        processCheckboxValues(data);\n    };\n\n    const handleSubmit = () => {\n        const final_eos_data = eosData.filter(row => selectedSites.includes(row.site_code));\n        setSelectedEosData(final_eos_data);\n        setModalOpen(false);\n    };\n\n    const handleCancel = () => {\n        closeHandler();\n        setEosData(null);\n    };\n\n    const handleCheckAll = () => {\n        eosData.forEach(row => {\n            const { site_code } = row;\n            const data = { selectedSites, setSelectedSites, site_code, checkAll };\n            processCheckboxValues(data);\n        });\n        setCheckAll(!checkAll);\n    };\n    \n    const no_sites = eosData !== null && eosData.length === 0;\n\n    return (\n        <div>\n            <Dialog\n                fullWidth\n                fullScreen={fullScreen}\n                open={isOpen}\n                maxWidth=\"sm\"\n                aria-labelledby=\"form-dialog-title\"\n            >\n                <DialogTitle id=\"form-dialog-title\">Generate End-of-Shift Report</DialogTitle>\n                <DialogContent>\n                    <DialogContentText>Select sites to create end-of-shift report.</DialogContentText>\n                    {\n                        eosData === null && (\n                            <Box display=\"flex\" justifyContent=\"center\">\n                                <CircularProgress />\n                            </Box>\n                        )\n                    }\n                    {\n                        no_sites === true && (\n                            <Typography variant=\"subtitle1\" align=\"center\">\n                                No active sites.\n                            </Typography>\n                        )\n                    }\n                    {\n                        eosData !== null && (\n                            <Grid container alignItems=\"baseline\">\n                                <IconButton onClick={handleCheckAll} style={{ marginRight: 6 }} aria-label=\"Select all\">\n                                    <DoneAll/>\n                                </IconButton>\n\n                                {\n                                    eosData.map(row => {\n                                        const { site_code, event_id } = row;\n                                        const checked = selectedSites.includes(site_code);\n                                        const site_code_label = site_code.toUpperCase();\n                                        return (\n                                            <FormControl key={event_id}>\n                                                <FormControlLabel\n                                                    control={\n                                                        <Checkbox\n                                                            key={event_id}\n                                                            onChange={handleChange(site_code)}\n                                                            value={site_code}\n                                                            color=\"primary\"\n                                                            checked={checked}\n                                                        />\n                                                    }\n                                                    label={site_code_label}\n                                                />\n                                            </FormControl>\n                                        );\n                                    })\n                                }\n                            </Grid>\n                        )\n                    }\n                </DialogContent>\n                <DialogActions>\n                    <Button onClick={handleCancel} color=\"primary\">\n                        Cancel\n                    </Button>\n                    <Button onClick={handleSubmit} color=\"primary\">\n                        Submit\n                    </Button>\n                </DialogActions>\n            </Dialog>\n        </div>\n    );\n}\n\nexport default withMobileDialog()(SelectSiteModal);\n","import React, { useState } from \"react\";\nimport ContentLoader from \"react-content-loader\";\nimport moment from \"moment\";\nimport { Grid, makeStyles, Button, withWidth, Paper } from \"@material-ui/core\";\nimport { isWidthDown } from \"@material-ui/core/withWidth\";\nimport { ArrowForwardIos } from \"@material-ui/icons\";\nimport MomentUtils from \"@date-io/moment\";\nimport { MuiPickersUtilsProvider, KeyboardDatePicker } from \"@material-ui/pickers\";\nimport DetailedExpansionPanels from \"./DetailedExpansionPanels\";\nimport SelectInputForm from \"../../reusables/SelectInputForm\";\nimport SelectSiteModal from \"./SelectSiteModal\";\n\nimport { getEndOfShiftReports } from \"../ajax\";\nimport { getCurrentUser } from \"../../sessions/auth\";\n\nconst useStyles = makeStyles(theme => ({\n    inputGridContainer: {\n        margin: \"12px 0\",\n        [theme.breakpoints.down(\"sm\")]: {\n            margin: \"0 0\"\n        }\n    },\n    AccordionsGroup: {\n        margin: \"12px 0\",\n        [theme.breakpoints.down(\"sm\")]: {\n            margin: \"24px 0\"\n        },\n        marginTop: 16\n    },\n    buttonGrid: {\n        textAlign: \"right\",\n        [theme.breakpoints.down(\"sm\")]: {\n            textAlign: \"right\"\n        }\n    },\n    button: {\n        fontSize: 16,\n        paddingLeft: 8\n    },\n    hidden: { display: \"none !important\" }\n}));\n\nconst MyLoader = () => (\n    <ContentLoader \n        height={150}\n        width={700}\n        speed={0.5}\n        foregroundColor=\"#f3f3f3\"\n        backgroundColor=\"#ecebeb\"\n        style={{ width: \"100%\" }}\n    >\n        <rect x=\"-4\" y=\"5\" rx=\"4\" ry=\"4\" width=\"700\" height=\"111\" /> \n    </ContentLoader>\n);\n\nexport function createDateTime ({ label, value, id }, handleDateTime) {\n    return (\n        <KeyboardDatePicker\n            required\n            autoOk\n            label={label}\n            value={value}\n            onChange={handleDateTime}\n            ampm={false}\n            placeholder=\"2010/01/01\"\n            format=\"YYYY/MM/DD\"\n            mask=\"____/__/__\"\n            clearable\n            disableFuture\n            variant=\"dialog\"\n            fullWidth\n            InputProps={{\n                style: { paddingRight: 0 }\n            }}\n        />\n    );\n}\n\n\n// eslint-disable-next-line max-params\nexport function prepareEOSRequest (start_ts, shift_time, setEosData) {\n    const time = shift_time === \"am\" ? \"07:30:00\" : \"19:30:00\"; \n    const moment_start_ts = moment(start_ts).format(`YYYY-MM-DD ${time}`);\n    const input = {\n        shift_start: moment_start_ts\n    };\n\n    getEndOfShiftReports(input, ret => {\n        setEosData(ret);\n    });\n    return moment_start_ts;\n}\n\nfunction EoSRNoData (props) {\n    const { isStart } = props;\n    const is_start = isStart === \"undefined\" ? false : isStart;\n    let message = \"No event report to generate\";\n    if (is_start) {\n        message = \"Generate end-of-shift reports here\";\n    }\n    return (\n        <Paper\n            style={{\n                height: \"20vh\", padding: 60, display: \"flex\",\n                justifyContent: \"center\", alignItems: \"center\",\n                background: \"gainsboro\", border: \"4px solid #CCCCCC\"\n            }}\n        >\n            <div>{message}</div>\n        </Paper>\n    );\n}\n\nfunction EndOfShiftGenerator (props) {\n    const { width, hidden } = props;\n    const classes = useStyles();\n    const datetime_now = moment();\n    const dt_hr = datetime_now.hour();\n    const [start_ts, setStartTs] = useState(datetime_now.format(\"YYYY-MM-DD\"));\n    const [shift_time, setShiftTime] = useState(dt_hr >= 10 && dt_hr <= 22 ? \"am\" : \"pm\");\n    const [isLoading, setIsLoading] = useState(false);\n    const [eosData, setEosData] = useState(null);\n    const [selectedEosData, setSelectedEosData] = useState(null);\n    const [shift_start_ts, setShiftStartTs] = useState(null);\n\n    const [is_modal_open, setModalOpen] = useState(false);\n    const set_modal_fn = bool => () => setModalOpen(bool);\n\n    const current_user = getCurrentUser();\n\n    const handleDateTime = value => {\n        setStartTs(value);\n    };\n\n    const handleClick = key => event => {\n        if (key === \"generate_report\") {\n            setModalOpen(false);\n        } else {\n            setModalOpen(true);\n            const ts = prepareEOSRequest(start_ts, shift_time, setEosData);\n            setShiftStartTs(ts);\n        }\n    };\n\n    const DisplayEOS = () => {\n        return (\n            selectedEosData.map((row, index) => (\n                <DetailedExpansionPanels\n                    data={row}\n                    key={index}\n                    shiftStartTs={shift_start_ts}\n                    currentUser={current_user}\n                />\n            ))\n        );\n    };\n\n    return (\n        <div className={ hidden ? classes.hidden : \"\" }>\n            <MuiPickersUtilsProvider utils={MomentUtils}>\n                <Grid \n                    container\n                    justify=\"space-between\"\n                    alignContent=\"center\"\n                    alignItems=\"center\"\n                    spacing={4}\n                    style={{ display: hidden ? \"none !important\" : \"\" }}\n                >\n                    {\n                        [\n                            { label: \"Shift Start\", value: start_ts, id: \"start_ts\" },\n                        ].map(row => {\n                            const { id } = row;\n\n                            return (\n                                <Grid item xs={12} sm key={id} className={classes.inputGridContainer}>\n                                    { createDateTime(row, handleDateTime) }\n                                </Grid>\n                            );\n                        })\n                    }\n\n                    <Grid item xs={12} sm>\n                        <SelectInputForm\n                            div_id=\"shift_time\"\n                            label=\"Shift Time\"\n                            changeHandler={event => setShiftTime(event.target.value)}\n                            value={shift_time}\n                            list={[{ id: \"am\", label: \"AM\" }, { id: \"pm\", label: \"PM\" }]}\n                            mapping={{ id: \"id\", label: \"label\" }}\n                            required\n                        />\n                    </Grid>\n\n                    <Grid\n                        item xs={12} sm\n                        className={`${classes.inputGridContainer} ${classes.buttonGrid}`}\n                    >\n                        <Button \n                            variant=\"contained\"\n                            color=\"secondary\"\n                            size={isWidthDown(\"sm\", width) ? \"small\" : \"medium\"}\n                            onClick={\n                                handleClick(\"site_list\")\n                            }\n                        >\n                            Generate <ArrowForwardIos className={classes.button} />\n                        </Button>\n                    </Grid>\n                </Grid>\n            </MuiPickersUtilsProvider>\n\n            <div className={classes.AccordionsGroup}>\n                {\n                    selectedEosData === null && !isLoading && (\n                        <EoSRNoData isStart />\n                    )\n                }\n\n                {\n                    isLoading ? (\n                        <MyLoader />\n                    ) : (\n                        <Paper>\n                            {\n                                selectedEosData !== null && (\n                                    selectedEosData.length > 0 ? (\n                                        <DisplayEOS/>\n                                        // selectedEosData.map((row, index) => (\n                                        //     <DetailedExpansionPanels\n                                        //         data={row}\n                                        //         key={index}\n                                        //         shiftStartTs={shift_start_ts}\n                                        //         currentUser={current_user}\n                                        //     />\n                                        // ))\n                                    ) : (\n                                        <EoSRNoData />\n                                    ) \n                                )\n                            }\n                        </Paper>\n                    )\n                }\n               \n            </div>\n            \n            <SelectSiteModal\n                isOpen={is_modal_open}\n                closeHandler={set_modal_fn(false)}\n                eosData={eosData}\n                setSelectedEosData={setSelectedEosData}\n                setModalOpen={setModalOpen}\n                setEosData={setEosData}\n            />\n        </div>\n    );\n}\n\nexport default withWidth()(EndOfShiftGenerator);\n","import React, { useState, useEffect } from \"react\";\n\nimport moment from \"moment\";\nimport { Popover, Typography } from \"@material-ui/core\";\nimport { Calendar, momentLocalizer } from \"react-big-calendar\";\nimport \"react-big-calendar/lib/css/react-big-calendar.css\";\n\nimport {\n    receiveMonitoringShiftData, getMonitoringShifts,\n    removeReceiveMonitoringShiftData\n} from \"../../../websocket/misc_ws\";\n\n\nfunction Event ({ event }) {\n    const [anchorEl, setAnchorEl] = useState(null);\n\n    const handleClick = e => {\n        setAnchorEl(e.currentTarget);\n    };\n    \n    const handleClose = () => {\n        setAnchorEl(null);\n    };\n\n    const open = Boolean(anchorEl);\n    const id = open ? \"simple-popover\" : undefined;\n    \n    return (\n        <div style={{ width: \"inherit\" }}>\n            <div aria-describedby={id} onClick={handleClick} role=\"button\" tabIndex=\"0\">\n                { event.title }\n            </div>\n\n            <Popover\n                id={id}\n                open={open}\n                anchorEl={anchorEl}\n                onClose={handleClose}\n                anchorOrigin={{\n                    vertical: \"bottom\",\n                    horizontal: \"center\",\n                }}\n                transformOrigin={{\n                    vertical: \"top\",\n                    horizontal: \"center\",\n                }}\n            >\n                <Typography variant=\"body1\" style={{ padding: 8 }}>{ event.title }</Typography>\n            </Popover>\n        </div>\n    );\n}\n\nfunction MonitoringShiftsCalendar (props) {\n    const { nickname } = props;\n    const has_nickname = typeof nickname !== \"undefined\"; // Return one user only\n    // used in Profiles Page\n\n    const localizer = momentLocalizer(moment);\n    const [rows, setRows] = useState([]);\n    const [allShifts, setShifts] = useState([]);\n    const [events, setEvents] = useState([]);\n\n    useEffect(() => {\n        receiveMonitoringShiftData(shift_data => setRows(shift_data));\n        getMonitoringShifts();\n\n        return function cleanup () {\n            removeReceiveMonitoringShiftData();\n        };\n    }, []);\n\n    useEffect(() => {\n        if (rows !== null || rows !== \"undefined\") {\n            setShifts(rows);\n        }\n    }, [rows]);\n\n    useEffect(() => {\n        const data = allShifts.flatMap(row => {\n            const start = moment(row.ts);\n            const end = moment(row.ts);\n            const time = start.hours() > 19 ? \"PM\" : \"AM\";\n\n            let ts_end = end.add(12, \"hours\");\n            if (time === \"PM\") {\n                ts_end = start.set({ h: 23, m: 59 }); \n            }\n\n            if (has_nickname) {\n                let name = null;\n                if (row.iompmt === nickname) name = `${nickname} (MT`;\n                if (row.iompct === nickname) name = `${nickname} (CT`;\n\n                if (name) {\n                    return [{\n                        title: `${name} - ${time})`,\n                        start,\n                        end: ts_end\n                    }];\n                }\n            } else {\n                return [{\n                    title: `${row.iompmt} (MT - ${time})`,\n                    start,\n                    end: ts_end\n                }, {\n                    title: `${row.iompct} (CT - ${time})`,\n                    start,\n                    end: ts_end\n                }];\n            }\n        });\n\n        setEvents(data);    \n    }, [allShifts, nickname]);\n\n    const now = moment();\n    const color_night = \"#053752\";\n    const color_day = \"#E5DE44\";\n    const eventStyle = (event, ts_start, ts_end) => {\n        const start = moment(ts_start);\n\n        let backgroundColor = color_day;\n        let color = \"black\";\n        if (start.hours() > 19) {\n            backgroundColor = color_night;\n            color = \"white\";\n        }\n\n        return {\n            className: \"\",\n            style: {\n                color,\n                borderRadius: 5,\n                border: \"none\",\n                fontSize: 12,\n                backgroundColor\n            }\n        };\n    };\n\n    const customDayPropGetter = date => {\n        const hr = now.hours();\n        const moment_date = moment(date);\n        const day_before = now.clone().subtract(1, \"day\");\n        const is_pm_early_morn = hr < 8 && day_before.isSame(moment_date, \"day\");\n        const is_today = hr >= 8 && moment_date.isSame(now, \"day\");\n\n        if (is_pm_early_morn || is_today) {\n            const color = (hr >= 8 && hr < 20) ? color_day : color_night;\n\n            return {\n                className: \"current-shift\",\n                style: {\n                    border: `dashed 5px ${color}`,\n                },\n            };\n        }\n        \n        return {};\n    };\n\n    return ( \n        <div style={{ height: has_nickname ? 300 : 850, width: \"-webkit-fill-available\" }}>\n            <Typography variant=\"subtitle2\" align=\"center\">\n                <i>Note: The border color of the bordered box specifies the current monitoring shift.</i>\n            </Typography>\n\n            <Calendar\n                events={events}\n                localizer={localizer}\n                defaultDate={new Date()}\n                eventPropGetter={eventStyle}\n                defaultView=\"month\"\n                dayPropGetter={customDayPropGetter}\n                views={[\"month\"]}\n                components={{\n                    event: Event\n                }}\n                popup\n            />           \n        </div> \n    );\n}\n\nexport default React.memo(MonitoringShiftsCalendar);\n","import React, { useState, useEffect } from \"react\";\n\nimport { Grid, makeStyles, Button, withWidth, Paper, Divider, Typography } from \"@material-ui/core\";\nimport { isWidthDown } from \"@material-ui/core/withWidth\";\nimport { ArrowForwardIos, Today } from \"@material-ui/icons\";\nimport MomentUtils from \"@date-io/moment\";\nimport { MuiPickersUtilsProvider, DateTimePicker } from \"@material-ui/pickers\";\nimport moment from \"moment\";\nimport { Link } from \"react-router-dom\";\nimport converter from \"number-to-words\";\n\nimport Accordion from \"@material-ui/core/Accordion\";\nimport AccordionDetails from \"@material-ui/core/AccordionDetails\";\nimport AccordionSummary from \"@material-ui/core/AccordionSummary\";\nimport ExpandMoreIcon from \"@material-ui/icons/ExpandMore\";\n\nimport GeneralStyles from \"../../../GeneralStyles\";\nimport DynaslopeUserSelectInputForm from \"../../reusables/DynaslopeUserSelectInputForm\";\nimport { getShiftData } from \"../ajax\";\nimport { capitalizeFirstLetter } from \"../../../UtilityFunctions\";\nimport MonitoringShiftsCalendar from \"../../widgets/monitoring_shifts/MonitoringShiftsCalendar\";\n\nconst useStyles = makeStyles(theme => {\n    const gen_style = GeneralStyles(theme);\n    return {\n        inputGridContainer: {\n            margin: \"12px 0\",\n            [theme.breakpoints.down(\"sm\")]: {\n                margin: \"0 0\"\n            }\n        },\n        divider: {\n            ...gen_style.pageContentMargin,\n            margin: 0\n        },\n        selects: {\n            width: \"auto\",\n            [theme.breakpoints.up(\"md\")]: {\n                width: \"-webkit-fill-available\"\n            }\n        },\n        link: {\n            textDecoration: \"none\"\n        },\n        valueFont: {\n            color: \"black\",\n            textDecoration: \"none\"\n        },\n        hidden: { display: \"none !important\" }\n    };\n});\n\nfunction prepareEventTimelineLink (classes, event_id, site_code) {\n    return (\n        <Link\n            className={classes.link}\n            to={`/monitoring/events/${event_id}`}\n            target=\"_blank\"\n        >\n            {site_code.toUpperCase()}\n        </Link>\n    );\n}\n\nfunction processShiftData (classes, raw_data) {\n    const new_data = raw_data.map((row, index1) => {\n        const { date, data, ampm, mt, ct } = row;\n\n        const word_temp = converter.toWords(data.length);\n        const alert_summary = `${capitalizeFirstLetter(word_temp)} (${data.length})`;\n        const new_stuff = data.map((second_row, index2) => {\n            const {\n                general_status, site_code, \n                public_alert_level, event_id,\n                internal_alert\n            } = second_row;\n\n            const event_link = prepareEventTimelineLink(classes, event_id, site_code);\n\n            return (\n                <Grid \n                    container justify=\"space-evenly\"\n                    direction=\"column\"\n                    item xs={4} key={`site_alert_${ index2 + 1}`}\n                >\n                    <Typography variant=\"body2\" align=\"center\">\n                        <span className={classes.valueFont}>{event_link}</span>\n                    </Typography>\n                    <Typography variant=\"body2\" align=\"center\">\n                        <span className={classes.valueFont}>Alert {public_alert_level} ({internal_alert})</span>\n                    </Typography>\n                    <Typography variant=\"body2\" color=\"textSecondary\" align=\"center\">\n                        Monitoring status: <span className={classes.valueFont}>{capitalizeFirstLetter(general_status)}</span>\n                    </Typography>\n                </Grid>\n            );\n        });\n\n        return (\n            <Accordion key={`monitoring_date_${ index1 + 1}`}>\n                <AccordionSummary\n                    expandIcon={<ExpandMoreIcon />}\n                    aria-controls=\"panel1a-content\"\n                    id=\"panel1a-header\"\n                >\n                    <Grid container>\n                        <Grid item xs={4}>\n                            <Typography color=\"textSecondary\" align=\"center\">\n                                Shift Date: <span className={classes.valueFont}>{moment(date).format(\"MMMM D, YYYY\")}</span>\n                            </Typography>\n                        </Grid>\n                        <Grid item xs={4}>\n                            <Typography color=\"textSecondary\" align=\"center\">\n                                Sites Monitored: <span className={classes.valueFont}>{alert_summary}</span>\n                            </Typography>\n                        </Grid>\n                        <Grid item xs={4}>\n                            <Typography color=\"textSecondary\" align=\"center\">\n                                Shift Schedule: <span className={classes.valueFont}>{ampm}</span>\n                            </Typography>\n                        </Grid>\n                    </Grid>\n                </AccordionSummary>\n                <Divider />\n                <AccordionDetails>\n                    <Grid container spacing={2} className={classes.def_padding}>\n                        <Grid item xs={4}>\n                            <Typography variant=\"body1\" color=\"textSecondary\" align=\"center\">\n                                Shift Schedule\n                            </Typography>\n                            <Typography variant=\"body1\" color=\"textPrimary\" align=\"center\">\n                                {ampm}\n                            </Typography>\n                        </Grid>\n                        <Grid item xs={4}>\n                            <Typography variant=\"body1\" color=\"textSecondary\" align=\"center\">\n                                MT Personnel\n                            </Typography>\n                            <Typography variant=\"body1\" color=\"textPrimary\" align=\"center\">\n                                {mt}\n                            </Typography>\n                        </Grid>\n                        <Grid item xs={4}>\n                            <Typography variant=\"body1\" color=\"textSecondary\" align=\"center\">\n                                CT Personnel\n                            </Typography>\n                            <Typography variant=\"body1\" color=\"textPrimary\" align=\"center\">\n                                {ct}\n                            </Typography>\n                        </Grid>\n                        <div style={{ paddingTop: 20, paddingBottom: 20 }}>\n                            <Divider />\n                        </div>                            \n                        {\n                            new_stuff                            \n                        }\n                    </Grid>\n                </AccordionDetails>\n                <Divider />\n            </Accordion>                         \n        );\n    });\n    \n    return new_data;\n}\n\nfunction createDateTime ({ label, value, id }, handleDateTime) {\n    return (\n        <DateTimePicker\n            required\n            autoOk\n            label={label}\n            value={value}\n            onChange={handleDateTime(id)}\n            ampm={false}\n            placeholder=\"2010/01/01 00:00\"\n            format=\"YYYY/MM/DD HH:mm\"\n            mask=\"____/__/__ __:__\"\n            clearable\n            disableFuture\n            inputVariant=\"outlined\"\n            fullWidth\n            InputProps={{\n                style: { paddingRight: 0 }\n            }}\n        />\n    );\n}\n\nfunction MonitoringShifts (props) {\n    const {\n        hidden, width,\n        defaultCalendarOpen\n    } = props;\n    const classes = useStyles();\n\n    const [ts_start, setTSStart] = useState(null);\n    const [ts_end, setTSEnd] = useState(null);\n    const [user_id, setUserID] = useState(\"\");\n\n    const [payload, setPayload] = useState({});\n    const [shift_data, setShiftData] = useState(\"\");\n\n    useEffect(() => {\n        setPayload({\n            ts_start: moment(ts_start).format(\"YYYY-MM-DD HH:mm:ss\"), \n            ts_end: moment(ts_end).format(\"YYYY-MM-DD HH:mm:ss\"), \n            user_id\n        });\n    }, [ts_start, ts_end, user_id]);\n\n    const handleDateTime = key => value => {\n        switch (key) {\n            case \"ts_start\":\n                setTSStart(value);\n                break;\n            case \"ts_end\":\n                setTSEnd(value);\n                break;\n            default:\n                break;\n        }\n    };\n\n    const handleEventChange = key => event => {\n        const { value } = event.target;\n        switch (key) {\n            case \"user_id\":\n                setUserID(value);\n                break;\n            default:\n                break;\n        }        \n    };\n\n    const handleSubmit = () => {\n        getShiftData(payload, ret => {\n            const processed_data = processShiftData(classes, ret);\n            setShiftData((\n                <Typography style={{ fontStyle: \"italic\" }}>\n                    No shift data\n                </Typography>\n            ));\n\n            if (processed_data.length > 0) setShiftData(processed_data);\n        });\n    };\n\n    return (\n        <div className={ hidden ? classes.hidden : \"\" }>\n            <Accordion defaultExpanded={defaultCalendarOpen}>\n                <AccordionSummary\n                    expandIcon={<ExpandMoreIcon />}\n                    aria-controls=\"panel1c-content\"\n                    id=\"panel1c-header\"\n                >\n                    <Typography variant=\"body1\" component={Grid} container>\n                        <Today style={{ marginRight: 8 }} /> <div><strong>MONITORING SHIFTS CALENDAR</strong></div>\n                    </Typography>\n                </AccordionSummary>\n                <Divider />\n                <AccordionDetails>\n                    <MonitoringShiftsCalendar />\n                </AccordionDetails>\n            </Accordion>\n\n            <MuiPickersUtilsProvider utils={MomentUtils}>\n                <Paper\n                    component={Grid}\n                    container spacing={2} \n                    style={{ marginTop: 16, marginBottom: 16, padding: 8 }}\n                    alignItems=\"center\"\n                >\n                    <Grid item xs={12}>\n                        <Typography variant=\"h6\">\n                            <strong>MONITORING SHIFT CHECKER</strong>\n                        </Typography>\n\n                        <Typography variant=\"subtitle2\">\n                            <i>Note: The checker currently shows event and extended releases only. Routine releases are NOT yet reflected.</i>\n                        </Typography>\n                    </Grid>\n            \n                    <Grid container spacing={2} item xs={12} sm={10}>\n                        {\n                            [\n                                { label: \"Start Timestamp\", value: ts_start, id: \"ts_start\" },\n                                { label: \"End Timestamp\", value: ts_end, id: \"ts_end\" },\n                            ].map(row => {\n                                return (\n                                    <Grid item xs={12} sm={6} md={4} key={row.id}>\n                                        {createDateTime(row, handleDateTime)}\n                                    </Grid>\n                                );\n                            })\n                        }\n\n                        <Grid item xs={12} sm={6} md={4}>\n                            <DynaslopeUserSelectInputForm\n                                label=\"Staff Name\"\n                                div_id=\"user_id\"\n                                changeHandler={handleEventChange(\"user_id\")}\n                                value={user_id}\n                                css={classes.selects}\n                                variant=\"outlined\"\n                            />\n                        </Grid>\n                    </Grid>\n\n                    <Grid item xs={12} sm container justify=\"center\">\n                        <Button variant=\"contained\" \n                            color=\"secondary\" \n                            size={isWidthDown(\"sm\", width) ? \"small\" : \"medium\"}\n                            onClick={handleSubmit}\n                            endIcon={<ArrowForwardIos />}\n                        >\n                            Generate\n                        </Button>\n                    </Grid>\n                </Paper>\n\n                <Grid item sm={12}>                                      \n                    {shift_data}\n                </Grid>\n            </MuiPickersUtilsProvider>\n        </div>\n    );\n}\n\nexport default withWidth()(MonitoringShifts);\n\n\n","import React, {\n    Fragment, useState, useEffect,\n    createContext\n} from \"react\";\nimport { matchPath } from \"react-router-dom\";\nimport { makeStyles } from \"@material-ui/core\";\nimport TabBar from \"../../reusables/TabBar\";\nimport GeneralStyles from \"../../../GeneralStyles\";\nimport PageTitle from \"../../reusables/PageTitle\";\nimport EndOfShiftGenerator from \"./EndOfShiftGenerator\";\nimport MonitoringShifts from \"./MonitoringShifts\";\n\nconst useStyles = makeStyles(theme => {\n    const gen_style = GeneralStyles(theme);\n    \n    return {\n        ...gen_style,\n        tabBar: {\n            ...gen_style.pageContentMargin,\n            margin: 0\n        },\n        tabBarContent: {\n            marginTop: 30\n        }\n    }; \n});\n\nconst tabs_array = [\n    { label: \"End-of-Shift Report Generator\", href: \"report_generator\" },\n    { label: \"Monitoring Shifts\", href: \"shifts\" }\n];\n\nexport const CalendarContext = createContext();\n\nfunction Container (props) {\n    const { history, match: { url }, location: { pathname } } = props;\n    const [chosenTab, setChosenTab] = useState(0);\n    const classes = useStyles();\n\n    const [open_calendar_on_start, setOpenCalendarOnStart] = useState(false);\n\n    useEffect(() => {\n        const match = matchPath(pathname, {\n            path: `${url}/:tab`,\n            exact: true\n        });\n    \n        if (match) {\n            const { params: { tab } } = match;\n            const index = tabs_array.findIndex(x => x.href === tab);\n            setChosenTab(index);\n            \n            if (index === 1) setOpenCalendarOnStart(true);\n        }\n    }, [url]);\n\n    const handleTabSelected = chosen_tab => {\n        setChosenTab(chosen_tab);\n        history.push(`${url}/${tabs_array[chosen_tab].href}`);\n    };\n\n    return (\n        <Fragment>\n            <div className={classes.pageContentMargin}>\n                <PageTitle title=\"Alert Monitoring | Shifts & Reports\" />\n            </div>\n\n            <div className={classes.tabBar}>\n                <TabBar \n                    chosenTab={chosenTab}\n                    onSelect={handleTabSelected}\n                    tabsArray={tabs_array}\n                />\n            </div>\n            \n            <div className={`${classes.pageContentMargin} ${classes.tabBarContent}`}>\n                <EndOfShiftGenerator hidden={chosenTab !== 0} />\n                <MonitoringShifts hidden={chosenTab !== 1} defaultCalendarOpen={open_calendar_on_start} />\n            </div>\n\n        </Fragment>\n    );\n}\n\n\nexport default Container;\n","import React from \"react\";\nimport Grow from \"@material-ui/core/Grow\";\nimport TextField from \"@material-ui/core/TextField\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport ForwardIcon from \"@material-ui/icons/Forward\";\nimport ClearIcon from \"@material-ui/icons/Clear\";\nimport { withStyles } from \"@material-ui/core/styles\";\n\nconst defaultSearchStyles = theme => ({\n    main: {\n        display: \"flex\",\n        flex: \"1 0 auto\",\n    },\n    searchText: {\n        flex: \"0.8 0\",\n    },\n    clearIcon: {\n        \"&:hover\": {\n            color: theme.palette.error.main,\n        },\n    },\n});\n\nclass CustomSearchRender extends React.Component {\n    componentDidMount () {\n        document.addEventListener(\"keydown\", this.onKeyDown, false);\n    }\n\n    componentWillUnmount () {\n        document.removeEventListener(\"keydown\", this.onKeyDown, false);\n    }\n\nhandleTextChange = event => {\n    const { onSearchChange } = this.props.options;\n\n    if (onSearchChange) {\n        onSearchChange(event.target.value);\n    }\n\n    this.props.onSearch(event.target.value);\n};\n\nonKeyDown = event => {\n    if (event.keyCode === 27) {\n        this.props.onHide();\n    } else if (event.keyCode === 13) {\n        this.props.onSearchClick();\n    }\n};\n\nrender () {\n    const { classes, options, onHide, searchText, onSearchClick } = this.props;\n\n    return (\n        <Grow appear in timeout={300}>\n            <div className={classes.main} ref={el => (this.rootRef = el)}>\n                <TextField\n                    placeholder=\"Type words to search narrative column\"\n                    className={classes.searchText}\n                    InputProps={{\n                        \"aria-label\": options.textLabels.toolbar.search,\n                    }}\n                    value={searchText || \"\"}\n                    onChange={this.handleTextChange}\n                    fullWidth\n                    inputRef={el => (this.searchField = el)}\n                />\n                <IconButton className={classes.clearIcon} style={{ marginLeft: 6 }} onClick={onSearchClick}>\n                    <ForwardIcon />\n                </IconButton>\n                <IconButton className={classes.clearIcon} onClick={onHide}>\n                    <ClearIcon />\n                </IconButton>\n            </div>\n        </Grow>\n    );\n}\n}\n\nexport default withStyles(defaultSearchStyles, { name: \"CustomSearchRender\" })(CustomSearchRender);","import axios from \"axios\";\nimport { host } from \"../../../config\";\n\nfunction makeAxiosRequest (json_data, api_link, callback = null) {\n    axios.post(api_link, json_data)\n    .then((response) => {\n        const { data } = response; \n        if (callback !== null) {\n            callback(data);\n        } \n    })\n    .catch((error) => {\n        console.log(error);\n    });\n}\n\nexport function handleDelete (json_data, callback) {\n    const api_link = `${host}/api/narratives/delete_narratives_from_db`;\n    makeAxiosRequest(json_data, api_link, callback);\n}\n\n\nexport function handleNarratives (json_data, callback) {\n    const api_link = `${host}/api/narratives/write_narratives_to_db`;\n    makeAxiosRequest(json_data, api_link, callback);\n}\n\n// eslint-disable-next-line import/prefer-default-export\nexport function getEndOfShiftReports (input, callback) {\n    console.log(\"JUST A PLACEHOLDER\");\n}\n","import React from \"react\";\nimport {\n    TextField, Grid, makeStyles,\n    Typography, FormControlLabel,\n    Checkbox, Tooltip\n} from \"@material-ui/core\";\n\n// Form Related Imports\nimport MomentUtils from \"@date-io/moment\";\nimport { MuiPickersUtilsProvider, TimePicker, DatePicker } from \"@material-ui/pickers\";\n\nimport DynaslopeSiteSelectInputForm from \"../../reusables/DynaslopeSiteSelectInputForm\";\nimport DynaslopeUserSelectInputForm from \"../../reusables/DynaslopeUserSelectInputForm\";\n\nconst useStyles = makeStyles(theme => ({\n    inputGridContainer: {\n        marginTop: 6,\n        marginBottom: 6\n    },\n    checkboxGridContainer: {\n        marginTop: 12,\n        marginBottom: 6\n    },\n    selectInput: {\n        width: \"auto\",\n        [theme.breakpoints.down(\"xs\")]: {\n            width: \"250px\"\n        }\n    },\n    root: {\n        width: \"90%\",\n    },\n    backButton: {\n        marginRight: 1\n    },\n    instructions: {\n        marginTop: 1,\n        marginBottom: 1,\n    }\n}));\n\nfunction NarrativeForm (props) {\n    const classes = useStyles();\n    const {\n        narrativeData,\n        setNarrativeData, siteList,\n        setSiteList, isFromSiteLogs,\n        callAck, setCallAck,\n        callAckHashtag, toUseCurrentInstance,\n        setToUseCurrentInstance\n    } = props;\n    const {\n        narrative, timestamp, user_id, narrative_id\n    } = narrativeData;\n\n    const handleDateTime = key => value => {\n        setNarrativeData({\n            ...narrativeData,\n            [key]: value  \n        });\n    };\n\n    const update_site_value = value => {\n        setSiteList(value);\n    };\n\n\n    const handleEventChange = key => event => {\n        const { value } = event.target;\n\n        setNarrativeData({\n            ...narrativeData,\n            [key]: value  \n        });\n    };\n\n    const handleCallAckOnCheck = event => {\n        const { checked } = event.target;\n        setCallAck(checked);\n\n        let new_narrative = narrative;\n        const with_space = ` ${callAckHashtag}`;\n        if (checked) {\n            if (narrative.length + with_space.length > 1000) {\n                new_narrative.substring(0, 1000 - with_space.length);\n            }\n            \n            new_narrative += with_space;\n        } else {\n            new_narrative = narrative.replace(with_space, \"\");\n        }\n        \n        setNarrativeData({\n            ...narrativeData,\n            narrative: new_narrative\n        });\n    };\n\n    return (\n        <MuiPickersUtilsProvider utils={MomentUtils}>\n            <Grid\n                container\n                justify=\"space-evenly\"\n                alignItems=\"center\"\n                spacing={1}\n            >\n                <Grid item xs={12} className={classes.inputGridContainer}>\n                    <DynaslopeSiteSelectInputForm \n                        value={siteList}\n                        changeHandler={update_site_value}\n                        isMulti\n                        isFromSiteLogs={isFromSiteLogs}\n                        disabled={Boolean(narrative_id)}      \n                    />\n                </Grid>\n                \n                <Grid item xs={12} sm={6} className={classes.inputGridContainer}>\n                    <DatePicker\n                        required\n                        autoOk\n                        label=\"Date\"\n                        value={timestamp}\n                        onChange={handleDateTime(\"timestamp\")}\n                        ampm={false}\n                        placeholder=\"2020-01-01\"\n                        format=\"YYYY-MM-DD\"\n                        mask=\"____-__-__\"\n                        clearable\n                        disableFuture\n                        fullWidth\n                    />\n                </Grid>\n\n                <Grid item xs={12} sm={6} className={classes.inputGridContainer}>\n                    <TimePicker\n                        required\n                        autoOk\n                        label=\"Time\"\n                        value={timestamp}\n                        onChange={handleDateTime(\"timestamp\")}\n                        ampm={false}\n                        placeholder=\"00:00\"\n                        format=\"HH:mm\"\n                        mask=\"__:__\"\n                        clearable\n                        disableFuture\n                        fullWidth\n                    />\n                </Grid>\n\n                <Grid item xs={12} className={classes.inputGridContainer}>\n                    <DynaslopeUserSelectInputForm\n                        variant=\"standard\"\n                        label=\"Reporter\"\n                        div_id=\"user_id\"\n                        changeHandler={handleEventChange(\"user_id\")}\n                        value={user_id}\n                        disabled\n                    />\n                </Grid>\n\n                <Grid item xs={12} className={classes.inputGridContainer}>\n                    <FormControlLabel\n                        value=\"callAck\"\n                        control={<Checkbox \n                            color=\"primary\" checked={toUseCurrentInstance}\n                            onClick={e => setToUseCurrentInstance(e.target.checked)}\n                        />}\n                        label={<div>\n                            Associate site log to current monitoring instance&nbsp;\n                            <Tooltip\n                                title=\"Unchecking this will associate the log on the montoring event where the log's timestamp falls through.\">\n                                <strong>[?]</strong>\n                            </Tooltip>\n                        </div>}\n                        labelPlacement=\"end\"\n                    />\n                </Grid>\n\n                <Grid item xs={12}>\n                    <FormControlLabel\n                        value=\"callAck\"\n                        control={<Checkbox \n                            color=\"primary\" checked={callAck}\n                            onClick={handleCallAckOnCheck}\n                        />}\n                        label={<div>\n                            Early Warning Information (EWI) acknowledgement call&nbsp;\n                            <Tooltip\n                                title=\"Tick this if the log to enter is a call that acknowledges an EWI. This will add #EWIResponseCall on the narrative.\"><strong>[?]</strong>\n                            </Tooltip>\n                        </div>}\n                        labelPlacement=\"end\"\n                    />\n                </Grid>\n\n                <Grid item xs={12} className={classes.inputGridContainer}>\n                    <TextField\n                        required\n                        id=\"standard-multiline-static\"\n                        label=\"Narrative\"\n                        value={narrative}\n                        onChange={handleEventChange(\"narrative\")}\n                        placeholder=\"Enter narrative\"\n                        multiline\n                        rows=\"4\"\n                        rowsMax={4}\n                        fullWidth\n                        inputProps={{\n                            maxLength: 1000\n                        }}\n                        variant=\"filled\"\n                    />\n                    <Typography\n                        component={Grid}\n                        container justify=\"flex-end\"\n                        variant=\"caption\"\n                    >\n                        Characters: {narrative.length}/1000\n                    </Typography>\n                </Grid>\n            </Grid>\n        </MuiPickersUtilsProvider>           \n    );\n}\n\n\nexport default NarrativeForm;\n","import React, { useState, useEffect, useContext } from \"react\";\nimport moment from \"moment\";\nimport {\n    Dialog, DialogTitle, DialogContent,\n    DialogContentText, DialogActions,\n    Button, withMobileDialog\n} from \"@material-ui/core\";\n\nimport { useSnackbar } from \"notistack\";\n\nimport { handleNarratives } from \"./ajax\";\nimport NarrativeForm from \"./NarrativeForm\";\nimport { getCurrentUser } from \"../../sessions/auth\";\nimport { GeneralContext } from \"../../contexts/GeneralContext\";\nimport { prepareSiteAddress } from \"../../../UtilityFunctions\";\n\nexport function prepareSitesOption (arr, to_include_address) {\n    return arr.map(site => {\n        const { \n            site_code, site_id\n        } = site;\n\n        let address = site_code.toUpperCase();\n        if (to_include_address) address = prepareSiteAddress(site, true, \"start\");\n        return { value: site_id, label: address, data: site };\n    });\n}\n\nfunction NarrativeFormModal (props) {\n    const {\n        fullScreen, isOpen,\n        closeHandler, setIsUpdateNeeded,\n        chosenNarrative, isEditMode,\n        isFromSiteLogs, setSort, resetInput\n    } = props;\n\n    const { enqueueSnackbar, closeSnackbar } = useSnackbar();\n    const current_user = getCurrentUser();\n\n    const initial_data = {\n        narrative_id: null,\n        timestamp: moment().format(\"YYYY-MM-DD HH:mm\"),\n        narrative: \"\",\n        user_id: current_user.user_id,\n        event_id: null,\n        type_id: 1\n    };\n\n    const [site_list, setSiteList] = useState(null);\n    const [narrative_data, setNarrativeData] = useState(initial_data);\n    const [isDisabled, setIsDisabled] = useState(true);\n    const { sites } = useContext(GeneralContext);\n    const site_options = prepareSitesOption(sites, true);\n    const call_ack_hashtag = \"#EWIResponseCall\"; // when changing this, mirror change on communication_task.py\n    const [call_ack, setCallAck] = useState(false);\n    const [to_use_current_instance, setToUseCurrentInstance] = useState(true);\n\n    useEffect(() => {\n        let default_narr_data = {};\n        let temp_narrative = \"\";\n        if (Object.keys(chosenNarrative).length !== 0) {\n            const {\n                id, narrative, timestamp, site_id, user_id, event_id, type_id\n            } = chosenNarrative;\n\n            const site = site_options.filter(row => row.value === site_id);\n            delete site.data;\n            site.event_id = event_id;\n            setSiteList([...site]);\n\n            default_narr_data = {\n                narrative_id: id,\n                timestamp, narrative,\n                user_id, event_id, type_id\n            };\n            setNarrativeData(default_narr_data);\n            temp_narrative = narrative;\n        }\n        setCallAck(temp_narrative.includes(call_ack_hashtag));\n    }, [chosenNarrative]);\n    \n    useEffect(() => {\n        const bool = narrative_data.narrative === \"\" || site_list === null;\n        setIsDisabled(bool);\n    }, [narrative_data, site_list]);\n\n    const handleSubmit = () => {\n        setIsDisabled(true);\n\n        const snackbar = enqueueSnackbar(\n            \"Inserting site log...\",\n            {\n                variant: \"warning\",\n                persist: true\n            }\n        );\n\n        const temp = site_list.map(x => {\n            const { value, event_id } = x; // Value is site_id\n            let temp_id = event_id || null;\n            if (!to_use_current_instance) temp_id = null;\n            \n            return { site_id: value, event_id: temp_id };\n        });\n\n        narrative_data.site_list = temp;\n        narrative_data.timestamp = moment(narrative_data.timestamp).format(\"YYYY-MM-DD HH:mm:ss\");\n        narrative_data.user_id = current_user.user_id;\n        console.log(narrative_data);\n        // return;\n        handleNarratives(narrative_data, ret => {\n            console.log(\"ret\", ret);\n            handleReset();\n\n            closeSnackbar(snackbar);\n            enqueueSnackbar(\n                \"Site log inserted successfully!\",\n                {\n                    variant: \"success\",\n                    autoHideDuration: 3000\n                }\n            );\n\n            setSort({ order_by: \"id\", order: \"desc\" });\n            resetInput();\n            setIsUpdateNeeded(true);\n            if (isEditMode) {\n                closeFn();        \n            }\n        });\n    };\n\n    const handleReset = () => {\n        setNarrativeData({\n            narrative_id: null,\n            narrative: \"\",\n            user_id: current_user.user_id,\n            event_id: \"\",\n            type_id: 1\n        });\n        setSiteList(site_list);\n        setCallAck(false);\n        setToUseCurrentInstance(true);\n    };\n\n    const handleFullReset = () => {\n        setNarrativeData({\n            narrative_id: null,\n            timestamp: moment().format(\"YYYY-MM-DD HH:mm\"),\n            narrative: \"\",\n            user_id: current_user.user_id,\n            event_id: \"\",\n            type_id: 1\n        });\n        setSiteList(null);\n        setToUseCurrentInstance(true);\n    };\n\n    const closeFn = () => {\n        closeHandler(); \n        handleFullReset();\n    };\n\n    return (\n        <div>\n            <Dialog\n                fullWidth\n                fullScreen={fullScreen}\n                open={isOpen}\n                aria-labelledby=\"form-dialog-title\"\n\n            >\n                <DialogTitle id=\"form-dialog-title\">Site Logs Form</DialogTitle>\n                <DialogContent>\n                    <DialogContentText>\n                        Note: Only monitoring-related narratives can be entered in this form. \n                        Please use other forms dedicated to its purposes.\n                    </DialogContentText>\n\n                    <NarrativeForm\n                        narrativeData={narrative_data}\n                        setNarrativeData={setNarrativeData}\n                        siteList={site_list}\n                        setSiteList={setSiteList}\n                        isFromSiteLogs={isFromSiteLogs}\n                        callAck={call_ack}\n                        setCallAck={setCallAck}\n                        callAckHashtag={call_ack_hashtag}\n                        toUseCurrentInstance={to_use_current_instance}\n                        setToUseCurrentInstance={setToUseCurrentInstance}\n                    />\n                </DialogContent>\n                <DialogActions>\n                    <div>\n                        <Button onClick={closeFn} color=\"primary\">\n                            Cancel\n                        </Button>\n                        <Button onClick={handleFullReset}>Reset</Button>\n                        <Button \n                            variant=\"contained\"\n                            color=\"primary\"\n                            onClick={handleSubmit}\n                            disabled={isDisabled}\n                        >\n                            {isEditMode ? \"Save Edits\" : \"Save & Add More\"}\n                        </Button>\n                    </div>\n                </DialogActions>\n            </Dialog>\n        </div>\n    );\n}\nexport default withMobileDialog()(NarrativeFormModal);\n","import React from \"react\";\nimport {\n    Dialog, DialogTitle, DialogContent,\n    DialogContentText, DialogActions,\n    Button, withMobileDialog\n} from \"@material-ui/core\";\nimport { handleDelete } from \"./ajax\";\n\nfunction DeleteNarrativeModal (props) {\n    const {\n        fullScreen, isOpen,\n        closeHandler, chosenNarrative, \n        setIsUpdateNeeded\n    } = props;\n    const { id: narrative_id, narrative } = chosenNarrative;\n\n    const handleDeleteClick = () => {\n        closeHandler();\n        const payload = {\n            narrative_id\n        };\n        handleDelete(payload, ret => {\n            console.log(\"ret\", ret);\n            setIsUpdateNeeded(true);\n        });\n    };\n\n    return (\n        <div>\n            <Dialog\n                fullWidth\n                fullScreen={fullScreen}\n                open={isOpen}\n                aria-labelledby=\"form-dialog-title\"\n\n            >\n                <DialogTitle id=\"form-dialog-title\">Site Logs Delete</DialogTitle>\n                <DialogContent>\n                    <DialogContentText>\n                        Are you sure you want to delete this narrative?\n                    </DialogContentText>\n                    <DialogContentText align=\"center\">\n                        { `\"${narrative}\"` }\n                    </DialogContentText>\n                </DialogContent>\n                <DialogActions>\n                    <div>\n                        <Button onClick={closeHandler} color=\"primary\">\n                            Cancel\n                        </Button>\n                        <Button variant=\"contained\" color=\"secondary\" onClick={handleDeleteClick} disabled={false}>\n                            Confirm\n                        </Button>\n                    </div>\n                </DialogActions>\n            </Dialog>\n        </div>\n    );\n}\n\nexport default withMobileDialog()(DeleteNarrativeModal);\n","import React, { \n    useState, useEffect,\n    Fragment, useContext\n} from \"react\";\n\nimport {\n    Paper, LinearProgress, Checkbox, InputLabel,\n    makeStyles, Dialog, DialogContent, FormControl,\n    Button, IconButton, ListItemText, Select, MenuItem,\n    ListItemIcon\n} from \"@material-ui/core\";\nimport { AddAlert, Edit, Delete, Warning } from \"@material-ui/icons\";\nimport withWidth, { isWidthUp } from \"@material-ui/core/withWidth\";\nimport { createMuiTheme, MuiThemeProvider } from \"@material-ui/core/styles\";\n\nimport moment from \"moment\";\nimport MUIDataTable from \"mui-datatables\";\n\nimport CustomSearchRender from \"./CustomSearchRender\";\nimport { getNarratives } from \"../ajax\";\nimport PageTitle from \"../../reusables/PageTitle\";\nimport GeneralStyles from \"../../../GeneralStyles\";\nimport NarrativeFormModal from \"../../widgets/narrative_form/NarrativeFormModal\";\nimport DeleteNarrativeModal from \"../../widgets/narrative_form/DeleteNarrativeModal\";\nimport { prepareSiteAddress } from \"../../../UtilityFunctions\";\nimport { GeneralContext } from \"../../contexts/GeneralContext\";\nimport { \n    subscribeToWebSocket, unsubscribeToWebSocket, receiveAlertsFromDB\n} from \"../../../websocket/monitoring_ws\";\n\nconst useStyles = makeStyles(theme => {\n    const gen = GeneralStyles(theme);\n    return {\n        ...gen,\n        inputGridContainer: {\n            margin: \"12px 0\",\n            [theme.breakpoints.down(\"sm\")]: {\n                margin: \"0 0\"\n            }\n        },\n        buttonGrid: {\n            textAlign: \"right\",\n            [theme.breakpoints.down(\"sm\")]: {\n                textAlign: \"right\"\n            }\n        },\n        button: {\n            fontSize: 16,\n            paddingLeft: 8\n        },\n        alert3: {\n            ...gen.alert3,\n            \"&:hover *\": {\n                color: \"#222222 !important\"\n            },\n        }\n    }; \n});\n\nconst getMuiTheme = createMuiTheme({\n    overrides: {\n        MUIDataTableHeadCell: {\n            root: {\n                zIndex: \"0 !important\"\n            }\n        }\n    }\n});\n\nfunction getManipulationButtons (narrative, data_handlers) {\n    const { \n        setChosenNarrative, setIsOpenNarrativeModal,\n        setIsOpenDeleteModal, setIsEditMode } = data_handlers;\n\n    const handleEdit = value => {\n        setChosenNarrative(narrative);\n        setIsOpenNarrativeModal(true);\n        setIsEditMode(true);\n        // console.log(\"Edit\", narrative);\n    };\n\n    const handleDelete = value => {\n        setChosenNarrative(narrative);\n        setIsOpenDeleteModal(true);\n    };\n\n    return (\n        <span>\n            <IconButton tooltip=\"Edit\" style={{ \"float\": \"left\" }} onClick={handleEdit}>\n                <Edit style={{ fontSize: 20 }}/>\n            </IconButton> \n            <IconButton tooltip=\"Delete\" style={{ \"float\": \"left\" }} onClick={handleDelete}>\n                <Delete style={{ fontSize: 20 }}/>\n            </IconButton>\n        </span>        \n    );\n}\n\nfunction processTableData (data) {\n    const processed = data.map(row => {\n        const {\n            narrative, user_details, site_id,\n            user_id, id, type_id, event_id,\n            timestamp\n        } = row;\n\n        let name = \"---\";\n        if (user_details !== null) {\n            const { last_name, first_name } = user_details;\n            name = `${first_name} ${last_name}`;\n        }\n        return ({\n            narrative,\n            user_details: name,\n            site_name: prepareSiteAddress(row.site, true, \"start\"),\n            timestamp,\n            type: row.type_id,\n            actions: \"---\",\n            site_id,\n            user_id,\n            id,\n            type_id,\n            event_id\n        });\n    });\n\n    return processed;\n}\n\nfunction SiteLogs (props) {\n    const { width } = props;\n    const classes = useStyles();\n    const [table_data, setTableData] = useState([]);\n    const [page, setPage] = useState(0);\n    const [rowsPerPage, setRowsPerPage] = useState(10);\n    const [count, setCount] = useState(0);\n    const [filters, setFilters] = useState([]);\n    const [filter_list, setFilterList] = useState([]);\n    const [search_str, setSearchString] = useState(\"\");\n    const [sort, setSort] = useState({ order_by: \"timestamp\", order: \"desc\" });\n\n    const [is_loading, setIsLoading] = useState(true);\n    const [isOpenNarrativeModal, setIsOpenNarrativeModal] = useState(false);\n    const [isOpenDeleteModal, setIsOpenDeleteModal] = useState(false);\n    const [isEditMode, setIsEditMode] = useState(false);\n\n    const [chosenNarrative, setChosenNarrative] = useState({});\n    const [isUpdateNeeded, setIsUpdateNeeded] = useState(true);\n    const [alertsFromDbData, setAlertsFromDbData] = useState(null);\n    const { setIsReconnecting } = useContext(GeneralContext);\n\n    const { sites } = useContext(GeneralContext);\n\n    const filter_sites_option = [];\n    const sites_dict = {};\n\n    sites.forEach(site => {\n        const site_code = site.site_code.toUpperCase();\n        filter_sites_option.push(site_code);\n        sites_dict[site_code] = site.site_id;\n    });\n\n    useEffect(() => {\n        subscribeToWebSocket(setIsReconnecting);\n        receiveAlertsFromDB(alerts_from_db => setAlertsFromDbData(alerts_from_db));\n        \n        return function cleanup () {\n            unsubscribeToWebSocket();\n        };\n    }, []);\n\n    useEffect(() => {\n        if (isUpdateNeeded) {\n            setIsLoading(true);\n            const input = {\n                include_count: true,\n                limit: rowsPerPage, offset: page * rowsPerPage,\n                filters, search_str,\n                ...sort\n            };\n\n            getNarratives(input, ret => {\n                const { narratives, count: total } = ret;\n                const processed = processTableData(narratives);\n                setTableData(processed);\n                setCount(total);\n                setIsLoading(false);\n            });\n\n            setIsUpdateNeeded(false);\n        }\n    }, [page, rowsPerPage, filters, search_str, sort, isUpdateNeeded]);\n\n    const resetInput = (exclude_filters = false) => {\n        setPage(0);\n        if (!exclude_filters) setFilters([]);\n        setSearchString(\"\");\n    };\n\n    const handleBoolean = (data, bool) => () => {\n        // NOTE: there was no need to use the bool for opening a modal or switch\n        if (data === \"is_narrative_modal_open\") {\n            setIsOpenNarrativeModal(!isOpenNarrativeModal);\n            setIsEditMode(false);\n            setChosenNarrative({});\n        } else if (data === \"is_open_delete_modal\") {\n            setIsOpenDeleteModal(!isOpenDeleteModal);\n        }\n    };\n\n    const options = {\n        textLabels: {\n            body: {\n                noMatch: \"No data\",\n            }\n        },\n        selectableRows: \"none\",\n        print: false,\n        download: false,\n        filterType: \"multiselect\",\n        responsive: isWidthUp(width, \"xs\") ? \"standard\" : \"simple\",\n        serverSide: true,\n        searchText: search_str,\n        searchPlaceholder: \"Type words to search narrative column\",\n        rowsPerPageOptions: [5, 10, 15],\n        rowsPerPage,\n        count,\n        page,\n        onTableChange (action, table_state) {\n            if (action === \"changePage\") {\n                const { page: cur_page } = table_state;\n                setPage(cur_page);\n            } else if (action === \"changeRowsPerPage\") {\n                const { rowsPerPage: cur_rpp } = table_state;\n\n                if (cur_rpp !== rowsPerPage) setRowsPerPage(cur_rpp);\n            } else if (action === \"resetFilters\") {\n                setFilterList({});\n                setFilters([]);\n            }\n            \n            const action_set = [\"changePage\", \"changeRowsPerPage\", \"resetFilters\"];\n            if (action_set.includes(action)) setIsUpdateNeeded(true);\n        },\n        onColumnSortChange (column, direction) {\n            const order = direction === \"ascending\" ? \"asc\" : \"desc\";\n            setSort({ order_by: column, order });\n            setIsUpdateNeeded(true);\n        },\n        onFilterChange (column, ret_filters) {\n            const chosen_filters = [];\n            let is_empty = true;\n            ret_filters.forEach((row, index) => {\n                if (row.length !== 0) {\n                    is_empty = false;\n                    const { name: column_name } = columns[index];\n                    if (column_name === \"site_name\") {\n                        const site_ids = [];\n                        const site_names = [];\n\n                        row.forEach(site => {\n                            site_ids.push(sites_dict[site]);\n                            site_names.push(site);\n                        });\n\n                        chosen_filters.push({\n                            name: \"site_ids\",\n                            data: site_ids\n                        });\n\n                        setFilterList({ ...filter_list, [column_name]: site_names });\n                    }\n                }\n            });\n\n            if (is_empty) setFilterList({});\n            setFilters(chosen_filters);\n            setIsUpdateNeeded(true);\n        },\n        // eslint-disable-next-line max-params\n        customSearchRender: (searchText, handleSearch, hideSearch, s_options) => {\n            const searchStr = searchText || \"\";\n\n            const custom_on_hide_fn = () => {\n                hideSearch();\n                setSearchString(\"\");\n                setIsUpdateNeeded(true);\n            };\n\n            return (\n                <CustomSearchRender\n                    searchText={searchText}\n                    onSearch={handleSearch}\n                    onHide={custom_on_hide_fn}\n                    options={s_options}\n                    onSearchClick={() => {\n                        resetInput(true);\n                        setSearchString(searchStr);\n                        setIsUpdateNeeded(true);\n                    }}\n                />\n            );\n        }\n    };\n\n    const columns = [\n        {\n            name: \"id\",\n            label: \"Log ID\",\n            options: {\n                filter: false,\n                display: false,\n                sort: true\n            }\n        },\n        {\n            name: \"timestamp\",\n            label: \"Timestamp\",\n            options: {\n                filter: false,\n                sort: true,\n                sortDirection: sort.order_by === \"timestamp\" ? sort.order : \"none\",\n                customBodyRender: value => {\n                    return moment(value).format(\"DD MMMM YYYY, HH:mm:ss\");\n                }\n            }\n        },\n        {\n            name: \"site_name\",\n            label: \"Site\",\n            options: {\n                display: \"true\",\n                filter: true,\n                filterType: \"custom\",\n                filterList: typeof filter_list.site_name === \"undefined\" ? [] : filter_list.site_name,\n                filterOptions: {\n                    fullWidth: true,\n                    logic (location, filterss) {\n                        if (filterss.length) return !filterss.includes(location);\n                        return false;\n                    },\n                    // eslint-disable-next-line max-params\n                    display (filterList, onChange, index, column) {\n                        const { latest, extended, overdue } = alertsFromDbData;\n                        const merged_latest = [...latest, ...overdue];\n\n                        return (\n                            <FormControl>\n                                <InputLabel>Site</InputLabel>\n                                <Select\n                                    multiple\n                                    value={filterList[index]}\n                                    renderValue={selected => selected.join(\", \")}\n                                    onChange={event => {\n                                        // eslint-disable-next-line no-param-reassign\n                                        filterList[index] = event.target.value;\n                                        onChange(filterList[index], index, column);\n                                    }}\n                                >\n                                    {\n                                        filter_sites_option.map(site_code => {\n                                            const sc = site_code.toLowerCase();\n                                            const is_ev = merged_latest.find(x => x.event.site.site_code === sc);\n                                            const is_ex = extended.find(x => x.event.site.site_code === sc);\n                                            \n                                            let color = classes.alert0;\n                                            if (is_ev) { color = classes.alert3; }\n                                            if (is_ex) { color = classes.extended; }\n\n                                            const icon = is_ev || is_ex ? <ListItemIcon><Warning/></ListItemIcon> : \"\";\n\n                                            return (\n                                                <MenuItem key={site_code} value={site_code} className={color}>\n                                                    <Checkbox\n                                                        color=\"primary\"\n                                                        checked={filterList[index].indexOf(site_code) > -1}\n                                                    />\n                                                    <ListItemText primary={site_code} />\n                                                    { icon }\n                                                </MenuItem>\n                                            );\n                                        })\n                                    }\n                                </Select>\n                            </FormControl>\n                        );\n                    },\n                },\n                sort: false\n            }\n        },\n        {\n            name: \"narrative\",\n            label: \"Narrative\",\n            options: {\n                filter: false,\n                sort: false\n            }\n        },\n        {\n            name: \"type\",\n            label: \"Type\",\n            options: {\n                filter: true\n            }\n        },\n        {\n            name: \"user_details\",\n            label: \"Reporter\",\n            options: {\n                filter: false\n            }\n        },\n        {\n            name: \"actions\",\n            label: \"Actions\",\n            options: {\n                filter: false,\n                sort: false,\n                customBodyRender: (value, { rowIndex }) => {\n                    const row = table_data[rowIndex];\n                    return getManipulationButtons(row, { \n                        setChosenNarrative, \n                        setIsOpenNarrativeModal, isOpenNarrativeModal,\n                        setIsOpenDeleteModal, isOpenDeleteModal, setIsEditMode, isEditMode\n                    });\n                }\n            }\n        }\n    ];\n\n    const is_desktop = isWidthUp(\"md\", width);\n\n    const custom_buttons = <span>\n        <Button\n            aria-label=\"Write a site log\"\n            variant=\"contained\"\n            color=\"primary\"\n            size=\"small\"\n            style={{ marginRight: 8 }}\n            onClick={handleBoolean(\"is_narrative_modal_open\", true)}\n        >\n            <AddAlert style={{ paddingRight: 4, fontSize: 20 }} />\n            Write a Site Log\n        </Button>\n    </span>;\n\n    return (\n        <Fragment>\n            <div className={classes.pageContentMargin}>\n                <PageTitle \n                    title=\"Alert Monitoring | Site Logs\" \n                    customButtons={is_desktop ? custom_buttons : false}\n                />\n            </div>\n\n            <Dialog open={is_loading} fullWidth>\n                <DialogContent>\n                    <div style={{ flexGrow: 1 }}>\n                        <LinearProgress variant=\"query\" color=\"secondary\" />\n                    </div>\n                </DialogContent>\n            </Dialog>\n\n            <div className={classes.pageContentMargin}>\n                <Paper className={classes.paperContainer}>\n                    <MuiThemeProvider theme={getMuiTheme}>\n                        <MUIDataTable\n                            title=\"Site Logs\"\n                            data={table_data}\n                            columns={columns}\n                            options={options}\n                        />\n                    </MuiThemeProvider>\n                </Paper>\n            </div>\n\n            <NarrativeFormModal\n                isOpen={isOpenNarrativeModal}\n                closeHandler={handleBoolean(\"is_narrative_modal_open\", false)}\n                setIsUpdateNeeded={setIsUpdateNeeded}\n                chosenNarrative={chosenNarrative}\n                isFromSiteLogs={alertsFromDbData}\n                isEditMode={isEditMode}\n                setSort={setSort}\n                resetInput={resetInput}\n            />\n\n            <DeleteNarrativeModal\n                isOpen={isOpenDeleteModal}\n                closeHandler={handleBoolean(\"is_open_delete_modal\", false)}\n                chosenNarrative={chosenNarrative}\n                setIsUpdateNeeded={setIsUpdateNeeded}\n            />\n        </Fragment>\n    );\n}\n\nexport default withWidth()(SiteLogs);\n","import React from \"react\";\nimport Grow from \"@material-ui/core/Grow\";\nimport TextField from \"@material-ui/core/TextField\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport ForwardIcon from \"@material-ui/icons/Forward\";\nimport ClearIcon from \"@material-ui/icons/Clear\";\nimport { withStyles } from \"@material-ui/core/styles\";\n\nconst defaultSearchStyles = theme => ({\n    main: {\n        display: \"flex\",\n        flex: \"1 0 auto\",\n    },\n    searchText: {\n        flex: \"0.8 0\",\n    },\n    clearIcon: {\n        \"&:hover\": {\n            color: theme.palette.error.main,\n        },\n    },\n});\n\nclass CustomSearchRender extends React.Component {\n    componentDidMount () {\n        document.addEventListener(\"keydown\", this.onKeyDown, false);\n    }\n\n    componentWillUnmount () {\n        document.removeEventListener(\"keydown\", this.onKeyDown, false);\n    }\n\nhandleTextChange = event => {\n    const { onSearchChange } = this.props.options;\n\n    if (onSearchChange) {\n        onSearchChange(event.target.value);\n    }\n\n    this.props.onSearch(event.target.value);\n};\n\nonKeyDown = event => {\n    if (event.keyCode === 27) {\n        this.props.onHide();\n    } else if (event.keyCode === 13) {\n        this.props.onSearchClick();\n    }\n};\n\nrender () {\n    const { classes, options, onHide, searchText, onSearchClick } = this.props;\n\n    return (\n        <Grow appear in timeout={300}>\n            <div className={classes.main} ref={el => (this.rootRef = el)}>\n                <TextField\n                    placeholder=\"Type words to search details column\"\n                    className={classes.searchText}\n                    InputProps={{\n                        \"aria-label\": options.textLabels.toolbar.search,\n                    }}\n                    value={searchText || \"\"}\n                    onChange={this.handleTextChange}\n                    fullWidth\n                    inputRef={el => (this.searchField = el)}\n                />\n                <IconButton className={classes.clearIcon} style={{ marginLeft: 6 }} onClick={onSearchClick}>\n                    <ForwardIcon />\n                </IconButton>\n                <IconButton className={classes.clearIcon} onClick={onHide}>\n                    <ClearIcon />\n                </IconButton>\n            </div>\n        </Grow>\n    );\n}\n}\n\nexport default withStyles(defaultSearchStyles, { name: \"CustomSearchRender\" })(CustomSearchRender);","import React, { useState, useEffect, Fragment } from \"react\";\n\nimport {\n    Paper, LinearProgress,\n    makeStyles, Dialog, DialogContent,\n    Button, IconButton\n} from \"@material-ui/core\";\nimport { AddAlert, Edit, Delete } from \"@material-ui/icons\";\nimport withWidth, { isWidthUp } from \"@material-ui/core/withWidth\";\nimport { createMuiTheme, MuiThemeProvider } from \"@material-ui/core/styles\";\n\nimport moment from \"moment\";\nimport MUIDataTable from \"mui-datatables\";\n\nimport CustomSearchRender from \"./CustomSearchRender\";\nimport { getIssuesAndReminders } from \"../../widgets/issues_and_reminders_form/ajax\";\nimport PageTitle from \"../../reusables/PageTitle\";\nimport GeneralStyles from \"../../../GeneralStyles\";\nimport IssueReminderModal from \"../../widgets/issues_and_reminders_form/IssuesAndReminderModal\";\n\nconst sites_dict = {};\n\nconst useStyles = makeStyles(theme => ({\n    ...GeneralStyles(theme),\n    inputGridContainer: {\n        margin: \"12px 0\",\n        [theme.breakpoints.down(\"sm\")]: {\n            margin: \"0 0\"\n        }\n    },\n    buttonGrid: {\n        textAlign: \"right\",\n        [theme.breakpoints.down(\"sm\")]: {\n            textAlign: \"right\"\n        }\n    },\n    button: {\n        fontSize: 16,\n        paddingLeft: 8\n    }\n}));\n\nconst getMuiTheme = createMuiTheme({\n    overrides: {\n        MUIDataTableHeadCell: {\n            root: {\n                zIndex: \"0 !important\"\n            }\n        }\n    }\n});\n\nfunction getManipulationButtons (issue_and_reminder, data_handlers) {\n    const { \n        setChosenIssueReminder, setIsOpenIssueReminderModal,\n        setToResolve, setIsIandRUpdateNeeded\n    } = data_handlers;\n\n    const handleEdit = value => {\n        setChosenIssueReminder(issue_and_reminder);\n        setIsOpenIssueReminderModal(true);\n        setIsIandRUpdateNeeded(true);\n        setToResolve(false);\n    };\n\n    const handleDelete = value => {\n        setChosenIssueReminder(issue_and_reminder);\n        setIsOpenIssueReminderModal(true);\n        setIsIandRUpdateNeeded(true);\n        setToResolve(true);\n    };\n\n    const { ts_resolved, ts_expiration } = issue_and_reminder;\n    const is_not_expired = moment().isBefore(ts_expiration) || ts_expiration === null;\n    const to_show_delete = (ts_resolved === null) && (is_not_expired || ts_expiration === null);\n\n    return (\n        <span>\n            {\n                is_not_expired && (\n                    <IconButton tooltip=\"Edit\" style={{ \"float\": \"left\" }} onClick={handleEdit}>\n                        <Edit style={{ fontSize: 20 }}/>\n                    </IconButton>\n                )\n            }\n            \n            {\n                to_show_delete && ( \n                    <IconButton tooltip=\"Delete\" style={{ \"float\": \"left\" }} onClick={handleDelete}>\n                        <Delete style={{ fontSize: 20 }}/>\n                    </IconButton>\n                )\n            }\n\n            {\n                !is_not_expired && !to_show_delete && \"Finished\"\n            }\n        </span>          \n    );\n}\n\nfunction IssuesAndReminders (props) {\n    const { width } = props;\n    const classes = useStyles();\n\n    const [table_data, setTableData] = useState([]);\n    const [page, setPage] = useState(0);\n    const [rowsPerPage, setRowsPerPage] = useState(5);\n    const [count, setCount] = useState(0);\n    const [filters, setFilters] = useState([]);\n    const [filter_list, setFilterList] = useState([]);\n    const [search_str, setSearchString] = useState(\"\");\n    const [on_search_open, setOnSearchOpen] = useState(false);\n    const [is_loading, setIsLoading] = useState(true);\n    const [isOpenIssueReminderModal, setIsOpenIssueReminderModal] = useState(false);\n\n    const [chosenIssueReminder, setChosenIssueReminder] = useState({});\n    const [isIandRUpdateNeeded, setIsIandRUpdateNeeded] = useState(false);\n    const [toResolve, setToResolve] = useState(false);\n\n    const [to_refresh, setToRefresh] = useState(true);\n\n    useEffect(() => {\n        setIsLoading(true);\n\n        const input = {\n            include_count: true,\n            limit: rowsPerPage, offset: page * rowsPerPage,\n            filters,\n            search_str,\n            include_expired: true\n        };\n\n        getIssuesAndReminders(input, ret => {\n            const { issues_and_reminders, count: total } = ret;\n            setTableData(issues_and_reminders);\n            setCount(total);\n            setIsLoading(false);\n        });\n    }, [\n        page, rowsPerPage, filters, search_str,\n        to_refresh\n    ]);\n\n    const handleBoolean = (data, bool) => () => {\n        // NOTE: there was no need to use the bool for opening a modal or switch\n        if (data === \"is_issue_reminder_modal_open\") {\n            setIsOpenIssueReminderModal(bool);\n            setIsIandRUpdateNeeded(false);\n        } \n    };\n\n    const options = {\n        textLabels: {\n            body: {\n                noMatch: \"No data\",\n            }\n        },\n        selectableRows: \"none\",\n        print: false,\n        download: false,\n        filterType: \"multiselect\",\n        responsive: isWidthUp(width, \"xs\") ? \"standard\" : \"simple\",\n        serverSide: true,\n        rowsPerPageOptions: [5, 10, 15],\n        rowsPerPage,\n        count,\n        page,\n        onTableChange (action, table_state) {\n            if (action === \"changePage\") {\n                const { page: cur_page } = table_state;\n                setPage(cur_page);\n            } else if (action === \"changeRowsPerPage\") {\n                const { rowsPerPage: cur_rpp } = table_state;\n\n                if (cur_rpp !== rowsPerPage) setRowsPerPage(cur_rpp);\n            } else if (action === \"resetFilters\") {\n                setFilterList({});\n                setFilters([]);\n            } else if (action === \"onSearchOpen\") {\n                setOnSearchOpen(true);\n            }\n        },\n        onFilterChange (column, ret_filters) {\n            const chosen_filters = [];\n            let is_empty = true;\n            ret_filters.forEach((row, index) => {\n                if (row.length !== 0) {\n                    is_empty = false;\n                    const { name: column_name } = columns[index];\n                    if (column_name === \"site_name\") {\n                        const site_ids = [];\n                        const site_names = [];\n\n                        row.forEach(site => {\n                            site_ids.push(sites_dict[site]);\n                            site_names.push(site);\n                        });\n\n                        chosen_filters.push({\n                            name: \"site_ids\",\n                            data: site_ids\n                        });\n\n                        setFilterList({ ...filter_list, [column_name]: site_names });\n                    }\n                }\n            });\n\n            if (is_empty) setFilterList({});\n            setFilters(chosen_filters);\n        },\n        customSearchRender: (searchText, handleSearch, hideSearch, options) => {\n            let searchStr = searchText || \"\";\n\n            if (on_search_open) {\n                searchStr = search_str;\n                setOnSearchOpen(false);\n            }\n\n            const custom_on_hide_fn = () => {\n                hideSearch();\n                setOnSearchOpen(false);\n            };\n\n            return (\n                <CustomSearchRender\n                    searchText={searchText}\n                    onSearch={handleSearch}\n                    onHide={custom_on_hide_fn}\n                    options={options}\n                    onSearchClick={() => setSearchString(searchStr)}\n                />\n            );\n        }\n    };\n\n    const columns = [\n        {\n            name: \"ts_posted\",\n            label: \"Date Posted\",\n            options: {\n                filter: false,\n                customBodyRender: value => {\n                    return moment(value).format(\"DD MMMM YYYY, HH:mm:ss\");\n                }\n            }\n        },\n        {\n            name: \"detail\",\n            label: \"Details\",\n            options: {\n                filter: false,\n            }\n        },\n        {\n            name: \"reporter\",\n            label: \"Reporter\",\n            options: {\n                filter: true,\n                customBodyRender: (value, { rowIndex }) => {\n                    const row = table_data[rowIndex];\n                    return `${row.issue_reporter.first_name} ${row.issue_reporter.last_name}`;\n                }\n            }\n        },\n        {\n            name: \"ts_expiration\",\n            label: \"Posted Until\",\n            options: {\n                filter: false,\n                sort: false,\n                customBodyRender: value => {\n                    return value === null ? \"-\" : moment(value).format(\"DD MMMM YYYY, HH:mm:ss\");\n                }\n            }\n        },\n        {\n            name: \"resolved_by\",\n            label: \"Resolved By\",\n            options: {\n                filter: false,\n                customBodyRender: value => {\n                    return value === null ? \"-\" : value;\n                }\n            }\n        },\n        {\n            name: \"resolution\",\n            label: \"Resolution\",\n            options: {\n                filter: false,\n                customBodyRender: value => {\n                    return value === null ? \"-\" : value;\n                }\n            }\n        },\n        {\n            name: \"actions\",\n            label: \"Actions\",\n            options: {\n                filter: false,\n                sort: false,\n                customBodyRender: (value, { rowIndex }) => {\n                    const row = table_data[rowIndex];\n                    const { ts_expiration, resolution } = row;\n                    \n                    if (moment(ts_expiration).isAfter(moment()) || resolution !== null) {\n                        return \"Finished\";\n                    }\n\n                    return getManipulationButtons(row, { \n                        setChosenIssueReminder, \n                        setIsOpenIssueReminderModal, isOpenIssueReminderModal,\n                        setToResolve, setIsIandRUpdateNeeded\n                    });\n                }\n            }\n        }\n    ];\n\n    const is_desktop = isWidthUp(\"md\", width);\n\n    const custom_buttons = <span>\n        <Button\n            aria-label=\"Post an Issue or reminder\"\n            variant=\"contained\"\n            color=\"primary\"\n            size=\"small\"\n            style={{ marginRight: 8 }}\n            onClick={handleBoolean(\"is_issue_reminder_modal_open\", true)}\n        >\n            <AddAlert style={{ paddingRight: 4, fontSize: 20 }} />\n            Post an Issue / Reminder\n        </Button>\n    </span>;\n\n    return (\n        <Fragment>\n            <div className={classes.pageContentMargin}>\n                <PageTitle \n                    title=\"Alert Monitoring | Issues and Reminders\" \n                    customButtons={is_desktop ? custom_buttons : false}\n                />\n            </div>\n\n            <Dialog open={is_loading} fullWidth>\n                <DialogContent>\n                    <div style={{ flexGrow: 1 }}>\n                        <LinearProgress variant=\"query\" color=\"secondary\" />\n                    </div>\n                </DialogContent>\n            </Dialog>\n\n            <div className={classes.pageContentMargin}>\n                <Paper className={classes.paperContainer}>\n                    <MuiThemeProvider theme={getMuiTheme}>\n                        <MUIDataTable\n                            title=\"Issues and Reminders\"\n                            data={table_data}\n                            columns={columns}\n                            options={options}\n                        />\n                    </MuiThemeProvider>\n                </Paper>\n            </div>\n\n            <IssueReminderModal\n                isOpen={isOpenIssueReminderModal}\n                closeHandler={handleBoolean(\"is_issue_reminder_modal_open\", false)}\n                isIandRUpdateNeeded={isIandRUpdateNeeded}\n                setIsIandRUpdateNeeded = {setIsIandRUpdateNeeded}\n                chosenIssueReminder={chosenIssueReminder}\n                toResolve={toResolve}\n                setToRefresh={setToRefresh}\n                toRefresh={to_refresh}\n            />\n        </Fragment>\n    );\n}\n\nexport default withWidth()(IssuesAndReminders);\n","import React, { useState, useEffect } from \"react\";\nimport moment from \"moment\";\nimport MUIDataTable from \"mui-datatables\";\nimport withWidth, { isWidthUp } from \"@material-ui/core/withWidth\";\nimport _ from \"lodash\";\nimport {\n    CircularProgress, Typography\n} from \"@material-ui/core\";\nimport { createMuiTheme, MuiThemeProvider } from \"@material-ui/core/styles\";\n\nconst getMuiTheme = createMuiTheme({\n    overrides: {\n        MUIDataTableHeadCell: {\n            root: {\n                zIndex: \"0 !important\"\n            }\n        }\n    }\n});\n\nfunction QATable (props) {\n    const {\n        width, isLoading, columns, type, datas, shift_start_ts\n    } = props;\n\n    const [data, setData] = useState(datas);\n    const [cols, setCols] = useState([]);\n\n    const sites_count = _(data)\n    .groupBy(\"site_name\")\n    .map((items, name) => name)\n    .value().length;\n\n    useEffect(() => {\n        columns.map((col, index) => {\n            switch (col.name) {\n                case \"ewi_sms\": \n                    col.options = {\n                        ...col.options,\n                        customBodyRender: (value, tableMeta) => {\n                            const { tableData, rowIndex } = tableMeta;\n                            const limit = moment(tableData[rowIndex].ts_limit_start);\n                            const sent_ts = moment(value);\n                            sites_count > 5 ? limit.add(sites_count, \"minutes\") : limit.add(5, \"minutes\");\n                            if (type === \"Lowering\") limit.add(15, \"minutes\");\n                            const error = sent_ts > limit;\n\n                            return (\n                                <span style={{ color: error ? \"red\" : \"\" }} >{value}</span>\n                            );\n                        },\n                    };  \n                    break;\n\n                case \"ewi_bulletin_release\" && type !== \"Routine\":\n                    col.options = {\n                        ...col.options,\n                        customBodyRender: (value, tableMeta, updateValue) => {\n                            const { tableData, rowIndex } = tableMeta;\n                            const limit_start = moment(tableData[rowIndex].ts_limit_start).format(\"YYYY-MM-DD HH:mm:ss\");\n                            let limit = moment(tableData[rowIndex].ts_limit_start).add(10, \"minutes\");\n                            const sent_ts = moment(value);\n                            if (sites_count > 5) limit = limit_start.add((sites_count * 2), \"minutes\");\n                            if (type === \"Lowering\") limit.add(15, \"minutes\");\n                            const error = sent_ts > limit;\n\n                            return (\n                                <span style={{ color: error ? \"red\" : \"\" }} >{value}</span>\n                            );\n                        },\n                    };  \n                    break;\n\n                case \"rainfall_info\":\n                    col.options = {\n                        ...col.options,\n                        customBodyRender: (value, tableMeta, updateValue) => {\n                            const { tableData, rowIndex } = tableMeta;\n                            const limit_start = moment(tableData[rowIndex].ts_limit_start).format(\"YYYY-MM-DD HH:mm:ss\");\n                            const limit = moment(limit_start).add(15, \"minutes\");\n                            const sent_ts = moment(value);\n                            // if(sites_count > 5) limit = limit_start.add((sites_count * 2), \"minutes\");\n                            const error = sent_ts > limit;\n\n                            return (\n                                <span style={{ color: error ? \"red\" : \"\" }} >{value}</span>\n                            );\n                        },\n                    };  \n                    break;\n\n                case \"ground_measurement\":\n                    col.options = {\n                        ...col.options,\n                        customBodyRender: (value, tableMeta, updateValue) => {\n                            const { tableData, rowIndex } = tableMeta;\n                            const limit_start = moment(tableData[rowIndex].ts_limit_start).format(\"YYYY-MM-DD HH:mm:ss\");\n                            const start_limit = moment(limit_start).subtract(2.5, \"hours\");\n                            const end_limit = moment(limit_start).subtract(2, \"hours\");\n                            const sent_ts = moment(value);\n                            const error = !!(sent_ts >= start_limit && sent_ts <= end_limit);\n\n                            return (\n                                <span style={{ color: error ? \"red\" : \"\" }} >{value}</span>\n                            );\n                        },\n                    };\n                    break;\n\n                default:\n                    break;\n            }\n            \n        });\n        setCols(columns);\n    }, [columns, datas]);\n\n    const options = {\n        textLabels: {\n            body: {\n                noMatch: `No ${type} event(s)`,\n            }\n        },\n        responsive: isWidthUp(width, \"xs\") ? \"standard\" : \"vertical\",\n        filter: true,\n        selectableRows: \"none\",\n        print: true,\n        download: true,\n        downloadOptions: {\n            filename: `${type}_releases_${shift_start_ts}.csv`,\n            separator: \";\",\n        },\n        filterType: \"dropdown\",\n        onTableChange: (action, tableState) => {\n            if (action === \"resetFilters\") {\n                setData(datas);\n            }\n            if (action === \"propsUpdate\") {\n                setData(datas);\n            }\n        },\n    };\n\n    return (\n        <div>\n            <MuiThemeProvider theme={getMuiTheme}>\n                <MUIDataTable\n                    title={\n                        <div>\n                            <Typography variant=\"h5\" component=\"div\">\n                                {type} releases\n                                {\n                                    isLoading &&\n                                        <CircularProgress\n                                            size={24}\n                                            style={{\n                                                marginLeft: 15,\n                                                position: \"relative\",\n                                                top: 4\n                                            }}\n                                        />\n                                }\n                            </Typography>\n                        </div>\n                    }\n                    data={data}\n                    columns={cols}\n                    options={options}\n                />\n            </MuiThemeProvider>                           \n        </div>\n    );\n}\n\nexport default withWidth()(QATable);\n","import React from \"react\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport QATable from \"./Table\";\n\nconst useStyles = makeStyles((theme) => ({\n    root: {\n        width: \"100%\",\n    },\n}));\n\nexport default function Event (props) {\n    const classes = useStyles();\n    const { releasesData, isLoading } = props;\n    const columns = [\n        {\n            name: \"site_name\",\n            label: \"Site\",\n            options: {\n                filter: true,\n                sort: true,\n            }\n        },\n        {\n            name: \"ewi_web_release\",\n            label: \"EWI Web Release\",\n            options: {\n                filter: false,\n                sort: false\n            }\n\n        },\n        {\n            name: \"ewi_sms\",\n            label: \"EWI SMS\",\n            options: {\n                filter: false,\n                sort: false\n            }\n\n        },\n        {\n            name: \"ewi_bulletin_release\",\n            label: \"EWI Bulletin\",\n            options: {\n                filter: false,\n                sort: false\n            }\n        },\n        {\n            name: \"rainfall_info\",\n            label: \"Rainfall Info\",\n            options: {\n                filter: false,\n                sort: false\n            }\n        },\n        {\n            name: \"ground_measurement\",\n            label: \"Ground Meas Reminder\",\n            options: {\n                filter: false,\n                sort: false\n            }\n        },\n        {\n            name: \"ground_data\",\n            label: \"Ground Data\",\n            options: {\n                filter: false,\n                sort: false\n            }\n        },\n    ];\n\n    return (\n        <div className={classes.root}>\n            <QATable \n                isLoading={isLoading} \n                tableTitle=\"QA for Event Monitoring\" \n                type=\"Event\"\n                datas={releasesData}\n                columns={columns}\n            />\n        </div>\n    );\n}","import React from \"react\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport _ from \"lodash\";\nimport QATable from \"./Table\";\n\n\nconst useStyles = makeStyles((theme) => ({\n    root: {\n        width: \"100%\",\n    },\n}));\n\nexport default function Event (props) {\n    const classes = useStyles();\n    const { releasesData, isLoading } = props;\n    const columns = [\n        {\n            name: \"site_name\",\n            label: \"Site\",\n            options: {\n                filter: true,\n                sort: true,\n            }\n        },\n        {\n            name: \"ewi_web_release\",\n            label: \"EWI Web Release\",\n            options: {\n                filter: false,\n                sort: false\n            }\n\n        },\n        {\n            name: \"ewi_sms\",\n            label: \"EWI SMS\",\n            options: {\n                filter: false,\n                sort: false\n            }\n\n        },\n        {\n            name: \"ewi_bulletin_release\",\n            label: \"EWI Bulletin\",\n            options: {\n                filter: false,\n                sort: false\n            }\n        },\n        {\n            name: \"rainfall_info\",\n            label: \"Rainfall Info\",\n            options: {\n                filter: false,\n                sort: false\n            }\n        },\n        {\n            name: \"ground_measurement\",\n            label: \"Ground Meas Reminder\",\n            options: {\n                filter: false,\n                sort: false\n            }\n        },\n        {\n            name: \"fyi_permission\",\n            label: \"FYI Permission\",\n            options: {\n                filter: false,\n                sort: false\n            }\n        }\n    ];\n\n    return (\n        <div className={classes.root}>\n            <QATable \n                isLoading={isLoading} \n                tableTitle=\"QA for Event Monitoring\" \n                type=\"Lowering\"\n                datas={releasesData}\n                columns={columns}\n            />\n        </div>\n    );\n}","import React from \"react\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport _ from \"lodash\";\nimport QATable from \"./Table\";\n\n\nconst useStyles = makeStyles((theme) => ({\n    root: {\n        width: \"100%\",\n    },\n}));\n\nexport default function Event (props) {\n    const classes = useStyles();\n    const { releasesData, isLoading } = props;\n    const columns = [\n        {\n            name: \"site_name\",\n            label: \"Site\",\n            options: {\n                filter: true,\n                sort: true,\n            }\n        },\n        {\n            name: \"ewi_web_release\",\n            label: \"EWI Web Release\",\n            options: {\n                filter: false,\n                sort: false\n            }\n\n        },\n        {\n            name: \"ewi_sms\",\n            label: \"EWI SMS\",\n            options: {\n                filter: false,\n                sort: false\n            }\n\n        },\n        {\n            name: \"ground_measurement\",\n            label: \"Ground Meas Reminder\",\n            options: {\n                filter: false,\n                sort: false\n            }\n        },\n        {\n            name: \"ground_data\",\n            label: \"Ground Data\",\n            options: {\n                filter: false,\n                sort: false\n            }\n        },\n    ];\n\n    return (\n        <div className={classes.root}>\n            <QATable \n                isLoading={isLoading} \n                tableTitle=\"QA for Event Monitoring\" \n                type=\"Extended\"\n                datas={releasesData}\n                columns={columns}\n            />\n        </div>\n    );\n}","import React from \"react\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport QATable from \"./Table\";\n\nconst useStyles = makeStyles((theme) => ({\n    root: {\n        width: \"100%\",\n    },\n}));\n\nexport default function Routine (props) {\n    const classes = useStyles();\n    const { releasesData, isLoading, shift_start_ts } = props;\n\n    const columns = [\n        {\n            name: \"site_name\",\n            label: \"Site\",\n            options: {\n                filter: true,\n                sort: true,\n            }\n        },\n        {\n            name: \"ewi_web_release\",\n            label: \"EWI Web Release\",\n            options: {\n                filter: false,\n                sort: false\n            }\n\n        },\n        {\n            name: \"ewi_sms\",\n            label: \"EWI SMS\",\n            options: {\n                filter: false,\n                sort: false\n            }\n\n        },\n        {\n            name: \"ground_measurement\",\n            label: \"Ground Meas Reminder\",\n            options: {\n                filter: false,\n                sort: false\n            }\n        },\n        {\n            name: \"ground_data\",\n            label: \"Ground Data\",\n            options: {\n                filter: false,\n                sort: false\n            }\n        },\n    ];\n    return (\n        <div className={classes.root}>\n            <QATable \n                isLoading={isLoading} \n                tableTitle=\"QA for Routine Monitoring\" \n                type=\"Routine\"\n                shift_start_ts={shift_start_ts}\n                datas={releasesData}\n                columns={columns}\n            />\n        </div>\n    );\n}","import React from \"react\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport _ from \"lodash\";\nimport QATable from \"./Table\";\n\n\nconst useStyles = makeStyles((theme) => ({\n    root: {\n        width: \"100%\",\n    },\n}));\n\nexport default function Event (props) {\n    const classes = useStyles();\n    const { releasesData, isLoading } = props;\n    const columns = [\n        {\n            name: \"site_name\",\n            label: \"Site\",\n            options: {\n                filter: true,\n                sort: true,\n            }\n        },\n        {\n            name: \"ewi_web_release\",\n            label: \"EWI Web Release\",\n            options: {\n                filter: false,\n                sort: false\n            }\n\n        },\n        {\n            name: \"ewi_sms\",\n            label: \"EWI SMS\",\n            options: {\n                filter: false,\n                sort: false\n            }\n\n        },\n        {\n            name: \"ewi_bulletin_release\",\n            label: \"EWI Bulletin\",\n            options: {\n                filter: false,\n                sort: false\n            }\n        },\n        {\n            name: \"rainfall_info\",\n            label: \"Rainfall Info\",\n            options: {\n                filter: false,\n                sort: false\n            }\n        },\n        {\n            name: \"ground_measurement\",\n            label: \"Ground Meas Reminder\",\n            options: {\n                filter: false,\n                sort: false\n            }\n        },\n        {\n            name: \"fyi_permission\",\n            label: \"FYI Permission\",\n            options: {\n                filter: false,\n                sort: false\n            }\n        }\n    ];\n\n    return (\n        <div className={classes.root}>\n            <QATable \n                isLoading={isLoading} \n                tableTitle=\"QA for Event Monitoring\" \n                type=\"Raising\"\n                datas={releasesData}\n                columns={columns}\n            />\n        </div>\n    );\n}","import React, { useState, useEffect, Fragment } from \"react\";\n\nimport {\n    Grid, Button, FormHelperText,\n    CircularProgress, Select, MenuItem,\n    FormControl, Paper\n} from \"@material-ui/core\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport { MuiPickersUtilsProvider } from \"@material-ui/pickers\";\nimport ArrowForwardIosIcon from \"@material-ui/icons/ArrowForwardIos\";\n\nimport MomentUtils from \"@date-io/moment\";\nimport moment from \"moment\";\n\nimport { createDateTime } from \"../shifts_and_reports/EndOfShiftGenerator\";\nimport { getMonitoringReleases } from \"../ajax\";\nimport SelectInputForm from \"../../reusables/SelectInputForm\";\nimport GeneralStyles from \"../../../GeneralStyles\";\nimport PageTitle from \"../../reusables/PageTitle\";\n\n// subComponents\nimport Event from \"./subcomponents/Event\";\nimport Lowering from \"./subcomponents/Lowering\";\nimport Extended from \"./subcomponents/Extended\";\nimport Routine from \"./subcomponents/Routine\";\nimport Raising from \"./subcomponents/Raising\";\n\nconst useStyles = makeStyles((theme) => ({\n    ...GeneralStyles(theme),\n    root: {\n        display: \"flex\",\n        flexGrow: 1,\n    },\n    content: {\n        flexGrow: 1,\n        padding: theme.spacing(3),\n        overFlowY: \"auto\",\n    },\n}));\n\nfunction NoQAData (props) {\n    const { isStart } = props;\n    const is_start = isStart === \"undefined\" ? false : isStart;\n    let message = \"No available data for QA\";\n    if (is_start) {\n        message = \"Select shift to generate data for QA\";\n    }\n    return (\n        <Paper\n            style={{\n                height: \"20vh\", padding: 60, display: \"flex\",\n                justifyContent: \"center\", alignItems: \"center\",\n                background: \"gainsboro\", border: \"4px solid #CCCCCC\"\n            }}\n        >\n            <div>{message}</div>\n        </Paper>\n    );\n}\n\nconst TabComponents = (props) => {\n    const { \n        selectedTab, eventData, loweringData,\n        extendedData, routineData, raisingData \n    } = props;\n\n    const components = [\n        <Event releasesData={eventData} {...props}/>,\n        <Lowering releasesData={loweringData} {...props}/>,\n        <Extended releasesData={extendedData} {...props}/>,\n        <Routine releasesData={routineData} {...props}/>,\n        <Raising releasesData={raisingData} {...props}/>\n    ];\n    return components[selectedTab];\n};\n\nexport default function QAContainer () {\n    const classes = useStyles();\n    const [selectedTab, setSelectedTab] = useState(0);\n    const datetime_now = moment();\n    const dt_hr = datetime_now.hour();\n    const [start_ts, setStartTs] = useState(datetime_now.format(\"YYYY-MM-DD\"));\n    const [shift_time, setShiftTime] = useState(dt_hr >= 10 && dt_hr <= 22 ? \"am\" : \"pm\");\n    const [isLoading, setIsLoading] = useState(false);\n    const [releasesData, setReleases] = useState(null);\n    const [shift_start_ts, setShiftStartTs] = useState(null);\n\n    const [event_releases, setEventReleases] = useState([]);\n    const [routine_releases, setRoutineReleases] = useState([]);\n    const [extended_releases, setExtendedReleases] = useState([]);\n    const [lowering_releases, setLoweringReleases] = useState([]);\n    const [raising_releases, setRaisingReleases] = useState([]);\n\n    const handleDateTime = value => {\n        setStartTs(value);\n    };\n\n    const handleClick = () => {\n        setIsLoading(true);\n        const ts = getMonitoringReleases({ start_ts, shift_time }, setReleases);\n        setShiftStartTs(ts);\n    };\n\n    useEffect(() => {\n        if (releasesData !== null) {\n            if (releasesData.raising.length > 0) setRaisingReleases(releasesData.raising);\n            if (releasesData.event.length > 0)setEventReleases(releasesData.event);\n            if (releasesData.routine.length > 0)setRoutineReleases(releasesData.routine);\n            if (releasesData.extended.length > 0)setExtendedReleases(releasesData.extended);\n            if (releasesData.lowering.length > 0)setLoweringReleases(releasesData.lowering);\n            setIsLoading(false);\n        }\n    }, [releasesData]);\n    \n    useEffect(() => {\n        // function changes default Tab to Monitoring Type with largest data size\n        const monTypes = [\n            event_releases.length, \n            lowering_releases.length, \n            extended_releases.length, \n            routine_releases.length,\n            raising_releases.length,\n        ];\n        setSelectedTab(monTypes.indexOf(Math.max(...monTypes)));\n\n    }, [event_releases, routine_releases, lowering_releases, extended_releases, raising_releases]);\n\n    return (\n        <Fragment>\n            <div className={classes.pageContentMargin}>\n                <PageTitle title=\"Alert Monitoring | Quality Assurance\"/>\n            </div>\n\n            <div className={classes.pageContentMargin}>\n                <Grid container spacing={2}>\n                    <MuiPickersUtilsProvider utils={MomentUtils}>\n                        <Grid \n                            container\n                            justify=\"space-between\"\n                            alignContent=\"center\"\n                            alignItems=\"center\"\n                            spacing={2}\n                            item xs={12}\n                            style={{ marginBottom: 8 }}\n                        >\n                            {\n                                [\n                                    { label: \"Shift Start\", value: start_ts, id: \"start_ts\" },\n                                ].map(row => {\n                                    const { id } = row;\n\n                                    return (\n                                        <Grid item xs={12} sm key={id} className={classes.inputGridContainer}>\n                                            { createDateTime(row, handleDateTime) }\n                                        </Grid>\n                                    );\n                                })\n                            }\n\n                            <Grid item xs={12} sm>\n                                <SelectInputForm\n                                    div_id=\"shift_time\"\n                                    label=\"Shift Time\"\n                                    changeHandler={event => setShiftTime(event.target.value)}\n                                    value={shift_time}\n                                    list={[{ id: \"am\", label: \"AM\" }, { id: \"pm\", label: \"PM\" }]}\n                                    mapping={{ id: \"id\", label: \"label\" }}\n                                    required\n                                />\n                            </Grid>\n\n                            <Grid item xs={12} sm align=\"right\">\n                                <Button \n                                    variant=\"contained\"\n                                    color=\"secondary\"\n                                    onClick={handleClick}\n                                    endIcon={<ArrowForwardIosIcon className={classes.button} />}\n                                >\n                                    Generate \n                                </Button>\n                            </Grid>\n                        </Grid>\n                    </MuiPickersUtilsProvider>\n                    \n                    { releasesData !== null && releasesData.length !== 0 ? (\n                        <Fragment>\n                            <Grid item xs={12} sm container justify=\"flex-end\">\n                                <FormControl>\n                                    <Select\n                                        value={selectedTab}\n                                        onChange={e=> setSelectedTab(e.target.value)}\n                                        style={{ width: 200 }}\n                                        autoFocus\n                                    >\n                                        <MenuItem value={0}>{`Event (${event_releases.length})`}</MenuItem>\n                                        <MenuItem value={4}>{`Raising (${raising_releases.length})`}</MenuItem>\n                                        <MenuItem value={1}>{`Lowering (${lowering_releases.length})`}</MenuItem>\n                                        <MenuItem value={2}>{`Extended (${extended_releases.length})`}</MenuItem>\n                                        <MenuItem value={3}>{`Routine (${routine_releases.length})`}</MenuItem>\n                                    </Select>\n                                    <FormHelperText>Select monitoring type to display</FormHelperText>\n                                </FormControl>\n                            </Grid>\n                            \n                            <Grid item xs={12}>\n                                <TabComponents \n                                    routineData={routine_releases} \n                                    eventData={event_releases}\n                                    loweringData={lowering_releases}\n                                    extendedData={extended_releases}\n                                    raisingData={raising_releases}\n                                    isLoading={isLoading} \n                                    shift_start_ts={shift_start_ts}\n                                    selectedTab={selectedTab}\n                                />\n                            </Grid>\n                        </Fragment>\n                    ) : (\n                        <Grid item xs={12} align=\"center\">\n                            {\n                                // eslint-disable-next-line no-nested-ternary\n                                isLoading ? (\n                                    <CircularProgress/>\n                                ) : (\n                                    shift_start_ts !== null && releasesData !== null && releasesData.length === 0 ? \n                                        <NoQAData /> : <NoQAData isStart />\n                                )\n                            }\n                        </Grid>\n                    ) }\n                </Grid>\n            </div>\n        </Fragment>\n    ); }","import axios from \"axios\";\nimport { host } from \"../../config\";\n\nexport function getDataPresenceData (group, callback) {\n    const api_link = `${host}/api/analysis/get_latest_data_presence/${group}`;\n\n    axios.get(api_link)\n    .then(response => {\n        const { data } = response;\n        console.log(`Data Presence: ${group}`, data);\n        callback(data);\n    })\n    .catch(error => {\n        console.error(error);\n    });\n}\n\nexport function getSurficialPlotData (input, callback, is_end_of_shift = false) {\n    const { site_code, start, end } = input;\n    let api_link = `${host}/api/surficial/get_surficial_plot_data/` +\n        `${site_code}/${start}/${end}`;\n\n    if (is_end_of_shift)\n        api_link += \"?is_end_of_shift=true\";\n\n    axios.get(api_link)\n    .then(response => {\n        const { data } = response;\n        console.log(\"Surficial Plot Data\", data);\n        callback(data);\n    })\n    .catch(error => {\n        console.error(error);\n    });\n}\n\nexport function deleteSurficialData (input, callback) {\n    const api_link = `${host}/api/surficial/delete_surficial_data`;\n\n    axios.post(api_link, input)\n    .then(response => {\n        const { data } = response;\n        console.log(\"Delete Surficial Data Response\", data);\n        callback(data);\n    })\n    .catch(error => {\n        console.error(error);\n    });\n}\n\nexport function updateSurficialData (input, callback) {\n    const api_link = `${host}/api/surficial/update_surficial_data`;\n\n    axios.post(api_link, input)\n    .then(response => {\n        const { data } = response;\n        console.log(\"Update Surficial Data Response\", data);\n        callback(data);\n    })\n    .catch(error => {\n        console.error(error);\n    });\n}\n\nexport function getSurficialMarkerTrendingData (input, callback) {\n    const { site_code, marker_name, ts } = input;\n    const api_link = `${host}/api/surficial/get_surficial_marker_trending_data/` +\n        `${site_code}/${marker_name}/${ts}`;\n\n    axios.get(api_link)\n    .then(response => {\n        const { data } = response;\n        console.log(\"Surficial Marker Trending Data\", data);\n        callback(data);\n    })\n    .catch(error => {\n        console.error(error);\n    });\n}\n\nexport function insertMarkerEvent (input, callback) {\n    const api_link = `${host}/api/surficial/insert_marker_event`;\n\n    axios.post(api_link, input)\n    .then(response => {\n        const { data } = response;\n        console.log(data);\n        callback(data);\n    })\n    .catch(error => {\n        console.error(error);\n    });\n}\n\nexport function getRainfallPlotData (input, callback) {\n    const { site_code, ts_end, days_diff } = input;\n    const api_link = `${host}/api/rainfall/get_rainfall_plot_data/${site_code}/${ts_end}/${days_diff}`;\n\n    axios.get(api_link)\n    .then(response => {\n        const { data } = response;\n        console.log(\"Rainfall Plot Data\", data);\n        callback(data);\n    })\n    .catch(error => {\n        console.error(error);\n    });\n}\n\nexport function getSubsurfacePlotData (input, callback) {\n    const {\n        subsurface_column, ts_end, ts_start,\n        hour_value, include_comms_health\n    } = input;\n\n    const api_link = `${host}/api/subsurface/get_subsurface_plot_data/` +\n    `${subsurface_column}/${ts_end}/${ts_start}/${hour_value}` +\n    `?include_comms_health=${include_comms_health}`;\n\n    axios.get(api_link)\n    .then(response => {\n        const { data } = response;\n        console.log(\"Subsurface Plot Data\", data);\n        callback(data);\n    })\n    .catch(error => {\n        console.error(error);\n    });\n}\n\nexport function getSurfaceNodeHealth (input, callback) {\n    const { subsurface_column } = input;\n    const api_link = `${host}/api/subsurface/get_subsurface_node_health/${subsurface_column}`;\n\n    axios.get(api_link)\n    .then(response => {\n        const { data } = response;\n        console.log(\"Subsurface Node Health Data\", data);\n        callback(data);\n    })\n    .catch(error => {\n        console.error(error);\n    });\n}\n\nexport function getSubsurfaceNodeLevel (input, callback) {\n    const { subsurface_column, ts_end, ts_start, node_id } = input;\n    console.log(\"node level input\", input);\n    const api_link = `${host}/api/subsurface/get_subsurface_node_level/${subsurface_column}/${ts_end}/${ts_start}/${node_id}`;\n\n    axios.get(api_link)\n    .then(response => {\n        const { data } = response;\n        console.log(\"Subsurface Node Level Data\", data);\n        callback(data);\n    })\n    .catch(error => {\n        console.error(error);\n    });\n}\n\nexport function getEarthquakeEvents (callback) {\n    const api_link = `${host}/api/analysis/get_earthquake_events`;\n\n    axios.get(api_link)\n    .then(response => {\n        const { data } = response;\n        console.log(\"Earthquake Events\", data);\n        callback(data);\n    })\n    .catch(error => {\n        console.error(error);\n    });\n}\n\nexport function insertEarthquakeEvent (input, callback) {\n    const api_link = `${host}/api/analysis/insert_earthquake_event`;\n    axios.post(api_link, input)\n    .then(response => {\n        callback(response);\n    })\n    .catch(error => {\n        console.error(error);\n    });\n}\n\nexport function getEarthquakeAlerts (request, callback) {\n    const { limit, offset } = request;\n    const api_link = `${host}/api/analysis/get_earthquake_alerts`\n        + `?limit=${limit}&offset=${offset}`;\n\n    axios.get(api_link)\n    .then(response => {\n        const { data } = response;\n        console.log(\"Earthquake Alerts\", data);\n        callback(data);\n    })\n    .catch(error => {\n        console.error(error);\n    });\n}\n\nexport function getMOMsAlertSummary (callback) {\n    const api_link = `${host}/api/manifestations_of_movement/get_latest_alerts`;\n\n    axios.get(api_link)\n    .then(response => {\n        const { data } = response;\n        console.log(\"MOMs Alerts\", data);\n        callback(data);\n    })\n    .catch(error => {\n        console.error(error);\n    });\n}\n\nexport function getMOMsInstances (site_code, callback) {\n    const api_link = `${host}/api/manifestations_of_movement/get_moms_instances/${site_code}`;\n\n    axios.get(api_link)\n    .then(response => {\n        const { data } = response;\n        console.log(`MOMs Instances of ${site_code.toUpperCase()}`, data);\n        callback(data);\n    })\n    .catch(error => {\n        console.error(error);\n    });\n}\n\nexport function getSiteSubsurfaceColumns (site_code, callback) {\n    const api_link = `${host}/api/subsurface/get_site_subsurface_columns/${site_code}`;\n\n    axios.get(api_link)\n    .then(response => {\n        const { data } = response;\n        console.log(`Subsurface Columns of ${site_code.toUpperCase()}`, data);\n        callback(data);\n    })\n    .catch(error => {\n        console.error(error);\n    });\n}\n\nexport function saveChartSVG (input, callback) {\n    const api_link = `${host}/api/analysis/save_chart_svg`;\n    \n    axios.post(api_link, input)\n    .then(response => {\n        const { data } = response;\n        console.log(\"Save SVG\", data);\n        callback(data);\n    })\n    .catch(error => {\n        console.error(error);\n    });\n}\n\nexport function saveInvalidRainfallTag (input, callback) {\n    const api_link = `${host}/api/rainfall/tag_invalid_data`;\n    \n    axios.post(api_link, input)\n    .then(response => {\n        const { data } = response;\n        console.log(\"Save tag information\", data);\n        callback(data);\n    })\n    .catch(error => {\n        console.error(error);\n    });\n}\n\nexport function getLoggersAndSensorsData (callback) {\n    axios.get(`${host}/api/sensor_deployment/get_loggers_data`)\n    .then(response => {\n        const { data } = response;\n        console.log(\"Loggers and Sensors Data\", data);\n        callback(data);\n    })\n    .catch(error => {\n        console.log(error);\n    });\n}\n\nexport function saveLoggerDeployment (input, callback) {\n    const api_link = `${host}/api/sensor_deployment/save_logger_deployment`;\n    axios.post(api_link, input)\n    .then(response => {\n        const { data } = response;\n        console.log(\"Save deployment logs reponse\", data);\n        callback(data);\n    })\n    .catch(error => {\n        console.error(error);\n    });\n}\n\nexport function saveUnreliableMarkerData (input, callback) {\n    const api_link = `${host}/api/surficial/save_unreliable_marker_data`;\n    \n    axios.post(api_link, input)\n    .then(response => {\n        const { data } = response;\n        console.log(\"Save unreliable data\", data);\n        callback(data);\n    })\n    .catch(error => {\n        console.error(error);\n    });\n}\n\nexport function saveDataUpdate (input, callback) {\n    const api_link = `${host}/api/sensor_deployment/save_data_update`;\n    axios.post(api_link, input)\n    .then(response => {\n        const { data } = response;\n        console.log(\"Save data update reponse\", data);\n        callback(data);\n    })\n    .catch(error => {\n        console.error(error);\n    });\n}\n\nexport function getMonitoringAnalyticsData (input, callback) {\n    const api_link = `${host}/api/monitoring/get_monitoring_analytics_data`;\n    \n    axios.post(api_link, input)\n    .then(response => {\n        const { data } = response;\n        console.log(\"Monitoring analytics data\", data);\n        callback(data);\n    })\n    .catch(error => {\n        console.error(error);\n    });\n}\n","import React, { Fragment, useState, useEffect } from \"react\";\n\nimport Highcharts from \"highcharts\";\nimport highchartsMore from \"highcharts/highcharts-more\";\nimport HighchartsReact from \"highcharts-react-official\";\nimport moment from \"moment\";\n\nimport {\n    Grid, Button, Paper, Divider, LinearProgress\n} from \"@material-ui/core\";\nimport { ArrowDropUp } from \"@material-ui/icons\";\n\nimport { getSurficialMarkerTrendingData } from \"../ajax\";\n\nhighchartsMore(Highcharts);\n\nHighcharts.SVGRenderer.prototype.symbols.asterisk = (x, y, w, h) =>\n    [\n        \"M\", x - 3, y - 3,\n        \"L\", x + w + 3, y + h + 3,\n        \"M\", x + w + 3, y - 3,\n        \"L\", x - 3, y + h + 3,\n        \"M\", x - 4, y + h / 2,\n        \"L\", x + w + 4, y + h / 2,\n        \"M\", x + w / 2, y - 4,\n        \"L\", x + w / 2, y + h + 4,\n        \"z\"\n    ];\n\nif (Highcharts.VMLRenderer) {\n    Highcharts.VMLRenderer.prototype.symbols.asterisk =\n            Highcharts.SVGRenderer.prototype.symbols.asterisk;\n}\n\nfunction prepareMarkerAccelerationVsTimeChartOption (data, timestamps, input) {\n    const { site_code, marker_name, ts } = input;\n    \n    return {\n        series: data,\n        chart: {\n            type: \"line\",\n            zoomType: \"x\",\n            panning: true,\n            panKey: \"shift\",\n            resetZoomButton: {\n                position: {\n                    x: 0,\n                    y: -30\n                }\n            }\n        },\n        title: {\n            text: `<b>Velocity & Acceleration vs Time Chart of ${(site_code).toUpperCase()}</b>`,\n            y: 22\n        },\n        subtitle: {\n            text: `Source: <b>Marker ${marker_name}</b><br/>Timestamp: <b>${moment(ts).format(\"D MMM YYYY, HH:mm\")}</b>`,\n            style: { fontSize: \"13px\" }\n        },\n        xAxis: {\n            categories: timestamps,\n            type: \"datetime\",\n            dateTimeLabelFormats: {\n                month: \"%e. %b %Y\",\n                year: \"%b\"\n            },\n            labels: {\n                formatter () {\n                    return moment(this.value).format(\"D MMM\");\n                }\n            },\n            title: {\n                text: \"<b>Time (Days)</b>\"\n            }\n        },\n        yAxis: [{\n            title: {\n                text: \"<b>Velocity (cm/day)</b>\",\n                style: {\n                    color: Highcharts.getOptions().colors[1]\n                }\n            }\n        }, {\n            title: {\n                text: \"<b>Acceleration (cm/days^2)</b>\",\n                style: {\n                    color: Highcharts.getOptions().colors[0]\n                }\n            },\n            labels: {\n                style: {\n                    color: Highcharts.getOptions().colors[0]\n                }\n            },\n            opposite: true\n        }],\n        tooltip: {\n            shared: true,\n            crosshairs: true\n        },\n        plotOptions: {\n            line: {\n                marker: {\n                    enabled: false\n                }\n            }\n        },\n        credits: {\n            enabled: false\n        }\n    };\n}\n\nfunction prepareMarkerInterpolationChartOption (data, input) {\n    const { site_code, marker_name, ts } = input;\n    return {\n        series: data,\n        time: { timezoneOffset: -8 * 60 },\n        chart: {\n            type: \"spline\",\n            zoomType: \"x\",\n            panning: true,\n            panKey: \"shift\",\n            resetZoomButton: {\n                position: {\n                    x: 0,\n                    y: -30\n                }\n            }\n        },\n        title: {\n            text: `<b>Displacement Interpolation Chart of ${(site_code).toUpperCase()}</b>`,\n            y: 22\n        },\n        subtitle: {\n            text: `Source: <b>Marker ${marker_name}</b><br/>Timestamp: <b>${moment(ts).format(\"D MMM YYYY, HH:mm\")}</b>`,\n            style: { fontSize: \"13px\" }\n        },\n        xAxis: {\n            type: \"datetime\",\n            dateTimeLabelFormats: {\n                month: \"%e. %b %Y\",\n                year: \"%b\"\n            },\n            title: {\n                text: \"<b>Date</b>\"\n            }\n        },\n        yAxis: {\n            title: {\n                text: \"<b>Displacement (cm)</b>\"\n            }\n        },\n        tooltip: {\n            crosshairs: true\n        },\n        plotOptions: {\n            line: {\n                marker: {\n                    enabled: true\n                }\n            },\n            scatter: {\n                tooltip: {\n                    pointFormat: \"Date/Time: <b>{point.x:%A, %e %b, %H:%M:%S}</b><br>Displacement: <b>{point.y:.2f}</b>\"\n                }\n            }\n        },\n        credits: {\n            enabled: false\n        }\n    };\n}\n\nfunction prepareMarkerAccelerationChartOption (data, input) {\n    const { site_code, marker_name, ts } = input;\n    return {\n        series: data,\n        time: { timezoneOffset: -8 * 60 },\n        chart: {\n            type: \"line\",\n            zoomType: \"x\",\n            panning: true,\n            panKey: \"shift\",\n            resetZoomButton: {\n                position: {\n                    x: 0,\n                    y: -30\n                }\n            }\n        },\n        title: {\n            text: `<b>Velocity Acceleration Chart of ${(site_code).toUpperCase()}</b>`,\n            y: 22\n        },\n        subtitle: {\n            text: `Source: <b>Marker ${marker_name}</b><br/>Timestamp: <b>${moment(ts).format(\"D MMM YYYY, HH:mm\")}</b>`,\n            style: { fontSize: \"13px\" }\n        },\n        xAxis: {\n            title: {\n                text: \"<b>Velocity (cm/day)</b>\"\n            }\n        },\n        yAxis: {\n            title: {\n                text: \"<b>Acceleration (cm/day^2)</b>\"\n            }\n        },\n        tooltip: {\n            headerFormat: \"\",\n            shared: true,\n            crosshairs: true\n        },\n        plotOptions: {\n            line: {\n                marker: {\n                    enabled: true\n                }\n            }\n        },\n        credits: {\n            enabled: false\n        }\n    };\n}\n\nfunction processDatasetForPlotting (data) {\n    const { dataset_name, dataset } = data;\n    \n    if (dataset_name === \"velocity_acceleration\") {\n        dataset.forEach(({ name }, index) => {\n            if (name === \"Trend Line\") {\n                dataset[index] = {\n                    ...dataset[index],\n                    type: \"spline\"\n                };\n            } else if (name === \"Threshold Interval\") {\n                dataset[index] = {\n                    ...dataset[index],\n                    type: \"arearange\",\n                    lineWidth: 0,\n                    fillOpacity: 0.2,\n                    zIndex: 0,\n                    color: \"#FFEB32\"\n                };\n            } else if (name === \"Last Data Point\") {\n                dataset[index] = {\n                    ...dataset[index],\n                    marker: {\n                        symbol: \"asterisk\",\n                        lineColor: \"#ff9e32\",\n                        lineWidth: 4\n                    }\n                };\n            }\n        });\n    } else if (dataset_name === \"displacement_interpolation\") {\n        dataset.forEach(({ name }, index) => {\n            if (name === \"Surficial Data\") {\n                dataset[index].type = \"scatter\";\n            } else if (name === \"Interpolation\") {\n                dataset[index] = { ...dataset[index], marker: { enabled: true, radius: 0 } };\n            }\n        });\n    } else if (dataset_name === \"velocity_acceleration_time\") {\n        dataset.forEach(({ name }, index) => {\n            if (name === \"Velocity\") {\n                dataset[index].yAxis = 0;\n            } else if (name === \"Acceleration\") {\n                dataset[index].yAxis = 1;\n            }\n        });\n    }\n    return dataset;\n}\n\nfunction prepareOptions (input, data) {\n    const options = [];\n    data.forEach((chart_data) => {\n        const { dataset_name } = chart_data;\n        const series = processDatasetForPlotting(chart_data);\n\n        let option;\n        if (dataset_name === \"velocity_acceleration\") {\n            option = prepareMarkerAccelerationChartOption(series, input);\n        } else if (dataset_name === \"displacement_interpolation\") {\n            option = prepareMarkerInterpolationChartOption(series, input);\n        } else if (dataset_name === \"velocity_acceleration_time\") {\n            const index = series.findIndex(x => x.name === \"Timestamps\");\n            const series_copy = JSON.parse(JSON.stringify(series));\n            const [timestamps] = series_copy.splice(index, 1);\n            option = prepareMarkerAccelerationVsTimeChartOption(series_copy, timestamps.data, input);\n        }\n        options.push(option);\n    });\n\n    return options;\n}\n\nfunction createSurficialTrendingGraphs (input, trending_data, chartRef) {\n    const options = prepareOptions(input, trending_data);\n\n    const charts = options.map(option => (\n        <HighchartsReact\n            highcharts={Highcharts}\n            options={option}\n            ref={chartRef}\n        />\n    ));\n\n    return charts;\n}\n\nfunction SurficialTrendingGraphs (props) {\n    const { \n        siteCode: site_code,\n        generateTrending,\n        setShowTrending, setGenerateTrending,\n        chosenPoint\n    } = props;\n    const chartRef = React.useRef(null);\n    const [trending_data, setTrendingData] = useState([]);\n    const [graph_components, setGraphComponents] = useState([]);\n    const [loading, setLoading] = useState(false);\n\n    const { ts, name: marker_name } = chosenPoint;\n    const input = {\n        site_code,\n        ts: moment(ts).format(\"YYYY-MM-DD HH:ss:mm\"),\n        marker_name\n    };\n\n    useEffect(() => {\n        if (generateTrending) {\n            setLoading(true);\n            getSurficialMarkerTrendingData(input, data => {\n                const { has_trend, trending_data: td } = data;\n                const temp = has_trend ? [...td] : [];\n                setTrendingData(temp);\n                setGenerateTrending(false);\n                setLoading(false);\n            });\n        }\n    }, [generateTrending]);\n\n    useEffect(() => {\n        if (trending_data.length !== 0) {\n            const gc = createSurficialTrendingGraphs(input, trending_data, chartRef);\n            setGraphComponents(gc);\n        }\n    }, [trending_data]);\n\n    return (\n        <Fragment>\n            <Grid item xs={12}>\n                <Divider />\n            </Grid>\n\n            {\n                loading ? (\n                    <Grid item xs={12} style={{ marginTop: 16 }}>\n                        <LinearProgress variant=\"query\" style={{ height: 8 }}/>\n                    </Grid>\n                ) : (\n                    <Fragment>\n                        <Grid container item xs={12} justify=\"flex-end\">                \n                            <Button\n                                variant=\"contained\"\n                                onClick={() => setShowTrending(false)}\n                                color=\"primary\"\n                                size=\"small\"\n                                endIcon={<ArrowDropUp />}\n                            >\n                                Hide\n                            </Button>\n                        </Grid>\n\n                        <Grid container item xs={12} justify=\"center\" spacing={1}>\n                            {\n                                trending_data.length !== 0 ? (\n                                    graph_components.map((graph, key) => (\n                                        <Grid item xs={12} sm={6} key={key}>\n                                            <Paper>\n                                                {graph}\n                                            </Paper>\n                                        </Grid>\n                                    ))\n                                ) : (\n                                    <Paper\n                                        component={Grid}\n                                        container\n                                        item\n                                        alignItems=\"center\"\n                                        justify=\"center\"\n                                        style={{\n                                            height: \"20vh\", padding: 60,\n                                            background: \"gainsboro\",\n                                            border: \"4px solid #CCCCCC\"\n                                        }}\n                                    >\n                                        Selected data has no trend.\n                                    </Paper>\n                                )\n                            }\n                        </Grid>\n                    </Fragment>\n                )\n            }\n        </Fragment>\n    );\n}\n\nexport default SurficialTrendingGraphs;\n","import React from \"react\";\n\nimport { Button, IconButton } from \"@material-ui/core\";\nimport { ArrowBackIos } from \"@material-ui/icons\";\nimport { isWidthDown } from \"@material-ui/core/withWidth\";\n\nconst goBack = history => e => {\n    e.preventDefault();\n    history.push(\"/analysis/sites\");\n    history.replace(\"/analysis/sites\");\n};\n\nfunction BackToMainButton (props) {\n    const { width, history } = props;\n\n    return (\n        isWidthDown(width, \"sm\") ? (<Button\n            variant=\"contained\"\n            color=\"primary\"\n            size=\"small\" \n            onClick={goBack(history)}\n        >\n            <ArrowBackIos style={{ fontSize: 16 }}/> Back to site list\n        </Button>) : (<IconButton\n            variant=\"contained\"\n            color=\"primary\"\n            size=\"small\" \n            onClick={goBack(history)}\n            style={{ marginLeft: 6 }}\n        >\n            <ArrowBackIos />\n        </IconButton>)\n    );\n}\n\nexport default BackToMainButton;\n","\nimport React, { Fragment, useState } from \"react\";\n\nimport {\n    Button, Menu, MenuItem, Tooltip\n} from \"@material-ui/core\";\nimport { ArrowDropDown } from \"@material-ui/icons\";\n\nconst date_range_options = [\n    { label: \"3 days\", unit: \"days\", duration: 3 },\n    { label: \"7 days\", unit: \"days\", duration: 7 },\n    { label: \"10 days\", unit: \"days\", duration: 10 },\n    { label: \"2 weeks\", unit: \"weeks\", duration: 2 },\n    { label: \"1 month\", unit: \"months\", duration: 1 },\n    { label: \"3 months\", unit: \"months\", duration: 3 },\n    { label: \"6 months\", unit: \"months\", duration: 6 },\n    { label: \"1 year\", unit: \"years\", duration: 1 },\n    { label: \"All\", unit: \"all\", duration: 0 }\n];\n\nconst hour_interval = [\n    { label: \"4 hours\", hour_value: 4 },\n    { label: \"8 hours\", hour_value: 8 },\n    { label: \"12 hours\", hour_value: 12 },\n    { label: \"1 day\", hour_value: 24 }\n];\n\nfunction DateRangeSelector (props) {\n    const {\n        isSubsurface, selectedRangeInfo,\n        setSelectedRangeInfo, selectedHourInterval,\n        setSelectedHourInterval, disableAll\n    } = props;\n    const [date_range_anchor, setDateRangeAnchor] = useState(null);\n    const [hour_interval_anchor, setHourIntervalAnchor] = useState(null);\n    const disable_all = typeof disableAll === \"undefined\" ? false : disableAll;\n    const is_subsurface = typeof isSubsurface === \"undefined\" ? false : isSubsurface;\n    let default_label = \"\";\n\n    if (selectedHourInterval) {\n        const { label } = selectedHourInterval;\n        default_label = label;\n    }\n\n    const dateRangeHandleClick = event => {\n        setDateRangeAnchor(event.currentTarget);\n    };\n\n    const dateRangeHandleClose = () => {\n        setDateRangeAnchor(null);\n    };\n\n    const dateRangeSelected = data => {\n        setSelectedRangeInfo(data);\n        setDateRangeAnchor(null);\n    };\n\n    const hourIntervalHandleClick = event => {\n        setHourIntervalAnchor(event.currentTarget);\n    };\n\n    const hourIntervalHandleClose = () => {\n        setHourIntervalAnchor(null);\n    };\n\n    const hourIntervalSelected = data => {\n        setSelectedHourInterval(data);\n        setHourIntervalAnchor(null);\n    };\n    \n    const SubsurfaceHourInterval = () => {\n        return (\n            <Fragment>\n                <Tooltip title=\"Select time interval\" arrow>\n                    <Button \n                        variant=\"contained\"\n                        color=\"primary\"\n                        size=\"small\" \n                        aria-controls=\"simple-menu\"\n                        aria-haspopup=\"true\"\n                        onClick={hourIntervalHandleClick}\n                        style={{ marginRight: 6 }}\n                        endIcon={<ArrowDropDown />}\n                    >\n                        {default_label}\n                    </Button>\n                </Tooltip>\n\n                <Menu\n                    id=\"simple-menu\"\n                    anchorEl={hour_interval_anchor}\n                    keepMounted\n                    open={Boolean(hour_interval_anchor)}\n                    onClose={hourIntervalHandleClose} \n                >\n                    {\n                        hour_interval.map((row, index) => {\n                            const { label } = row;\n                            return (\n                                <MenuItem\n                                    // eslint-disable-next-line react/no-array-index-key\n                                    key={`hour_interval_${index}`} \n                                    onClick={() => hourIntervalSelected(row)}>\n                                    {label}\n                                </MenuItem>\n                            );\n                        })\n                    }\n                </Menu>\n            </Fragment>\n        );\n    };\n\n    return (\n        <div>\n            {\n                is_subsurface && SubsurfaceHourInterval()\n            }\n\n            <Tooltip title=\"Select date range\" arrow>\n                <Button \n                    variant=\"contained\"\n                    color=\"primary\"\n                    size=\"small\" \n                    aria-controls=\"simple-menu\"\n                    aria-haspopup=\"true\"\n                    onClick={dateRangeHandleClick}\n                    style={{ marginRight: is_subsurface ? 8 : 0 }}\n                    endIcon={<ArrowDropDown />}\n                >\n                    {selectedRangeInfo.label}\n                </Button>\n            </Tooltip>\n\n            <Menu\n                id=\"simple-menu\"\n                anchorEl={date_range_anchor}\n                keepMounted\n                open={Boolean(date_range_anchor)}\n                onClose={dateRangeHandleClose} \n            >\n                {\n                    date_range_options.map((row, index) => {\n                        const { label, unit } = row;\n                        if (unit === \"all\" && disable_all) return null;\n\n                        return (\n                            <MenuItem\n                                // eslint-disable-next-line react/no-array-index-key\n                                key={`date_range_${index}`} \n                                onClick={() => dateRangeSelected(row)}>\n                                {label}\n                            </MenuItem>\n                        );\n                    })\n                }\n            </Menu>\n        </div>\n\n    );\n}\n\nexport default DateRangeSelector;\n","import React, { useState, useEffect, Fragment } from \"react\";\nimport { Route, Link, matchPath } from \"react-router-dom\";\n\nimport Highcharts from \"highcharts\";\nimport HC_exporting from \"highcharts/modules/exporting\";\nimport HighchartsReact from \"highcharts-react-official\";\nimport MomentUtils from \"@date-io/moment\";\nimport moment from \"moment\";\nimport { useSnackbar } from \"notistack\";\n\nimport { \n    Button, ButtonGroup,\n    Paper, withMobileDialog, Dialog,\n    DialogTitle, DialogContent,\n    DialogContentText, DialogActions, Grid,\n    Typography, Divider, TextField, FormControl,\n    FormControlLabel, Radio, RadioGroup,\n    Menu, MenuItem, List, ListItem,\n    ListItemIcon, ListItemText, Tooltip,\n    TableRow, TableCell\n} from \"@material-ui/core\";\nimport { ArrowDropDown, Edit, TrendingUp, Add, LocalOffer, Info } from \"@material-ui/icons\";\nimport { isWidthDown } from \"@material-ui/core/withWidth\";\nimport { MuiPickersUtilsProvider, KeyboardDateTimePicker } from \"@material-ui/pickers\";\nimport MUIDataTable from \"mui-datatables\";\n\nimport SurficialTrendingGraphs from \"./SurficialTrendingGraphs\";\nimport BackToMainButton from \"./BackToMainButton\";\nimport DateRangeSelector from \"./DateRangeSelector\";\nimport { SlideTransition, FadeTransition } from \"../../reusables/TransitionList\";\n\nimport {\n    getSurficialPlotData, deleteSurficialData,\n    updateSurficialData, saveChartSVG,\n    insertMarkerEvent, saveUnreliableMarkerData\n} from \"../ajax\";\nimport { computeForStartTs, capitalizeFirstLetter } from \"../../../UtilityFunctions\";\nimport { getCurrentUser } from \"../../sessions/auth\";\n\n// init the module\nHC_exporting(Highcharts);\n\nfunction snackBarActionButton (closeSnackbarFn, key) {\n    return (\n        <Button\n            color=\"primary\"\n            onClick={() => { closeSnackbarFn(key); }}\n        >\n            Dismiss\n        </Button>\n    );\n}\n\nfunction AddNewHistoryModal (props) {\n    const { \n        fullScreen, open, setIsOpen,\n        selectedMarker, historicalMarkers,\n        addNewMarker, siteCode, setRedrawChart,\n        history, match: { url }\n    } = props;\n\n    let marker_id = null;\n    let marker_name = null;\n    if (selectedMarker !== null) {\n        const { marker_id: mi, marker_name: mn } = selectedMarker;\n        marker_id = mi;\n        marker_name = mn;\n    }\n\n    const { enqueueSnackbar, closeSnackbar } = useSnackbar();\n    const [event, setEvent] = useState(\"\");\n    const [ts, setTs] = useState(null);\n    const [new_marker_name, setNewMarkerName] = useState(\"\");\n    const [remarks, setRemarks] = useState(\"\");\n\n    const resetForm = () => {\n        setIsOpen(false);\n        setTs(null);\n        setNewMarkerName(\"\");\n        setNmmValidation(null);\n        setEvent(\"\");\n        setRemarks(\"\");\n    };\n\n    const handleChange = e => {\n        setEvent(e.target.value);\n        setTs(null);\n        setNewMarkerName(\"\");\n        setNmmValidation(null);\n        setRemarks(\"\");\n    };\n\n    const [nmm_validation, setNmmValidation] = useState(null);\n    const handleBlur = () => {\n        if (new_marker_name === \"\") setNmmValidation(\"Required field\");\n    };\n\n    useEffect(() => {\n        if (new_marker_name === \"\") {\n            setNmmValidation(\"\");\n            return; \n        }\n\n        if (/[^a-zA-Z]/.test(new_marker_name)) {\n            setNmmValidation(\"Enter alphabet characters only.\");\n            return;\n        }\n\n        if (historicalMarkers.includes(new_marker_name)) {\n            setNmmValidation(\"Marker name already exists.\");\n            return;\n        }\n\n        setNmmValidation(null);\n    }, [new_marker_name]);\n\n    const [verify_submit, setVerifySubmit] = useState(false);\n    const handleSubmit = () => {\n        let to_send = true;\n        if (event !== \"reposition\" || addNewMarker) {\n            to_send = false;\n            if (!verify_submit) setVerifySubmit(true);\n            else {\n                to_send = true;\n                setVerifySubmit(false);\n            }\n        }\n\n        if (to_send) {\n            resetForm();\n\n            const temp_event = addNewMarker ? \"add\" : event;\n            const temp_ts = addNewMarker ? moment() : ts;\n            const input = {\n                site_code: siteCode,\n                event: temp_event,\n                marker_id, \n                ts: moment(temp_ts).format(\"YYYY-MM-DD HH:mm:ss\"),\n                marker_name: new_marker_name,\n                remarks: remarks === \"\" ? null : remarks\n            };\n\n            insertMarkerEvent(input, data => {\n                const { status } = data;\n                let message = \"Error inserting new marker event...\";\n                if (addNewMarker) message = \"Error creating new marker...\";\n    \n                if (status === \"success\") {\n                    message = \"Inserting new marker event successful!\";\n                    if (addNewMarker) message = \"Creating new marker successful!\";\n                    setRedrawChart(true);\n\n                    if ([\"add\", \"rename\"].includes(temp_event)) {\n                        history.push(`${url}/${new_marker_name}`);\n                    }\n                }\n    \n                enqueueSnackbar(message,\n                    {\n                        variant: status,\n                        autoHideDuration: 7000,\n                        action: key => snackBarActionButton(closeSnackbar, key)\n                    }\n                );\n            });\n        }\n    };\n\n    return (\n        <Dialog\n            fullWidth\n            fullScreen={fullScreen}\n            open={open}\n            aria-labelledby=\"form-dialog-title\"\n            TransitionComponent={fullScreen ? SlideTransition : FadeTransition}      \n        >\n            <DialogTitle id=\"form-dialog-title\">\n                {\n                    addNewMarker ? \"Add new marker\" : `Add event to Marker ${marker_name}`\n                }\n            </DialogTitle>\n            <DialogContent>\n                <DialogContentText>\n                    {\n                        addNewMarker\n                            ? \"Choose a new marker name then submit.\"\n                            : \"Choose a marker event then answer the corresponding field(s).\" \n                    }\n                </DialogContentText>\n            \n                <FormControl component=\"fieldset\" style={{ display: \"flex\" }}>\n                    {\n                        !addNewMarker && (\n                            <RadioGroup\n                                aria-label=\"marker_event\"\n                                name=\"marker_event\"\n                                row\n                                style={{ justifyContent: \"space-around\" }}\n                                value={event}\n                                onChange={handleChange}\n                            >\n                                <FormControlLabel value=\"reposition\" control={<Radio />} label=\"Reposition\" />\n                                <FormControlLabel value=\"rename\" control={<Radio />} label=\"Rename\" />\n                                <FormControlLabel value=\"decommission\" control={<Radio />} label=\"Decommission\" />\n                            </RadioGroup>\n\n                        )\n                    }\n\n                    <Grid container spacing={2} style={{ marginTop: 8 }}>\n                        {\n                            event !== \"\" && (\n                                <Grid item xs={12} sm>\n                                    <MuiPickersUtilsProvider utils={MomentUtils}>\n                                        <KeyboardDateTimePicker\n                                            required\n                                            autoOk\n                                            label=\"Timestamp\"\n                                            value={ts}\n                                            onChange={x => setTs(x)}\n                                            ampm={false}\n                                            placeholder=\"2010/01/01 00:00\"\n                                            format=\"YYYY/MM/DD HH:mm\"\n                                            mask=\"____/__/__ __:__\"\n                                            clearable\n                                            disableFuture\n                                            fullWidth\n                                        />\n                                    </MuiPickersUtilsProvider>\n                                </Grid>\n                            )\n                        }\n                        {\n                            (event === \"rename\" || addNewMarker) && (\n                                <Grid item xs={12} sm>\n                                    <TextField\n                                        error={Boolean(nmm_validation)}\n                                        label=\"New Marker Name\"\n                                        value={new_marker_name}\n                                        onChange={x => \n                                            setNewMarkerName(x.target.value.toUpperCase())\n                                        }\n                                        onBlur={handleBlur}\n                                        type=\"text\"\n                                        required\n                                        fullWidth\n                                        inputProps={{\n                                            maxLength: 1\n                                        }}\n                                        placeholder=\"Input a letter\"\n                                        helperText={nmm_validation || \"\"}\n                                    />\n                                </Grid>\n                            )\n                        }\n                        \n                        {\n                            (event !== \"\" || addNewMarker) && (\n                                <Grid item xs={12} sm={12}>\n                                    <TextField\n                                        label=\"Remarks\"\n                                        value={remarks}\n                                        onChange={x => \n                                            setRemarks(x.target.value)\n                                        }\n                                        onBlur={handleBlur}\n                                        type=\"text\"\n                                        multiline\n                                        rowsMax={3}\n                                        fullWidth\n                                        inputProps={{\n                                            maxLength: 1500\n                                        }}\n                                        placeholder=\"Input remarks\"\n                                    />\n                                </Grid>\n                            )\n                        }\n                    </Grid>\n                </FormControl>\n\n                {\n                    verify_submit && (\n                        <Grid container spacing={2} style={{ marginTop: 12 }}>\n                            <Grid item xs={12}>\n                                <Typography variant=\"body1\" align=\"center\">\n                                    Are you sure submitting this data?\n                                </Typography>\n                            </Grid>\n                            <Grid item xs={12}><Divider /></Grid>\n                        </Grid>\n                    )\n                }\n            </DialogContent>\n            <DialogActions>\n                {\n                    verify_submit && (\n                        <Button onClick={() => setVerifySubmit(false)}>\n                            Go Back\n                        </Button>\n                    )\n                }\n                <Button\n                    variant={ verify_submit ? \"contained\" : \"text\" }\n                    color=\"secondary\"\n                    onClick={handleSubmit}\n                >\n                    Submit\n                </Button>\n                {\n                    !verify_submit && (\n                        <Button onClick={resetForm}>\n                            Cancel\n                        </Button>\n                    )\n                }\n            </DialogActions>\n        </Dialog>\n    );\n}\n\nfunction MarkerHistoryTable (props) {\n    const { markerInfo, markerName } = props;\n    const column_options = [\n        {\n            name: \"ts\",\n            label: \"Timestamp\",\n            options: {\n                filter: false,\n                customBodyRender (value) {\n                    return moment(value).format(\"D MMMM YYYY, HH:mm\");\n                },\n                sort: true\n            }\n        },\n        {\n            name: \"event\",\n            label: \"Event\"\n        },\n        {\n            name: \"m_name\",\n            label: \"Name\",\n            options: {\n                filter: false\n            }\n        },\n        {\n            name: \"remarks\",\n            label: \"Remarks\",\n            options: {\n                filter: false,\n                display: false\n            }\n        }\n    ];\n\n    const table_options = {\n        textLabels: {\n            body: {\n                noMatch: \"No data\"\n            }\n        },\n        selectableRows: \"none\",\n        expandableRows: true,\n        expandableRowsHeader: false,\n        expandableRowsOnClick: true,\n        renderExpandableRow: (row_data, rowMeta) => {\n            const col_span = row_data.length + 1;\n            const remarks = row_data[3];\n            return (\n                <TableRow>\n                    <TableCell colSpan={col_span} align=\"justify\">\n                        <strong>Remarks:</strong> {remarks}\n                    </TableCell>\n                </TableRow>\n            );\n        },\n        rowsPerPage: 3,\n        rowsPerPageOptions: [],\n        print: false,\n        download: false,\n        viewColumns: false,\n        responsive: \"standard\",\n        customSort (data, col_index, order) {\n            return data.sort((a, b) => {\n                if (col_index === 0) {\n                    return (\n                        moment(a.data[col_index]).isAfter(b.data[col_index]) \n                            ? -1 : 1 \n                    ) * (order === \"desc\" ? 1 : -1); \n                } \n                \n                return (a.data[col_index] < b.data[col_index] ? -1 : 1) * (order === \"desc\" ? 1 : -1);\n            }); \n        }\n    };\n\n    let table_data = [];\n    if (markerInfo) {\n        table_data = markerInfo.marker_history.map(x => {\n            const { ts, event, marker_name, remarks } = x;\n            const m_name = marker_name ? marker_name.marker_name : \"---\";\n            return {\n                event: capitalizeFirstLetter(event),\n                m_name, ts,\n                remarks: remarks || \"None\"\n            };\n        });\n    }\n    \n    return (\n        <MUIDataTable\n            title={`Marker ${markerName} History`}\n            columns={column_options}\n            options={table_options}\n            data={table_data}\n        />\n    );\n}\n\nfunction UpdateDeleteModal (props) {\n    const { \n        editModal, fullScreen, setEditModal, \n        siteCode, setRedrawChart, chosenPoint\n    } = props;\n    const {\n        is_open, ts, name, measurement, mo_id, data_id\n    } = editModal;\n    const { ts: chosen_ts, measurement: chosen_meas } = chosenPoint;\n    const { enqueueSnackbar, closeSnackbar } = useSnackbar();\n    const [is_delete_clicked, setDeleteClick] = useState(false);\n    const [delete_quantity, setDeleteQuantity] = useState(\"one\");\n    const changeRadioValueFn = x => setDeleteQuantity(x.target.value);\n\n    useEffect(() => { setDeleteClick(false); }, [is_open]);\n\n    const changeHandlerFn = (prop, value) => x => {\n        let fin_val = value;\n        if (prop === \"ts\") fin_val = x;\n        else if (prop === \"measurement\") fin_val = x.target.value;\n\n        setEditModal({\n            ...editModal, [prop]: fin_val \n        });\n    };\n\n    const deleteDataFn = () => {\n        const { data_id, mo_id } = editModal;\n        let id = data_id;\n        if (delete_quantity === \"all\") {\n            id = mo_id;\n        }\n\n        const input = {\n            quantity: delete_quantity,\n            id\n        };\n\n        setEditModal({\n            ...editModal, is_open: false \n        });\n\n        deleteSurficialData(input, data => {\n            const { status } = data;\n            let message = \"Error deleting surficial data...\";\n            let variant = \"error\";\n\n            if (status === \"success\") {\n                message = \"Surficial data delete successful!\";\n                variant = \"success\";\n                setRedrawChart(true);\n            }\n\n            enqueueSnackbar(message,\n                {\n                    variant,\n                    autoHideDuration: 7000,\n                    action: key => snackBarActionButton(closeSnackbar, key)\n                }\n            );\n        });\n    };\n\n    const updateDataFn = () => {\n        let input = {};\n        \n        if (chosen_ts !== ts) {\n            input = {\n                ...input, mo_id, ts: moment(ts).format(\"YYYY-MM-DD HH:mm:ss\")\n            };\n        }\n\n        if (chosen_meas !== measurement) {\n            input = {\n                ...input, data_id, measurement\n            };\n        }\n\n        setEditModal({\n            ...editModal, is_open: false \n        });\n\n        if (Object.keys(input).length !== 0) {\n            updateSurficialData(input, data => {\n                const { status } = data;\n                let message = \"Error updating surficial data...\";\n                let variant = \"error\";\n\n                if (status === \"success\") {\n                    message = \"Surficial data update successful!\";\n                    variant = \"success\";\n                    setRedrawChart(true);\n                }\n\n                enqueueSnackbar(message,\n                    {\n                        variant,\n                        autoHideDuration: 7000,\n                        action: key => snackBarActionButton(closeSnackbar, key)\n                    }\n                );\n            });\n        }\n    };\n\n    return (\n        <Dialog\n            fullWidth\n            fullScreen={fullScreen}\n            open={is_open}\n            aria-labelledby=\"form-dialog-title\"\n            TransitionComponent={fullScreen ? SlideTransition : FadeTransition}      \n        >\n            <DialogTitle id=\"form-dialog-title\">\n                Update surficial data\n            </DialogTitle>\n            <DialogContent>\n                <DialogContentText>\n                    Carefully edit the necessary fields or delete entries if needed. \n                </DialogContentText>\n\n                <Grid container spacing={2}>\n                    <Grid item xs={12} align=\"center\">\n                        <Typography variant=\"subtitle1\" style={{ fontWeight: \"bold\" }}>\n                            {siteCode.toUpperCase()} - Marker {name}\n                        </Typography>\n                        <Typography variant=\"body2\">\n                            Timestamp: {moment(chosen_ts).format(\"DD MMMM YYYY, HH:mm:ss\")}\n                        </Typography>\n                        <Typography variant=\"body2\">\n                            Measurement: {chosen_meas} cm\n                        </Typography>\n                    </Grid>\n\n                    <Grid item xs={12}><Divider /></Grid>\n\n                    <Grid item xs={12}>\n                        <Typography variant=\"subtitle2\" style={{ fontWeight: \"bold\" }}>\n                            EDIT\n                        </Typography>\n                    </Grid>\n\n                    <Grid item xs={12}>\n                        <TextField \n                            label=\"Change marker data measurement\"\n                            value={measurement}\n                            onChange={changeHandlerFn(\"measurement\")}\n                            type=\"number\"\n                            fullWidth\n                            required\n                        />\n                    </Grid>\n\n                    <Grid item xs={12}>\n                        Change observation timestamp (applies to the rest of the points)\n                    </Grid>\n\n                    <MuiPickersUtilsProvider utils={MomentUtils}>\n                        <Grid item xs={12}>\n                            <KeyboardDateTimePicker\n                                required\n                                autoOk\n                                label=\"Observation Timestamp\"\n                                value={moment(ts)}\n                                onChange={changeHandlerFn(\"ts\")}\n                                ampm={false}\n                                placeholder=\"2010/01/01 00:00\"\n                                format=\"YYYY/MM/DD HH:mm\"\n                                mask=\"____/__/__ __:__\"\n                                clearable\n                                disableFuture\n                                fullWidth\n                            />\n                        </Grid>\n                    </MuiPickersUtilsProvider>\n\n                    <Grid item xs={12} style={{ textAlign: \"right\" }}>\n                        <Button\n                            variant=\"contained\"\n                            color=\"primary\"\n                            size=\"small\"\n                            onClick={updateDataFn}\n                        >\n                            Update Data\n                        </Button>\n                    </Grid>\n\n                    <Grid item xs={12}><Divider /></Grid>\n\n                    <Grid item xs={12}>\n                        <Typography variant=\"subtitle2\" style={{ fontWeight: \"bold\" }}>\n                            DELETE\n                        </Typography>\n                    </Grid>\n\n                    <Grid item xs={12}>\n                        Be careful on deleting marker data. Delete only IF REALLY NEEDED.\n                    </Grid>\n\n                    <Grid item xs={12}>\n                        <FormControl component=\"fieldset\" >\n                            <RadioGroup\n                                aria-label=\"gender\"\n                                name=\"gender1\"\n                                value={delete_quantity}\n                                onChange={changeRadioValueFn}\n                            >\n                                <FormControlLabel value=\"one\" control={<Radio />} label=\"Delete measurement of this marker only\" />\n                                <FormControlLabel value=\"all\" control={<Radio />} label=\"Delete all measurements from given marker observation\" />\n                            </RadioGroup>\n                        </FormControl>\n                    </Grid>\n\n                    <Grid item xs={12} style={{ textAlign: \"right\" }}>\n                        <Button\n                            variant=\"contained\"\n                            color=\"primary\"\n                            size=\"small\"\n                            onClick={() => setDeleteClick(true)}\n                        >\n                            Delete Data\n                        </Button>\n                    </Grid>\n\n                    {\n                        is_delete_clicked && (\n                            <Grid item xs={12} style={{ textAlign: \"right\" }}>\n                                <ButtonGroup \n                                    variant=\"contained\" \n                                    size=\"small\"\n                                    color=\"secondary\"\n                                    aria-label=\"small contained button group\"\n                                >\n                                    <Button disabled>Are you sure?</Button>\n                                    <Button onClick={deleteDataFn}>Yes</Button>\n                                    <Button onClick={() => setDeleteClick(false)}>No</Button>\n                                </ButtonGroup>\n                            </Grid>\n                        )\n                    }\n                </Grid>\n            </DialogContent>\n            <DialogActions>\n                <Button onClick={changeHandlerFn(\"is_open\", false)}>\n                    Cancel\n                </Button>\n            </DialogActions>\n        </Dialog>\n    );\n}\n\nfunction SurficialDataTagModal (props) {\n    const { \n        surficialDataTagModal, setSurficialDataTagModal, \n        siteCode, setRedrawChart\n    } = props;\n    const {\n        is_open, ts, name, measurement, \n        data_id, unreliable_data\n    } = surficialDataTagModal;\n\n    const { user_id } = getCurrentUser();\n    const [remarks, setRemarks] = useState(\"\");\n    const { enqueueSnackbar, closeSnackbar } = useSnackbar();\n\n    const changeHandlerFn = (prop, value) => x => {\n        setSurficialDataTagModal({\n            ...surficialDataTagModal, [prop]: value \n        });\n    };\n\n    const snackBarActionFn = key => {\n        return (<Button\n            color=\"primary\"\n            onClick={() => { closeSnackbar(key); }}\n        >\n            Dismiss\n        </Button>);\n    };\n\n    const saveFunction = () => {\n        const input = {\n            data_id,\n            tagger_id: user_id,\n            remarks\n        };\n\n        saveUnreliableMarkerData(input, data => {\n            const { status, message } = data;\n            let variant;\n            if (status === true) {\n                setRedrawChart(true);\n                setSurficialDataTagModal({\n                    ...surficialDataTagModal, is_open: false \n                });\n                variant = \"success\";\n\n                setRemarks(\"\");\n            } else {\n                variant = \"error\";\n            }\n\n            enqueueSnackbar(\n                message,\n                {\n                    variant,\n                    autoHideDuration: 5000,\n                    action: snackBarActionFn\n                }\n            );\n        });\n    };\n\n    return (\n        <Dialog\n            open={is_open}\n            aria-labelledby=\"form-dialog-title\"    \n        >\n            <DialogTitle id=\"form-dialog-title\">\n                { unreliable_data ? \"Unreliable data tag information\" : \"Tag unreliable data\"}\n            </DialogTitle>\n\n            <DialogContent>\n                <Grid container spacing={2}>\n                    <Grid item xs={12} align=\"center\">\n                        <Typography variant=\"subtitle1\" style={{ fontWeight: \"bold\" }}>\n                            {siteCode.toUpperCase()} - Marker {name}\n                        </Typography>\n                        <Typography variant=\"body2\">\n                            Timestamp: {moment(ts).format(\"DD MMMM YYYY, HH:mm:ss\")}\n                        </Typography>\n                        <Typography variant=\"body2\">\n                            Measurement: {measurement} cm\n                        </Typography>\n                    </Grid>\n\n                    <Grid item xs={12}><Divider /></Grid>\n\n                    <Grid item xs={12} align=\"center\">\n                        {\n                            unreliable_data ? (\n                                <Grid container justify=\"center\">\n                                    <Grid item xs={12} sm={6}>\n                                        <Typography variant=\"body1\">\n                                            <strong>Tagger:</strong>\n                                        </Typography>\n                                        <Typography variant=\"body1\" gutterBottom>\n                                            {`${unreliable_data.tagger.first_name} ${unreliable_data.tagger.last_name}`}\n                                        </Typography>\n                                    </Grid>\n                                    <Grid item xs={12} sm={6}>\n                                        <Typography variant=\"body1\">\n                                            <strong>Timestamp:</strong>\n                                        </Typography>\n                                        <Typography variant=\"body1\" gutterBottom>\n                                            {moment(unreliable_data.ts).format(\"DD MMMM YYYY, HH:mm:ss\")}\n                                        </Typography>\n                                    </Grid>\n                                    <Grid item xs={12} sm={6}>\n                                        <Typography variant=\"body1\">\n                                            <strong>Remarks:</strong>\n                                        </Typography>\n                                        <Typography variant=\"body1\">\n                                            {unreliable_data.remarks}\n                                        </Typography>\n                                    </Grid>\n                                </Grid>\n                            ) : (\n                                <TextField \n                                    label=\"Remarks\"\n                                    value={remarks}\n                                    onChange={event => setRemarks(event.target.value)}\n                                    fullWidth\n                                    required\n                                    error={remarks === \"\"}\n                                    helperText={remarks ? \"\" : \"Required\"}\n                                />\n                            )\n                        }\n                    </Grid>\n                </Grid>\n            </DialogContent>\n\n            <DialogActions>\n                {\n                    !unreliable_data && <Button\n                        variant=\"contained\"\n                        color=\"secondary\"\n                        size=\"small\"\n                        onClick={saveFunction}\n                        disabled={remarks === \"\"}\n                    >\n                        Save\n                    </Button>\n                }\n\n                <Button color=\"primary\" onClick={changeHandlerFn(\"is_open\", false)}>\n                    Cancel\n                </Button>\n            </DialogActions>\n        </Dialog>\n    );\n}\n\nfunction ClickPointModal (props) {\n    const {\n        setIsOpenClickModal, open, chosenPoint,\n        setEditModal, setShowTrending,\n        setGenerateTrending, setSurficialDataTagModal\n    } = props;\n\n    const { ts: chosen_ts, measurement: chosen_meas, name, unreliable_data } = chosenPoint;\n    const handleClose = () => {\n        setIsOpenClickModal(false);\n    };\n\n    const handleEditDeleteClick = () => {\n        handleClose();\n        setEditModal({\n            ...chosenPoint,\n            is_open: true\n        });\n    };\n\n    const handleGenerateTrendingClick = () => {\n        handleClose();\n        setShowTrending(true);\n        setGenerateTrending(true);\n    };\n\n    const hadleSurficialDataTagClick = type => event => {\n        handleClose();\n        setSurficialDataTagModal({\n            ...chosenPoint,\n            is_open: true,\n            type\n        });\n    };\n\n    return (\n        <Dialog onClose={handleClose} aria-labelledby=\"simple-dialog-title\" open={open}>\n            <DialogTitle id=\"simple-dialog-title\">Point options</DialogTitle>\n            <DialogContent>\n                <div align=\"center\">\n                    <Typography variant=\"subtitle1\" style={{ fontWeight: \"bold\" }}>\n                        Marker {name}\n                    </Typography>\n                    <Typography variant=\"body2\">\n                        Timestamp: {moment(chosen_ts).format(\"DD MMMM YYYY, HH:mm:ss\")}\n                    </Typography>\n                    <Typography variant=\"body2\">\n                        Measurement: {chosen_meas} cm\n                    </Typography>\n                </div>\n            </DialogContent>\n            <List>\n                <ListItem button onClick={handleEditDeleteClick}>\n                    <ListItemIcon>\n                        <Edit />\n                    </ListItemIcon>\n                    <ListItemText primary=\"Edit/Delete data\" />\n                </ListItem>\n\n                <ListItem button onClick={handleGenerateTrendingClick}>\n                    <ListItemIcon>\n                        <TrendingUp />\n                    </ListItemIcon>\n                    <ListItemText primary=\"Generate trending chart\" />\n                </ListItem>\n                {\n                    unreliable_data === false ? (\n                        <ListItem button onClick={hadleSurficialDataTagClick(\"tag\")}>\n                            <ListItemIcon>\n                                <LocalOffer />\n                            </ListItemIcon>\n                            <ListItemText primary=\"Tag data as unreliable\" />\n                        </ListItem>\n                    ) : (\n                        <ListItem button onClick={hadleSurficialDataTagClick(\"show\")}>\n                            <ListItemIcon>\n                                <Info />\n                            </ListItemIcon>\n                            <ListItemText primary=\"Show unreliable tag info\" />\n                        </ListItem>\n                    )\n                }\n                \n            </List>\n        </Dialog>\n    );\n}\n\nfunction SurficialMarkersButton (props) {\n    const {\n        width, url, selectedMarker, surficialData,\n        setIsOpenAddEventModal, setAddNewMarker\n    } = props;\n\n    const [anchor, setAnchor] = useState(null);\n\n    const onMenuClick = event => {\n        setAnchor(event.currentTarget);\n    };\n\n    const onMenuClose = () => {\n        setAnchor(null);\n    };\n\n    const has_enough_markers = isWidthDown(width, \"sm\") && surficialData.length <= 5;\n\n    const handleAddMarker = () => {\n        setAddNewMarker(true);\n        setIsOpenAddEventModal(true);\n    };\n\n    return (\n        <Fragment>\n            <ButtonGroup\n                variant=\"contained\"\n                color=\"primary\"\n                size=\"small\"\n                aria-label=\"Site markers button group\"\n                style={{ marginRight: 6 }}\n            >\n                <Button disabled style={{ color: \"#000000\" }}>Marker</Button>\n\n                {\n                    has_enough_markers ? (\n                        surficialData.map(marker => {\n                            const { marker_name, marker_id } = marker;\n                            return (\n                                <Button \n                                    component={Link}\n                                    to={`${url}/${marker_name}`}\n                                    key={marker_id}\n                                >\n                                    {marker_name}\n                                </Button> \n                            );\n                        })\n                    ) : (\n                        <Button\n                            color=\"primary\"\n                            variant=\"contained\"\n                            size=\"small\"\n                            aria-controls=\"simple-menu\"\n                            aria-haspopup=\"true\"\n                            onClick={onMenuClick}\n                            endIcon={<ArrowDropDown />}\n                        >\n                            { selectedMarker ? selectedMarker.marker_name : \"Select\" }\n                        </Button>\n                    )\n                }\n\n                <Tooltip\n                    title=\"Add a new marker\"\n                    onClick={handleAddMarker}\n                    arrow\n                >\n                    <Button><Add /></Button>\n                </Tooltip>\n            </ButtonGroup>\n\n            <Menu\n                id=\"simple-menu\"\n                anchorEl={anchor}\n                keepMounted\n                open={Boolean(anchor)}\n                onClose={onMenuClose} \n            >\n                {\n                    surficialData.map(marker => {\n                        const { marker_name, marker_id } = marker;\n                        return (\n                            <MenuItem \n                                component={Link}\n                                to={`${url}/${marker_name}`}\n                                key={marker_id}\n                                onClick={onMenuClose}\n                            >\n                                {marker_name}\n                            </MenuItem> \n                        );\n                    })\n                }\n            </Menu>\n        </Fragment>\n    );\n}\n\n// eslint-disable-next-line max-params\nfunction prepareOptions (input, data, width, setIsOpenClickModal, setChosenPointCopy, is_end_of_shift) {\n    const { site_code, timestamps } = input;\n    const { start, end } = timestamps;\n    const start_date = moment(start, \"YYYY-MM-DD HH:mm:ss\");\n    const end_date = moment(end, \"YYYY-MM-DD HH:mm:ss\");\n\n    const font_size = isWidthDown(width, \"sm\") ? \"1rem\" : \"0.90rem\";\n\n    let subtitle = `As of: <b>${moment(end_date).format(\"D MMM YYYY, HH:mm\")}</b>`;\n    if (!is_end_of_shift) {\n        subtitle += \"<br/><i>Note: Click data points to access several options.</i>\";\n    }\n\n    let min_x = start_date;\n    if ((is_end_of_shift || start === \"None\") && data.length > 0) {\n        const min = data.reduce((cur_min, row) => {\n            const { data: cd } = cur_min;\n            const { data: rd } = row;\n            if (cd.length === 0) return row;\n            if (rd.length === 0) return cur_min;\n            return cd[0].x < rd[0].x ? cur_min : row;\n        });\n        min_x = min.data.length > 0 ? moment(min.data[0].x) : moment();\n    }\n\n    data.forEach(row => {\n        row.turboThreshold = 100000;\n        const { data: series_data } = row;\n        series_data.forEach(series_data_row => {\n            const { unreliable_data } = series_data_row;\n            if (Object.keys(unreliable_data).length !== 0) {\n                const marker = {\n                    symbol: \"triangle-down\",\n                    radius: 8,\n                    fillColor: \"#FFFF00\",\n                    lineColor: \"#000000\",\n                    lineWidth: 1\n                };\n                series_data_row.marker = marker;\n            } else {\n                series_data_row.unreliable_data = false;\n            }\n        }); \n    });\n    return {\n        title: {\n            text: `<b>Surficial Data History Chart of ${site_code.toUpperCase()}</b>`,\n            style: { fontSize: font_size },\n            margin: 36,\n            y: 18\n        },\n        time: { timezoneOffset: -8 * 60 },\n        series: data,\n        chart: {\n            type: \"line\",\n            zoomType: \"x\",\n            panning: true,\n            panKey: \"shift\",\n            height: 400,\n            resetZoomButton: {\n                position: {\n                    x: 0,\n                    y: -30\n                }\n            },\n            spacingTop: 24,\n            spacingRight: 24\n        },\n        subtitle: {\n            text: subtitle,\n            style: { fontSize: \"0.75rem\" }\n        },\n        legend: {\n            labelFormatter () {\n                const { userOptions: { marker_name: mn, in_use } } = this;\n                const name = in_use === 0 ? `${mn} (Defunct)` : mn;\n                return name;\n            }\n        },\n        yAxis: {\n            title: {\n                text: \"<b>Displacement (cm)</b>\"\n            }\n        },\n        xAxis: {\n            min: Date.parse(min_x),\n            max: Date.parse(end_date),\n            type: \"datetime\",\n            dateTimeLabelFormats: {\n                month: \"%e. %b %Y\",\n                year: \"%b\"\n            },\n            title: {\n                text: \"<b>Date</b>\"\n            },\n        },\n        tooltip: {\n            shared: true,\n            crosshairs: true\n        },\n        plotOptions: {\n            line: {\n                marker: {\n                    enabled: true\n                },\n                dashStyle: \"ShortDash\"\n            },\n            series: {\n                marker: {\n                    radius: 3\n                },\n                cursor: \"pointer\",\n                point: {\n                    events: {\n                        click () {\n                            if (!is_end_of_shift) {\n                                const {\n                                    data_id, x, y,\n                                    mo_id,\n                                    series: { name },\n                                    unreliable_data\n                                } = this;\n\n                                const obj = {\n                                    data_id,\n                                    name,\n                                    mo_id, \n                                    ts: moment(x),\n                                    measurement: y,\n                                    unreliable_data\n                                };\n                                setChosenPointCopy(obj);\n                                setIsOpenClickModal(true);\n                            }\n                        }\n                    }\n                }\n            }\n        },\n        loading: {\n            showDuration: 100,\n            hideDuration: 1000\n        },\n        credits: {\n            enabled: false\n        }\n    };\n}\n\nfunction createSurficialGraph (options, chartRef) {\n    const temp = <HighchartsReact\n        highcharts={Highcharts}\n        options={options}\n        ref={chartRef}\n    />;\n\n    return temp;\n}\n\nfunction SurficialGraph (props) {\n    const { \n        width, location: { pathname },\n        match: { url, params: { site_code } },\n        fullScreen, disableBack, disableMarkerList,\n        saveSVG, input, currentUser,\n        isEndOfShift\n    } = props;\n\n    const default_range_info = { label: \"3 months\", unit: \"months\", duration: 3 };\n    const [selected_range_info, setSelectedRangeInfo] = useState(default_range_info);\n    const { unit, duration } = selected_range_info;\n    \n    let ts_end = \"\";\n    let dt_ts_end;\n    if (typeof input !== \"undefined\") {\n        const { ts_end: te } = input;\n        ts_end = te;\n        dt_ts_end = moment(te);\n    } else {\n        const ts_now = moment();\n        ts_end = ts_now.format(\"YYYY-MM-DD HH:mm:ss\");\n        dt_ts_end = ts_now;\n    }\n\n    const disable_back = typeof disableBack === \"undefined\" ? false : disableBack;\n    const disable_marker_list = typeof disableMarkerList === \"undefined\" ? false : disableMarkerList;\n    const save_svg = typeof saveSVG === \"undefined\" ? false : saveSVG;\n    const is_end_of_shift = typeof isEndOfShift === \"undefined\" ? false : isEndOfShift;\n\n    const ts_start = computeForStartTs(dt_ts_end, duration, unit);\n    const chartRef = React.useRef(null);\n    const timestamps = { start: ts_start, end: ts_end };\n\n    const [surficial_data, setSurficialData] = useState([]);\n    const [selected_marker, setSelectedMarker] = useState(null);\n    const [historical_markers, setHistoricalMarkers] = useState(false);\n\n    const [save_svg_now, setSaveSVGNow] = useState(false);\n    const [to_redraw_chart, setRedrawChart] = useState(true);\n    const [show_trending, setShowTrending] = useState(false);\n    const [generate_trending, setGenerateTrending] = useState(false);\n\n    const [is_open_click_modal, setIsOpenClickModal] = useState(false);\n    const [is_open_add_event_modal, setIsOpenAddEventModal] = useState(false);\n    const [add_new_marker, setAddNewMarker] = useState(false);\n\n    const default_point = {\n        data_id: null,\n        mo_id: null,\n        name: null,\n        ts: null,\n        measurement: 0,\n    };\n    const [chosen_point, setChosenPointCopy] = useState({ ...default_point });\n    const [edit_modal, setEditModal] = useState({\n        ...default_point,\n        is_open: false\n    });\n\n    const [surficial_data_tag_modal, setSurficialDataTagModal] = useState({\n        ...default_point,\n        is_open: false\n    });\n\n    useEffect(() => {\n        setRedrawChart(true);\n    }, [selected_range_info]);\n\n    useEffect(() => {\n        const { current } = chartRef;\n        if (current !== null || to_redraw_chart) {\n            current.chart.showLoading();\n        }\n\n        if (to_redraw_chart) {\n            const f_input = { site_code, ...timestamps };\n            getSurficialPlotData(f_input, data => {\n                setSurficialData(data);\n\n                if (current !== null) {\n                    const { chart } = current;\n                    chart.hideLoading();\n\n                    if (save_svg) setSaveSVGNow(true);\n                }\n            }, is_end_of_shift);\n\n            setRedrawChart(false);\n        }\n    }, [to_redraw_chart]);\n\n    useEffect(() => {\n        if (!historical_markers && surficial_data.length !== 0) {\n            const markers = [];\n            surficial_data.forEach(({ marker_history }) => {\n                marker_history.forEach(({ marker_name }) => {\n                    if (marker_name) {\n                        markers.push(marker_name.marker_name);\n                    }\n                });\n            });\n            setHistoricalMarkers(markers);\n        }\n    }, [historical_markers, surficial_data]);\n\n    useEffect(() => {\n        if (surficial_data.length !== 0) {\n            const match = matchPath(pathname, {\n                path: `${url}/:marker_name`,\n                exact: true\n            });\n\n            if (match) {\n                const { isExact, params: { marker_name } } = match;\n                if (isExact) {\n                    const temp = surficial_data.find(x => x.marker_name === marker_name);\n                    if (typeof temp !== \"undefined\") {\n                        setSelectedMarker(temp);\n                    }\n                }\n            }\n        }\n    }, [pathname, surficial_data]);\n\n    useEffect(() => {\n        const { current: { chart } } = chartRef;\n        const svg = chart.getSVGForExport();\n        if (save_svg_now) {\n            const temp = {\n                user_id: currentUser.user_id,\n                site_code,\n                chart_type: \"surficial\",\n                svg\n            };\n\n            saveChartSVG(temp, data => {});\n        }\n    }, [save_svg_now]);\n\n    useEffect(() => {\n        const { current: { chart } } = chartRef;\n        if (selected_marker) {\n            chart.series.forEach(s => {\n                const bool = selected_marker.marker_name === s.name;\n                s.setVisible(bool, false);\n            });\n            chart.redraw();\n            chart.reflow();\n        }\n    }, [selected_marker]);\n\n    const input_obj = { site_code, timestamps };\n    const options = prepareOptions(input_obj, surficial_data, width, setIsOpenClickModal, setChosenPointCopy, is_end_of_shift);\n    const graph_component = createSurficialGraph(options, chartRef);\n\n    return (\n        <Fragment>\n            <Grid \n                container spacing={2} \n                justify=\"space-between\"\n                alignItems=\"stretch\"\n            >\n                <Grid container item xs={12} style={{ marginBottom: 16 }}>\n                    {\n                        !disable_back && <Grid item xs={1} sm={3}><BackToMainButton {...props}/></Grid>\n                    }\n\n                    <Grid item container xs justify=\"flex-end\">\n                        { !disable_marker_list && surficial_data.length > 0 && (\n                            <SurficialMarkersButton\n                                {...props}\n                                width={width}\n                                url={url}\n                                selectedMarker={selected_marker}\n                                surficialData={surficial_data}\n                                setIsOpenAddEventModal={setIsOpenAddEventModal}\n                                setAddNewMarker={setAddNewMarker}\n                            />\n                        )}\n                        \n                        <div>\n                            <DateRangeSelector\n                                selectedRangeInfo={selected_range_info}\n                                setSelectedRangeInfo={setSelectedRangeInfo}\n                            />\n                        </div>\n                    </Grid>\n                </Grid>\n            \n                <Grid\n                    item xs={12}\n                    md={selected_marker ? 7 : 12}\n                    lg={selected_marker ? 8 : 12}\n                >\n                    <Paper elevation={2}>\n                        {graph_component}\n                    </Paper>\n                </Grid>\n\n            \n                <Route path={`${url}/:marker_name`} render={\n                    props => {\n                        const { match: { params: { marker_name } } } = props;\n\n                        if (!selected_marker) return \"\";\n                        return (\n                            <Grid item xs={12} md={5} lg={4}>\n                                <MarkerHistoryTable\n                                    markerInfo={selected_marker}\n                                    markerName={marker_name}\n                                />\n\n                                <Grid container justify=\"flex-end\" style={{ marginTop: 12 }}>\n                                    <Button\n                                        variant=\"contained\"\n                                        color=\"primary\"\n                                        startIcon={<Add />}\n                                        onClick={() => {\n                                            setAddNewMarker(false);\n                                            setIsOpenAddEventModal(true);\n                                        }}\n                                    >\n                                        Add New Event\n                                    </Button>\n                                </Grid>\n                            </Grid>\n                        );\n                    }\n                } />\n\n                {\n                    show_trending && (\n                        <SurficialTrendingGraphs\n                            siteCode={site_code}\n                            setShowTrending={setShowTrending}\n                            generateTrending={generate_trending}\n                            setGenerateTrending={setGenerateTrending}\n                            chosenPoint={chosen_point}\n                        />\n                    )\n                }\n            </Grid>\n\n            <ClickPointModal\n                open={is_open_click_modal}\n                setIsOpenClickModal={setIsOpenClickModal}\n                chosenPoint={chosen_point}\n                setEditModal={setEditModal}\n                setShowTrending={setShowTrending}\n                setGenerateTrending={setGenerateTrending}\n                setSurficialDataTagModal={setSurficialDataTagModal}\n            />\n\n            <UpdateDeleteModal \n                chosenPoint={chosen_point}\n                editModal={edit_modal}\n                setEditModal={setEditModal}\n                fullScreen={fullScreen}\n                siteCode={site_code}\n                setRedrawChart={setRedrawChart}\n            />\n\n            <SurficialDataTagModal \n                chosenPoint={chosen_point}\n                surficialDataTagModal={surficial_data_tag_modal}\n                setSurficialDataTagModal={setSurficialDataTagModal}\n                fullScreen={fullScreen}\n                siteCode={site_code}\n                setRedrawChart={setRedrawChart}\n            />\n\n            <AddNewHistoryModal\n                {...props}\n                siteCode={site_code}\n                open={is_open_add_event_modal}\n                setIsOpen={setIsOpenAddEventModal}\n                selectedMarker={selected_marker}\n                setRedrawChart={setRedrawChart}\n                historicalMarkers={historical_markers}\n                addNewMarker={add_new_marker}\n            />\n        </Fragment>\n    );\n}\n\nexport default withMobileDialog()(SurficialGraph);\n","import React, { useState, useEffect } from \"react\";\n\nimport {\n    Dialog, DialogTitle, DialogContent,\n    DialogActions, Button, DialogContentText,\n    Grid, TextField, Typography,\n    FormControlLabel, Checkbox, Tooltip\n} from \"@material-ui/core\";\nimport { useSnackbar } from \"notistack\";\nimport { cloneDeep } from \"lodash\";\n\nimport SelectInputForm from \"../../reusables/SelectInputForm\";\nimport { getCurrentUser } from \"../../sessions/auth\";\nimport { saveInvalidRainfallTag } from \"../ajax\";\n\nfunction RainfallDataTaggingModal (props) {\n    const {\n        isOpen, closeModalFn, taggingData,\n        onTagSuccess\n    } = props;\n\n    const current_user = getCurrentUser();\n\n    let data = {\n        ts_start: null,\n        ts_end: null\n    };\n    if (taggingData !== null) {\n        data = { ...taggingData };\n    }\n\n    const [is_indefinite, setIsIndefinite] = useState(false);\n    const [observed_data, setObservedData] = useState(\"\");\n    const [remarks, setRemarks] = useState(\"\");\n    const [is_disabled, setIsDisabled] = useState(true);\n    const { enqueueSnackbar, closeSnackbar } = useSnackbar();\n\n    useEffect(() => {\n        setIsDisabled(observed_data === \"\");\n    }, [observed_data]);\n\n    const snackBarActionFn = key => {\n        return (<Button\n            color=\"primary\"\n            onClick={() => { closeSnackbar(key); }}\n        >\n            Dismiss\n        </Button>);\n    };\n\n    const handleClose = () => {\n        closeModalFn();\n    };\n\n    const handleSubmit = () => {\n        const copy = cloneDeep(taggingData);\n        delete copy.chart;\n\n        const final_data = {\n            tagger_id: current_user.user_id,\n            ...copy,\n            observed_data: parseInt(observed_data, 10),\n            remarks: remarks || null\n        };\n\n        if (is_indefinite) final_data.ts_end = null;\n\n        console.log(\"Submitting invalid tag\", final_data);\n        saveInvalidRainfallTag(final_data, ret => {\n            const { status, message } = ret;\n            if (status === \"success\") {\n                handleClose();\n                onTagSuccess();\n            }\n\n            enqueueSnackbar(\n                message,\n                {\n                    variant: status,\n                    autoHideDuration: 3000,\n                    action: snackBarActionFn\n                }\n            );\n        });\n    };\n\n    return (\n        <Dialog\n            fullWidth\n            open={isOpen}\n            aria-labelledby=\"form-dialog-title\"\n        >\n            <DialogTitle id=\"form-dialog-title\">Tag invalid rainfall data</DialogTitle>\n            <DialogContent>\n                <DialogContentText>\n                    Fill in the required fields then submit. Note: DO NOT TAG ALREADY TAGGED POINTS.\n                </DialogContentText>\n\n                <Grid container spacing={2}>\n                    <Grid item xs={12} sm={6}>\n                        <Typography variant=\"body2\" color=\"textSecondary\" align=\"center\">\n                            Start Timestamp\n                        </Typography>\n\n                        <Typography variant=\"body1\" align=\"center\">\n                            <strong>{data.ts_start}</strong>\n                        </Typography>\n                    </Grid>\n\n                    <Grid item xs={12} sm={6}>\n                        <Typography variant=\"body2\" color=\"textSecondary\" align=\"center\">\n                            End Timestamp\n                        </Typography>\n\n                        <Typography variant=\"body1\" align=\"center\">\n                            <strong>{is_indefinite ? \"Indefinite\" : data.ts_end}</strong>\n                        </Typography>\n                    </Grid>\n\n                    <Grid item xs={12}>\n                        <FormControlLabel\n                            value=\"isIndefinite\"\n                            control={<Checkbox \n                                color=\"primary\" checked={is_indefinite}\n                                onClick={e => setIsIndefinite(e.target.checked)}\n                            />}\n                            label={<div>\n                                Set end timestamp as indefinite&nbsp;\n                                <Tooltip\n                                    title=\"Checking this will show data from start timestamp to latest timestamp and all incoming data as invalid. A script will provide the end timestamp of the invalidated range.\">\n                                    <strong>[?]</strong>\n                                </Tooltip>\n                            </div>}\n                            labelPlacement=\"end\"\n                        />\n                    </Grid>\n\n                    <Grid item xs={12}>\n                        <SelectInputForm\n                            div_id=\"observed-data\"\n                            label=\"Observed Data\"\n                            list={[\n                                { id: -1, label: \"Actual rainfall data/observation is lower than recorded\" },\n                                { id: 0, label: \"No rainfall observed; Actual data is zero\" },\n                                { id: 1, label: \"Actual rainfall data/observation is higher than recorded\" }\n                            ]}\n                            mapping={{ id: \"id\", label: \"label\" }}\n                            required\n                            value={observed_data}\n                            error={observed_data === \"\"}\n                            changeHandler={event => setObservedData(event.target.value)}\n                        />\n                    </Grid>\n\n                    <Grid item xs={12}>\n                        <TextField\n                            label=\"Remarks\"\n                            fullWidth\n                            multiline\n                            rowsMax=\"3\"\n                            value={remarks}\n                            onChange={e => setRemarks(e.target.value)}\n                        />\n                    </Grid>\n                </Grid>\n            </DialogContent>\n            <DialogActions>\n                <Button\n                    color=\"primary\"\n                    onClick={handleSubmit}\n                    disabled={is_disabled}\n                >\n                    Submit\n                </Button>\n                <Button onClick={handleClose} color=\"primary\">\n                    Cancel\n                </Button>\n            </DialogActions>\n        </Dialog>\n    );\n}\n\nexport default RainfallDataTaggingModal;\n","import React, {\n    Fragment, useState, useEffect,\n    useRef, createRef\n} from \"react\";\n\nimport Highcharts from \"highcharts\";\nimport HC_exporting from \"highcharts/modules/exporting\";\nimport HighchartsReact from \"highcharts-react-official\";\nimport * as moment from \"moment\";\n\nimport { Grid, Paper, Hidden } from \"@material-ui/core\";\nimport BackToMainButton from \"./BackToMainButton\";\nimport DateRangeSelector from \"./DateRangeSelector\";\nimport RainfallDataTaggingModal from \"./RainfallDataTaggingModal\";\n\nimport { getRainfallPlotData, saveChartSVG } from \"../ajax\";\nimport { computeForStartTs } from \"../../../UtilityFunctions\";\n\nwindow.moment = moment;\nHC_exporting(Highcharts);\n\nconst default_data = {\n    set: {\n        \"24h\": [],\n        \"72h\": [],\n        rain: [],\n        null_ranges: [],\n        max_rval: 0,\n        max_72h: 0,\n        gauge_name: \"loading\",\n        distance: 0,\n        data_source: \"loading\",\n        threshold_value: 0,\n        rain_id: null\n    },\n    series_data: [],\n    max_rval_data: []\n};\n\nconst observed_data_dict = {\n    \"-1\": \"Actual is lower than recorded\",\n    \"0\": \"No rainfall/Data is zero\",\n    \"1\": \"Actual is higher than recorded\"\n};\n\nconst rainfall_colors = {\n    \"24h\": \"rgba(73, 105, 252, 0.9)\",\n    \"72h\": \"rgba(239, 69, 50, 0.9)\",\n    rain: \"rgba(0, 0, 0, 0.9)\"\n};\n\nfunction processInstantaneousRainData (data, invalid_data) {\n    const { length: inv_len } = invalid_data;\n    let i = 0;\n    const transformed = data.map(row => {\n        const [x, y] = row;\n        const obj = { x, y };\n\n        if (inv_len > 0 && i < inv_len) {\n            const { ts_start, ts_end } = invalid_data[i];\n\n            const ts = moment.unix(x / 1000);\n            if (ts.isSameOrAfter(ts_start) && (\n                ts.isSameOrBefore(ts_end) || ts_end === null\n            )) {\n                obj.color = \"rgba(250, 96, 96)\";\n                obj.is_invalid = true;\n                Object.assign(obj, invalid_data[i]);\n            }\n\n            if (ts.isSame(ts_end)) i += 1;\n        }\n\n        return obj;\n    });\n\n    return transformed;\n}\n\nfunction prepareRainfallData (set) {\n    const { null_ranges, invalid_data } = set;\n    const series_data = [];\n    const max_rval_data = [];\n\n    Object.keys(rainfall_colors).forEach((name) => {\n        const color = rainfall_colors[name];\n\n        let data = set[name];\n        if (name === \"rain\") {\n            data = processInstantaneousRainData(data, invalid_data);\n        }\n\n        const entry = {\n            name,\n            step: true,\n            data,\n            color,\n            id: name,\n            fillOpacity: 1,\n            lineWidth: 1,\n            turboThreshold: 100000\n        };\n\n        if (name !== \"rain\") series_data.push(entry);\n        else max_rval_data.push(entry);\n    });\n\n    const null_processed = null_ranges.map(({ from, to }) => ({ from, to, color: \"rgba(68, 170, 213, 0.3)\" }));\n\n    return { set, series_data, max_rval_data, null_processed };\n}\n\nfunction selectPointsByDrag (e) {\n    const { target, is_tagging_data, rain_gauge: rg, rain_id: rd, setTaggingData: std } = e;\n    const {\n        series, resetZoomButton,\n        is_tagging_data: target_itd, rain_gauge: target_rain_gauge,\n        rain_id: target_rain_id, tagging_sign, setTaggingData: target_std\n    } = target;\n\n    const rain_gauge = target_rain_gauge;\n    const rain_id = target_rain_id;\n    if (typeof rg !== \"undefined\") {\n        target.rain_gauge = rg;\n        target.rain_id = rd;\n    }\n\n    const setTaggingData = target_std;\n    if (typeof std !== \"undefined\") target.setTaggingData = std;\n\n    const is_itd_undef = typeof target_itd === \"undefined\";\n    const temp = is_itd_undef ? false : target_itd;\n    const is_tagging = typeof is_tagging_data === \"undefined\" ? temp : is_tagging_data;\n    target.is_tagging_data = is_tagging;\n\n    const destroyResetSelection = () => {\n        target.reset_selection.destroy();\n        delete target.reset_selection;\n    };\n\n    const destroySubmitSelection = () => {\n        target.submit_selection.destroy();\n        delete target.submit_selection;\n    };\n\n    // if (typeof reset_selection === \"undefined\" && typeof submit_selection === \"undefined\") {\n    target.submit_selection = target.renderer.button(\"Submit\", 70, 65)\n    .attr({\n        zIndex: 3,\n        r: 5,\n        id: \"submit-selection\",\n        fill: Highcharts.getOptions().colors[0],\n    })\n    .css({\n        color: \"#FFFFFF\"\n    })\n    .on(\"click\", () => {\n        Highcharts.fireEvent(target, \"selectedpoints\", {\n            selected_points: target.getSelectedPoints(),\n            rain_gauge, rain_id, is_submit: true,\n            setTaggingData\n        });\n        destroyResetSelection();\n        destroySubmitSelection();\n        unselectPoints(series);\n    });\n\n    target.reset_selection = target.renderer.button(\"Reset\", 133, 65)\n    .attr({\n        zIndex: 3,\n        r: 5,\n        id: \"reset-selection\",\n        fill: Highcharts.getOptions().colors[0],\n    })\n    .css({\n        color: \"#FFFFFF\"\n    })\n    .on(\"click\", () => {\n        destroyResetSelection();\n        destroySubmitSelection();\n        unselectPoints(series);\n    });\n    // }\n\n    if (typeof resetZoomButton !== \"undefined\") {\n        if (is_tagging) resetZoomButton.hide();\n        else resetZoomButton.show();\n    }\n\n    if (!is_tagging) {\n        unselectPoints(series);\n        // if (typeof reset_selection !== \"undefined\" && typeof submit_selection !== \"undefined\") {\n        destroyResetSelection();\n        destroySubmitSelection();\n        delete target.setTaggingData;\n        // }\n\n        if (typeof tagging_sign !== \"undefined\") {\n            target.tagging_sign.destroy();\n            delete target.tagging_sign;\n        }\n\n        return true;\n    }\n\n    // The code below will activate only when is_tagging TRUE\n\n    if (typeof tagging_sign === \"undefined\") {\n        target.tagging_sign = target.renderer.label(\"Tagging\", 30, 20)\n        .attr({\n            fill: Highcharts.getOptions().colors[5],\n            padding: 10,\n            r: 5,\n            zIndex: 8\n        })\n        .css({\n            color: \"#FFFFFF\"\n        })\n        .add();\n    }\n\n    let selected_points = target.getSelectedPoints();\n    const selected_ts_list = selected_points.map(x =>x.x);\n    const min_sel_ts = Math.min(...selected_ts_list);\n    const max_sel_ts = Math.max(...selected_ts_list);\n    // Select points\n    if (typeof e.xAxis !== \"undefined\") {\n        series.forEach(s => {\n            s.points.forEach(point => {\n                if ((point.x >= e.xAxis[0].min || point.x >= min_sel_ts)\n                && (point.x <= e.xAxis[0].max || point.x <= max_sel_ts)\n                && point.y !== null) {\n                    point.select(true, true);\n                }\n            });\n        });\n\n        selected_points = target.getSelectedPoints();\n        if (selected_points.length > 0) {\n            target.reset_selection.add();\n            target.submit_selection.add();\n        }\n    }\n\n    // Fire a custom event\n    Highcharts.fireEvent(target, \"selectedpoints\", { selected_points, rain_gauge, rain_id });\n    return false; // Don't zoom\n}\n\nfunction processSelectedPoints (e) {\n    const {\n        selected_points, rain_gauge, rain_id,\n        is_submit, setTaggingData, target: chart\n    } = e;\n\n    const tagged_data = [];\n    selected_points.forEach((data) => {\n        let timestamp = new Date(data.x);\n        timestamp = moment(timestamp).format(\"YYYY-MM-DD HH:mm:ss\");\n        if (tagged_data.includes(timestamp) !== true) {\n            tagged_data.push(timestamp);\n        }\n    });\n\n    const submitted_data = {\n        rain_gauge,\n        ts_start: tagged_data[0],\n        ts_end: tagged_data[tagged_data.length - 1],\n        rain_id,\n        chart\n    };\n\n    if (is_submit) {\n        setTaggingData(submitted_data);\n    }\n}\n\nfunction unselectPoints (series) {\n    series.forEach(s => {\n        s.points.forEach(point => {\n            point.select(false, false);\n        });\n    });\n}\n\n// eslint-disable-next-line max-params\nfunction prepareInstantaneousRainfallChartOption (row, input, is_tagging_data, setIsTaggingData, setTaggingData) {\n    const { set, max_rval_data, null_processed } = row;\n    const {\n        distance, max_rval, gauge_name, rain_id\n    } = set;\n    const { ts_start, ts_end, site_code } = input;\n\n    return {\n        series: max_rval_data,\n        chart: {\n            type: \"column\",\n            zoomType: \"x\",\n            panning: true,\n            events: {\n                selection: selectPointsByDrag,\n                selectedpoints: processSelectedPoints\n                // click: unselectByClick\n            },\n            height: 400,\n            resetZoomButton: {\n                position: {\n                    x: 0,\n                    y: -30\n                }\n            },\n            spacingTop: 16,\n            spacingRight: 24\n        },\n        title: {\n            text: `<b>Instantaneous Rainfall Chart of ${site_code.toUpperCase()}</b>`,\n            style: { fontSize: \"0.85rem\" },\n            margin: 26,\n            y: 20\n        },\n        subtitle: {\n            text: `Source : <b>${createRainPlotSubtitle(distance, gauge_name)}</b><br/>As of: <b>${moment(ts_end).format(\"D MMM YYYY, HH:mm\")}</b>`,\n            style: { fontSize: \"0.65rem\" }\n        },\n        xAxis: {\n            min: Date.parse(ts_start),\n            max: Date.parse(ts_end),\n            plotBands: null_processed,\n            type: \"datetime\",\n            dateTimeLabelFormats: {\n                month: \"%e %b %Y\",\n                year: \"%Y\"\n            },\n            title: {\n                text: \"<b>Date</b>\"\n            },\n            events: {\n                setExtremes: syncExtremes\n            }\n        },\n        yAxis: {\n            max: max_rval,\n            min: 0,\n            title: {\n                text: \"<b>Value (mm)</b>\"\n            }\n        },\n        tooltip: {\n            shared: true,\n            crosshairs: true,\n            formatter (tooltip) {\n                const { x, y, is_invalid, tagger, remarks, observed_data } = this.points[0].point;\n                let str = `${moment.unix(x / 1000).format(\"dddd, MMMM D, HH:mm\")}<br/>` + \n                `- Rain: <b>${y}</b>`;\n\n                if (is_invalid) {\n                    const { first_name, last_name } = tagger;\n                    str += `<br/>- Observed Data: <b>${observed_data_dict[observed_data]}</b><br/>` +\n                    `- Tagger: <b>${first_name} ${last_name}</b><br/>` +\n                    `- Remarks: <b>${remarks || \"---\"}</b>`;\n                }\n\n                return str;\n            }\n        },\n        plotOptions: {\n            series: {\n                marker: {\n                    radius: 3\n                },\n                cursor: \"pointer\"\n            }\n        },\n        exporting: {\n            menuItemDefinitions: {\n                // Custom definition\n                tagInvalidData: {\n                    onclick () {\n                        Highcharts.fireEvent(this, \"selection\", {\n                            is_tagging_data: !is_tagging_data, rain_gauge: gauge_name,\n                            rain_id, setTaggingData\n                        });\n                        setIsTaggingData(!is_tagging_data);\n                    },\n                    text: is_tagging_data ? \"Exit tagging\" : \"Tag invalid data\"\n                }\n            },\n            buttons: {\n                contextButton: {\n                    menuItems: [\"tagInvalidData\", \"viewFullscreen\", \"printChart\", \"separator\", \"downloadPNG\", \"downloadJPEG\", \"downloadPDF\", \"downloadSVG\"]\n                }\n            }\n        },    \n        legend: {\n            enabled: false\n        },\n        credits: {\n            enabled: false\n        },\n        time: { timezoneOffset: -8 * 60 }\n    };\n}\n\nfunction prepareCumulativeRainfallChartOption (row, input) {\n    const { set, series_data } = row;\n    const {\n        distance, max_72h, \n        threshold_value: max_rain_2year, gauge_name\n    } = set;\n    const { ts_start, ts_end, site_code } = input;\n    \n    return {\n        series: series_data,\n        chart: {\n            type: \"line\",\n            zoomType: \"x\",\n            panning: true,\n            panKey: \"shift\",\n            height: 400,\n            resetZoomButton: {\n                position: {\n                    x: 0,\n                    y: -30\n                }\n            },\n            spacingTop: 16,\n            spacingRight: 24\n        },\n        title: {\n            text: `<b>Cumulative Rainfall Chart of ${site_code.toUpperCase()}</b>`,\n            style: { fontSize: \"0.85rem\" },\n            margin: 26,\n            y: 20\n        },\n        subtitle: {\n            text: `Source: <b>${createRainPlotSubtitle(distance, gauge_name)}</b><br/>As of: <b>${moment(ts_end).format(\"D MMM YYYY, HH:mm\")}</b>`,\n            style: { fontSize: \"0.65rem\" }\n        },\n        xAxis: {\n            min: Date.parse(ts_start),\n            max: Date.parse(ts_end),\n            type: \"datetime\",\n            dateTimeLabelFormats: {\n                month: \"%e %b %Y\",\n                year: \"%Y\"\n            },\n            title: {\n                text: \"<b>Date</b>\"\n            },\n            events: {\n                setExtremes: syncExtremes\n            }\n        },\n        yAxis: {\n            title: {\n                text: \"<b>Value (mm)</b>\"\n            },\n            max: Math.max(0, (max_72h - parseFloat(max_rain_2year))) + parseFloat(max_rain_2year),\n            min: 0,\n            plotBands: [{\n                value: Math.round(parseFloat(max_rain_2year / 2) * 10) / 10,\n                color: rainfall_colors[\"24h\"],\n                dashStyle: \"shortdash\",\n                width: 2,\n                zIndex: 0,\n                label: {\n                    text: `24-hr threshold (${max_rain_2year / 2})`\n    \n                }\n            }, {\n                value: max_rain_2year,\n                color: rainfall_colors[\"72h\"],\n                dashStyle: \"shortdash\",\n                width: 2,\n                zIndex: 0,\n                label: {\n                    text: `72-hr threshold (${max_rain_2year})`\n                }\n            }]\n        },\n        tooltip: {\n            shared: true,\n            crosshairs: true\n        },\n        plotOptions: {\n            series: {\n                marker: {\n                    radius: 3\n                },\n                cursor: \"pointer\"\n            }\n        },\n        legend: {\n            enabled: false\n        },\n        credits: {\n            enabled: false\n        },\n        time: { timezoneOffset: -8 * 60 }\n    };\n}\n\nfunction RainfallGraph (props) {\n    const { \n        match: { params: { rain_gauge, site_code } },\n        input: conso_input, disableBack, currentUser,\n        saveSVG\n    } = props;\n    \n    const arr_num = typeof rain_gauge !== \"undefined\" ? 1 : 4;\n\n    const [rainfall_data, setRainfallData] = useState([]);\n    const [processed_data, setProcessedData] = useState([]);\n    const default_range_info = { label: \"3 days\", unit: \"days\", duration: 3 };\n    const [selected_range_info, setSelectedRangeInfo] = useState(default_range_info);\n    const [to_reload, setToReload] = useState(false);\n\n    const chartRefs = useRef([...Array(arr_num)].map(() => ({\n        instantaneous: createRef(),\n        cumulative: createRef()\n    })));\n    const [get_svg, setGetSVGNow] = useState(false);\n    const [svg_list, setSVGList] = useState([]);\n\n    const disable_back = typeof disableBack === \"undefined\" ? false : disableBack;\n    const save_svg = typeof saveSVG === \"undefined\" ? false : saveSVG;\n\n    let ts_end = \"\";\n    let sc = \"\";\n    let dt_ts_end;\n    if (typeof conso_input !== \"undefined\") {\n        const { ts_end: te } = conso_input;\n        ts_end = te;\n        dt_ts_end = moment(te);\n        sc = site_code;\n    } else {\n        const ts_now = moment();\n        ts_end = ts_now.format(\"YYYY-MM-DD HH:mm:ss\");\n        dt_ts_end = ts_now;\n        sc = rain_gauge.substr(0, 3);\n    }\n\n    const { unit, duration } = selected_range_info;\n    const ts_start = computeForStartTs(dt_ts_end, duration, unit);\n    const days_diff = dt_ts_end.diff(moment(ts_start, \"YYYY-MM-DD HH:mm:ss\"), \"days\");\n    const input = { days_diff, ts_start, ts_end, site_code: sc };\n\n    const [is_tagging_data, setIsTaggingData] = useState(false);\n    const [tagging_data, setTaggingData] = useState(null);\n    const [is_tag_modal_open, setIsTagModalOpen] = useState(false);\n\n    const default_options = {\n        cumulative: prepareCumulativeRainfallChartOption(default_data, input),\n        instantaneous: prepareInstantaneousRainfallChartOption(default_data, input, is_tagging_data, setIsTaggingData, setTaggingData)\n    };\n\n    const getDataFn = () => {\n        setProcessedData([]);\n        getRainfallPlotData(input, data => {\n            let arr = data;\n            if (typeof rain_gauge !== \"undefined\") {\n                arr = data.filter(row => row.gauge_name === `rain_${rain_gauge}`);\n            }\n            setRainfallData(arr);\n        });\n    };\n\n    useEffect(() => {\n        getDataFn();\n    }, [selected_range_info]);\n\n    useEffect(() => {\n        if (to_reload) {\n            getDataFn();\n            setToReload(false);\n        }\n    }, [to_reload]);\n\n    useEffect(() => {\n        const temp = [];\n        rainfall_data.forEach(set => {\n            const data = prepareRainfallData(set);\n            temp.push(data);\n        });\n        \n        if (temp.length > 0) setProcessedData(temp);\n    }, [rainfall_data]);\n\n    const [options, setOptions] = useState([]);\n\n    useEffect(() => {\n        const temp = [];\n        processed_data.forEach(data => {\n            const instantaneous = prepareInstantaneousRainfallChartOption(data, input, is_tagging_data, setIsTaggingData, setTaggingData);\n            const cumulative = prepareCumulativeRainfallChartOption(data, input);\n            temp.push({ instantaneous, cumulative });\n        });\n        setOptions(temp);\n        if (temp.length > 0 && save_svg) setGetSVGNow(true);\n    }, [processed_data, is_tagging_data]);\n\n    useEffect(() => {\n        if (is_tagging_data) setIsTagModalOpen(true);\n    }, [tagging_data]);\n\n    useEffect(() => {\n        if (get_svg) {\n            const temp = [];\n            chartRefs.current.forEach(a => {\n                const { instantaneous, cumulative } = a;\n                const { current: { chart: chart_i } } = instantaneous;\n                const { current: { chart: chart_c } } = cumulative;\n                const c = chart_c.getSVGForExport();\n                const i = chart_i.getSVGForExport();\n\n                temp.push({ c, i });\n            });\n            setSVGList(temp);\n        }\n    }, [get_svg]);\n\n    const svgRef = useRef(null);\n    useEffect(() => {\n        if (svg_list.length > 0) {\n            const svg = svgRef.current.outerHTML;\n            const temp = {\n                user_id: currentUser.user_id,\n                site_code,\n                chart_type: \"rainfall\",\n                svg\n            };\n\n            saveChartSVG(temp, data => {});\n        }\n    }, [svg_list]);\n\n    const onTagSuccess = () => {\n        Highcharts.fireEvent(tagging_data.chart, \"selection\", {\n            is_tagging_data: false\n        });\n        setIsTaggingData(false);\n        setToReload(true);\n    };\n    \n    return (\n        <Fragment>\n            <Grid container spacing={1} justify=\"space-between\" alignItems=\"center\">\n                {\n                    !disable_back && <div>\n                        <BackToMainButton \n                            {...props}\n                        />\n                    </div>\n                }\n                \n                <Grid container item xs justify=\"flex-end\">\n                    <DateRangeSelector\n                        selectedRangeInfo={selected_range_info}\n                        setSelectedRangeInfo={setSelectedRangeInfo}\n                        disableAll\n                    />\n                </Grid>\n            </Grid>\n \n            <div style={{ marginTop: 16 }}>\n                <Grid container spacing={4}>\n                    {\n                        chartRefs.current.map((ref, i) => {\n                            let opt = { ...default_options };\n                            if (options.length > 0) {\n                                opt = options[i];\n                            }\n\n                            return (\n                                <Fragment key={i}>\n                                    <Grid item xs={12} md={6}>\n                                        <Paper>\n                                            <HighchartsReact\n                                                highcharts={Highcharts}\n                                                options={opt.instantaneous}\n                                                ref={ref.instantaneous}\n                                            />\n                                        </Paper>\n                                    </Grid>\n\n                                    <Grid item xs={12} md={6}>\n                                        <Paper>\n                                            <HighchartsReact\n                                                highcharts={Highcharts}\n                                                options={opt.cumulative}\n                                                ref={ref.cumulative}\n                                            />\n                                        </Paper>\n                                    </Grid>\n                                    \n                                </Fragment>\n                            );\n                        })\n                    }\n                </Grid>\n            </div>\n\n            <RainfallDataTaggingModal\n                isOpen={is_tag_modal_open}\n                closeModalFn={() => setIsTagModalOpen(false)}\n                taggingData={tagging_data}\n                onTagSuccess={onTagSuccess}\n            />\n\n            {\n                save_svg && (\n                    <Hidden xsUp implementation=\"css\">\n                        <svg \n                            width={1200} height={1600}\n                            viewBox=\"0 0 1200 1600\"\n                            ref={svgRef}\n                        >\n                            {\n                                svg_list.map((x, index) => {\n                                    const { i, c } = x;\n                                    return (\n                                        <Fragment key={index}>\n                                            { /* eslint-disable-next-line react/no-danger */ }\n                                            <svg x={0} y={400 * index} dangerouslySetInnerHTML={{ __html: i }} />\n                                            { /* eslint-disable-next-line react/no-danger */ }\n                                            <svg x={600} y={400 * index} dangerouslySetInnerHTML={{ __html: c }} />\n                                        </Fragment>\n                                    );\n                                })\n                            }\n                        </svg>\n                    </Hidden>\n                )\n            }\n        </Fragment>\n    );\n}\n\nexport default RainfallGraph;\n\nfunction createRainPlotSubtitle (distance, gauge_name) {\n    const source = gauge_name.toUpperCase();\n    const subtitle = distance === null ? source : `${source} (${distance} KM)`;\n    return subtitle;\n}\n\n/**\n * Synchronize zooming through the setExtremes event handler.\n */\nfunction syncExtremes (e) {\n    const this_chart = this.chart;\n    const { charts } = Highcharts;\n\n    if (e.trigger !== \"syncExtremes\") { // Prevent feedback loop\n        charts.forEach(chart => {\n            if (chart !== this_chart && typeof chart !== \"undefined\") {\n                if (chart.xAxis[0].setExtremes) { // It is null while updating\n                    chart.xAxis[0].setExtremes(e.min, e.max, undefined, false, { trigger: \"syncExtremes\" });\n                }\n            }\n        });\n    }\n}\n","import React, {\n    Fragment, useState, useEffect,\n    useRef, createRef\n} from \"react\";\n\nimport {\n    Grid, Paper, Hidden, Dialog, Button,\n    DialogActions, DialogContent, LinearProgress\n} from \"@material-ui/core\";\nimport { isWidthDown } from \"@material-ui/core/withWidth\";\n\nimport Highcharts from \"highcharts\";\nimport HC_exporting from \"highcharts/modules/exporting\";\nimport HighchartsReact from \"highcharts-react-official\";\nimport heatmap from \"highcharts/modules/heatmap.src\";\n\nimport * as moment from \"moment\";\nimport Chroma from \"chroma-js\";\n\nimport { getSubsurfacePlotData, saveChartSVG, getSurfaceNodeHealth, getSubsurfaceNodeLevel } from \"../ajax\";\nimport BackToMainButton from \"./BackToMainButton\";\nimport DateRangeSelector from \"./DateRangeSelector\";\nimport { computeForStartTs } from \"../../../UtilityFunctions\";\n\nheatmap(Highcharts);\nwindow.moment = moment;\nHC_exporting(Highcharts);\n\nfunction assignColorToEachSeries (data_array) {\n    const size = data_array.length;\n    const rainbow_colors = Chroma.scale([\"#f00\", \"#0f0\", \"#00f\"]).mode(\"hsl\")\n    .domain([0, size - 1]);\n    const data = [...data_array];\n    for (let i = 0; i < size; i += 1) {\n        if (data_array[i].name !== \"Cumulative\") data[i].color = rainbow_colors(i).name();\n    }\n    return data;\n}\n\nfunction plotColumnPosition (column_data, type) {\n    const { data: data_list } = column_data;\n    const col_position_data = [];\n    data_list.forEach(({ orientation, data: series_list }) => {\n        const colored_data = assignColorToEachSeries(series_list);\n        colored_data.forEach(row => { row.turboThreshold = 100000; });\n        const col_data = { \n            ...column_data,\n            data: colored_data,\n            orientation,\n            type\n        };\n        col_position_data.push(col_data);\n    });\n\n    return col_position_data;\n}\n\nfunction plotDisplacement (column_data, type) {\n    const displacement_data = [];\n    column_data.forEach((data_list, index) => {\n        const { data: series_list, annotations } = data_list;\n\n        series_list[0].type = \"area\";\n        const colored_data = assignColorToEachSeries(series_list);\n        colored_data.forEach(row => { row.turboThreshold = 100000; });\n\n        annotations.forEach((line) => {\n            line.width = 0;\n            line.label.style = { color: \"gray\" };\n        });\n\n        const col_data = {\n            ...data_list,\n            data: colored_data,\n            annotations,\n            type\n        };\n\n        displacement_data.push(col_data);\n    });\n\n    return displacement_data;\n}\n\nfunction plotVelocityAlerts (column_data, type) {\n    const { velocity_alerts, timestamps_per_node } = column_data;\n    const velocity_data = [];\n    const processed_data = assignColorToEachSeries(timestamps_per_node);\n    velocity_alerts.forEach(row => {\n        const { orientation, data: series_list } = row;\n        const alerts = series_list;\n        const colored_data = [...processed_data];\n        Object.keys(alerts).forEach((alert) => {\n            const radius = alert === \"L2\" ? 7 : 10;\n            const color = alert === \"L2\" ? \"#FFFF00\" : \"#FF0000\";\n            const series = {\n                data: alerts[alert],\n                type: \"scatter\",\n                zIndex: 5,\n                name: alert,\n                marker: {\n                    symbol: \"triangle\",\n                    radius,\n                    fillColor: color,\n                    lineColor: \"#000000\",\n                    lineWidth: 2\n                }\n            };\n            colored_data.push(series);\n        });\n\n        const col_data = {\n            data: colored_data,\n            type,\n            orientation\n        };\n\n        velocity_data.push(col_data);\n    });\n    return velocity_data;\n}\n\nfunction prepareCommunicationHealthChartOption (communication_health, form) {\n    const { subsurface_column, ts_start, ts_end } = form;\n    const { data } = communication_health;\n\n    const options = {\n        series: data,\n        chart: {\n            type: \"column\",\n            height: 300,\n            resetZoomButton: {\n                position: {\n                    x: 0,\n                    y: -30\n                }\n            }\n        },\n        title: {\n            text: `<b>Communication Health Chart of ${subsurface_column.toUpperCase()}</b>`,\n            style: { fontSize: \"14px\" },\n            margin: 20,\n            y: 16\n        },\n        subtitle: {\n            text: `Range: <b>${moment(ts_start).format(\"D MMM YYYY, HH:mm\")} - ${moment(ts_end).format(\"D MMM YYYY, HH:mm\")}</b>`,\n            style: { fontSize: \"12px\" }\n        },\n        xAxis: {\n            min: 1,\n            title: {\n                text: \"<b>Node number</b>\"\n            },\n            allowDecimals: false\n        },\n        yAxis: {\n            min: 0,\n            max: 100,\n            title: {\n                text: \"<b>Health Percentage (%)</b>\"\n            }\n        },\n        tooltip: {\n            crosshairs: true,\n            shared: true,\n            headerFormat: \"Node {point.x}<br/>\"\n        },\n        legend: {\n            align: \"right\",\n            verticalAlign: \"middle\",\n            layout: \"vertical\"\n        },\n        credits: {\n            enabled: false\n        },\n    };\n\n    return options;\n}\n\nfunction prepareColumnPositionChartOption (set_data, input, is_desktop) {\n    const { data, max_position, min_position, orientation } = set_data;\n    // console.log(set_data);\n    const { subsurface_column } = input;\n    const xAxisTitle = orientation === \"across_slope\" ? \"Across Slope\" : \"Downslope\";\n    \n    return {\n        series: data,\n        chart: {\n            type: \"scatter\",\n            zoomType: \"x\",\n            height: 600,\n            resetZoomButton: {\n                position: {\n                    x: 0,\n                    y: -30\n                }\n            },\n            spacingTop: 20,\n            spacingRight: 24\n        },\n        title: {\n            text: `<b>Column Position Plot of ${subsurface_column.toUpperCase()}</b>`,\n            style: { fontSize: \"1rem\" }\n        },\n        plotOptions: {\n            series: {\n                lineWidth: 2,\n                states: {\n                    hover: {\n                        enabled: true,\n                        lineWidth: 5\n                    }\n                },\n                marker: {\n                    enabled: true,\n                    radius: 3,\n                    lineColor: null\n                }\n            }\n        },\n        tooltip: {\n            formatter () {\n                return `Timestamp: <b>${moment(this.series.name).format(\"dddd, MMM D, HH:mm\")}</b><br>Depth: <b>${this.y}</b><br>Displacement: <b>${this.x}</b>`;\n            }\n        },\n        xAxis: {\n            min: min_position,\n            max: (max_position + 0.02),\n            gridLineWidth: 1,\n            title: {\n                text: `<b>Horizontal displacement, ${xAxisTitle} (m)</b>`\n            }\n        },\n        yAxis: {\n            title: {\n                text: \"<b>Depth (m)</b>\"\n            }\n        },\n        credits: {\n            enabled: false\n        },\n        legend: {\n            enabled: true,\n            align: is_desktop ? \"right\" : \"center\",\n            layout: is_desktop ? \"vertical\" : \"horizontal\",\n            verticalAlign: is_desktop ? \"middle\" : \"bottom\",\n            labelFormatter () {\n                return `${moment(this.name).format(\"MM/DD, HH:mm\")}`;\n            }\n        },\n        time: { timezoneOffset: -8 * 60 },\n        exporting: {\n            sourceHeight: 800,\n            sourceWidth: 600\n        }\n    };\n}\n\nfunction prepareDisplacementChartOption (set_data, form) {\n    const { orientation, data, annotations } = set_data;\n    const { subsurface_column, ts_end } = form;\n    const xAxisTitle = orientation === \"across_slope\" ? \"Across Slope\" : \"Downslope\";\n    return {\n        series: data,\n        chart: {\n            type: \"line\",\n            zoomType: \"x\",\n            panning: true,\n            panKey: \"shift\",\n            height: 600,\n            resetZoomButton: {\n                position: {\n                    x: 0,\n                    y: -30\n                }\n            },\n            spacingTop: 20,\n            spacingRight: 24\n        },\n        title: {\n            text: `<b>Displacement Plot, ${xAxisTitle} of ${(subsurface_column).toUpperCase()}</b>`,\n            style: { fontSize: \"1rem\" },\n            margin: 20,\n            y: 16\n        },\n        subtitle: {\n            text: `As of: <b>${moment(ts_end).format(\"D MMM YYYY, HH:mm\")}</b><br><br><b>Note: </b> (+/-) consistently increasing/decreasing trend`,\n            style: { fontSize: \"0.6rem\" }\n        },\n        xAxis: {\n            type: \"datetime\",\n            dateTimeLabelFormats: {\n                month: \"%e %b %Y\",\n                year: \"%Y\"\n            },\n            title: {\n                text: \"<b>Date</b>\"\n            }\n        },\n        yAxis: {\n            plotBands: annotations,\n            title: {\n                text: \"<b>Relative Displacement (mm)</b>\"\n            }\n        },\n        tooltip: {\n            header: \"{point.x:%Y-%m-%d}: {point.y:.2f}\"\n        },\n        plotOptions: {\n            spline: {\n                marker: {\n                    enabled: true\n                }\n            }\n        },\n        credits: {\n            enabled: false\n        },\n        legend: {\n            enabled: false\n        },\n        time: { timezoneOffset: -8 * 60 },\n        exporting: {\n            sourceHeight: 800,\n            sourceWidth: 600\n        }\n    };\n}\n\nfunction prepareVelocityAlertsOption (set_data, form) {\n    const { data, orientation } = set_data;\n    const { subsurface_column, ts_end } = form;\n\n    const xAxisTitle = orientation === \"across_slope\" ? \"Across Slope\" : \"Downslope\";\n    const categories = data.map(x => x.name).filter(x => typeof x === \"number\");\n    categories.unshift(0);\n    \n    return {\n        series: data,\n        chart: {\n            type: \"line\",\n            zoomType: \"x\",\n            panning: true,\n            panKey: \"shift\",\n            height: 600,\n            resetZoomButton: {\n                position: {\n                    x: 0,\n                    y: -30\n                }\n            },\n            spacingTop: 20,\n            spacingRight: 24\n        },\n        title: {\n            text: `<b>Velocity Alerts Plot, ${xAxisTitle} of ${subsurface_column.toUpperCase()}</b>`,\n            style: { fontSize: \"1rem\" },\n            margin: 20,\n            y: 16\n        },\n        subtitle: {\n            text: `As of: <b>${moment(ts_end).format(\"D MMM YYYY, HH:mm\")}</b>`,\n            style: { fontSize: \"0.6rem\" }\n        },\n        credits: {\n            enabled: false\n        },\n        xAxis: {\n            type: \"datetime\",\n            dateTimeLabelFormats: {\n                month: \"%e %b %Y\",\n                year: \"%Y\"\n            },\n            title: {\n                text: \"<b>Time</b>\"\n            }\n        },\n        legend: {\n            enabled: false\n        },\n        yAxis: {\n            categories,\n            reversed: true,\n            title: {\n                text: \"<b>Nodes</b>\"\n            },\n            labels: {\n                formatter () {\n                    return this.value;\n                }\n            }\n        },\n        tooltip: {\n            formatter () {\n                return `<b>${moment(this.x).format(\"DD MMM YYYY, HH:mm\")}</b>`;\n            }\n        },\n        plotOptions: {\n            line: {\n                marker: {\n                    enabled: true,\n                    radius: 2\n                }\n            }\n        },\n        time: { timezoneOffset: -8 * 60 },\n        exporting: {\n            sourceHeight: 800,\n            sourceWidth: 600\n        }\n    };\n}\n\nfunction plotNodeHealth (column_data, type) {\n    const node_health_data = [];\n    column_data.forEach((data_list, index) => {\n        const { id, status } = data_list;\n        let color = \"\";\n        if (status === 2) color = \"#f9ff40\";\n        else if (status === 3) color = \"#ff8400\";\n        else if (status === 4) color = \"#ff6961\";\n\n        const each_data = {  \n            name: index + 1,\n            ...data_list,\n            value: 0,\n            id: id + 1,\n            color, \n        }; \n        node_health_data.push(each_data);\n    });  \n    \n    return node_health_data;       \n}\n\n// eslint-disable-next-line max-params\nfunction prepareNodeHealthSummaryChartOption (data, form, setNodeLevelChart, callback) {\n    const { subsurface_column } = form;\n    const divisor = Math.floor(data.length / 25);\n\n    const subtitle = `As of: <b>${moment().format(\"D MMM YYYY, HH:mm\")}</b><br>` +\n    `Note: <b>Click a box to access node-level charts.</b><br>`;\n    \n    return {\n        series: [{\n            name: \"Node Health\",\n            borderColor: \"#444444\",\n            borderWidth: 0.5,\n            data,\n            rowsize: 10,\n            dataLabels: {\n                enabled: true,\n                style: {\n                    textShadow: \"none\",\n                },\n                formatter () {\n                    return `${this.point.id}`;\n                }\n            },\n            events: {\n                click (series, event) {\n                    handleSelectedNode(series.point.id, form, data => {\n                        callback(data);\n                    });\n                    setNodeLevelChart(true);\n                }            \n            },\n        }],\n        chart: {\n            type: \"heatmap\",\n            height: 160 + (divisor * 20),\n            marginTop: 70,\n            marginBottom: 40,\n            resetZoomButton: {\n                position: {\n                    x: 0,\n                    y: -30\n                }\n            },\n        },\n        plotOptions: {\n            series: {\n                cursor: \"pointer\"\n            }\n        },\n        title: {\n            text: `<b>Node Health Summary of ${subsurface_column.toUpperCase()}</b>`,\n            style: { fontSize: \"14px\" }\n        },\n        subtitle: {\n            text: subtitle,\n            style: { fontSize: \"0.75rem\" }\n        },\n        xAxis: {\n            visible: false,\n            categories: [],\n        },\n        yAxis: {\n            reversed: false,\n            categories: [],\n            title: null,\n            labels: {\n                format: \"&ensp;\",\n                useHTML: true\n            },\n        },\n        colorAxis: {\n            stops: [\n                [0, \"#7cb5ec\"],\n                [0.5, \"#ffed49\"],\n                [1, \"#ff1414\"]\n            ],\n            min: 0,\n            max: 2\n        },\n        legend: {\n            enabled: false\n        },\n        tooltip: {\n            formatter () {\n                const {\n                    id_date, flagger,\n                    status, comment, id\n                } = this.point;\n                let final_stat = \"Ok\";\n                let added_info = \"\";\n\n                if (typeof status !== \"undefined\") {\n                    switch (status) {\n                        case 2: final_stat = \"Use with Caution\"; break;\n                        case 3: final_stat = \"Spacial Case\"; break;\n                        case 4: final_stat = \"Not Ok\"; break;\n                        default: final_stat = \"Ok\"; break;\n                    }\n                    // final_stat = status;\n                    added_info = `Identification Date: <b>${moment(id_date).format(\"DD MMM YYYY\")}</b><br/>` +\n                    `Comment: <b>${comment}</b><br/>Flagger: <b>${flagger}</b>`;\n                }\n\n                const tooltip = `Node ID: <b>${id}</b><br/>Status: <b>${final_stat}</b><br/>${added_info}`;\n                return tooltip;\n            }\n        },\n        credits: {\n            enabled: false\n        }\n    };\n}\n\nfunction hideByDefaultRawSeries (series) {\n    const new_series = [];\n    series.forEach(row =>{\n        const temp = {\n            x: row.data[0],\n            y: row.data[1],\n            name: row.data[2]\n        };\n        if (row.name.includes(\"Raw\")) row.visible = false;\n        new_series.push({ ...row, name: row.name, data: temp });\n    });\n    series.data = [...new_series];\n    return series;\n}\n\nfunction plotNodeLevelCharts (subsurface_node_data, input) {\n    const chartOptions = [];\n    subsurface_node_data.forEach((series) => {\n        const { series_name, data: nodes } = series;\n        const final_series = [];\n        nodes.forEach((node_arr) => {\n            const { series: node_series, } = node_arr;\n            final_series.push(...hideByDefaultRawSeries(node_series));\n        });\n        chartOptions.push(createGeneralNodeChart(series_name, final_series, input));\n    });\n    return chartOptions;\n}\n\nfunction createGeneralNodeChart (series_name, data, input) {\n    const { subsurface_column, ts_start, ts_end, node_id } = input;\n    const cap = series_name === \"battery\" ? 1 : 3;\n    const title = series_name.slice(0, cap).toUpperCase() + series_name.slice(cap);\n    \n    return {\n        series: data,\n        chart: {\n            type: \"line\",\n            zoomType: \"x\",\n            panning: true,\n            panKey: \"shift\",\n            height: 400,\n        },\n        title: {\n            // style: { fontSize: \"0\" },\n            text: `<b>${title} Plot of ${subsurface_column.toUpperCase()}</b>`,\n            style: { fontSize: \"10px\" },\n            margin: 20,\n            y: 16\n        },\n        subtitle: {\n            text: `Source: <b>Node ${node_id}</b><br/>As of: <b>${moment(ts_start).format(\"D MMM YYYY, HH:mm\")} - ${moment(ts_end).format(\"D MMM YYYY, HH:mm\")}</b>`,\n            style: { fontSize: \"9px\" }\n        },\n        xAxis: {\n            min: Date.parse(ts_start),\n            max: Date.parse(ts_end),\n            type: \"datetime\",\n            dateTimeLabelFormats: {\n                month: \"%e. %b %Y\",\n                year: \"%Y\"\n            },\n            title: {\n                text: \"<b>Date</b>\"\n            }\n        },\n        yAxis: {\n            title: {\n                text: \"<b>Value</b>\"\n            }\n        },\n        tooltip: {\n            crosshairs: true,\n            shared: true\n        },\n        plotOptions: {\n            series: {\n                marker: {\n                    radius: 3\n                },\n                cursor: \"pointer\"\n            }\n        },\n        legend: {\n            itemStyle: {\n                fontSize: \"10px\"\n            },\n            layout: \"vertical\",\n            align: \"right\",\n            verticalAlign: \"middle\",\n            borderWidth: 0\n        },\n        time: { timezoneOffset: -8 * 60 },\n        credits: {\n            enabled: false\n        }\n    };\n}\n\nfunction NodeLevelChart (props) {\n    const { show, setNodeLevelChart, data, setData } = props;\n    const handleClose = () => {\n        setNodeLevelChart(false);\n        setData(null);\n    };\n    return (\n        <Dialog\n            open={show}\n            onClose={handleClose}\n            maxWidth=\"lg\"\n            fullWidth\n        >\n            { \n                data !== null ? (\n                    <Fragment>\n                        <DialogContent>\n                            <Grid container spacing={1}>\n                                {\n                                    data.map((option, i) => (\n                                        <Grid item xs={12} key={i}>\n                                            <Paper>\n                                                <HighchartsReact\n                                                    highcharts={Highcharts}\n                                                    options={option}\n                                                    allowChartUpdate\n                                                    callback={chart => chart.reflow()}\n                                                />\n                                            </Paper>\n                                        </Grid>\n                                    ))\n                                }\n                            </Grid>\n                        </DialogContent>\n                        <DialogActions>\n                            <Button onClick={handleClose} color=\"secondary\" autoFocus>\n                                Close\n                            </Button>\n                        </DialogActions>\n                    </Fragment>\n                ) : <LinearProgress />\n            }\n        </Dialog>\n    );\n}\n\nasync function handleSelectedNode (node_id, form, callback) {\n    const input = { ...form, node_id };\n    getSubsurfaceNodeLevel(input, data => {\n        const returned_data = plotNodeLevelCharts(data, input);\n        callback(returned_data);\n    });\n}\n\nfunction SubsurfaceGraph (props) {\n    const {\n        match: { params: { tsm_sensor: sensor } },\n        width, input: consolidated_input, disableBack,\n        saveSVG, currentUser, isEOS\n    } = props;\n\n    let ts_end = \"\";\n    let dt_ts_end;\n    let tsm_sensor = sensor;\n\n    const default_range_info = { label: \"3 days\", unit: \"days\", duration: 3 };\n    const [selected_range_info, setSelectedRangeInfo] = useState(default_range_info);\n    const defaul_hour_interval = { label: \"4 hours\", hour_value: \"4\" };\n    const [selected_hour_interval, setSelectedHourInterval] = useState(defaul_hour_interval);\n    \n    if (typeof consolidated_input !== \"undefined\") {\n        const { ts_end: te, tsm_sensor: tsm } = consolidated_input;\n        ts_end = te;\n        dt_ts_end = moment(te);\n        tsm_sensor = tsm;\n    } else {\n        const ts_now = moment();\n        ts_end = ts_now.format(\"YYYY-MM-DD HH:mm:ss\");\n        dt_ts_end = ts_now;\n    }\n\n    const { unit, duration } = selected_range_info;\n    const ts_start = computeForStartTs(dt_ts_end, duration, unit);\n    \n    const disable_back = typeof disableBack === \"undefined\" ? false : disableBack;\n    const save_svg = typeof saveSVG === \"undefined\" ? false : saveSVG;\n\n    const [processed_data, setProcessedData] = useState([]);\n    const chartRefs = useRef([...Array(6)].map(() => createRef()));\n    const [get_svg, setGetSVGNow] = useState(false);\n    const [svg_list, setSVGList] = useState([]);\n\n    const { hour_value } = selected_hour_interval;\n    const input = { \n        ts_end, ts_start, subsurface_column: tsm_sensor, \n        hour_value, include_comms_health: !isEOS\n    };\n    \n    const is_desktop = isWidthDown(width, \"sm\");\n    const default_options = { title: { text: \"Loading\" } };\n\n    const [options, setOptions] = useState([{ title: { text: \"Loading\" } }]);\n    const [node_health_option, setNodeHealthOption] = useState(null);\n    const [comms_health_option, setCommsHealthOption] = useState(null);\n    const [node_level_chart, setNodeLevelChart] = useState(false);\n    const [node_level_data, setNodeLevelData] = useState(null);\n\n    useEffect(() => { \n        setProcessedData([]);\n        setCommsHealthOption(null);\n        getSubsurfacePlotData(input, subsurface_data => {\n            const processed = [];\n            subsurface_data.forEach(({ type, data }) => {\n                const sub = JSON.parse(JSON.stringify(data));\n                let temp = [];\n                if (type === \"column_position\") temp = plotColumnPosition(sub, type);\n                else if (type === \"displacement\") temp = plotDisplacement(sub, type);\n                else if (type === \"velocity_alerts\") temp = plotVelocityAlerts(sub, type);\n\n                if (type === \"comms_health\") {\n                    const option = prepareCommunicationHealthChartOption(data, input);\n                    setCommsHealthOption(option);\n                } else processed.push(...temp);                                                                                                                                                                                                                \n            });\n            \n            setProcessedData(processed);\n        });\n    }, [selected_range_info, selected_hour_interval]);\n                                                            \n    useEffect(() => {\n        const temp = [];\n        processed_data.forEach(data => {\n            const { type } = data;\n            let option;\n            if (type === \"column_position\") option = prepareColumnPositionChartOption(data, input, is_desktop);\n            else if (type === \"displacement\") option = prepareDisplacementChartOption(data, input);\n            else if (type === \"velocity_alerts\") option = prepareVelocityAlertsOption(data, input);\n            \n            temp.push(option);\n        });\n\n        setOptions(temp);\n        if (temp.length > 0 && save_svg) setGetSVGNow(true);\n    }, [processed_data]);\n\n    useEffect(() => {\n        getSurfaceNodeHealth(input, data => {\n            const raw = plotNodeHealth(data);\n            const option = prepareNodeHealthSummaryChartOption(raw, input, setNodeLevelChart, result => {\n                setNodeLevelData(result);\n            });\n            setNodeHealthOption(option);\n        });\n    }, []);\n\n    useEffect(() => {\n        if (get_svg) {\n            const temp = [];\n            chartRefs.current.forEach(ref => {\n                const { current } = ref;\n                if (current !== null) {\n                    const { chart } = current;\n                    const svg = chart.getSVGForExport();\n                    temp.push(svg);\n                }\n            });\n            setSVGList(temp);\n        }\n    }, [get_svg, chartRefs]);\n\n    const svgRef = useRef(null);\n    useEffect(() => {\n        if (svg_list.length > 0) {\n            const svg = svgRef.current.outerHTML;\n            const temp = {\n                user_id: currentUser.user_id,\n                tsm_sensor,\n                site_code: consolidated_input.site_code,\n                chart_type: \"subsurface\",\n                svg\n            };\n\n            saveChartSVG(temp, data => {});\n        }\n    }, [svg_list]);\n\n    return (\n        <Fragment>\n            <Grid container spacing={1} justify=\"space-between\">\n                {\n                    !disable_back && <Grid item sm><BackToMainButton \n                        {...props}\n                    /></Grid>\n                }\n\n                <DateRangeSelector\n                    isSubsurface\n                    selectedRangeInfo={selected_range_info}\n                    setSelectedRangeInfo={setSelectedRangeInfo}\n                    selectedHourInterval={selected_hour_interval}\n                    setSelectedHourInterval={setSelectedHourInterval}\n                />\n            </Grid>\n\n            <div style={{ marginTop: 16 }}>\n                <Grid container spacing={4}>\n                    { \n                        node_health_option && (\n                            <Grid item xs={12} md={12}>\n                                <Paper>\n                                    <HighchartsReact\n                                        highcharts={Highcharts}\n                                        allowChartUpdate\n                                        options={node_health_option}\n                                    />\n                                </Paper>\n                            </Grid>\n                        )\n                    }\n                    \n                    {                           \n                        options.length === 0 && (\n                            <Fragment>\n                                <Grid item xs={12} md={6} key={1}>\n                                    <Paper>\n                                        <HighchartsReact\n                                            highcharts={Highcharts}\n                                            options={default_options}\n                                        />\n                                    </Paper>\n                                </Grid>\n                                <Grid item xs={12} md={6} key={2}>\n                                    <Paper>\n                                        <HighchartsReact\n                                            highcharts={Highcharts}\n                                            options={default_options}\n                                        />\n                                    </Paper>\n                                </Grid>\n                            </Fragment>\n                        )\n                    }\n\n                    { \n                        comms_health_option && (\n                            <Grid item xs={12} md={12}>\n                                <Paper>\n                                    <HighchartsReact\n                                        highcharts={Highcharts}\n                                        allowChartUpdate\n                                        options={comms_health_option}\n                                    />\n                                </Paper>\n                            </Grid>\n                        )\n                    }\n                    \n                    {\n                        options.map((option, i) => {\n                            const chart_update = true;\n                            const ref = chartRefs.current[i];\n                            return (\n                                <Grid item xs={12} md={6} key={i}>\n                                    <Paper>\n                                        <HighchartsReact\n                                            highcharts={Highcharts}\n                                            allowChartUpdate={chart_update}\n                                            options={option}\n                                            ref={ref}\n                                        />\n                                    </Paper>\n                                </Grid>\n                            );\n                        })\n                    }\n                </Grid>\n            </div>\n            \n            {\n                save_svg && (\n                    <Hidden xsUp implementation=\"css\">\n                        <svg \n                            width={1200} height={2400}\n                            viewBox=\"0 0 1200 2400\"\n                            ref={svgRef}\n                        >\n                            {\n                                svg_list.map((c, index) => {\n                                    const is_odd = index % 2 === 1;\n                                    const x = is_odd ? 0 : 600;\n                                    const y = (800 * (Math.floor(index / 2)));\n\n                                    return (\n                                        <Fragment key={index}>\n                                            { /* eslint-disable-next-line react/no-danger */ }\n                                            <svg x={x} y={y} dangerouslySetInnerHTML={{ __html: c }} />\n                                        </Fragment>\n                                    );\n                                })\n                            }\n                        </svg>\n                    </Hidden>\n                )\n            }\n\n            <NodeLevelChart \n                show={node_level_chart} \n                setNodeLevelChart={setNodeLevelChart}\n                data={node_level_data}\n                setData={setNodeLevelData}\n            />\n        </Fragment>\n    );\n}\n\nexport default SubsurfaceGraph;","import React from \"react\";\nimport moment from \"moment\";\nimport { Grid } from \"@material-ui/core\";\n\nimport BackToMainButton from \"./BackToMainButton\";\nimport RainfallGraph from \"./RainfallGraph\";\nimport SurficialGraph from \"./SurficialGraph\";\nimport SubsurfaceGraph from \"./SubsurfaceGraph\";\n\n\nfunction ConsolidatedSiteCharts (props) {\n    const { \n        match: { params: { site_code } },\n        location\n    } = props;\n    const {\n        site: site_data, ts_end,\n        to_include, subsurface_columns\n    } = location;\n    \n    let end_ts = ts_end;\n    let subsurface_cols = subsurface_columns;\n    let show_charts = { ...to_include };\n    if (typeof site_data === \"undefined\") {\n        end_ts = moment();\n        subsurface_cols = [];\n        show_charts = { rainfall: true, surficial: true };\n    }\n\n    const input = { site_code, ts_end: end_ts.format(\"YYYY-MM-DD HH:mm:ss\") };\n    return (\n        <Grid container spacing={1}>\n            <Grid item xs={12}><BackToMainButton {...props} /></Grid>\n\n            {\n                show_charts.rainfall && (\n                    <Grid item xs={12} style={{ marginBottom: 16 }}>\n                        <RainfallGraph {...props} input={input} disableBack />\n                    </Grid>\n                )\n            }\n                \n            {\n                show_charts.surficial && (\n                    <Grid item xs={12} style={{ marginBottom: 16 }}>\n                        <SurficialGraph {...props} input={input} disableBack />\n                    </Grid>\n                )\n            }\n                \n            {\n                subsurface_cols.map(sc => {\n                    const temp = { ...input, tsm_sensor: sc };\n                    return (\n                        <Grid key={sc} item xs={12}>\n                            <SubsurfaceGraph {...props} input={temp} disableBack />\n                        </Grid>\n                    );\n                })\n            }\n        </Grid>\n    );\n}\n\nexport default ConsolidatedSiteCharts;\n","import React, { useState, useEffect } from \"react\";\nimport {\n    Dialog, DialogTitle, DialogContent,\n    DialogContentText, DialogActions,\n    Button, withMobileDialog, Grid,\n    FormControl, FormLabel,\n    FormControlLabel, FormGroup, Checkbox,\n    Typography\n} from \"@material-ui/core\";\nimport moment from \"moment\";\nimport MomentUtils from \"@date-io/moment\";\nimport { MuiPickersUtilsProvider, KeyboardDateTimePicker } from \"@material-ui/pickers\";\nimport { Link } from \"react-router-dom\";\nimport DynaslopeSiteSelectInputForm from \"../../reusables/DynaslopeSiteSelectInputForm\";\nimport { SlideTransition, FadeTransition } from \"../../reusables/TransitionList\";\nimport { getSiteSubsurfaceColumns } from \"../ajax\";\n\nfunction ConsolidatedSiteChartsModal (props) {\n    const {\n        fullScreen, isOpen,\n        clickHandler, isMobile, url\n    } = props;\n    const [site_value, setSiteValue] = useState({ value: null, data: { site_code: null } });\n    const update_site_value = value => setSiteValue(value);\n    const [ts_end, setTsEnd] = useState(moment());\n    const update_ts_end = value => setTsEnd(value);\n\n    const [chart_cboxes, setChartCboxes] = useState({\n        rainfall: true, surficial: true, subsurface: {}\n    });\n    const [subsurface_cols, setSubsurfaceCols] = useState([]);\n    const set_cboxes = (key, sub = null) => event => {\n        const { target: { checked } } = event;\n        let update = checked;\n\n        if (sub !== null) {\n            const { subsurface: temp } = chart_cboxes;\n            temp[sub] = checked;\n            update = temp;\n        }\n\n        setChartCboxes({\n            ...chart_cboxes, [key]: update\n        });\n    };\n\n    useEffect(() => {\n        return (() => {\n            setTsEnd(moment());\n        });\n    }, [isOpen]);\n\n    useEffect(() => {\n        const { data: { site_code } } = site_value;\n        if (site_code !== null) {\n            getSiteSubsurfaceColumns(site_code, data => {\n                setSubsurfaceCols([]);\n                const sub = {};\n                data.forEach(s => {\n                    const is_checked = s.date_deactivated === null;\n                    sub[s.logger.logger_name] = is_checked;\n                });\n                setChartCboxes({ ...chart_cboxes, subsurface: sub });\n                setSubsurfaceCols(data);\n            });   \n        }\n    }, [site_value.data.site_code]);\n\n    const { data: site } = site_value;\n    const subsurface_columns = [];\n    Object.keys(chart_cboxes.subsurface).forEach(key => {\n        if (chart_cboxes.subsurface[key]) subsurface_columns.push(key);\n    });\n\n    return (\n        <Dialog\n            fullWidth\n            fullScreen={fullScreen}\n            open={isOpen}\n            aria-labelledby=\"form-dialog-title\"\n            TransitionComponent={fullScreen ? SlideTransition : FadeTransition}      \n        >\n            <DialogTitle id=\"form-dialog-title\">\n                Consolidate charts per site\n            </DialogTitle>\n            <DialogContent>\n                <DialogContentText>\n                    Fill in the following.\n                </DialogContentText>\n\n                <Grid container spacing={2}>\n                    <Grid item xs={12}>\n                        <DynaslopeSiteSelectInputForm\n                            value={site_value}\n                            changeHandler={update_site_value}\n                        />\n                    </Grid>\n\n                    <MuiPickersUtilsProvider utils={MomentUtils}>\n                        <Grid item xs={12}>\n                            <KeyboardDateTimePicker\n                                required\n                                autoOk\n                                label=\"Data Timestamp\"\n                                value={ts_end}\n                                onChange={update_ts_end}\n                                ampm={false}\n                                placeholder=\"2010/01/01 00:00\"\n                                format=\"YYYY/MM/DD HH:mm\"\n                                mask=\"__/__/____ __:__\"\n                                clearable\n                                disableFuture\n                            />\n                        </Grid>\n                    </MuiPickersUtilsProvider>\n                </Grid>\n\n                <Grid item xs={12} style={{ marginTop: 18 }}>\n                    <FormControl component=\"fieldset\">\n                        <FormLabel component=\"legend\">Charts to Show</FormLabel>\n                        <FormGroup aria-label=\"position\" row>\n                            <FormControlLabel\n                                value=\"rainfall\"\n                                control={<Checkbox\n                                    color=\"primary\"\n                                    onClick={set_cboxes(\"rainfall\")}\n                                    checked={chart_cboxes.rainfall}\n                                />}\n                                label=\"Rainfall\"\n                            />\n                            <FormControlLabel\n                                value=\"surficial\"\n                                control={<Checkbox\n                                    color=\"primary\"\n                                    onClick={set_cboxes(\"surficial\")}\n                                    checked={chart_cboxes.surficial}\n                                />}\n                                label=\"Surficial\"\n                            />\n                        </FormGroup>\n                    </FormControl>\n                </Grid>\n\n                <Grid item xs={12} style={{ marginTop: 8 }}>\n                    <FormControl component=\"fieldset\">\n                        <FormLabel component=\"legend\">Subsurface Columns</FormLabel>\n                        <FormGroup aria-label=\"position\" row>\n                            {\n                                subsurface_cols.map(row => {\n                                    const { date_deactivated, logger: { logger_name } } = row;\n                                    const deactivated = date_deactivated === null ? \"\" : \" (Deactivated)\";\n\n                                    return (\n                                        <FormControlLabel\n                                            key={logger_name}\n                                            value={logger_name}\n                                            control={<Checkbox\n                                                color=\"primary\"\n                                                onClick={set_cboxes(\"subsurface\", logger_name)}\n                                                checked={chart_cboxes.subsurface[logger_name]}\n                                            />}\n                                            label={logger_name.toUpperCase() + deactivated}\n                                        />\n                                    );\n                                })\n                            }\n\n                            {\n                                subsurface_cols.length === 0 && (\n                                    <Typography variant=\"body1\">No site selected</Typography>\n                                )\n                            }\n                        </FormGroup>\n                    </FormControl>\n                </Grid>\n                \n                {\n                    !isMobile && <div style={{ height: 120 }} />\n                }\n            </DialogContent>\n            <DialogActions>\n                <Button \n                    component={Link}\n                    to={{\n                        pathname: `${url}/consolidated/${site.site_code}`,\n                        ts_end,\n                        site,\n                        to_include: chart_cboxes,\n                        subsurface_columns\n                    }}\n                    color=\"primary\"\n                    onClick={clickHandler}\n                    disabled={site_value.value === null}\n                >\n                    View\n                </Button>\n                <Button onClick={clickHandler}>\n                    Cancel\n                </Button>\n            </DialogActions>\n        </Dialog>\n    );\n}\n\nexport default withMobileDialog()(ConsolidatedSiteChartsModal);\n","import React, { useState, useEffect } from \"react\";\nimport {\n    Dialog, DialogTitle, DialogContent,\n    DialogContentText, DialogActions,\n    Button, withMobileDialog, Grid,\n    FormControl, TextField\n} from \"@material-ui/core\";\nimport moment from \"moment\";\nimport MomentUtils from \"@date-io/moment\";\nimport { MuiPickersUtilsProvider, KeyboardDateTimePicker } from \"@material-ui/pickers\";\nimport { useSnackbar } from \"notistack\";\nimport { SlideTransition, FadeTransition } from \"../../reusables/TransitionList\";\nimport { insertEarthquakeEvent } from \"../ajax\";\nimport { getCurrentUser } from \"../../sessions/auth\";\n\nfunction InsertEQevent (props) {\n    const {\n        fullScreen, isOpen, clickHandler, setReloadEqEvent\n    } = props;\n    const [eq_magnitude, set_magnitude] = useState(null);\n    const [eq_depth, set_depth] = useState(null);\n    const [eq_long, set_long] = useState(0);\n    const [eq_lat, set_lat] = useState(0);\n    const [ts, setTs] = useState(moment());\n    const update_ts_end = value => setTs(value);\n    const [is_disable, set_is_disabled] = useState(true);\n    const { enqueueSnackbar, closeSnackbar } = useSnackbar();\n    const { first_name, last_name } = getCurrentUser();\n\n    const snackBarActionFn = key => {\n        return (<Button\n            color=\"primary\"\n            onClick={() => { closeSnackbar(key); }}\n        >\n            Dismiss\n        </Button>);\n    };\n    \n    useEffect(() => setTs(moment()), [isOpen]);\n\n    useEffect(() => {\n        if (eq_depth > 0 && eq_long > 0 && eq_lat > 0 && eq_magnitude >= 0 && eq_magnitude <= 10) {\n            set_is_disabled(false);\n        } else { \n            set_is_disabled(true); \n        }\n    }, [eq_depth, eq_magnitude, eq_lat, eq_long]);\n\n    const saveEQ = () => {\n        const user = `${first_name } ${ last_name}`.split(\" \");\n        let issuer = \"\";\n        user.forEach(element => {\n            issuer += element.charAt(0);\n        });\n        const eq_data = {\n            magnitude: eq_magnitude,\n            depth: eq_depth,\n            \"long\": eq_long,\n            lat: eq_lat,\n            timestamp: ts.format(\"YYYY-MM-DD HH:mm\"),\n            issued_by: issuer\n        };\n\n        insertEarthquakeEvent(eq_data, response => {\n            if (response.status === 200) {\n                enqueueSnackbar(\n                    \"Success saving earthquake event\",\n                    {\n                        variant: \"success\",\n                        autoHideDuration: 7000,\n                        action: snackBarActionFn\n                    }\n                );\n                setReloadEqEvent(true);\n            } else {\n                enqueueSnackbar(\n                    \"Error saving earthquake event\",\n                    {\n                        variant: \"error\",\n                        autoHideDuration: 7000,\n                        action: snackBarActionFn\n                    }\n                );\n            }\n        });\n\n        clickHandler(false);\n    };\n\n    const magnitude_err = (eq_magnitude > 10 || eq_magnitude <= 0) && eq_magnitude !== null;\n    const depth_err = eq_depth <= 0 && eq_magnitude !== null;\n    \n    return (\n        <Dialog\n            fullWidth\n            fullScreen={fullScreen}\n            open={isOpen}\n            aria-labelledby=\"form-dialog-title\"\n            TransitionComponent={fullScreen ? SlideTransition : FadeTransition}      \n        >\n            <DialogTitle id=\"form-dialog-title\">\n                Insert Earthquake Event\n            </DialogTitle>\n            <DialogContent>\n                <DialogContentText>\n                    Fill in the following.\n                </DialogContentText>\n\n                <Grid container spacing={2}>\n                    <MuiPickersUtilsProvider utils={MomentUtils}>\n                        <Grid item xs={12}> \n                            <KeyboardDateTimePicker\n                                required\n                                autoOk\n                                label=\"Data Timestamp\"\n                                value={ts}\n                                onChange={update_ts_end}\n                                ampm={false}\n                                placeholder=\"2010/01/01 00:00\"\n                                format=\"YYYY/MM/DD HH:mm\"\n                                mask=\"____/__/__ __:__\"\n                                clearable\n                                disableFuture\n                            />\n                        </Grid>\n                    </MuiPickersUtilsProvider>\n\n                    <Grid item xs={6}>\n                        <FormControl component=\"fieldset\" fullWidth>\n                            <TextField\n                                required\n                                label=\"Magnitude\"\n                                onChange={event => set_magnitude(event.target.value)}\n                                type=\"number\"\n                                InputProps={{ inputProps: { \n                                    max: 10, min: 1\n                                } }}\n                                fullWidth\n                                helperText={ magnitude_err ? \"Insert magnitude from 0.1 to 10\" : \"\"}\n                                error={magnitude_err}\n                            />\n                        </FormControl>\n                    </Grid>\n\n                    <Grid item xs={6}>\n                        <FormControl component=\"fieldset\" fullWidth>\n                            <TextField\n                                required\n                                label=\"Depth (km)\"\n                                defaultValue=\"\"\n                                onChange={event => set_depth(event.target.value)}\n                                type=\"number\"\n                                fullWidth\n                                helperText={ depth_err ? \"Positive numbers only\" : \"\"}\n                                error={depth_err} \n                            />\n                        </FormControl>\n                    </Grid>\n\n                    <Grid item xs={6}>\n                        <FormControl component=\"fieldset\" fullWidth>\n                            <TextField\n                                type=\"number\"\n                                required\n                                label=\"Latitude\"\n                                defaultValue=\"\"\n                                onChange={event => set_lat(event.target.value)}\n                            />\n                        </FormControl>\n                    </Grid>\n\n                    <Grid item xs={6}>\n                        <FormControl component=\"fieldset\" fullWidth>\n                            <TextField \n                                required\n                                label=\"Longitude\"\n                                type=\"number\"\n                                defaultValue=\"\"\n                                onChange={event => set_long(event.target.value)}\n                            />\n                        </FormControl>\n                    </Grid>\n                </Grid>\n            </DialogContent>\n            <DialogActions>\n                <Button \n                    color=\"primary\"\n                    onClick={() => saveEQ()}\n                    disabled ={is_disable}\n                >\n                    Submit\n                </Button>\n                <Button onClick={clickHandler} color=\"secondary\" >\n                    Cancel\n                </Button>\n            </DialogActions>\n        </Dialog>\n    );\n}\n\nexport default withMobileDialog()(InsertEQevent);\n","import React, { \n    Fragment, useRef, createRef, \n    useState, useEffect \n} from \"react\";\nimport L from \"leaflet\";\nimport \"leaflet/dist/leaflet.css\";\nimport { Map as LeafletMap, TileLayer, Marker, Popup, Circle, CircleMarker, Pane } from \"react-leaflet\";\nimport MarkerIcon from \"leaflet/dist/images/marker-icon.png\";\nimport ShadowIcon from \"leaflet/dist/images/marker-shadow.png\";\nimport RetinaIcon from \"leaflet/dist/images/marker-icon-2x.png\";\nimport { sites } from \"../../../store\";\nimport { prepareSiteAddress } from \"../../../UtilityFunctions\";\n\nconst marker = L.icon({\n    iconUrl: MarkerIcon,\n    shadowUrl: ShadowIcon,\n    iconRetinaUrl: RetinaIcon,\n    iconSize: [25, 41],\n    // [18, 31], // [25, 41], // size of the icon\n    shadowSize: [41, 41],\n    // [31, 31], // [41, 41], // size of the shadow\n    iconAnchor: [12, 41],\n    // [12, 31], // [12, 41], // point of the icon which will correspond to marker's location\n    shadowAnchor: [12, 41],\n    // [12, 31], // [12, 41], // the same for the shadow\n    popupAnchor: [1, -34], // point from which the popup should open relative to the iconAnchor\n    tooltipAnchor: [16, -28]\n});\n\nfunction EarthquakeMap (props) {\n    const { eqEvents, zoomIn } = props;\n\n    const state = {\n        lat: 12.8797,\n        lng: 121.7740,\n        zoom: 5\n    };\n\n    let position = [state.lat, state.lng];\n    let { zoom } = state;\n    if (zoomIn) {\n        const { latitude, longitude } = eqEvents[0];\n        position = [latitude, longitude];\n        zoom = 7;\n    }\n\n    \n    const ref = useRef();\n    const is_one = eqEvents.length === 1;\n    const [show_popup, setShowPopUp] = useState(false);\n    useEffect(() => {\n        if (is_one) setShowPopUp(true);\n    }, [eqEvents]);\n\n    useEffect(() => {\n        if (show_popup) {\n            if (ref !== null) ref.current.leafletElement.openPopup();\n            setShowPopUp(false);\n        }\n    }, [show_popup]);\n\n    const rule = /\\.0*$|(?<=\\.[0-9]{0,2147483646})0*$/;\n\n    return (\n        <LeafletMap style={{ height: 465 }} center={position} zoom={zoom}>\n            <TileLayer\n                attribution='&copy; <a href=\"https://www.mapbox.com/about/maps/\">Mapbox</a>  <a href=\"http://www.openstreetmap.org/copyright\">OpenStreetMap</a> <strong><a href=\"https://www.mapbox.com/map-feedback/\" target=\"_blank\">Improve this map</a></strong>'\n                id=\"mapbox.streets\"\n                url=\"https://api.mapbox.com/styles/v1/mapbox/streets-v11/tiles/{z}/{x}/{y}?access_token=pk.eyJ1IjoibWFwYm94IiwiYSI6ImNpejY4NXVycTA2emYycXBndHRqcmZ3N3gifQ.rJcFIG214AriISLbB6B5aw\"\n            />\n            {\n                eqEvents.map((event, i) => {\n                    const {\n                        latitude, longitude, magnitude,\n                        depth, critical_distance, eq_id, processed\n                    } = event;\n                    const center = [latitude, longitude];\n                    const distance = critical_distance === null ? 0 : parseFloat(critical_distance);\n\n                    return (\n                        <Fragment key={eq_id}>\n                            <Circle center={center} fillColor=\"blue\" radius={distance * 1000} />\n                            <Marker icon={marker} position={center} ref={is_one ? ref : createRef()}>\n                                <Popup>\n                                    Magnitude: <strong>{magnitude.replace(rule, \"\")}</strong> <br/>\n                                    Depth: <strong>{depth.replace(rule, \"\")}</strong> <br/>\n                                    Critical Distance: <strong>{distance} km</strong> <br/>\n                                    Processed: <strong>{processed ? \"Yes\" : \"No\"}</strong>\n                                </Popup>\n                            </Marker>\n                        </Fragment>\n                    );\n                })\n            }\n\n            <Pane style={{ zIndex: 550 }}>{\n                sites.map(site => (\n                    <CircleMarker\n                        key={site.site_id}\n                        center={[site.latitude, site.longitude]}\n                        fillColor=\"green\"\n                        fillOpacity={1}\n                        color=\"black\"\n                        weight={1}\n                        radius={4}\n                        bringToFront\n                    >\n                        <Popup>\n                            <strong>{site.site_code.toUpperCase()}</strong> <br/>\n                            {prepareSiteAddress(site, false)}\n                        </Popup>\n                    </CircleMarker>\n                ))\n            }</Pane>\n\n            {/* <Marker icon={marker} position={position}>\n                <Popup>\n                    A pretty CSS3 popup. <br/> Easily customizable.\n                </Popup>\n            </Marker> */}\n        </LeafletMap>\n    );\n}\n\nexport default EarthquakeMap;\n","import React from \"react\";\n\nimport {\n    AppBar, Tabs, Tab,\n    Typography, Grid\n} from \"@material-ui/core\";\nimport { createMuiTheme, MuiThemeProvider } from \"@material-ui/core/styles\";\nimport MUIDataTable from \"mui-datatables\";\nimport moment from \"moment\";\n\nimport EarthquakeMap from \"./EarthquakeMap\";\n\nconst getMuiTheme = createMuiTheme({\n    overrides: {\n        MUIDataTableBodyCell: {\n            root: {\n                whiteSpace: \"nowrap\"\n            }\n        }\n    }\n});\n\nconst eq_ev_tbl_columns = [\n    { name: \"Timestamp\" },\n    { name: \"Magnitude\" },\n    { name: \"Issuer\" },\n    {\n        name: \"eq_id\",\n        options: {\n            display: false,\n            viewColumns: false,\n            filter: false\n        }\n    }\n];\n\nconst eq_al_tbl_columns = [\n    { name: \"Timestamp\" },\n    { name: \"Magnitude\" },\n    {\n        name: \"eq_id\",\n        options: {\n            display: false,\n            viewColumns: false,\n            filter: false\n        }\n    },\n    {\n        name: \"Sites\",\n        options: {\n            filter: false\n        }\n    }\n];\n\nfunction EarthquakeContainer (props) {\n    const {\n        eqEvents, eqAlerts,\n        eqAlertsPagination, setEqAlTblPage\n    } = props;\n\n    const [tab_value, setTabValue] = React.useState(0);\n    const change_tab_value = (event, new_value) => setTabValue(new_value);\n    \n    const [chosen_events, setChosenEvents] = React.useState([]);\n    const [eq_ev_tbl_data, setEqEventsTable] = React.useState([]);\n    React.useEffect(() => {\n        setChosenEvents([...eqEvents]);\n        const table_data = eqEvents.map(d => [\n            moment(d.ts).format(\"D MMM YYYY, HH:mm\"), \n            parseFloat(d.magnitude),\n            d.issuer.toUpperCase(),\n            d.eq_id\n        ]);\n        setEqEventsTable([...table_data]);\n    }, [eqEvents]);\n\n    const select_map_event = (eq_id, collection) => {\n        const event = collection.filter(ev => ev.eq_id === eq_id);\n        setChosenEvents([...event]);\n    };\n\n    const [eq_al_tbl_data, setEqAlertsTable] = React.useState([]);\n    React.useEffect(() => {\n        const table_data = eqAlerts.map(d => {\n            const { eq_alerts } = d;\n            const sites = eq_alerts.map(a => a.site.site_code.toUpperCase());\n            \n            return [\n                moment(d.ts).format(\"D MMM YYYY, HH:mm\"), \n                parseFloat(d.magnitude),\n                d.eq_id,\n                sites.join(\", \")\n            ];\n        });\n\n        setEqAlertsTable([...table_data]);\n    }, [eqAlerts]);\n\n    const eq_ev_tbl_options = {\n        textLabels: {\n            body: {\n                noMatch: \"No data\"\n            }\n        },\n        selectableRows: \"none\",\n        rowsPerPage: 5,\n        rowsPerPageOptions: [],\n        print: false,\n        download: false,\n        search: false,\n        filter: false,\n        viewColumns: false,\n        responsive: \"standard\",\n        onRowClick (data, meta, e) {\n            select_map_event(data[3], eqEvents);\n        }\n    };\n\n    const eq_al_tbl_options = {\n        textLabels: {\n            body: {\n                noMatch: \"No data\"\n            }\n        },\n        selectableRows: \"none\",\n        count: eqAlertsPagination.count,\n        rowsPerPage: 3,\n        rowsPerPageOptions: [],\n        print: false,\n        download: false,\n        viewColumns: false,\n        responsive: \"standard\",\n        serverSide: true,\n        onChangePage: page => {\n            const { limit } = eqAlertsPagination;\n            const offset = page * limit;\n            setEqAlTblPage({ ...eqAlertsPagination, offset });\n        },\n        onRowClick (data, meta, e) {\n            select_map_event(data[2], eqAlerts);\n        }\n    };\n\n    return (\n        <Grid container spacing={1}>\n            <Grid item xs={12} md={6}>\n                <EarthquakeMap eqEvents={chosen_events} zoomIn={chosen_events.length === 1}/>\n            </Grid>\n\n            <Grid item xs={12} md={6}>\n                <AppBar position=\"static\">\n                    <Tabs\n                        value={tab_value}\n                        onChange={change_tab_value}\n                        variant=\"fullWidth\"\n                    >\n                        <Tab label=\"EQ Events\" />\n                        <Tab label=\"EQ Alerts\" />\n                    </Tabs>\n                </AppBar>\n                {\n                    tab_value === 0 && (\n                        <MuiThemeProvider theme={getMuiTheme}>\n                            <MUIDataTable\n                                title=\"Latest Earthquake Events\"\n                                columns={eq_ev_tbl_columns}\n                                options={eq_ev_tbl_options}\n                                data={eq_ev_tbl_data}\n                                style={{ height: 465 }}\n                            />\n                        </MuiThemeProvider>\n                    )\n                }\n                {\n                    tab_value === 1 && (\n                        <MuiThemeProvider theme={getMuiTheme}>\n                            <MUIDataTable\n                                title={\n                                    <Typography\n                                        variant=\"body1\"\n                                    >\n                                        Earthquake Alerts\n                                    </Typography>\n                                }\n                                columns={eq_al_tbl_columns}\n                                options={eq_al_tbl_options}\n                                data={eq_al_tbl_data}\n                            />\n                        </MuiThemeProvider>\n                    )\n                }\n            </Grid>\n        </Grid>\n    );\n}\n\nexport default EarthquakeContainer;\n","import React, { Fragment, useState, useEffect } from \"react\";\nimport { Route } from \"react-router-dom\";\n\nimport {\n    Paper, Typography\n} from \"@material-ui/core\";\nimport MUIDataTable from \"mui-datatables\";\nimport moment from \"moment\";\n\nimport { getMOMsInstances } from \"../ajax\";\n\nimport BackToMainButton from \"./BackToMainButton\";\nimport MomsInsertModal from \"../../widgets/moms/MomsInsertModal\";\nimport InsertMomsButton from \"../../widgets/moms/InsertMomsButton\";\n\n\nfunction formatTimestamp (ts) {\n    return moment(ts).format(\"D MMMM YYYY, HH:mm\");\n}\n\nfunction buildName (name) {\n    const { first_name, last_name } = name;\n    return `${first_name} ${last_name}`;\n}\n\nfunction processMomsReportData (moms) {\n    const data = moms.map(report => {\n        const {\n            observance_ts, narrative: n_details, reporter, validator, op_trigger, remarks\n        } = report;\n        const { narrative, timestamp: report_ts } = n_details;\n        return [\n            formatTimestamp(observance_ts), narrative, formatTimestamp(report_ts),\n            buildName(reporter), buildName(validator), remarks, op_trigger\n        ];\n    });\n\n    return data;\n}\n\nfunction MomsInstancesPage (props) {\n    const { history,\n        match: { \n            url, params: { site_code }\n        }\n    } = props;\n\n    const [moms_data, setMOMsData] = useState([]);\n    const [moms_features, setMOMsFeatures] = useState([]);\n    const columns = [\"Type\",\n        {\n            name: \"Name\",\n            options: {\n                filter: false\n            }\n        }, {\n            name: \"Location\",\n            options: {\n                filter: false\n            }\n        }, {\n            name: \"Last Observance Timestamp\",\n            options: {\n                filter: false\n            }\n        }, \"Alert Level\", {\n            name: \"data\",\n            options: {\n                display: false,\n                viewColumns: false,\n                filter: false\n            }\n        }\n    ];\n\n    useEffect(() => {\n        getMOMsInstances(site_code, data => {\n            const tbl_data = data.map(instance => {\n                const {\n                    feature: { feature_type },\n                    feature_name, moms, instance_id,\n                    location\n                } = instance;\n\n                const type = feature_type.charAt(0).toUpperCase() + feature_type.slice(1);\n                const last_mom = moms[0];\n\n                let return_data = [];\n                if (typeof last_mom !== \"undefined\") {\n                    const { observance_ts, op_trigger } = last_mom;\n                    const ts = formatTimestamp(observance_ts);\n                    return_data = [type, feature_name, location, ts, op_trigger, instance_id];\n                } \n\n                return return_data;    \n            });\n            const final_tbl_data = tbl_data.filter( item => {\n                return item.length > 0;\n            });\n\n            const sorted_data = final_tbl_data.sort((a, b) => b[4] - a[4]);\n            setMOMsFeatures(sorted_data);\n            setMOMsData(data);\n        });\n    }, []);\n\n    const [is_moms_modal_open, setMomsModal] = useState(false);\n    const set_moms_modal_fn = bool => () => setMomsModal(bool);\n\n    return (\n        <Fragment>\n            <div style={{ display: \"flex\", justifyContent: \"space-between\" }}>\n                <BackToMainButton {...props} />\n                <InsertMomsButton clickHandler={set_moms_modal_fn(true)} />\n            </div>\n\n            <Paper style={{ marginTop: 16 }}>\n                <MUIDataTable\n                    title={`Manifestation of Movement Features of ${site_code.toUpperCase()}`}\n                    columns={columns}\n                    options={{\n                        textLabels: {\n                            body: {\n                                noMatch: \"No data\"\n                            }\n                        },\n                        selectableRows: \"none\",\n                        rowsPerPage: 5,\n                        rowsPerPageOptions: [],\n                        print: false,\n                        download: false,\n                        responsive: \"standard\",\n                        onRowClick (data, meta, e) {\n                            const instance_id = data[5];\n                            history.push(`${url}/${instance_id}`);\n                        }\n                    }}\n                    data={moms_features}\n                />\n            </Paper>\n\n            <MomsInsertModal\n                {...props}\n                isOpen={is_moms_modal_open}\n                closeHandler={set_moms_modal_fn(false)}\n            />\n            \n            <Route path={`${url}/:instance_id`} render={\n                props => {\n                    return <MomsReportsTable \n                        {...props}\n                        moms_data={moms_data}\n                    />;\n                }\n            }/>\n        </Fragment>\n    );\n}\n\nfunction MomsReportsTable (props) {\n    const { moms_data, match: { params: { instance_id } } } = props;\n    const columns = [\"Observance Timestamp\", \"Narrative\", \"Report Timestamp\", \"Reporter\", \"Validator\", \"Remarks\", \"Alert Level\"];\n\n    const instance_row = moms_data.find(row => row.instance_id === parseInt(instance_id, 10));\n    let moms = [];\n    let subtitle = \"\";\n    if (typeof instance_row !== \"undefined\") {\n        moms = instance_row.moms;\n\n        const { feature: { feature_type }, feature_name } = instance_row;\n        subtitle = `${feature_type} - ${feature_name}`;\n    }\n   \n    const moms_reports = processMomsReportData(moms);\n    return (\n        <Paper style={{ marginTop: 16 }}>\n            <MUIDataTable\n                title={\n                    <Typography variant=\"h6\">\n                        Manifestation of Movement Reports <span style={{ fontSize: \"small\" }}>{subtitle.toUpperCase()}</span>\n                    </Typography>\n                }\n                columns={columns}\n                options={{\n                    textLabels: {\n                        body: {\n                            noMatch: \"No data\"\n                        }\n                    },\n                    selectableRows: \"none\",\n                    rowsPerPage: 5,\n                    rowsPerPageOptions: [],\n                    print: false,\n                    download: false,\n                    responsive: \"standard\",\n                }}\n                data={moms_reports}\n            />\n        </Paper>\n    );\n}\n\nexport default MomsInstancesPage;","import React, { \n    Fragment, useState, \n    useEffect, useContext\n} from \"react\";\nimport { createPortal } from \"react-dom\";\n\nimport {\n    makeStyles, Button, Grid,\n    Paper\n} from \"@material-ui/core\";\nimport { InsertChart, Event } from \"@material-ui/icons\";\nimport withWidth, { isWidthDown } from \"@material-ui/core/withWidth\";\nimport { Route, Switch, Link } from \"react-router-dom\";\n\nimport Highcharts from \"highcharts/highcharts.src\";\nimport heatmap from \"highcharts/modules/heatmap.src\";\nimport HighchartsReact from \"highcharts-react-official\";\nimport moment from \"moment\";\nimport MUIDataTable from \"mui-datatables\";\nimport ContentLoader from \"react-content-loader\";\n\nimport SurficialGraph from \"./SurficialGraph\";\nimport RainfallGraph from \"./RainfallGraph\";\nimport SubsurfaceGraph from \"./SubsurfaceGraph\";\nimport ConsolidatedSiteCharts from \"./ConsolidatedSiteCharts\";\nimport ConsolidateSiteChartsModal from \"./ConsolidateSiteChartsModal\";\nimport InsertEarthquakeModal from \"./InsertEarthquakeModal\";\nimport EarthquakeContainer from \"./EarthquakeContainer\";\nimport MomsInstancesPage from \"./MomsInstancesPage\";\n\nimport { \n    getMOMsAlertSummary, getEarthquakeEvents, getEarthquakeAlerts,\n    getDataPresenceData\n} from \"../ajax\";\nimport { \n    subscribeToWebSocket, unsubscribeToWebSocket,\n    receiveAllSiteRainfallData\n} from \"../../../websocket/monitoring_ws\";\nimport GeneralStyles from \"../../../GeneralStyles\";\nimport PageTitle from \"../../reusables/PageTitle\";\nimport { prepareSiteAddress } from \"../../../UtilityFunctions\";\nimport { GeneralContext } from \"../../contexts/GeneralContext\";\n\nheatmap(Highcharts);\n\nlet ts_now;\nconst format_str = \"D MMM YYYY, HH:mm\";\n\nconst useStyles = makeStyles(theme => {\n    const gen_style = GeneralStyles(theme);\n    \n    return {\n        ...gen_style,\n        tabBar: {\n            ...gen_style.pageContentMargin,\n            margin: 0\n        },\n        tabBarContent: {\n            marginTop: 30\n        }\n    }; \n});\n\nconst MyLoader = () => (\n    <ContentLoader \n        height={600}\n        width={400}\n        speed={1}\n        foregroundColor=\"#f3f3f3\"\n        backgroundColor=\"#ecebeb\"\n    >\n        <rect x=\"0\" y=\"0\" rx=\"0\" ry=\"0\" width=\"400\" height=\"600\" />\n    </ContentLoader>\n);\n\nfunction CustomButtons (change_consolidate_modal_fn, open_eq_modal) {\n    return <span>\n        <Button\n            aria-label=\"Insert Earthquake Event\"\n            variant=\"contained\" \n            color=\"primary\"\n            size=\"small\" \n            style={{ marginRight: 8 }}\n            onClick={open_eq_modal(true)}\n            startIcon={<Event />}\n        >\n            Insert Earthquake Event\n        </Button>\n        <Button\n            aria-label=\"Consolidate by site\"\n            variant=\"contained\" \n            color=\"primary\"\n            size=\"small\" \n            style={{ marginRight: 8 }}\n            onClick={change_consolidate_modal_fn(true)}\n            startIcon={<InsertChart />}\n        >\n            Consolidate by site\n        </Button>\n    </span>;\n}\n\nfunction createCustomLabels (chart, url) {\n    const custom_labels = [];\n    if (chart && Object.keys(chart).length !== 0 && chart.xAxis[0]) {\n        chart.series[0].points.forEach(p => {\n            custom_labels.push(LabelComponent(url, p));\n        });\n    }\n    return custom_labels;\n}\n\nfunction LabelComponent (url, p) {\n    const { data, type, dataLabel } = p;\n\n    return (\n        <div key={data}>\n            {createPortal(\n                <Link \n                    to={`${url}/${type}/${data}`}\n                    style={{ \n                        // textDecoration: \"none\",\n                        fontSize: dataLabel.options.style.fontSize, \n                        // fontWeight: 800,\n                        position: \"absolute\",\n                        fontFamily: \"Lucida Grande, Lucida Sans Unicode, Arial Helvetica, sans-serif\",\n                        color: \"#000000\"\n                    }}\n                >\n                    {data.toUpperCase()}\n                </Link>, dataLabel.div\n            )}\n        </div>\n    );\n}\n\nfunction generateData (data_list, type, is_mobile) {\n    const data = [];\n    let x = 0;\n\n    data_list.forEach((row, i) => {\n        const { last_data, ts_updated, diff_days, event_type } = row;\n\n        let label;\n        let t_data;\n        const value = row.presence;\n        if (type === \"surficial\") {\n            label = row.site_code;\n            t_data = label;\n            if (!row.has_surficial_markers) label += \"*\";\n        } else if (type === \"rainfall\") {\n            label = row.rain_gauge.gauge_name;\n            t_data = label;\n        } else if (type === \"subsurface\") {\n            label = row.tsm_sensor.logger.logger_name;\n            t_data = label;\n        } else {\n            label = row.logger.logger_name;\n            t_data = label;\n        }\n\n        // const y = is_mobile ? i % 5 : i % 10;\n        const y = i % 5;\n        const a = {\n            // x: y, // x : y,\n            // y: 5 - x, // 10 - y : 5 - x,\n            x: y,\n            y: 5 - x,\n            value,\n            label: label.toUpperCase(),\n            data: t_data,\n            type,\n            ts_last_data: last_data,\n            ts_updated,\n            diff_days,\n            event_type\n        };\n        data.push(a);\n        \n        // const cond = is_mobile ? i % 5 === 4 : i % 10 === 9;\n        const cond = i % 5 === 4;\n        if (cond) x += 1;\n    });\n\n    return data;\n}\n\nfunction prepareOptions (is_mobile, type, data_list) {\n    const uc_type = type.charAt(0).toUpperCase() + type.slice(1);\n    const title = `<b>${uc_type} Data Availability</b>`;\n\n    let height = 50;\n    let additional_height = 60;\n    let subtitle_text = `Timestamp: <b>${ts_now.format(format_str)}</b>`;\n    switch (type) {\n        case \"surficial\":\n            subtitle_text += \"<br/>Note: Data presence within four hours<br/>until next release for event sites\" +\n            \"<br/>Data presence from 6AM to 12NN for <br/>routine and extended sites\" +\n            \"<br/><b>*Sites without markers</b>\";\n            break;\n        case \"subsurface\":\n            subtitle_text += \"<br/>Note: Data presence of raw data (not yet filtered)\";\n            height = 95;\n            // additional_height = 100;\n            break;\n        case \"loggers\":\n            height = 95;\n            additional_height = 100;\n            // fallthrough\n        default:\n            break;\n    }\n\n    if (is_mobile)\n        height += additional_height;\n\n    const data = generateData(data_list, type, is_mobile);\n\n    const options = {\n        chart: {\n            type: \"heatmap\",\n            // height: `${height }%`,\n            height: 700, // 600,\n            spacingTop: 12,\n            spacingRight: 18\n        },\n        title: {\n            text: title,\n            style: { fontSize: \"1rem\" },\n            y: 20\n        },\n        subtitle: {\n            text: subtitle_text,\n            style: { fontSize: \"0.70rem\" }\n        },\n        xAxis: {\n            visible: false\n        },\n        yAxis: {\n            visible: false\n        },\n        legend: {\n            enabled: false\n        },\n        colorAxis: {\n            stops: [\n                [0, \"#cccccc\"],\n                [1, \"#7cb5ec\"]\n            ],\n            min: 0,\n            max: 1\n        },\n        tooltip: {\n            outside: true,\n            formatter () {\n                const {\n                    label, type, value, event_type,\n                    ts_last_data, ts_updated, diff_days\n                } = this.point;\n                const presence = value ? \"With\" : \"No\";\n                \n                let type_label;\n                switch (type) {\n                    case \"rainfall\":\n                        type_label = \"Rain gauge\";\n                        break;\n                    case \"surficial\":\n                        type_label = \"Site\";\n                        break;\n                    case \"subsurface\":\n                        type_label = \"Sensor\";\n                        break;\n                    case \"loggers\":\n                        type_label = \"Logger\";\n                        // fallthrough\n                    default:\n                        break;\n                }\n\n                let str = `${type_label}: <b>${label}</b><br/>` + \n                `Presence: <b>${presence} data</b><br/>` + \n                `Last data timestamp: <b>${moment(ts_last_data).format(format_str)}</b><br/>`;\n\n                if (type !== \"surficial\") {\n                    str += `<br/>Last update timestamp: <b>${moment(ts_updated).format(format_str)}</b><br/>` +\n                    `Days since last data: <b>${diff_days}</b><br/>`;\n                } else {\n                    str += `Event type: <b>${event_type}</b>`;\n                }\n\n                return str;\n            }\n        },\n        credits: {\n            enabled: false\n        },\n        series: [{\n            name: \"\",\n            borderWidth: 1,\n            borderColor: \"#444444\",\n            data,\n            dataLabels: {\n                enabled: true,\n                useHTML: true,\n                color: \"#000000\",\n                display: \"none\",\n                style: {\n                    fontWeight: 100,\n                    // fontSize: \"0.75rem\"\n                },\n                formatter () {\n                    const { label } = this.point;\n                    return label;\n                }\n            }\n        }]\n    };\n\n    return options;\n}\n\nfunction formatRainfallSummaryData (data) {\n    const list_1d = [];\n    const list_3d = [];\n    const site_codes = [];\n\n    data.forEach(record => {\n        const {\n            site_code,\n            \"1D cml\": cumulative_1d,\n            \"3D cml\": cumulative_3d,\n            \"half of 2yr max\": threshold_1d,\n            \"2yr max\": threshold_3d,\n            DataSource: data_source\n        } = record;\n\n        const temp_1d = cumulative_1d ? `${cumulative_1d} mm` : \"0 mm\";\n        const temp_3d = cumulative_3d ? `${cumulative_3d} mm` : \"0 mm\";\n\n        const cum_1d = {\n            y: (cumulative_1d / threshold_1d) * 100,\n            data_value: `<b><i>One Day Data</i></b><br>- Cumulative Data: <b>${temp_1d}</b><br>- Threshold: <b>${threshold_1d} mm</b>`,\n            data_source\n        };\n\n        const cum_3d = {\n            y: (cumulative_3d / threshold_3d) * 100,\n            data_value: `<b><i>Three Day Data</i></b><br>- Cumulative Data: <b>${temp_3d}</b><br>- Threshold: <b>${threshold_3d} mm</b>`,\n            data_source\n        };\n\n        list_1d.push(cum_1d);\n        list_3d.push(cum_3d);\n        site_codes.push(site_code.toUpperCase());\n    });\n\n    return {\n        list_1d, list_3d, site_codes\n    };\n}\n\nfunction prepareRainfallSummaryOption (rainfall_summary, ts) {\n    const { site_codes, list_1d, list_3d } = rainfall_summary;\n    const ts_str = ts === null ? \"---\" : moment(ts).format(\"D MMM YYYY, HH:mm\");\n    \n    return {\n        chart: {\n            type: \"column\"\n        },\n        title: {\n            text: \"<b>Cumulative Rainfall Data vs Threshold Plot of Dynaslope Sites</b>\",\n            style: { fontSize: \"1rem\" },\n            y: 20\n        },\n        subtitle: {\n            text: `As of: <b>${ts_str}</b><br>Note: Percentage capped at 100%`,\n        },\n        xAxis: {\n            categories: site_codes,\n            title: {\n                text: \"<b>Sites</b>\"\n            }\n        },\n        yAxis: {\n            min: 0,\n            max: 100,\n            title: {\n                text: \"<b>Threshold Ratio (%)</b>\"\n            }\n        },\n        tooltip: {\n            shared: true,\n            useHTML: true,\n            formatter () {\n                const { x, points } = this;\n                const { data_source } = points[0].point;\n                const source = data_source.replace(/_/g, \" \");\n\n                let str = `<b>${x} (${source.toUpperCase()})</b><br>`;\n                points.forEach(point => {\n                    str += `${point.point.data_value}<br>`;\n                    str += `- Percentage: <b>${point.point.y.toFixed(2)}%</b><br>`;\n                });\n\n                return str;\n            }\n        },\n        plotOptions: {\n            column: {\n                grouping: false,\n                shadow: false\n            }\n        },\n        series: [{\n            name: \"Three-day Cumulative Data\",\n            data: list_3d,\n            pointPadding: 0, \n            color: \"#FF0000\"\n        }, {\n            name: \"One-day Cumulative Data\",\n            data: list_1d,\n            pointPadding: 0.2\n\n        }],\n        credits: {\n            enabled: false\n        },\n    };\n}\n\nfunction Container (props) {\n    const {\n        width, location,\n        match: { path, url }\n    } = props;\n    const classes = useStyles();\n    const is_desktop = isWidthDown(width, \"sm\");\n\n    ts_now = moment();\n\n    const [is_consolidate_modal_open, setIsConsolidateModalOpen] = useState(false);\n    const [is_earthquake_modal, setisEarthquakeModalOpen] = useState(false);\n    const change_consolidate_modal_fn = bool => () => setIsConsolidateModalOpen(bool);\n    const open_eq_modal = bool => () => setisEarthquakeModalOpen(bool);\n\n    const [subsurface_data_presence, setSubsurfaceDataPresence] = useState([]);\n    const [subsurface_dp_option, setSubsurfaceDpOption] = useState(null);\n    const [subsurface_custom_label, setSubsurfaceCustomLabel] = useState(null);\n\n    const [surficial_data_presence, setSurficialDataPresence] = useState([]);\n    const [surficial_dp_option, setSurficialDpOption] = useState(null);\n    const [surficial_custom_label, setSurficialCustomLabel] = useState(null);\n\n    const [rainfall_data_presence, setRainfallDataPresence] = useState([]);\n    const [rainfall_dp_option, setRainfallDpOption] = useState(null);\n    const [rainfall_custom_label, setRainfallCustomLabel] = useState(null);\n\n    const [loggers_data_presence, setLoggersDataPresence] = useState([]);\n    const [loggers_dp_option, setLoggersDpOption] = useState(null);\n    \n    const [chart_instances, setChartInstances] = useState({});\n\n    const [rainfall_summary_option, setRainfallSummaryOption] = useState(null);\n\n    const save_chart_instances_fn = name => chart => {\n        setChartInstances(prev => ({ ...prev, [name]: chart }));\n    };\n\n    useEffect(() => {\n        getDataPresenceData(\"surficial\", data => {\n            setSurficialDataPresence(data);\n        });\n\n        getDataPresenceData(\"tsm\", data => {\n            setSubsurfaceDataPresence(data);\n        });\n\n        getDataPresenceData(\"rain_gauges\", data => {\n            setRainfallDataPresence(data);\n        });\n\n        getDataPresenceData(\"loggers\", data => {\n            setLoggersDataPresence(data);\n        });\n    }, []);\n\n    useEffect(() => {\n        if (surficial_data_presence.length > 0) {\n            const option = prepareOptions(!is_desktop, \"surficial\", surficial_data_presence);\n            setSurficialDpOption(option);\n        }\n    }, [surficial_data_presence, is_desktop]);\n\n    useEffect(() => {\n        if (subsurface_data_presence.length > 0) {\n            const option = prepareOptions(!is_desktop, \"subsurface\", subsurface_data_presence);\n            setSubsurfaceDpOption(option);\n        }\n    }, [subsurface_data_presence, is_desktop]);\n\n    useEffect(() => {\n        if (rainfall_data_presence.length > 0) {\n            const option = prepareOptions(!is_desktop, \"rainfall\", rainfall_data_presence);\n            setRainfallDpOption(option);\n        }\n    }, [rainfall_data_presence, is_desktop]);\n\n    useEffect(() => {\n        if (loggers_data_presence.length > 0) {\n            const option = prepareOptions(!is_desktop, \"loggers\", loggers_data_presence);\n            setLoggersDpOption(option);\n        }\n    }, [loggers_data_presence, is_desktop]);\n\n    useEffect(() => {\n        const temp = createCustomLabels(chart_instances.rainfall, url);\n        setRainfallCustomLabel(temp);\n    }, [chart_instances.rainfall, url]);\n\n    useEffect(() => {\n        const temp = createCustomLabels(chart_instances.surficial, url);\n        setSurficialCustomLabel(temp);\n    }, [chart_instances.surficial, url]);\n\n    useEffect(() => {\n        const temp = createCustomLabels(chart_instances.subsurface, url);\n        setSubsurfaceCustomLabel(temp);\n    }, [chart_instances.subsurface, url]);\n\n    const { setIsReconnecting } = useContext(GeneralContext);\n    \n    useEffect(() => {\n        subscribeToWebSocket(setIsReconnecting);\n\n        receiveAllSiteRainfallData(data => {\n            const { rainfall_summary, ts } = data;\n            const obj = formatRainfallSummaryData(rainfall_summary);\n            const temp = prepareRainfallSummaryOption(obj, ts);\n            setRainfallSummaryOption(temp);\n        });\n\n        return function cleanup () {\n            unsubscribeToWebSocket();\n        };\n    }, []);\n\n    const [moms_alerts, setMOMsAlerts] = useState([]);\n    useEffect(() => {\n        const table_data = [];\n        getMOMsAlertSummary((data) => {\n            data.forEach(site => {\n                const { site_code, moms_alert } = site;\n                const address = prepareSiteAddress(site, true, \"start\");\n                const arr = { site_code, address, moms_alert };\n                table_data.push(arr);\n            });\n\n            setMOMsAlerts(table_data);\n        });  \n    }, [url]);\n\n    const moms_table_options = [\n        {\n            name: \"address\",\n            label: \"Site\",\n            options: {\n                filter: false,\n                customBodyRender: (value, { rowIndex }) => {\n                    const { site_code } = moms_alerts[rowIndex];\n                    return <Link to={`${url}/moms/${site_code}`} style={{ color: \"black\" }}>\n                        {value}\n                    </Link>;\n                }\n            }\n        },\n        {\n            name: \"moms_alert\",\n            label: \"Alert\"\n        }\n    ];\n\n    const [eq_events, setEqEvents] = useState([]);\n    const [reload_eq_event, setReloadEqEvent] = useState(true);\n    useEffect(() => {\n        if (reload_eq_event) {\n            getEarthquakeEvents(data => {\n                setEqEvents(data);\n            });\n            setReloadEqEvent(false);\n        }\n        // console.log(\"eq reloaded\");\n    }, [reload_eq_event]);\n    const [eq_alerts, setEqAlerts] = React.useState([]);\n    const [eq_al_tbl_pagination, setEqAlTblPage] = React.useState({ limit: 5, offset: 0, count: 0 });\n    const [is_first_pass, setFirstPass] = React.useState(true);\n    React.useEffect(() => {\n        getEarthquakeAlerts(eq_al_tbl_pagination, data => {\n            const { count, data: eq_data } = data;\n            setEqAlerts([...eq_data]);\n\n            if (is_first_pass) {\n                setFirstPass(false);\n                setEqAlTblPage({ ...eq_al_tbl_pagination, count });\n            }\n        });\n    }, [eq_al_tbl_pagination, is_first_pass]);\n\n    const is_main_page = location.pathname === path;\n\n    return (\n        <Fragment>\n            <div className={classes.pageContentMargin}>\n                <PageTitle\n                    title=\"Analysis | Site Data Analytics\"\n                    customButtons={is_desktop && is_main_page ? CustomButtons(change_consolidate_modal_fn, open_eq_modal) : false}\n                />\n            </div>\n\n            <div className={classes.pageContentMargin}>\n                <Switch location={location}>\n                    <Route exact path={url} render={\n                        props => (\n                            <Grid container spacing={2}>\n                                <Grid item xs={12} md={6} lg={3}>\n                                    {\n                                        surficial_dp_option !== null ? (\n                                            <Paper elevation={2}>\n                                                <HighchartsReact\n                                                    highcharts={Highcharts}\n                                                    options={surficial_dp_option}\n                                                    callback={save_chart_instances_fn(\"surficial\")}\n                                                    allowChartUpdate={false}\n                                                />\n                                                {surficial_custom_label}\n                                            </Paper>\n                                        ) : (\n                                            <MyLoader style={{ height: \"100%\" }}/>\n                                        )\n                                    }\n                                </Grid>\n\n                                <Grid item xs={12} md={6} lg={3}>\n                                    {\n                                        rainfall_dp_option !== null ? (\n                                            <Paper elevation={2}>\n                                                <HighchartsReact\n                                                    highcharts={Highcharts}\n                                                    options={rainfall_dp_option}\n                                                    callback={save_chart_instances_fn(\"rainfall\")}\n                                                    allowChartUpdate={false}\n                                                />\n                                                {rainfall_custom_label}\n                                            </Paper>\n                                        ) : (\n                                            <MyLoader style={{ height: \"100%\" }}/>\n                                        )\n                                    }\n                                </Grid>\n\n                                <Grid item xs={12} md={6} lg={3}>\n                                    {\n                                        subsurface_dp_option !== null ? (\n                                            <Paper elevation={2}>\n                                                <HighchartsReact\n                                                    highcharts={Highcharts}\n                                                    options={subsurface_dp_option}\n                                                    callback={save_chart_instances_fn(\"subsurface\")}\n                                                    allowChartUpdate={false}\n                                                />\n                                                {subsurface_custom_label}\n                                            </Paper>\n                                        ) : (\n                                            <MyLoader style={{ height: \"100%\" }}/>\n                                        )\n                                    }\n                                </Grid>\n\n                                <Grid item xs={12} md={6} lg={3}>\n                                    {\n                                        loggers_dp_option !== null ? (\n                                            <Paper elevation={2}>\n                                                <HighchartsReact\n                                                    highcharts={Highcharts}\n                                                    options={loggers_dp_option}\n                                                    callback={save_chart_instances_fn(\"loggers\")}\n                                                    allowChartUpdate={false}\n                                                />\n                                            </Paper>\n                                        ) : (\n                                            <MyLoader style={{ height: \"100%\" }}/>\n                                        )\n                                    }\n                                </Grid>\n\n                                <Grid item xs={12}>\n                                    {\n                                        rainfall_summary_option !== null ? (\n                                            <Paper elevation={2}>\n                                                <HighchartsReact\n                                                    highcharts={Highcharts}\n                                                    options={rainfall_summary_option}\n                                                />\n                                            </Paper>\n                                        ) : (\n                                            <div>Loading...</div>\n                                        )\n                                    }\n                                </Grid>\n\n                                <Grid item xs={12} md={12} lg={7}>\n                                    <Paper elevation={2}>\n                                        <EarthquakeContainer\n                                            eqEvents={eq_events}\n                                            eqAlerts={eq_alerts}\n                                            eqAlertsPagination={eq_al_tbl_pagination}\n                                            setEqAlTblPage={setEqAlTblPage}\n                                        />\n                                    </Paper>\n                                </Grid>\n\n                                <Grid item xs={12} md={12} lg={5}>\n                                    <Paper elevation={2}>\n                                        <MUIDataTable\n                                            title=\"Latest MOMs Alert\"\n                                            columns={moms_table_options}\n                                            options={{\n                                                textLabels: {\n                                                    body: {\n                                                        noMatch: \"No data\"\n                                                    }\n                                                },\n                                                selectableRows: \"none\",\n                                                rowsPerPage: 6,\n                                                rowsPerPageOptions: [],\n                                                print: false,\n                                                download: false,\n                                                viewColumns: false,\n                                                responsive: \"standard\"\n                                            }}\n                                            data={moms_alerts}\n                                        />\n                                    </Paper>\n                                </Grid>\n                            </Grid>\n                        )\n                    }/>\n\n                    <Route path={`${url}/surficial/:site_code`} render={\n                        props => (\n                            <SurficialGraph\n                                {...props}\n                                width={width}\n                            />\n                        )\n                    }/>\n\n                    <Route path={`${url}/rainfall/:rain_gauge`} render={\n                        props => <RainfallGraph \n                            {...props}\n                            width={width}\n                            chartType=\"rainfall\"\n                        />} \n                    />\n\n                    <Route path={`${url}/subsurface/:tsm_sensor`} render={\n                        props => <SubsurfaceGraph \n                            {...props}\n                            width={width}\n                            chartType=\"subsurface\"\n                        />} \n                    />\n\n                    <Route path={`${url}/moms/:site_code`} render={\n                        props => <MomsInstancesPage\n                            {...props}\n                            width={width}\n                        />} \n                    />\n\n                    <Route path={`${url}/consolidated/:site_code`} render={\n                        props => <ConsolidatedSiteCharts\n                            {...props}\n                            width={width}\n                        />} \n                    />\n                </Switch>\n            </div>\n\n            <ConsolidateSiteChartsModal\n                isOpen={is_consolidate_modal_open}\n                clickHandler={change_consolidate_modal_fn(false)}\n                url={url}\n            />\n\n            <InsertEarthquakeModal\n                isOpen={is_earthquake_modal}\n                clickHandler={open_eq_modal(false)}\n                setReloadEqEvent={setReloadEqEvent}\n            />\n        </Fragment>\n    );\n}\n\nexport default withWidth()(Container);","import React, { useState, useEffect } from \"react\";\n\nimport HighchartsReact from \"highcharts-react-official\";\nimport moment from \"moment\";\nimport Chroma from \"chroma-js\";\n\nfunction donutChartOption (processed_data) {\n    const categories = [\n        \"Alert 1\",\n        \"Alert 2\",\n        \"Alert 3\"\n    ];\n    const data = processed_data;\n    const alerts_data = [];\n    const trigger_count = [];\n    let i;\n    let j;\n    const data_length = data.length;\n    let drill_data_length;\n\n    // Build the data arrays\n    for (i = 0; i < data_length; i += 1) {\n        const { y, color, drilldown } = data[i];\n        // add alert data\n        alerts_data.push({\n            name: categories[i],\n            y,\n            color\n        });\n  \n        // add drilldown data\n        const { data: d_data, categories: d_categories, trigger_events } = drilldown;\n        drill_data_length = d_data.length;\n        for (j = 0; j < drill_data_length; j += 1) {\n            trigger_count.push({\n                name: d_categories[j],\n                y: d_data[j],\n                color: Chroma(color).brighten((j + 1) * 0.50)\n                .hex(),\n                alert_events: trigger_events[j]\n            });\n        }\n    }\n\n    return { alerts_data, trigger_count };\n}\n\n// eslint-disable-next-line max-params\nfunction getPieChartOption (processed_data, input, setSelectedTrigger, chart) {\n    const { site, start_ts, end_ts } = input;\n\n    const ts_format = \"DD MMM YYYY, HH:mm\";\n    const subtitle = `Range: <b>${moment(start_ts).format(ts_format)} - ${moment(end_ts).format(ts_format)}</b><br/>` +\n    `Site: <b>${site ? site.label : \"All\"}</b><br/>\n    <i>Note: Click on any alert triggers to show related monitoring events.</i>`;\n    const { alerts_data, trigger_count } = donutChartOption(processed_data);\n    \n    return {\n        chart: {\n            plotBackgroundColor: null,\n            plotBorderWidth: null,\n            plotShadow: false,\n            type: \"pie\"\n        },\n        title: {\n            text: \"<b>Monitoring Event Alerts Summary</b>\",\n            y: 22\n        },\n        subtitle: {\n            text: subtitle,\n            style: { fontSize: \"0.75rem\" }\n        },\n        accessibility: {\n            point: {\n                valueSuffix: \"%\"\n            }\n        },\n        plotOptions: {\n            pie: {\n                // shadow: true,\n                center: [\"50%\", \"50%\"]\n            }\n        },\n        series: [{\n            name: \"Alerts\",\n            data: alerts_data,\n            size: \"80%\",\n            tooltip: {\n                pointFormat: \"Count: <b>{point.y} ({point.percentage:.1f}%)</b>\"\n            },\n            dataLabels: {\n                formatter () {\n                    return this.y > 5 ? this.point.name : null;\n                },\n                color: \"#ffffff\",\n                distance: -30\n            }\n        }, {\n            name: \"Count\",\n            data: trigger_count,\n            size: \"80%\",\n            innerSize: \"60%\",\n            dataLabels: {\n                formatter () {\n                // display only if larger than 1\n                    return this.y > 1 ? `<b>${this.point.name}:</b> ${ \n                        this.y}` : null;\n                }\n            },\n            point: {\n                events: {\n                    click (event) {\n                        const { point: {\n                            alert_events, name\n                        } } = event; \n                        setSelectedTrigger({ alert_events, name });\n                        chart.reflow();\n                    }\n                }\n            }\n        }],\n        loading: {\n            hideDuration: 2000\n        },\n        lang: {\n            noData: \"No alert within this period\"\n        },\n        credits: {\n            enabled: false\n        }\n    };\n}\n\n\nfunction applyColor (processed_data, colors) {\n    const temp = [];\n    processed_data.forEach((row, index) => {\n        const updated = {\n            ...row,\n            color: colors[index]\n        };\n        temp.push(updated);\n    });\n    return temp;\n}\n\nfunction PieChart (props) {\n    const {\n        highcharts, data, colors,\n        isLoading, input, setSelectedTrigger\n    } = props;\n    const [chart, setChart] = useState(null);\n\n    let data_with_color = [];\n    if (data !== null) data_with_color = applyColor(data, colors);\n    const [chart_option, setChartOption] = useState(getPieChartOption(data_with_color, input, setSelectedTrigger, chart));\n\n    useEffect(() => {\n        if (chart !== null) {\n            if (isLoading) chart.showLoading();\n            else chart.hideLoading();\n        }\n    }, [chart, isLoading]);\n\n    useEffect(() => {\n        let to_show = false;\n        if (chart !== null && data !== null) {\n            setChartOption(getPieChartOption(data_with_color, input, setSelectedTrigger, chart));\n\n            if (data.length === 0) to_show = true;\n\n            if (to_show) chart.showNoData();\n            else chart.hideNoData();\n        }\n    }, [chart, data]);\n    \n    return (\n        <HighchartsReact\n            highcharts={highcharts}\n            options={chart_option}\n            callback={x => setChart(x)}\n        />\n    );\n}\n\nexport default (PieChart);","import React, { useState, useEffect } from \"react\";\nimport Highcharts from \"highcharts/highcharts.src\";\nimport HighchartsReact from \"highcharts-react-official\";\n\nfunction getStackedBarChartOptions (processed_data, input) {\n    const { site, year } = input;\n    const subtitle = `Year: <b>${year}</b><br/>` +\n    `Site: <b>${site ? site.label : \"All\"}</b>`;\n\n    return {\n        chart: {\n            type: \"column\"\n        },\n        title: {\n            text: \"<b>Monthly Monitoring Event Alerts</b>\",\n            y: 22\n        },\n        subtitle: {\n            text: subtitle,\n            style: { fontSize: \"0.75rem\" }\n        },\n        series: processed_data,\n        xAxis: {\n            categories: [\"January\", \"February\", \"March\", \"April\", \"May\", \"June\",\n                \"July\", \"August\", \"September\", \"October\", \"November\", \"December\"],\n            // text: \"Month\"\n        },\n        yAxis: {\n            min: 0,\n            title: {\n                text: \"<b>Number of heightened alerts</b>\"\n            },\n            stackLabels: {\n                enabled: true,\n                style: {\n                    fontWeight: \"bold\",\n                    color: ( // theme\n                        Highcharts.defaultOptions.title.style &&\n                        Highcharts.defaultOptions.title.style.color\n                    ) || \"gray\"\n                }\n            }\n        },\n        legend: {\n            // align: \"right\",\n            // x: -30,\n            // verticalAlign: \"top\",\n            // y: 25,\n            // floating: true,\n            backgroundColor:\n                Highcharts.defaultOptions.legend.backgroundColor || \"white\",\n            borderColor: \"#CCC\",\n            borderWidth: 1,\n            shadow: false,\n            reversed: true\n        },\n        tooltip: {\n            headerFormat: \"<b>{point.x}</b><br/>\",\n            pointFormat: \"{series.name}: {point.y}<br/>Total: {point.stackTotal}\"\n        },\n        plotOptions: {\n            column: {\n                stacking: \"normal\",\n                dataLabels: {\n                    enabled: true,\n                    formatter () {\n                        if (this.y === 0) return \"\";\n                        return this.y;\n                    },\n                }\n            }\n        },\n        loading: {\n            hideDuration: 2000\n        },\n        lang: {\n            noData: \"No alert within this period\"\n        },\n        credits: {\n            enabled: false\n        }\n    };\n}\n\nfunction applyColor (processed_data, colors) {\n    const temp = [];\n    processed_data.forEach((row, index) => {\n        const updated = {\n            ...row,\n            color: colors[index]\n        };\n        temp.push(updated);\n    });\n    return temp;\n}\n\nfunction StackedBarChart (props) {\n    const { \n        highcharts, data, colors,\n        isLoading, input\n    } = props;\n    const [chart, setChart] = useState(null);\n\n    let data_with_color = [];\n    if (data !== null) {\n        data_with_color = applyColor(data, colors);\n        data_with_color.reverse();\n    }\n    const [chart_option, setChartOption] = useState(getStackedBarChartOptions(data_with_color, input));\n\n    useEffect(() => {\n        if (chart !== null) {\n            if (isLoading) chart.showLoading();\n            else chart.hideLoading();\n        }\n    }, [chart, isLoading]);\n\n    useEffect(() => {\n        let to_show = false;\n        if (chart !== null && data !== null) {\n            setChartOption(getStackedBarChartOptions(data_with_color, input));\n\n            if (data.length === 0) to_show = true;\n\n            if (to_show) chart.showNoData();\n            else chart.hideNoData();\n        }\n    }, [chart, data]);\n\n    return (\n        <HighchartsReact\n            highcharts={highcharts}\n            options={chart_option}\n            callback={x => setChart(x)}\n        />\n    );\n}\n\nexport default (StackedBarChart);","import React from \"react\";\n\nimport { Button } from \"@material-ui/core\";\nimport MUIDataTable from \"mui-datatables\";\nimport moment from \"moment\";\nimport { prepareSiteAddress } from \"../../../UtilityFunctions\";\n\nfunction TriggerEventsTable (props) {\n    const { selectedTrigger, history } = props;\n    const { alert_events, name } = selectedTrigger;\n\n    const table_options = {\n        textLabels: {\n            body: {\n                noMatch: \"No data\"\n            }\n        },\n        selectableRows: \"none\",\n        rowsPerPage: 5,\n        rowsPerPageOptions: [],\n        print: false,\n        download: false,\n        search: false,\n        filter: false,\n        viewColumns: false,\n        responsive: \"simple\"\n    };\n\n    const columns = [\n        { name: \"Event ID\" },\n        { name: \"Site\" },\n        { name: \"Event Start\" },\n        { name: \"Validity\" }\n    ];\n\n    const data = alert_events.map(row => {\n        const { event_id, site, event_start, validity } = row;\n        return [\n            <Button\n                onClick={ret => history.push(`/monitoring/events/${event_id}`)}\n                style={{ color: \"blue\" }}\n            >\n                <u>{event_id}</u>\n            </Button>,\n            prepareSiteAddress(site),\n            moment(event_start).format(\"DD MMMM YYYY, HH:mm\"),\n            moment(validity).format(\"DD MMMM YYYY, HH:mm\")\n        ];\n    });\n\n    return (\n        <MUIDataTable\n            title={`Monitoring Events with \"${name}\" trigger`}\n            columns={columns}\n            options={table_options}\n            data={data}\n        />\n    );\n}\n\nexport default TriggerEventsTable;","import React, { \n    useState, useEffect,\n    Fragment, useReducer\n} from \"react\";\n\nimport {\n    InputLabel, makeStyles, FormControl,\n    Button, Select, MenuItem, Card, CardContent,\n    Typography, Grid, FormHelperText\n} from \"@material-ui/core\";\nimport { MuiPickersUtilsProvider, KeyboardDateTimePicker } from \"@material-ui/pickers\";\n\nimport MomentUtils from \"@date-io/moment\";\nimport moment from \"moment\";\nimport Highcharts from \"highcharts\";\nimport NoDataToDisplay from \"highcharts/modules/no-data-to-display\";\n\nimport GeneralStyles, { alert_1, alert_2, alert_3 } from \"../../../GeneralStyles\";\nimport PageTitle from \"../../reusables/PageTitle\";\nimport DynaslopeSiteSelectInputForm from \"../../reusables/DynaslopeSiteSelectInputForm\";\nimport PieChart from \"./PieChart\";\nimport StackedBarChart from \"./StackedBarChart\";\nimport { getMonitoringAnalyticsData } from \"../ajax\";\nimport TriggerEventsTable from \"./TriggerEventsTable\";\n\n\nwindow.Highcharts = Highcharts;\nNoDataToDisplay(window.Highcharts);\n\nconst useStyles = makeStyles(theme => {\n    const gen = GeneralStyles(theme);\n    return {\n        ...gen,\n        inputGridContainer: {\n            margin: \"12px 0\",\n            [theme.breakpoints.down(\"sm\")]: {\n                margin: \"0 0\"\n            }\n        },\n        buttonGrid: {\n            textAlign: \"right\",\n            [theme.breakpoints.down(\"sm\")]: {\n                textAlign: \"right\"\n            }\n        },\n        button: {\n            fontSize: 16,\n            paddingLeft: 8\n        },\n        alert3: {\n            ...gen.alert3,\n            \"&:hover *\": {\n                color: \"#222222 !important\"\n            },\n        },\n        card: { height: \"auto\" }\n    }; \n});\n\nfunction getHelperText (field, value) {\n    if (value === \"\") return \"Required field\";\n    return \"\";\n}\n\nfunction reducerFunction (state, action) {\n    const { type, field, value } = action;\n    const field_value = state[field];\n    const new_value = value;\n    const new_helper_text = getHelperText(field, value);\n    const reset_data = initReducer(new_value);\n\n    switch (type) {\n        case \"UPDATE\":\n            return { ...state, [field]: {\n                ...field_value,\n                value: new_value,\n                helper_text: new_helper_text\n            } };\n        case \"RESET\":\n            return { ...reset_data };\n        default:\n            return { ...state };\n    }\n}\n\nfunction initReducer (data) {\n    const new_data = {};\n    if (data) {\n\n        Object.keys(data).forEach(key => {\n            const updated_value = data[key] ? data[key] : \"\";\n            const field = new_data[key];\n            const new_helper_text = getHelperText(field, updated_value);\n            new_data[key] = {\n                value: updated_value,\n                helper_text: new_helper_text,\n                required: true\n            };\n        });\n    }\n\n    return new_data;\n}\n\nfunction sanitizeData (data) {\n    const clean_data = {};\n    Object.keys(data).forEach(key => {\n        clean_data[key] = data[key].value;\n    });\n\n    return clean_data;\n}\n\nfunction listOfYears (back = 5) {\n    const year = new Date().getFullYear();\n    return Array.from({ length: back }, (v, i) => year - back + i + 1);\n}\n\nfunction MonitoringAlertsAnalytics (props) {\n    const classes = useStyles();\n    const colors = [alert_1, alert_2, alert_3];\n    const [pie_chart_data, setPieChartData] = useState({\n        data: null,\n        is_loading: true\n    });\n    const [stacked_chart_data, setStackedChartData] = useState({\n        data: null,\n        is_loading: true\n    });\n\n    const ts_now = moment();\n    const ts_year_ago = ts_now.clone().subtract(1, \"year\");\n    const pie_chart_initial_data = {\n        site: \"\",\n        start_ts: ts_year_ago,\n        end_ts: ts_now\n    };\n\n    const stacked_chart_initial_data = {\n        site: \"\",\n        year: moment().format(\"YYYY\")\n    };\n\n    const [pie_chart_filter_data, dispatchPie] = useReducer(reducerFunction, pie_chart_initial_data, initReducer);\n    const [stacked_chart_filter_data, dispatchStacked] = useReducer(reducerFunction, stacked_chart_initial_data, initReducer);\n    const year_list = listOfYears();\n    const [selected_trigger, setSelectedTrigger] = useState(null);\n\n    const update_ts = (field, value) => dispatchPie({ \n        type: \"UPDATE\", field,\n        value: moment(value).format(\"YYYY-MM-DD HH:mm:ss\")\n    });\n\n    const updatePieChartSite = value => {\n        dispatchPie({\n            type: \"UPDATE\", field: \"site\", value\n        });\n    };\n\n    const updateStackedBarSite = value => {\n        dispatchStacked({\n            type: \"UPDATE\", field: \"site\", value\n        });\n    };\n\n    const setChartData = (type, data, is_loading = false) => {\n        const temp = { data, is_loading };\n        if (type === \"pie\") setPieChartData(temp);\n        else if (type === \"stacked\") setStackedChartData(temp);\n    };\n\n    const submitFilter = type => () => {\n        let data_to_sanitize;\n        let temp_data;\n        if (type === \"pie\") {\n            temp_data = pie_chart_data.data;\n            data_to_sanitize = pie_chart_filter_data;\n        } else if (type === \"stacked\") {\n            temp_data = stacked_chart_data.data;\n            data_to_sanitize = stacked_chart_filter_data;\n        }\n\n        setChartData(type, temp_data, true);\n        const sanitized_data = sanitizeData(data_to_sanitize);\n        \n        if (sanitized_data.site) {\n            sanitized_data.site_id = sanitized_data.site.value;\n        }\n        const final_data = {\n            chart_type: type,\n            inputs: sanitized_data\n        };\n        \n        getMonitoringAnalyticsData(final_data, data => {\n            setChartData(type, data);\n        });\n    };\n\n    useEffect(() => {\n        const input_arr = [\n            {\n                chart_type: \"pie\",\n                inputs: pie_chart_initial_data\n            },\n            {\n                chart_type: \"stacked\",\n                inputs: stacked_chart_initial_data\n            }\n        ];\n\n        input_arr.forEach(row => {\n            getMonitoringAnalyticsData(row, data => {\n                setChartData(row.chart_type, data);\n            });\n        });\n    }, []);\n\n    return (\n        <Fragment>\n            <div className={classes.pageContentMargin}>\n                <PageTitle\n                    title=\"Analysis | Monitoring Alerts Analytics\"\n                />\n\n                <Grid container spacing={2}>\n                    <Grid item xs={12}>\n                        <Card className={classes.card}>\n                            <CardContent>\n                                <Typography variant=\"overline\" display=\"block\" gutterBottom>\n                                    Alerts Summary\n                                </Typography>\n\n                                <Grid container spacing={2} justify=\"space-between\">\n                                    <Grid item xs={12} sm={6}>\n                                        <DynaslopeSiteSelectInputForm\n                                            value={pie_chart_filter_data.site.value}\n                                            changeHandler={e => updatePieChartSite(e)}\n                                            isClearable\n                                            customPlaceholder=\"If no input, all sites\"\n                                        />\n                                    </Grid>\n\n                                    <MuiPickersUtilsProvider utils={MomentUtils}>\n                                        <Grid item xs={12} sm={3}>\n                                            <KeyboardDateTimePicker\n                                                required\n                                                autoOk\n                                                label=\"Start Timestamp\"\n                                                value={pie_chart_filter_data.start_ts.value}\n                                                onChange={e => update_ts(\"start_ts\", e)}\n                                                ampm={false}\n                                                placeholder=\"2010/01/01 00:00\"\n                                                format=\"YYYY/MM/DD HH:mm\"\n                                                mask=\"____/__/__ __:__\"\n                                                clearable\n                                                disableFuture\n                                                fullWidth\n                                            />\n                                        </Grid>\n\n                                        <Grid item xs={12} sm={3}>\n                                            <KeyboardDateTimePicker\n                                                required\n                                                autoOk\n                                                label=\"End Timestamp\"\n                                                value={pie_chart_filter_data.end_ts.value}\n                                                onChange={e => update_ts(\"end_ts\", e)}\n                                                ampm={false}\n                                                placeholder=\"2010/01/01 00:00\"\n                                                format=\"YYYY/MM/DD HH:mm\"\n                                                mask=\"____/__/__ __:__\"\n                                                clearable\n                                                disableFuture\n                                                fullWidth\n                                            />\n                                        </Grid>\n                                    </MuiPickersUtilsProvider>\n\n                                    <Grid item xs={12} align=\"right\">\n                                        <Button \n                                            size=\"small\" \n                                            color=\"primary\"\n                                            variant=\"contained\"\n                                            onClick={submitFilter(\"pie\")}\n                                        >\n                                            Submit\n                                        </Button>\n                                    </Grid>\n                                </Grid>\n                            </CardContent>\n                        </Card>\n                    </Grid>\n                    \n                    <Grid item xs={12}>   \n                        <Card className={classes.card}>\n                            <CardContent>\n                                <PieChart\n                                    highcharts={Highcharts}\n                                    data={pie_chart_data.data}\n                                    isLoading={pie_chart_data.is_loading}\n                                    colors={colors}\n                                    input={sanitizeData(pie_chart_filter_data)}\n                                    setSelectedTrigger={setSelectedTrigger}\n                                />\n                            </CardContent>\n                        </Card>\n                    </Grid>\n\n                    {\n                        selected_trigger && (\n                            <Grid item xs={12}>   \n                                <Card className={classes.card}>\n                                    <TriggerEventsTable\n                                        { ...props }\n                                        selectedTrigger={selected_trigger}\n                                    />\n                                </Card>\n                            </Grid>\n                        )\n                    }\n\n                    <Grid item xs={12}>\n                        <Card className={classes.card}>\n                            <CardContent>\n                                <Typography variant=\"overline\" display=\"block\" gutterBottom>\n                                    Monthly Alerts Per Year\n                                </Typography>\n\n                                <Grid container spacing={2}>\n                                    <Grid item xs={12} sm={8}>\n                                        <DynaslopeSiteSelectInputForm\n                                            value={stacked_chart_filter_data.site.value || \"\"}\n                                            changeHandler={e => updateStackedBarSite(e)}\n                                            isClearable\n                                            customPlaceholder=\"If no input, all sites\"\n                                        />\n                                    </Grid>\n\n                                    <Grid item xs={12} sm={4}>\n                                        <FormControl required fullWidth>\n                                            <InputLabel id=\"alert_level_label\">Year</InputLabel>\n                                            <Select\n                                                labelId=\"alert_level_label\"\n                                                id=\"alert_level\"\n                                                value={stacked_chart_filter_data.year.value}\n                                                onChange={e => dispatchStacked({ type: \"UPDATE\", field: \"year\", value: e.target.value })}\n                                                error={Boolean(stacked_chart_filter_data.year.helper_text)}   \n                                            >\n                                                <MenuItem value=\"\">\n                                                    <em>---</em>\n                                                </MenuItem>\n                                                {\n                                                    year_list.map(row => {\n                                                        return (\n                                                            <MenuItem value={row} key={row}>{row}</MenuItem>\n                                                        );\n                                                    })\n                                                }\n                                            </Select>\n                                            <FormHelperText error>{stacked_chart_filter_data.year.helper_text}</FormHelperText>\n                                        </FormControl>\n                                    </Grid>\n                        \n                                    <Grid item xs={12} align=\"right\">\n                                        <Button \n                                            size=\"small\" \n                                            color=\"primary\"\n                                            onClick={submitFilter(\"stacked\")}\n                                            variant=\"contained\"\n                                        >\n                                            Submit\n                                        </Button>\n                                    </Grid>\n                                </Grid>\n                            </CardContent>\n                        </Card>\n                    </Grid>\n\n                    <Grid item xs={12}>\n                        <Card className={classes.card}>\n                            <CardContent>\n                                <Grid container spacing={1} justify=\"space-between\" alignItems=\"center\">\n                                    <Grid item xs={12}>\n                                        <StackedBarChart\n                                            highcharts={Highcharts}\n                                            data={stacked_chart_data.data}\n                                            isLoading={stacked_chart_data.is_loading}\n                                            colors={colors}\n                                            input={sanitizeData(stacked_chart_filter_data)}\n                                        />\n                                    </Grid>\n                            \n                                </Grid>\n                            </CardContent>\n                        </Card>\n                    </Grid>\n                </Grid>\n            </div>\n        </Fragment>\n    );\n}\n\nexport default (MonitoringAlertsAnalytics);","import React, { useState, useEffect } from \"react\";\n\nimport {\n    List, ListItem, ListItemText,\n    OutlinedInput, makeStyles\n} from \"@material-ui/core\";\n\nimport { getLoggersAndSensorsData } from \"../ajax\";\n\nconst useStyles = makeStyles(theme => ({\n    list: {\n        maxHeight: \"60vh\",\n        overflowY: \"auto\",\n        boxShadow: \"0px 2px 1px -1px rgba(0,0,0,0.2), 0px 1px 1px 0px rgba(0,0,0,0.14), 0px 1px 3px 0px rgba(0,0,0,0.12)\",\n        \"&::-webkit-scrollbar\": {\n            width: 5\n        },\n        \"&::-webkit-scrollbar-track\": {\n            boxShadow: \"inset 0 0 5px grey\"\n        },\n        \"&::-webkit-scrollbar-thumb\": {\n            background: \"rgba(127, 127, 127, 0.7)\"\n        }\n    },\n    searchBox: {\n        marginBottom: theme.spacing(3)\n    },\n    sticky: {\n        position: \"sticky\",\n        top: 146,\n        [theme.breakpoints.down(\"sm\")]: {\n            top: 48\n        },\n        backgroundColor: \"white\",\n        zIndex: 1\n    },\n}));\n\nfunction LoggersList (props) {\n    const {\n        selectedLogger, onLoggerClickFn,\n        reloadList, loggers, setLoggers,\n        setReloadList } = props;\n    const classes = useStyles();\n\n    const [loggers_list, setLoggersList] = useState([]);\n    const [search_str, setSearchStr] = useState(null);\n    \n    useEffect(() => {\n        getLoggersAndSensorsData(data => {\n            const { loggers: temp_l, rain_gauges } = data;\n            temp_l.forEach(x => {\n                const { logger_model: { has_rain }, logger_name } = x;\n\n                if (has_rain) {\n                    const rg = rain_gauges.find(y=> y.gauge_name === logger_name);\n                    x.rain_gauge = rg || null;\n                }\n            });\n\n            setLoggers(temp_l);\n            setLoggersList(temp_l);\n            if (temp_l.length > 0) onLoggerClickFn(temp_l[0])();\n            \n        });\n    }, []);\n\n    useEffect(() => {\n        if (reloadList) {\n            setTimeout(() => { \n                getLoggersAndSensorsData(data => {\n                    const { loggers: temp_l, rain_gauges } = data;\n                    temp_l.forEach(x => {\n                        const { logger_model: { has_rain }, logger_name } = x;\n    \n                        if (has_rain) {\n                            const rg = rain_gauges.find(y=> y.gauge_name === logger_name);\n                            x.rain_gauge = rg || null;\n                        }\n                    });\n                    setLoggers(temp_l);\n                });\n                setReloadList(false); \n            }, 1000);\n        }\n    }, [reloadList]);\n\n    useEffect(() => {\n        if (search_str !== null) {\n            const filtered = loggers_list.filter(row => {\n                const { logger_name } = row;\n                const pattern = new RegExp(`${search_str.toLowerCase()}`, \"gi\");\n                return pattern.test(logger_name.toLocaleLowerCase());\n            });\n            setLoggers(filtered);\n        } else {\n            setLoggers(loggers);\n        }\n    }, [search_str]);\n\n    return (\n        <div className={classes.sticky}>\n            <OutlinedInput\n                fullWidth\n                margin=\"dense\"\n                placeholder=\"Search loggers...\"\n                onChange={event => setSearchStr(event.target.value)} \n                className={classes.searchBox}\n            />\n\n            <List aria-label=\"list\" className={classes.list}>\n                {\n                    loggers.map(logger => {\n                        const { logger_name, logger_id } = logger;\n                        const is_selected = selectedLogger !== null && selectedLogger.logger_id === logger_id;\n\n                        return (\n                            <ListItem \n                                button \n                                key={logger.logger_id} \n                                onClick={onLoggerClickFn(logger)}\n                                selected={is_selected}\n                            >\n                                <ListItemText primary={logger_name.toUpperCase()} />\n                            </ListItem>\n                        );\n                    })\n                }\n            </List>\n        </div>\n    );\n}\n\nexport default React.memo(LoggersList);","import React, { \n    Fragment, useState, useEffect\n} from \"react\";\n\nimport {\n    Grid, Typography, Card,\n    CardContent, Button, CardActions,\n    TextField, Divider, FormControl,\n    FormControlLabel, Checkbox, InputLabel,\n    Select, MenuItem, FormHelperText\n} from \"@material-ui/core\";\n\nimport { MuiPickersUtilsProvider, KeyboardDatePicker } from \"@material-ui/pickers\";\nimport MomentUtils from \"@date-io/moment\";\n\nimport { useSnackbar } from \"notistack\";\nimport MaskedInput, { conformToMask } from \"react-text-mask\";\nimport moment from \"moment\";\n\nimport { saveDataUpdate } from \"../ajax\";\nimport { getCurrentUser } from \"../../sessions/auth\";\n\nconst logger_number_mask = [\"(\", \"+\", \"6\", \"3\", \"9\", \")\", \" \", /\\d/, /\\d/, \"-\", /\\d/, /\\d/, /\\d/, \"-\", /\\d/, /\\d/, /\\d/, /\\d/];\nconst conforming_mobile_mask = [\"(\", \"+\", /\\d/, /\\d/, /\\d/, \")\", \" \", /\\d/, /\\d/, \"-\", /\\d/, /\\d/, /\\d/, \"-\", /\\d/, /\\d/, /\\d/, /\\d/];\n\n\nfunction TextMaskCustom (props) {\n    const { inputRef, mask, ...other } = props;\n  \n    return (\n        <MaskedInput\n            {...other}\n            ref={ref => {\n                inputRef(ref ? ref.inputElement : null);\n            }}\n            mask={mask} placeholderChar=\"x\"\n            showMask\n        />\n    );\n}\n\nfunction RainSection (props) {\n    const { rainGauge, saveUpdate } = props;\n    const { date_activated, date_deactivated, rain_id } = rainGauge;\n    const [is_edit, setIsEdit] = useState(false);\n    const initial_data = {\n        value: date_deactivated, helper_text: null\n    };\n    const [date_deact, setDateDeact] = useState(initial_data);\n    \n    useEffect(() => {\n        setDateDeact(initial_data);\n    }, [rainGauge]);\n    \n    const updateDeact = value => {\n        let helper_text = \"\";\n        if (value === null) helper_text = \"Required field\";\n        else if (!value.isValid()) helper_text = \"Enter a valid date\";\n        setDateDeact({\n            value, helper_text\n        });\n    };\n\n    const save = () => {\n        setIsEdit(false);\n        const updated_data = {\n            date_deactivated: date_deact.value.format(\"YYYY-MM-DD\"),\n            section: \"rain\",\n            rain_id\n        };\n        saveUpdate(updated_data);\n    };\n\n    const deact = date_deact.value ? moment(date_deact.value).format(\"DD MMMM YYYY\") : \"---\";\n\n    return <Card variant=\"outlined\">\n        <CardContent component={Grid} container spacing={2}>\n            <Typography variant=\"subtitle1\" display=\"block\" component={Grid} item xs={12}>\n                <strong>RAIN GAUGE</strong>\n            </Typography>\n\n            { !is_edit && <Fragment>\n                <Typography component={Grid}\n                    item xs={12} md={6}\n                    variant=\"body1\" align=\"center\"\n                >\n                    <strong>Date activated:</strong> {moment(date_activated).format(\"DD MMMM YYYY\")}\n                </Typography>\n\n                <Typography component={Grid}\n                    item xs={12} md={6}\n                    variant=\"body1\" align=\"center\"\n                >\n                    <strong>Date deactivated:</strong> {deact}\n                </Typography>\n            </Fragment> }\n\n            { is_edit && <MuiPickersUtilsProvider utils={MomentUtils}>\n                <Grid item xs={12} container justify=\"center\">\n                    <KeyboardDatePicker\n                        required\n                        autoOk\n                        label=\"Date Deactivated\"\n                        value={date_deact.value || null}\n                        onChange={e => updateDeact(e)}\n                        helperText={date_deact.helper_text || \"\"}\n                        error={Boolean(date_deact.helper_text)}\n                        ampm={false}\n                        placeholder=\"2010/01/01\"\n                        format=\"YYYY/MM/DD\"\n                        mask=\"____/__/__\"\n                        clearable\n                        disableFuture\n                    />\n                </Grid> \n            </MuiPickersUtilsProvider> }\n        </CardContent>\n    \n        <CardActions style={{ justifyContent: \"flex-end\" }}>\n            {\n                !is_edit && (\n                    <Button color=\"primary\" onClick={() => setIsEdit(true)}>Edit</Button>\n                )\n            }\n            {\n                is_edit && (\n                    <Fragment>\n                        <Button color=\"primary\" onClick={() => setIsEdit(false)}>Cancel</Button>\n                        <Button color=\"secondary\"\n                            onClick={() => save()}\n                            disabled={Boolean(date_deact.helper_text) || date_deact.helper_text === null}\n                        >\n                            Save\n                        </Button>\n                    </Fragment>\n                )\n            }\n        </CardActions>\n    </Card>;\n}\n\nfunction TiltSection (props) {\n    const { tsmSensor, saveUpdate } = props;\n    const {\n        date_activated, date_deactivated, version,\n        number_of_segments, segment_length, tsm_id\n    } = tsmSensor;\n    const [is_edit, setIsEdit] = useState(false);\n    const initial_data = {\n        value: date_deactivated, helper_text: null\n    };\n    const [date_deact, setDateDeact] = useState(initial_data);\n\n    useEffect(() => {\n        setDateDeact(initial_data);\n    }, [tsmSensor]);\n\n    const updateDeact = value => {\n        let helper_text = \"\";\n        if (value === null) helper_text = \"Required field\";\n        else if (!value.isValid()) helper_text = \"Enter a valid date\";\n        setDateDeact({\n            value, helper_text\n        });\n    };\n\n    const save = () => {\n        setIsEdit(false);\n        const updated_data = {\n            date_deactivated: date_deact.value.format(\"YYYY-MM-DD\"),\n            section: \"tilt\",\n            tsm_id\n        };\n        saveUpdate(updated_data);\n    };\n\n    const deact = date_deact.value ? moment(date_deact.value).format(\"DD MMMM YYYY\") : \"---\";\n\n    return <Card variant=\"outlined\">\n        <CardContent component={Grid} container spacing={2}>\n            <Typography variant=\"subtitle1\" display=\"block\" component={Grid} item xs={12}>\n                <strong>TILT SENSOR</strong>\n            </Typography>\n\n            { !is_edit && <Fragment>\n                <Typography component={Grid}\n                    item xs={12} sm={12} md={4}\n                    variant=\"body1\" align=\"center\"\n                >\n                    <strong>Version:</strong> {version}\n                </Typography>\n\n                <Typography component={Grid}\n                    item xs={12} sm={6} md={4}\n                    variant=\"body1\" align=\"center\"\n                >\n                    <strong>No. of segments:</strong> {number_of_segments}\n                </Typography>\n\n                <Typography component={Grid}\n                    item xs={12} sm={6} md={4}\n                    variant=\"body1\" align=\"center\"\n                >\n                    <strong>Segment length:</strong> {segment_length}\n                </Typography>\n\n                <Typography component={Grid}\n                    item xs={12} md={6}\n                    variant=\"body1\" align=\"center\"\n                >\n                    <strong>Date activated:</strong> {moment(date_activated).format(\"DD MMMM YYYY\")}\n                </Typography>\n\n                <Typography component={Grid}\n                    item xs={12} md={6}\n                    variant=\"body1\" align=\"center\"\n                >\n                    <strong>Date deactivated:</strong> {deact}\n                </Typography>\n            </Fragment>}\n\n            { is_edit && <MuiPickersUtilsProvider utils={MomentUtils}>\n                <Grid item xs={12} container justify=\"center\">\n                    <KeyboardDatePicker\n                        required\n                        autoOk\n                        label=\"Date Deactivated\"\n                        value={date_deact.value || null}\n                        onChange={e => updateDeact(e)}\n                        helperText={date_deact.helper_text || \"\"}\n                        error={Boolean(date_deact.helper_text)}\n                        ampm={false}\n                        placeholder=\"2010/01/01\"\n                        format=\"YYYY/MM/DD\"\n                        mask=\"____/__/__\"\n                        clearable\n                        disableFuture\n                    />\n                </Grid> \n            </MuiPickersUtilsProvider> }\n        </CardContent>\n    \n        <CardActions style={{ justifyContent: \"flex-end\" }}>\n            {\n                !is_edit && (\n                    <Button color=\"primary\" onClick={() => setIsEdit(true)}>Edit</Button>\n                )\n            }\n            {\n                is_edit && (\n                    <Fragment>\n                        <Button color=\"primary\" onClick={() => setIsEdit(false)}>Cancel</Button>\n                        <Button color=\"secondary\"\n                            onClick={() => save()}\n                            disabled={Boolean(date_deact.helper_text) || date_deact.helper_text === null}\n                        >\n                            Save\n                        </Button>\n                    </Fragment>\n                )\n            }\n        </CardActions>\n    </Card>;\n}\n\nfunction AccelerometersSection (props) {\n    const { tsmSensor, saveUpdate } = props;\n    const {\n        version, accelerometers\n    } = tsmSensor;\n    return <Card variant=\"outlined\">\n        <CardContent component={Grid} container spacing={2}>\n            <Typography variant=\"subtitle1\" display=\"block\" component={Grid} item xs={12}>\n                <strong>ACCELEROMETERS</strong>\n            </Typography>\n\n            {\n                accelerometers.map(row => <IndividualAccelerometers\n                    row={row} version={version} key={row.accel_id}\n                    saveUpdate={saveUpdate}\n                />)\n            }\n        </CardContent>\n    </Card>;\n}\n\nfunction IndividualAccelerometers (props) {\n    const { row, version, saveUpdate } = props;\n    const {\n        node_id, accel_number, voltage_min,\n        voltage_max, in_use, date_updated,\n        status, accel_id, tsm_id\n    } = row;\n    const default_flag = { status: \"\", remarks: \"\" };\n\n    const [is_edit, setIsEdit] = useState(false);\n    const [data, setData] = useState({\n        in_use: Boolean(in_use),\n        voltage_max,\n        voltage_min,\n        date_updated,\n        ...default_flag\n    });\n\n    const [add_flag, setAddFlag] = useState(false);\n    useEffect(() => {\n        setData({ ...data, ...default_flag });\n    }, [add_flag]);\n\n    const update_data = (field, value) => {\n        setData({ ...data, [field]: value });\n    };\n\n    const is_disabled = Object.keys(data).some(x => data[x] === \"\");\n\n    const update_ts = data.date_updated !== null ? moment(data.date_updated).format(\"DD MMMM YYYY\") : \"---\";\n    const get_status = stat => {\n        if (stat === 2) return \"Use with caution\";\n        if (stat === 3) return \"Special case\";\n        if (stat === 4) return \"Not OK\";\n        return \"\";\n    };\n\n    const save = () => {\n        setIsEdit(false);\n        const ts_updated = moment().format(\"YYYY-MM-DD\");\n        const updated_data = {\n            ...data,\n            section: \"accelerometers\",\n            accel_id,\n            node_id,\n            tsm_id,\n            has_new_status: add_flag,\n            flagger: getCurrentUser(),\n            ts_updated\n        };\n        saveUpdate(updated_data);\n    };\n\n    return <Fragment key={accel_id}>\n        <Grid item xs={12}><Divider /></Grid>\n\n        <Typography variant=\"subtitle1\" \n            display=\"block\" component={Grid} \n            item xs={12}\n        >\n            <strong><u>Node {node_id}{ version === 1 ? \"\" : `, Accel ${accel_number}`}</u></strong>\n        </Typography>\n\n        {\n            !is_edit && <Fragment>\n                <Typography component={Grid}\n                    item xs={12} sm={4} md={6} lg={2}\n                    variant=\"body1\" align=\"center\"\n                >\n                    <strong>Active:</strong> {data.in_use ? \"Yes\" : \"No\"}\n                </Typography>\n\n                <Typography component={Grid}\n                    item xs={12} sm={4} md={6} lg={3}\n                    variant=\"body1\" align=\"center\"\n                >\n                    <strong>Min Voltage:</strong> {data.voltage_min}\n                </Typography>\n\n                <Typography component={Grid}\n                    item xs={12} sm={4} md={6} lg={3}\n                    variant=\"body1\" align=\"center\"\n                >\n                    <strong>Max Voltage:</strong> {data.voltage_max}\n                </Typography>\n\n                <Typography component={Grid}\n                    item xs={12} sm={12} md={6} lg={4}\n                    variant=\"body1\" align=\"center\"\n                >\n                    <strong>Last Update:</strong> {update_ts}\n                </Typography>\n\n                {\n                    status.length > 0 && <Fragment>\n                        <Typography variant=\"subtitle1\" \n                            display=\"block\" component={Grid} \n                            item xs={12}\n                        >\n                            <strong>Latest Flag</strong>\n                        </Typography>\n\n                        <Typography component={Grid}\n                            item xs={12} sm={12} md={6} lg={4}\n                            variant=\"body1\" align=\"center\"\n                        >\n                            <strong>Status:</strong> {get_status(status[0].status)}\n                        </Typography>\n\n                        <Typography component={Grid}\n                            item xs={12} sm={12} md={6} lg={4}\n                            variant=\"body1\" align=\"center\"\n                        >\n                            <strong>Timestamp:</strong> {moment(status[0].ts_flagged).format(\"DD MMMM YYYY\")}\n                        </Typography>\n\n                        <Typography component={Grid}\n                            item xs={12} sm={12} md={12} lg={4}\n                            variant=\"body1\" align=\"center\"\n                        >\n                            <strong>Flagger:</strong> {status[0].flagger}\n                        </Typography>\n\n                        <Typography component={Grid}\n                            item xs={12}\n                            variant=\"body1\" align=\"center\"\n                        >\n                            <strong>Remarks:</strong> {status[0].remarks || \"---\"}\n                        </Typography>\n                    </Fragment>\n                }\n            </Fragment> }\n\n        {\n            is_edit && <Fragment>\n                <FormControl fullWidth\n                    component={Grid}\n                    item xs={12} sm={3}\n                    style={{ justifyContent: \"center\", alignItems: \"center\" }}\n                >\n                    <FormControlLabel\n                        control={\n                            <Checkbox\n                                checked={data.in_use}\n                                onChange={e => update_data(\"in_use\", e.target.checked)}\n                                name=\"isActive\"\n                                color=\"primary\"\n                            />\n                        }\n                        label=\"Active\"\n                    />\n                </FormControl>\n\n                <Grid item xs={12} sm={3}>\n                    <TextField\n                        fullWidth\n                        required\n                        label=\"Min Voltage\"\n                        type=\"number\"\n                        value={data.voltage_min}\n                        onChange={e => update_data(\"voltage_min\", e.target.value)}\n                        helperText={data.voltage_min ? \"\" : \"Required field\"}\n                        error={!data.voltage_min && data.voltage_min !== 0}\n                    />\n                </Grid>\n\n                <Grid item xs={12} sm={3}>\n                    <TextField\n                        fullWidth\n                        required\n                        label=\"Max Voltage\"\n                        type=\"number\"\n                        value={data.voltage_max}\n                        onChange={e => update_data(\"voltage_max\", e.target.value)}\n                        helperText={data.voltage_max ? \"\" : \"Required field\"}\n                        error={!data.voltage_max && data.voltage_max !== 0}\n                    />\n                </Grid>\n\n                <Grid item xs={12} sm={3} align=\"center\">\n                    <Button color=\"primary\" variant=\"contained\" onClick={() => setAddFlag(!add_flag)}>\n                        { add_flag ? \"Cancel flag\" : \"Add flag\" }\n                    </Button>\n                </Grid>\n\n                {\n                    add_flag && <Fragment>\n                        <Grid item xs={12} sm={3}>\n                            <FormControl required fullWidth \n                                error={!data.status}\n                            >\n                                <InputLabel>Status</InputLabel>\n                                <Select\n                                    value={data.status}\n                                    onChange={e => update_data(\"status\", e.target.value)}\n                                    error={!data.status}\n                                >\n                                    <MenuItem value=\"\">\n                                        <em>None</em>\n                                    </MenuItem>          \n                                    <MenuItem value=\"2\" key=\"2\">Use with caution</MenuItem>\n                                    <MenuItem value=\"3\" key=\"3\">Special case</MenuItem>\n                                    <MenuItem value=\"4\" key=\"4\">Not OK</MenuItem>\n                                </Select>\n                                <FormHelperText error>{data.status ? \"\" : \"Required field\"}</FormHelperText>\n                            </FormControl>\n                        </Grid>\n\n                        <Grid item xs={12} sm={9}>\n                            <TextField\n                                fullWidth\n                                required\n                                label=\"Remarks\"\n                                value={data.remarks}\n                                onChange={e => update_data(\"remarks\", e.target.value)}\n                                helperText={data.remarks ? \"\" : \"Required field\"}\n                                error={!data.remarks}\n                            />\n                        </Grid>\n                    </Fragment>\n                }\n            </Fragment>\n        }\n\n        <Grid item xs={12} align=\"right\">\n            {\n                !is_edit && (\n                    <Button color=\"primary\" onClick={() => setIsEdit(true)}>Edit</Button>\n                )\n            }\n            {\n                is_edit && (\n                    <Fragment>\n                        <Button color=\"primary\" onClick={() => setIsEdit(false)}>Cancel</Button>\n                        <Button color=\"secondary\"\n                            onClick={() => save()}\n                            disabled={is_disabled}\n                        >\n                            Save\n                        </Button>\n                    </Fragment>\n                )\n            }\n        </Grid>\n    </Fragment>;\n}\n\nfunction MainSection (props) {\n    const { selectedLogger, saveUpdate } = props;\n    const {\n        date_activated, date_deactivated, latitude,\n        longitude, logger_id, logger_mobile: { sim_num, mobile_id },\n        logger_model: { logger_type }\n    } = selectedLogger;\n\n    const { conformedValue: conformed_sim } = conformToMask(sim_num, conforming_mobile_mask);\n    const initial_value = {\n        date_deactivated: { value: date_deactivated, helper_text: \"\", required: false },\n        logger_number: { value: conformed_sim, helper_text: \"\", required: true },\n        latitude: { value: latitude, helper_text: \"\", required: true },\n        longitude: { value: longitude, helper_text: \"\", required: true }\n    };\n    const [is_edit, setIsEdit] = useState(false);\n    const [data, setData] = useState(initial_value);\n\n    useEffect(() => {\n        setData(initial_value);\n    }, [selectedLogger]);\n\n    const update = (field, value) => {\n        const field_val = data[field];\n        let helper_text = \"\";\n        if (value === \"\" && Boolean(field_val.required)) helper_text = \"Required field\";\n        if (field === \"date_deactivated\" && value !== null && !value.isValid()) helper_text = \"Enter a valid date\";\n        if (field === \"logger_number\" && value.includes(\"x\")) helper_text = \"Enter complete mobile number\";\n\n        const new_data = { ...data,\n            [field]: { ...field_val, value, helper_text }\n        };\n        setData(new_data);\n    };\n\n    const checkFields = () => {\n        return Object.keys(data).some(key => {\n            const { required, helper_text } = data[key];\n\n            return (\n                required && (helper_text !== \"\" ) ||\n                (!required && (helper_text !== \"\"))\n            );\n        });\n    };\n    const [is_disabled, setIsDisabled] = useState(false);\n    useEffect(() => setIsDisabled(checkFields()), [data]);\n\n    const save = () => {\n        setIsEdit(false);\n        const updated_data = {};\n        Object.keys(data).forEach(key => {\n            const { value } = data[key];\n            let val = value;\n            if (moment.isMoment(value)) val = value.format(\"YYYY-MM-DD\");\n            if (key === \"logger_number\") val = value.replace(/[()+-\\s]/g, \"\");\n            updated_data[key] = val;\n        });\n        updated_data.section = \"loggers\";\n        updated_data.mobile_id = mobile_id;\n        updated_data.logger_id = logger_id;\n        saveUpdate(updated_data);\n    };\n\n    const deact = data.date_deactivated.value ? moment(data.date_deactivated.value).format(\"DD MMMM YYYY\") : \"---\";\n\n    return (\n        <Card variant=\"outlined\">\n            <CardContent component={Grid} container spacing={2}>\n                <Typography variant=\"subtitle1\" display=\"block\" component={Grid} item xs={12}>\n                    <strong>LOGGER INFO</strong>\n                </Typography>\n\n                { !is_edit && <Fragment>\n                    <Typography component={Grid}\n                        item xs={12} sm={6} lg={4}\n                        variant=\"body1\" align=\"center\"\n                    >\n                        <strong>Date installed:</strong> {moment(date_activated).format(\"DD MMMM YYYY\")}\n                    </Typography>\n\n                    <Typography component={Grid}\n                        item xs={12} sm={6} lg={4}\n                        variant=\"body1\" align=\"center\"\n                    >\n                        <strong>Date deactivated:</strong> {deact}\n                    </Typography>\n\n                    <Typography component={Grid}\n                        item xs={12} sm={6} lg={4}\n                        variant=\"body1\" align=\"center\"\n                    >\n                        <strong>Type:</strong> {logger_type.toUpperCase()}\n                    </Typography>\n\n                    <Typography component={Grid}\n                        item xs={12} sm={6} lg={4}\n                        variant=\"body1\" align=\"center\"\n                    >\n                        <strong>Logger number:</strong> +{data.logger_number.value}\n                    </Typography>\n\n                    <Typography component={Grid}\n                        item xs={12} sm={6} lg={4}\n                        variant=\"body1\" align=\"center\"\n                    >\n                        <strong>Latitude:</strong> {data.latitude.value}\n                    </Typography>\n\n                    <Typography component={Grid}\n                        item xs={12} sm={6} lg={4}\n                        variant=\"body1\" align=\"center\"\n                    >\n                        <strong>Longitude:</strong> {data.longitude.value}\n                    </Typography>\n                </Fragment>}\n\n                { is_edit && <Fragment>\n                    <MuiPickersUtilsProvider utils={MomentUtils}>\n                        <Grid item xs={6} lg={3}>\n                            <KeyboardDatePicker\n                                autoOk\n                                label=\"Date Deactivated\"\n                                value={data.date_deactivated.value || null}\n                                onChange={e => update(\"date_deactivated\", e)}\n                                helperText={data.date_deactivated.helper_text || \"\"}\n                                error={Boolean(data.date_deactivated.helper_text)}\n                                ampm={false}\n                                placeholder=\"2010/01/01\"\n                                format=\"YYYY/MM/DD\"\n                                mask=\"____/__/__\"\n                                clearable\n                                disableFuture\n                                fullWidth\n                            />\n                        </Grid> \n                    </MuiPickersUtilsProvider>\n\n                    <Grid item xs={6} lg={3}>\n                        <TextField\n                            required\n                            fullWidth\n                            label=\"Logger Number\"\n                            InputProps={{\n                                inputComponent: TextMaskCustom,\n                                inputProps: { mask: logger_number_mask }\n                            }}\n                            InputLabelProps={{ shrink: true }}\n                            value={data.logger_number.value}\n                            onChange={e => update(\"logger_number\", e.target.value)}\n                            helperText={data.logger_number.helper_text || \"\"}\n                            error={Boolean(data.logger_number.helper_text)}\n                        />\n                    </Grid>\n\n                    <Grid item xs={6} lg={3}>\n                        <TextField\n                            fullWidth\n                            required\n                            label=\"Latitude\"\n                            type=\"number\"\n                            value={data.latitude.value}\n                            onChange={e => update(\"latitude\", e.target.value)}\n                            helperText={data.latitude.helper_text || \"\"}\n                            error={Boolean(data.latitude.helper_text)}\n                        />\n                    </Grid>\n\n                    <Grid item xs={6} lg={3}>\n                        <TextField\n                            fullWidth\n                            required\n                            label=\"Longitude\"\n                            type=\"number\"\n                            value={data.longitude.value}\n                            onChange={e => update(\"longitude\", e.target.value)}\n                            helperText={data.longitude.helper_text || \"\"}\n                            error={Boolean(data.longitude.helper_text)}\n                        />\n                    </Grid>\n                </Fragment> }\n            </CardContent>\n        \n            <CardActions style={{ justifyContent: \"flex-end\" }}>\n                {\n                    !is_edit && (\n                        <Button color=\"primary\" onClick={() => setIsEdit(true)}>Edit</Button>\n                    )\n                }\n                {\n                    is_edit && (\n                        <Fragment>\n                            <Button color=\"primary\" onClick={() => setIsEdit(false)}>Cancel</Button>\n                            <Button color=\"secondary\"\n                                onClick={() => save()}\n                                disabled={is_disabled}\n                            >\n                                Save\n                            </Button>\n                        </Fragment>\n                    )\n                }\n            </CardActions>\n        </Card>\n    );\n}\n\nfunction LoggerDetails (props) {\n    const { selectedLogger, setReloadList } = props;\n    const {\n        logger_name, logger_model: {\n            has_rain, has_tilt\n        }, tsm_sensor, rain_gauge\n    } = selectedLogger;\n\n    const { enqueueSnackbar, closeSnackbar } = useSnackbar();\n\n    const snackBarActionFn = key => {\n        return (<Button\n            color=\"primary\"\n            onClick={() => { closeSnackbar(key); }}\n        >\n            Dismiss\n        </Button>);\n    };\n\n    const save_update = updated_data => {\n        // eslint-disable-next-line no-param-reassign\n        updated_data.has_rain = has_rain;\n        if (has_rain === 1) {\n            // eslint-disable-next-line no-param-reassign\n            updated_data.rain = rain_gauge;\n        }\n        setReloadList(true);\n        console.log(updated_data);\n        saveDataUpdate(updated_data, data => {\n            const { status, message } = data;\n            let variant;\n            if (status === true) {\n                variant = \"success\";\n            } else {\n                variant = \"error\";\n            }\n\n            enqueueSnackbar(\n                message,\n                {\n                    variant,\n                    autoHideDuration: 5000,\n                    action: snackBarActionFn\n                }\n            );\n        });\n    };\n\n    return (\n        <Grid container spacing={2} justify=\"space-evenly\">\n            <Typography\n                component={Grid}\n                item xs={12}\n                variant=\"h6\"\n            >\n                <strong>{logger_name.toUpperCase()}</strong>\n            </Typography>\n\n            <Grid item xs={12}>\n                <MainSection\n                    selectedLogger={selectedLogger}\n                    saveUpdate={save_update} />\n            </Grid>\n\n            {\n                has_rain === 1 && Boolean(rain_gauge) && \n                    <Grid item xs={12}><RainSection rainGauge={rain_gauge} saveUpdate={save_update} /></Grid>\n            }\n\n            {\n                has_tilt === 1 && Boolean(tsm_sensor) &&\n                    <Fragment>\n                        <Grid item xs={12}><TiltSection tsmSensor={tsm_sensor} saveUpdate={save_update} /></Grid>\n                        <Grid item xs={12}><AccelerometersSection tsmSensor={tsm_sensor} saveUpdate={save_update} /></Grid>\n                    </Fragment>\n            }\n        </Grid>\n    );\n}\n\nexport default LoggerDetails;","import React, { useReducer, useState, useEffect } from \"react\";\n\nimport {\n    Grid, FormControl, TextField,\n    Typography, Card, CardContent\n} from \"@material-ui/core\";\n\nimport { MuiPickersUtilsProvider, KeyboardDatePicker } from \"@material-ui/pickers\";\nimport MomentUtils from \"@date-io/moment\";\nimport moment from \"moment\";\n\nfunction sanitizeData (data) {\n    const get_value = obj => {\n        return Object.keys(obj).reduce((bank, key) => {\n            const temp_bank = { ...bank };\n            const { value } = obj[key];\n            let temp_value = value;\n    \n            if (typeof value === \"undefined\") {\n                temp_value = get_value(obj[key]);\n            }\n            \n            if (value === \"\") {\n                temp_value = null;\n            }\n\n            if (key === \"site\") {\n                temp_value = value.data;\n            }\n\n            if (moment.isMoment(value)) {\n                temp_value = value.format(\"YYYY-MM-DD HH:mm:ss\");\n            }\n    \n            temp_bank[key] = temp_value;\n            return temp_bank;\n        }, {});\n    };\n\n    const clean_data = get_value(data);\n    return clean_data;\n}\n\nlet getHelperText = null;\nfunction reducerFunction (state, action) {\n    const { type, field, value } = action;\n    const field_value = state[field];\n\n    const new_value = value;\n    const test_helper_value = value;\n\n    const { required } = field_value;\n    const new_helper_text = getHelperText(field, test_helper_value, required);\n\n    switch (type) {\n        case \"UPDATE\":\n            return { ...state, [field]: {\n                ...field_value,\n                value: new_value,\n                helper_text: new_helper_text\n            } };\n        default:\n            return { ...state };\n    }\n}\n\nfunction TiltForm (props) {\n    const {\n        onTiltFormUpdate, initReducer, getHelperText: ght,\n        checkInputFields\n    } = props;\n    getHelperText = ght;\n\n    const initial_data = {\n        date_activated: null,\n        version: \"\",\n        segment_length: \"\",\n        number_of_segment: \"\"\n    };\n    const [segment_list, setSegmentList] = useState([]);\n    const [tsm_data, dispatch] = useReducer(reducerFunction, initial_data, initReducer);\n\n    const onNumberOfSegmentChange = value => {\n        dispatch({ type: \"UPDATE\", field: \"number_of_segment\", value });\n        const len = value !== \"\" ? parseInt(value, 10) : 0;\n        const arr = Array.from(Array(len), (v, i) => null);\n        setSegmentList([...arr]);\n    };\n    \n    const onSegmentInputChange = (value, index) => {\n        const copy = [...segment_list];\n        copy[index] = value;\n        setSegmentList(copy);\n    };\n\n    useEffect(() => {\n        const has_reg_error = checkInputFields(tsm_data);\n        const has_segment_error = segment_list.some(x => x === null || x === \"\");\n        const has_error = has_reg_error || has_segment_error;\n        \n        const value = {\n            ...tsm_data,\n            segment_list: {\n                value: segment_list\n            }\n        };\n\n        const clean_data = sanitizeData(value);\n        onTiltFormUpdate(clean_data, has_error);\n    }, [tsm_data, segment_list]);\n\n    return (\n        <Card variant=\"outlined\"><CardContent component={Grid} container spacing={2}>\n            <Typography variant=\"h6\" display=\"block\" component={Grid} item xs={12}>\n                <strong>Tilt Sensor</strong>\n            </Typography>\n\n            <MuiPickersUtilsProvider utils={MomentUtils}>\n                <Grid item xs={6} md={3}>\n                    <KeyboardDatePicker\n                        autoOk\n                        label=\"Date Activated\"\n                        value={tsm_data.date_activated.value || null}\n                        onChange={e => dispatch({ type: \"UPDATE\", field: \"date_activated\", value: e })}\n                        helperText={tsm_data.date_activated.helper_text || \"\"}\n                        error={Boolean(tsm_data.date_activated.helper_text)}\n                        ampm={false}\n                        placeholder=\"2010/01/01\"\n                        format=\"YYYY/MM/DD\"\n                        mask=\"____/__/__\"\n                        clearable\n                        disableFuture\n                        fullWidth\n                    />\n                </Grid> \n            </MuiPickersUtilsProvider>\n\n            <Grid item xs={6} md={2}>\n                <FormControl fullWidth>\n                    <TextField\n                        required\n                        label=\"Version\"\n                        type=\"number\"\n                        value={tsm_data.version.value}\n                        onChange={e => dispatch({ type: \"UPDATE\", field: \"version\", value: e.target.value })}\n                        helperText={tsm_data.version.helper_text || \"\"}\n                        error={Boolean(tsm_data.version.helper_text)}\n                    />\n                </FormControl>\n            </Grid>\n\n            <Grid item xs={6} md={3}>\n                <FormControl fullWidth>\n                    <TextField\n                        required\n                        label=\"Segment Length\"\n                        type=\"number\"\n                        value={tsm_data.segment_length.value}\n                        onChange={e => dispatch({ type: \"UPDATE\", field: \"segment_length\", value: e.target.value })}\n                        helperText={tsm_data.segment_length.helper_text || \"\"}\n                        error={Boolean(tsm_data.segment_length.helper_text)}\n                    />\n                </FormControl>\n            </Grid>\n\n            <Grid item xs={6} md={4}>\n                <FormControl fullWidth>\n                    <TextField\n                        required\n                        label=\"Number of Segment\"\n                        type=\"number\"\n                        value={tsm_data.number_of_segment.value}\n                        onChange={e => onNumberOfSegmentChange(e.target.value)}\n                        helperText={tsm_data.number_of_segment.helper_text || \"\"}\n                        error={Boolean(tsm_data.number_of_segment.helper_text)}\n                    />\n                </FormControl>\n            </Grid>\n                    \n            {\n                segment_list.length !== 0 && (\n                    <Typography variant=\"overline\" display=\"block\" component={Grid} item xs={12}>\n                        Segments\n                    </Typography>\n                )\n            }\n\n            {\n                segment_list.length !== 0 && (\n                    segment_list.map((value, i) => (\n                        <Grid item xs={4} sm={3} lg={2} key={`segment_container_${i + 1}`}>\n                            <FormControl fullWidth>\n                                <TextField\n                                    required\n                                    label={`Segment ${i + 1}`}\n                                    key={`segment_${i + 1}`}\n                                    type=\"number\"\n                                    placeholder=\"Enter ID\"\n                                    InputLabelProps={{\n                                        shrink: true,\n                                    }}\n                                    value={value || \"\"}\n                                    onChange={e => onSegmentInputChange(e.target.value, i)}\n                                    helperText={value === \"\" ? \"Required field\" : \"\"}\n                                    error={Boolean(value === \"\")}\n                                />\n                            </FormControl>\n                        </Grid>\n                    ))\n                )\n            }\n        </CardContent></Card>\n    );\n}\n\nexport default TiltForm;","import React, { useState, useEffect, useReducer } from \"react\";\n\nimport {\n    Card, CardContent,\n    Grid, Typography, Button,\n    TextField, Checkbox, Radio,\n    FormControl, InputLabel, MenuItem,\n    Select, FormLabel, FormGroup, FormControlLabel,\n    FormHelperText, RadioGroup, Divider\n} from \"@material-ui/core\";\nimport { MuiPickersUtilsProvider, KeyboardDatePicker } from \"@material-ui/pickers\";\nimport MomentUtils from \"@date-io/moment\";\n\nimport MaskedInput from \"react-text-mask\";\nimport moment from \"moment\";\nimport { useSnackbar } from \"notistack\";\n\nimport TiltForm from \"./TiltForm\";\nimport { saveLoggerDeployment } from \"../ajax\";\n\nimport DynaslopeSiteSelectInputForm from \"../../reusables/DynaslopeSiteSelectInputForm\";\nimport { capitalizeFirstLetter } from \"../../../UtilityFunctions\";\n\nconst logger_number_mask = [\"(\", \"+\", \"6\", \"3\", \"9\", \")\", \" \", /\\d/, /\\d/, \"-\", /\\d/, /\\d/, /\\d/, \"-\", /\\d/, /\\d/, /\\d/, /\\d/];\n\nfunction TextMaskCustom (props) {\n    const { inputRef, mask, ...other } = props;\n  \n    return (\n        <MaskedInput\n            {...other}\n            ref={ref => {\n                inputRef(ref ? ref.inputElement : null);\n            }}\n            mask={mask} placeholderChar=\"x\"\n            showMask\n        />\n    );\n}\n\nfunction removeMobileNumberMask (logger_number) {\n    const altered = logger_number.replace(/[()+-\\s]/g, \"\");\n    return altered;\n}\n\nfunction sanitizeData (data) {\n    const get_value = obj => {\n        return Object.keys(obj).reduce((bank, key) => {\n            const temp_bank = { ...bank };\n            const { value } = obj[key];\n            let temp_value = value;\n    \n            if (typeof value === \"undefined\") {\n                temp_value = get_value(obj[key]);\n            }\n            \n            if (value === \"\") {\n                temp_value = null;\n            } \n            \n            if (key === \"logger_number\") {\n                temp_value = removeMobileNumberMask(value);\n            }\n\n            if (key === \"site\") {\n                temp_value = value.data;\n            }\n\n            if (moment.isMoment(value)) {\n                temp_value = value.format(\"YYYY-MM-DD\");\n            }\n    \n            temp_bank[key] = temp_value;\n            return temp_bank;\n        }, {});\n    };\n\n    const clean_data = get_value(data);\n    return clean_data;\n}\n\nfunction getHelperText (field, value, required) {\n    if (value === \"\" && required) return \"Required field\";\n\n    if (field === \"logger_number\") {\n        if (value.includes(\"x\")) return \"Enter complete mobile number\";\n    }\n\n    if ([\"date_installed\", \"date_activated\"].includes(field)) {\n        if (value !== null && !value.isValid()) return \"Enter a valid date\";\n    }\n\n    if ([\"installed_sensors\", \"personnel\"].includes(field)) {\n        if (value.length === 0) return true;\n    }\n \n    if (field === \"version\" || field === \"segment_length\" || field === \"number_of_segment\") {\n        if (value === 0 || value === \"0\") return \"Invalid value\";\n    }\n\n    if (field === \"segment_list\") {\n        const check_segment_value = Object.keys(value).some(key => {\n            const { segment_value } = value[key];\n            return segment_value === \"\";\n        });\n\n        if (check_segment_value) return \"Invalid segment value inserted\";\n    }\n    \n    return \"\";\n}\n\nfunction reducerFunction (state, action) {\n    const { type, field, value } = action;\n    let field_value = state[field];\n\n    let new_value = value;\n    let test_helper_value = value;\n    if ([\"installed_sensors\", \"personnel\"].includes(field)) {\n        const { name, checked } = value;\n        const { value: val } = field_value;\n        if (checked) {\n            val.push(name);\n            new_value = val;\n        } else {\n            new_value = val.filter(x => x !== name);\n        }\n\n        test_helper_value = new_value;\n    }\n    \n    try {\n        // only UPDATE_SENSOR will enter this\n        if (field === \"tilt\") {\n            const { tilt_data, test_value } = value;\n            new_value = tilt_data;\n            test_helper_value = test_value;\n        }\n\n        const { sensor } = value;\n        if (state.installed_sensors.value.includes(sensor)) {\n            const { data } = value;\n            new_value = data;\n            test_helper_value = data;\n            field_value = state[sensor][field];\n        }\n    } catch (error) {\n        // sensor checkboxes will enter this from DELETE_ATTRIBUTE\n    }\n\n    let required = false;\n    try {\n        const { required: r } = field_value;\n        required = r;\n    } catch (error) {\n        // sensor checkboxes will enter this from ADD_ATTRIBUTE\n    }\n\n    const new_helper_text = getHelperText(field, test_helper_value, required);\n\n    switch (type) {\n        case \"UPDATE\":\n            return { ...state, [field]: {\n                ...field_value,\n                value: new_value,\n                helper_text: new_helper_text\n            } };\n        case \"ADD_ATTRIBUTE\":\n            return { ...state, [field]: value };\n        case \"UPDATE_SENSOR\":\n            // eslint-disable-next-line no-case-declarations\n            const { sensor } = value;\n            return { ...state, [sensor]: {\n                [field]: {\n                    ...field_value,\n                    value: new_value,\n                    helper_text: new_helper_text\n                }\n            } };\n        case \"UPDATE_TILT\":\n            return { ...state, [field]: {\n                ...field_value,\n                value: new_value,\n                helper_text: new_helper_text\n            } };\n        case \"DELETE_ATTRIBUTE\":\n            // eslint-disable-next-line no-param-reassign\n            delete state[field];\n            return state;\n        case \"RESET\":\n            // eslint-disable-next-line no-case-declarations\n            const reset_data = initReducer(new_value);\n            return { ...reset_data };\n        default:\n            return { ...state };\n    }\n}\n\nfunction initReducer (data) {\n    const new_data = {};\n    const not_required_list = [\"date_activated\"];\n    Object.keys(data).forEach(key => {\n        const new_helper_text = null;\n        const required = !not_required_list.includes(key);\n        new_data[key] = {\n            value: data[key],\n            helper_text: new_helper_text,\n            required\n        };\n    });\n\n    return new_data;\n}\n\nconst personnel_list = [\n    \"brain\", \"kate\", \"sky\",\n    \"jec\", \"kennex\", \"reyn\",\n    \"web\", \"oscar\", \"dan\",\n    \"arnel\", \"troy\"\n];\n\nfunction AddLoggerForm (props) {\n    const { setIsAddLogger, setReloadList } = props;\n    const initial_data = {\n        site: \"\", \n        logger_name: \"\",\n        date_installed: null,\n        latitude: \"\",\n        longitude: \"\",\n        location_description: \"\",\n        network: \"\",\n        logger_number: \"\",\n        logger_type: \"\",\n        installed_sensors: [],\n        personnel: []\n    };\n\n    const [deployment_data, dispatch] = useReducer(reducerFunction, initial_data, initReducer);\n    const [is_submit_disabled, setIsSubmitDisabled] = useState(true);\n    const { enqueueSnackbar, closeSnackbar } = useSnackbar();\n\n    const snackBarActionFn = key => {\n        return (<Button\n            color=\"primary\"\n            onClick={() => { closeSnackbar(key); }}\n        >\n            Dismiss\n        </Button>);\n    };\n\n    const clearFields = () => dispatch({ type: \"RESET\", value: initial_data });\n\n    const checkCheckbox = (field, value) => deployment_data[field].value.includes(value);\n    const onCheckboxChange = field => e => {\n        const { name, checked } = e.target;\n        dispatch({ type: \"UPDATE\", field, value: { name, checked } });\n\n        if (field === \"installed_sensors\") {\n            if (checked) {\n                let add_data = initReducer({ date_activated: null });\n                if (name === \"tilt\") add_data = { required: true, helper_text: null, value: null };\n\n                dispatch({ type: \"ADD_ATTRIBUTE\", field: name, value: add_data });\n            } else {\n                dispatch({ type: \"DELETE_ATTRIBUTE\", field: name });\n            }\n        }\n    };\n\n    const onTiltFormUpdate = (tilt_data, has_error) => {\n        const value = { test_value: !has_error || \"\", tilt_data };\n        dispatch({ type: \"UPDATE_TILT\", field: \"tilt\", value });\n    };\n\n    const checkInputFields = obj => {\n        return Object.keys(obj).some(key => {\n            const { required, helper_text } = obj[key];\n\n            if (typeof required === \"undefined\") {\n                return checkInputFields(obj[key]);\n            }\n\n            return (\n                required && (helper_text !== \"\" || helper_text === null) ||\n                (!required && (helper_text !== \"\" && helper_text !== null))\n            );\n        });\n    };\n\n    useEffect(() => {\n        const isd = checkInputFields(deployment_data);\n        setIsSubmitDisabled(isd);\n    }, [deployment_data]);\n\n    const save_deployment_data = () => {\n        const cleaned_data = sanitizeData(deployment_data);\n        cleaned_data.date_installed = moment(cleaned_data.date_installed).format(\"YYYY-MM-DD\");\n        const { installed_sensors } = cleaned_data;\n\n        if (installed_sensors.includes(\"tilt\")) {\n            cleaned_data.tilt.date_activated = moment(cleaned_data.tilt.date_activated).format(\"YYYY-MM-DD\");\n        }\n        \n        console.log(cleaned_data);\n        saveLoggerDeployment(cleaned_data, data => {\n            const { status, message } = data;\n            let variant;\n            if (status) {\n                variant = \"success\";\n                setIsAddLogger(false);\n                setReloadList(true);\n            } else {\n                variant = \"error\";\n            }\n\n            enqueueSnackbar(\n                message,\n                {\n                    variant,\n                    autoHideDuration: 5000,\n                    action: snackBarActionFn\n                }\n            );\n        });\n    };\n\n    return (\n        <Grid container spacing={2} justify=\"space-evenly\">\n            <Typography\n                component={Grid}\n                item xs={12}\n                variant=\"h6\"\n            >\n                <strong>Logger Deployment Form</strong>\n            </Typography>\n\n            <Grid item xs={12}><Card variant=\"outlined\"><CardContent component={Grid} container spacing={2}>\n                <Grid item xs={6} lg={4}>\n                    <DynaslopeSiteSelectInputForm\n                        required\n                        value={deployment_data.site.value}\n                        changeHandler={value => dispatch({ type: \"UPDATE\", field: \"site\", value })}\n                    />  \n                </Grid>\n            \n                <Grid item xs={6} lg={4}>\n                    <TextField\n                        required\n                        fullWidth\n                        label=\"Logger Name\"\n                        value={deployment_data.logger_name.value}\n                        onChange={e => dispatch({ type: \"UPDATE\", field: \"logger_name\", value: e.target.value })}\n                        helperText={deployment_data.logger_name.helper_text || \"\"}\n                        error={Boolean(deployment_data.logger_name.helper_text)}\n                    />\n                </Grid>\n\n                <Grid item xs={6} lg={4}>\n                    <TextField\n                        required\n                        fullWidth\n                        label=\"Logger Number\"\n                        InputProps={{\n                            inputComponent: TextMaskCustom,\n                            inputProps: { mask: logger_number_mask }\n                        }}\n                        InputLabelProps={{ shrink: true }}\n                        value={deployment_data.logger_number.value}\n                        onChange={e => dispatch({ type: \"UPDATE\", field: \"logger_number\", value: e.target.value })}\n                        helperText={deployment_data.logger_number.helper_text || \"\"}\n                        error={Boolean(deployment_data.logger_number.helper_text)}\n                    />\n                </Grid>\n\n                <MuiPickersUtilsProvider utils={MomentUtils}>\n                    <Grid item xs={6} lg={4}>\n                        <KeyboardDatePicker\n                            required\n                            autoOk\n                            label=\"Date Installed\"\n                            value={deployment_data.date_installed.value || null}\n                            onChange={e => dispatch({ type: \"UPDATE\", field: \"date_installed\", value: e })}\n                            helperText={deployment_data.date_installed.helper_text || \"\"}\n                            error={Boolean(deployment_data.date_installed.helper_text)}\n                            ampm={false}\n                            placeholder=\"2010/01/01\"\n                            format=\"YYYY/MM/DD\"\n                            mask=\"____/__/__\"\n                            clearable\n                            disableFuture\n                            fullWidth\n                        />\n                    </Grid>\n                </MuiPickersUtilsProvider>\n\n                <Grid item xs={6} lg={4}>\n                    <TextField\n                        fullWidth\n                        required\n                        label=\"Latitude\"\n                        type=\"number\"\n                        value={deployment_data.latitude.value}\n                        onChange={e => dispatch({ type: \"UPDATE\", field: \"latitude\", value: e.target.value })}\n                        helperText={deployment_data.latitude.helper_text || \"\"}\n                        error={Boolean(deployment_data.latitude.helper_text)}\n                    />\n                </Grid>\n\n                <Grid item xs={6} lg={4}>\n                    <TextField\n                        fullWidth\n                        required\n                        label=\"Longitude\"\n                        type=\"number\"\n                        value={deployment_data.longitude.value}\n                        onChange={e => dispatch({ type: \"UPDATE\", field: \"longitude\", value: e.target.value })}\n                        helperText={deployment_data.longitude.helper_text || \"\"}\n                        error={Boolean(deployment_data.longitude.helper_text)}\n                    />\n                </Grid>\n\n                <Grid item xs={12} sm={6} md={7} lg={9}>\n                    <TextField\n                        fullWidth\n                        required\n                        label=\"Location Description\"\n                        value={deployment_data.location_description.value}\n                        onChange={e => dispatch({ type: \"UPDATE\", field: \"location_description\", value: e.target.value })}\n                        helperText={deployment_data.location_description.helper_text || \"\"}\n                        error={Boolean(deployment_data.location_description.helper_text)}\n                    />\n                </Grid>\n\n                <Grid item xs={12} sm={6} md={5} lg={3}>\n                    <FormControl required fullWidth error={Boolean(deployment_data.network.helper_text)}>\n                        <InputLabel id=\"network\">Main Network of Location</InputLabel>\n                        <Select\n                            labelId=\"network-select-label\"\n                            id=\"network-select-id\"\n                            value={deployment_data.network.value}\n                            onChange={e => dispatch({ type: \"UPDATE\", field: \"network\", value: e.target.value })}\n                            error={Boolean(deployment_data.network.helper_text)}\n                        >\n                            <MenuItem value=\"\">\n                                <em>None</em>\n                            </MenuItem>          \n                            <MenuItem value=\"Globe\" key=\"globe\">Globe</MenuItem>\n                            <MenuItem value=\"Smart\" key=\"smart\">Smart</MenuItem>\n                        </Select>\n                        <FormHelperText error>{deployment_data.network.helper_text}</FormHelperText>\n                    </FormControl>\n                </Grid>\n\n                <Grid item xs={12}><Divider style={{ margin: \"8px 0\" }}/></Grid>\n\n                <FormControl\n                    component={Grid}\n                    item xs={12} lg={6} container\n                    alignItems=\"center\"\n                >\n                    <FormLabel component=\"legend\" required>Logger Type</FormLabel>\n                    <RadioGroup\n                        row\n                        aria-label=\"logger_type_group\"\n                        name=\"logger_type\"\n                        value={deployment_data.logger_type.value}\n                        onChange={e => dispatch({ type: \"UPDATE\", field: \"logger_type\", value: e.target.value })}\n                        style={{ justifyContent: \"center\" }}\n                    >              \n                        <FormControlLabel\n                            value=\"masterbox\"\n                            control={<Radio color=\"primary\"/>}\n                            label=\"Master Box\"\n                            key=\"master_box\"\n                        />\n                        <FormControlLabel\n                            value=\"arq\"\n                            control={<Radio color=\"primary\"/>}\n                            label=\"ARQ\"\n                            key=\"arq\"\n                        />\n                        <FormControlLabel\n                            value=\"router\"\n                            control={<Radio color=\"primary\"/>}\n                            label=\"Router\"\n                            key=\"router\"\n                        />\n                        <FormControlLabel\n                            value=\"gateway\"\n                            control={<Radio color=\"primary\"/>}\n                            label=\"Gateway\"\n                            key=\"gateway\"\n                        />                                 \n                    </RadioGroup>\n                    {/* <FormHelperText error>{deployment_data.logger_type.helper_text}</FormHelperText> */}\n                </FormControl>\n\n                <FormControl\n                    component={Grid}\n                    item xs={12} lg={6} container\n                    alignItems=\"center\"\n                    error={Boolean(deployment_data.installed_sensors.helper_text)}\n                >\n                    <FormLabel component=\"legend\" required>Installed Sensors</FormLabel>\n                    <FormGroup row style={{ justifyContent: \"center\" }}>\n                        <FormControlLabel\n                            control={<Checkbox\n                                name=\"rain\" \n                                checked={checkCheckbox(\"installed_sensors\", \"rain\")}\n                                onChange={onCheckboxChange(\"installed_sensors\")}\n                            />}\n                            label=\"Rain\"\n                        />\n                        <FormControlLabel\n                            control={<Checkbox\n                                name=\"tilt\"\n                                checked={checkCheckbox(\"installed_sensors\", \"tilt\")}\n                                onChange={onCheckboxChange(\"installed_sensors\")}\n                            />}\n                            label=\"Tilt\"\n                        />\n                        <FormControlLabel\n                            control={<Checkbox\n                                name=\"piezo\"\n                                checked={checkCheckbox(\"installed_sensors\", \"piezo\")}\n                                onChange={onCheckboxChange(\"installed_sensors\")}\n                            />}\n                            label=\"Piezometer\"\n                        />\n                        <FormControlLabel\n                            control={<Checkbox\n                                name=\"soms\"\n                                checked={checkCheckbox(\"installed_sensors\", \"soms\")}\n                                onChange={onCheckboxChange(\"installed_sensors\")}\n                            />}\n                            label=\"Soil Moisture\"\n                        />\n                    </FormGroup>\n                    {\n                        deployment_data.installed_sensors.helper_text && <FormHelperText>\n                            Select at least one\n                        </FormHelperText>\n                    }\n                </FormControl>\n\n                <FormControl\n                    component={Grid}\n                    item xs={12} container\n                    alignItems=\"center\"\n                    error={Boolean(deployment_data.personnel.helper_text)}\n                >\n                    <FormLabel component=\"legend\" required>Personnel</FormLabel>\n                    <FormGroup row style={{ justifyContent: \"center\" }}>\n                        {\n                            personnel_list.map(row => (\n                                <FormControlLabel\n                                    key={row}\n                                    control={<Checkbox\n                                        name={row}\n                                        checked={checkCheckbox(\"personnel\", row)}\n                                        onChange={onCheckboxChange(\"personnel\")}\n                                    />}\n                                    label={`${capitalizeFirstLetter(row)}`}\n                                />\n                            ))\n                        }\n                    </FormGroup>\n                    {\n                        deployment_data.personnel.helper_text && <FormHelperText>\n                            Select at least one\n                        </FormHelperText>\n                    }\n                </FormControl>\n\n            </CardContent></Card></Grid>\n\n            {\n                deployment_data.installed_sensors.value.includes(\"rain\") && <Grid item xs={12} md={4}>\n                    <Card variant=\"outlined\"><CardContent component={Grid} container spacing={2}>\n                        <Typography variant=\"h6\" display=\"block\" component={Grid} item xs={12}>\n                            <strong>Rain Gauge</strong>\n                        </Typography>\n\n                        <MuiPickersUtilsProvider utils={MomentUtils}>\n                            <Grid item xs={12}>\n                                <KeyboardDatePicker\n                                    autoOk\n                                    label=\"Date Activated\"\n                                    value={deployment_data.rain.date_activated.value || null}\n                                    onChange={e => dispatch({ type: \"UPDATE_SENSOR\", field: \"date_activated\", value: { data: e, sensor: \"rain\" } })}\n                                    helperText={deployment_data.rain.date_activated.helper_text || \"\"}\n                                    error={Boolean(deployment_data.rain.date_activated.helper_text)}\n                                    ampm={false}\n                                    placeholder=\"2010/01/01\"\n                                    format=\"YYYY/MM/DD\"\n                                    mask=\"____/__/__\"\n                                    clearable\n                                    disableFuture\n                                    fullWidth\n                                />\n                            </Grid> \n                        </MuiPickersUtilsProvider>\n                    </CardContent></Card>\n                </Grid>\n            }\n\n            {\n                deployment_data.installed_sensors.value.includes(\"piezo\") && <Grid item xs={12} md={4}>\n                    <Card variant=\"outlined\"><CardContent component={Grid} container spacing={2}>\n                        <Typography variant=\"h6\" display=\"block\" component={Grid} item xs={12}>\n                            <strong>Piezometer</strong>\n                        </Typography>\n\n                        <MuiPickersUtilsProvider utils={MomentUtils}>\n                            <Grid item xs={12}>\n                                <KeyboardDatePicker\n                                    autoOk\n                                    label=\"Date Activated\"\n                                    value={deployment_data.piezo.date_activated.value || null}\n                                    onChange={e => dispatch({ type: \"UPDATE_SENSOR\", field: \"date_activated\", value: { data: e, sensor: \"piezo\" } })}\n                                    helperText={deployment_data.piezo.date_activated.helper_text || \"\"}\n                                    error={Boolean(deployment_data.piezo.date_activated.helper_text)}\n                                    ampm={false}\n                                    placeholder=\"2010/01/01\"\n                                    format=\"YYYY/MM/DD\"\n                                    mask=\"____/__/__\"\n                                    clearable\n                                    disableFuture\n                                    fullWidth\n                                />\n                            </Grid> \n                        </MuiPickersUtilsProvider>\n                    </CardContent></Card>\n                </Grid>\n            }\n\n            {\n                deployment_data.installed_sensors.value.includes(\"soms\") && <Grid item xs={12} md={4}>\n                    <Card variant=\"outlined\"><CardContent component={Grid} container spacing={2}>\n                        <Typography variant=\"h6\" display=\"block\" component={Grid} item xs={12}>\n                            <strong>Soil Moisture</strong>\n                        </Typography>\n\n                        <MuiPickersUtilsProvider utils={MomentUtils}>\n                            <Grid item xs={12}>\n                                <KeyboardDatePicker\n                                    autoOk\n                                    label=\"Date Activated\"\n                                    value={deployment_data.soms.date_activated.value || null}\n                                    onChange={e => dispatch({ type: \"UPDATE_SENSOR\", field: \"date_activated\", value: { data: e, sensor: \"soms\" } })}\n                                    helperText={deployment_data.soms.date_activated.helper_text || \"\"}\n                                    error={Boolean(deployment_data.soms.date_activated.helper_text)}\n                                    ampm={false}\n                                    placeholder=\"2010/01/01\"\n                                    format=\"YYYY/MM/DD\"\n                                    mask=\"____/__/__\"\n                                    clearable\n                                    disableFuture\n                                    fullWidth\n                                />\n                            </Grid> \n                        </MuiPickersUtilsProvider>\n                    </CardContent></Card>\n                </Grid>\n            }\n\n            {\n                deployment_data.installed_sensors.value.includes(\"tilt\") && <Grid item xs={12}>\n                    <TiltForm\n                        onTiltFormUpdate={onTiltFormUpdate}\n                        initReducer={initReducer}\n                        getHelperText={getHelperText}\n                        checkInputFields={checkInputFields}\n                    />\n                </Grid>\n            }\n\n            <Grid item xs={12} container justify=\"flex-end\">\n                <Button\n                    color=\"primary\"\n                    onClick={e => setIsAddLogger(false)}\n                >\n                    Cancel\n                </Button>\n                \n                <Button\n                    color=\"primary\"\n                    onClick={e => clearFields()}\n                >\n                    Clear\n                </Button>\n\n                <Button\n                    variant=\"contained\"\n                    color=\"secondary\"\n                    style={{ marginRight: 8 }}\n                    onClick={save_deployment_data}\n                    disabled={is_submit_disabled}\n                >\n                    Submit\n                </Button>\n            </Grid>\n        </Grid>\n    );\n}\n\nexport default AddLoggerForm;","import React, { \n    Fragment, useState\n} from \"react\";\n\nimport {\n    Grid, useTheme, useMediaQuery,\n    Button\n} from \"@material-ui/core\";\nimport { AddBox } from \"@material-ui/icons\";\nimport { makeStyles } from \"@material-ui/core/styles\";\n\nimport LoggersList from \"./LoggersList\";\nimport LoggerDetails from \"./LoggerDetails\";\nimport AddLoggerForm from \"./AddLoggerForm\";\n\nimport GeneralStyles from \"../../../GeneralStyles\";\nimport PageTitle from \"../../reusables/PageTitle\";\n\nconst useStyles = makeStyles(theme => {\n    const gen_style = GeneralStyles(theme);\n    \n    return {\n        ...gen_style,\n        tabBar: {\n            ...gen_style.pageContentMargin,\n            margin: 0\n        },\n        tabBarContent: {\n            marginTop: 16\n        },\n        sticky: {\n            position: \"sticky\",\n            top: 146,\n            [theme.breakpoints.down(\"sm\")]: {\n                top: 48\n            },\n            backgroundColor: \"white\",\n            zIndex: 1\n        },\n        noFlexGrow: { flexGrow: 0 },\n        paper: {\n            position: \"fixed\",\n            right: 0,\n            top: 116,\n            width: 400\n        },\n        overflow: {\n            overflowY: \"auto\",\n            height: \"calc(100vh - 250px)\",\n            [theme.breakpoints.down(\"md\")]: {\n                height: \"80vh\"\n            }\n        },\n        insetDivider: { padding: \"8px 70px !important\" },\n        nested: { paddingLeft: theme.spacing(4) },\n        hidden: { display: \"none !important\" },\n        form_message_style: {\n            color: \"red\",\n            fontStyle: \"italic\"\n        },\n    };\n});\n\nfunction CustomButtons (setIsAddLogger) {\n    return <span>\n        <Button\n            aria-label=\"Add logger\"\n            variant=\"contained\" \n            color=\"primary\"\n            size=\"small\" \n            onClick={() => setIsAddLogger(true)}\n            startIcon={<AddBox />}\n        >\n            Add logger\n        </Button>\n    </span>;\n}\n\nfunction Container (props) {\n    const classes = useStyles();\n    const theme = useTheme();\n    const is_desktop = useMediaQuery(theme.breakpoints.up(\"sm\"));\n    \n    const [is_add_logger, setIsAddLogger] = useState(false);\n    const [selected_logger, setSelectedLogger] = useState(null);\n    const [reload_list, setReloadList] = useState(false);\n    const [loggers, setLoggers] = useState([]);\n    const onLoggerClickFn = logger => () => {\n        setSelectedLogger(logger);\n        console.log(\"Selected logger\", logger);\n    };\n\n    return (\n        <Fragment>\n            <div className={classes.pageContentMargin}>\n                <PageTitle\n                    title=\"Analysis | Loggers and Sensors Form\"\n                    className={classes.sticky}\n                    customButtons={is_desktop ? CustomButtons(setIsAddLogger) : false}\n                />\n\n                <Grid\n                    container spacing={2} \n                    justify=\"space-evenly\"\n                >\n                    <Grid item xs={12} sm={3} lg={2}>\n                        <LoggersList\n                            selectedLogger={selected_logger}\n                            onLoggerClickFn={onLoggerClickFn}\n                            reloadList={reload_list}\n                            loggers={loggers}\n                            setLoggers={setLoggers}\n                            setReloadList={setReloadList}\n                        />\n                    </Grid>\n\n                    <Grid item xs={12} sm={9} lg={10}>\n                        { !is_add_logger && selected_logger !== null && <LoggerDetails\n                            selectedLogger={selected_logger}\n                            setReloadList={setReloadList}\n                        />}\n                        { is_add_logger && <AddLoggerForm setIsAddLogger={setIsAddLogger} setReloadList={setReloadList} /> }\n                    </Grid>\n                </Grid>\n            </div>\n        </Fragment>\n    );\n}\n\nexport default Container;","import React from \"react\";\n\nimport List from \"@material-ui/core/List\";\nimport ListItem from \"@material-ui/core/ListItem\";\nimport ListItemText from \"@material-ui/core/ListItemText\";\nimport ListItemIcon from \"@material-ui/core/ListItemIcon\";\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\nimport Dialog from \"@material-ui/core/Dialog\";\nimport { SaveAlt, Block } from \"@material-ui/icons\";\n\n\nfunction MessageOptionsModal (props) {\n    const {\n        onClose, open, isUnregistered,\n        setBlockModal, setSaveContactModal\n    } = props;\n\n    const handleClose = () => {\n        onClose();\n    };\n\n    const handleSave = () => {\n        onClose();\n        setSaveContactModal(true);\n    };\n\n    const handleBlock = () => {\n        onClose();\n        setBlockModal(true);\n    };\n\n    return (\n        <Dialog onClose={handleClose} aria-labelledby=\"simple-dialog-title\" open={open}>\n            <DialogTitle id=\"simple-dialog-title\">Message options</DialogTitle>\n            <List>\n                {\n                    isUnregistered && (\n                        <ListItem button onClick={handleSave}>\n                            <ListItemIcon>\n                                <SaveAlt />\n                            </ListItemIcon>\n                            <ListItemText primary=\"Save number\" />\n                        </ListItem>\n                    )\n                }\n                <ListItem button onClick={handleBlock}>\n                    <ListItemIcon>\n                        <Block />\n                    </ListItemIcon>\n                    <ListItemText primary=\"Block number\" />\n                </ListItem>\n            </List>\n        </Dialog>\n    );\n}\n\nexport default MessageOptionsModal;","import React, { useState } from \"react\";\nimport Button from \"@material-ui/core/Button\";\nimport TextField from \"@material-ui/core/TextField\";\nimport Dialog from \"@material-ui/core/Dialog\";\nimport DialogActions from \"@material-ui/core/DialogActions\";\nimport DialogContent from \"@material-ui/core/DialogContent\";\nimport DialogContentText from \"@material-ui/core/DialogContentText\";\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\nimport { useSnackbar } from \"notistack\";\nimport { getCurrentUser } from \"../../sessions/auth\";\nimport { saveBlockedContact } from \"../ajax\";\n\nfunction BlockNumberModal (props) {\n    const {\n        open, setBlockModal, mobileDetails,\n        setOpenOptions\n    } = props;\n    const { sim_num, mobile_id } = mobileDetails;\n    const { enqueueSnackbar, closeSnackbar } = useSnackbar();\n    const snackBarActionFn = key => {\n        return (<Button\n            color=\"primary\"\n            onClick={() => { closeSnackbar(key); }}\n        >\n            Dismiss\n        </Button>);\n    };\n\n    const [reason, setReason] = useState(\"\");\n    const [error_text, setErrorText] = useState(null);\n    const { user_id } = getCurrentUser();\n\n    const handleChange = event => {\n        const { target: { value } } = event;\n        setReason(value);\n\n        let text = \"\";\n        if (value === \"\") text = \"This is a required field\";\n        setErrorText(text);\n    };\n\n    const handleClose = () => setBlockModal(false);\n    const handleExited = () => setReason(\"\");\n\n    const handleBlock = () => {\n        if (reason === \"\") {\n            setErrorText(\"This is a required field\");\n        } else {\n            setBlockModal(false);\n            \n            const payload = {\n                mobile_id,\n                reporter_id: user_id,\n                reason\n            };\n\n            console.log(payload);\n            saveBlockedContact(payload, data => {\n                const { status, message } = data;\n                console.log(data);\n                if (status) {\n                    enqueueSnackbar(\n                        message,\n                        {\n                            variant: \"success\",\n                            autoHideDuration: 4000,\n                            action: snackBarActionFn\n                        }\n                    );\n                } else {\n                    enqueueSnackbar(\n                        message,\n                        {\n                            variant: \"error\",\n                            autoHideDuration: 3000,\n                            action: snackBarActionFn\n                        }\n                    );\n                }\n            });\n            setOpenOptions(false);\n\n        }\n    };\n\n    return (\n        <Dialog\n            open={open}\n            onExited={handleExited}\n            aria-labelledby=\"form-dialog-title\"\n        >\n            <DialogTitle id=\"form-dialog-title\">{`Block mobile number (+${sim_num})`}</DialogTitle>\n            <DialogContent>\n                <DialogContentText>\n                    Provide the reason for blocking this mobile number from Chatterbox\n                </DialogContentText>\n                <TextField\n                    autoFocus\n                    value={reason}\n                    onChange={handleChange}\n                    margin=\"dense\"\n                    id=\"reason\"\n                    label=\"Reason\"\n                    multiline\n                    fullWidth\n                    required\n                    placeholder=\"Enter reason\"\n                    inputProps={{\n                        maxLength: 500\n                    }}\n                    error={reason === \"\"}\n                    helperText={error_text}\n                />\n            </DialogContent>\n            <DialogActions>\n                <Button onClick={handleClose} color=\"primary\">\n                    Cancel\n                </Button>\n                <Button onClick={handleBlock} color=\"secondary\">\n                    Block\n                </Button>\n            </DialogActions>\n        </Dialog>\n    );\n}\n\nexport default React.memo(BlockNumberModal);","import React, {\n    useState, useEffect, useReducer,\n    Fragment, useContext\n} from \"react\";\n\nimport {\n    Button, Grid, Typography,\n    IconButton, Avatar, TextField,\n    Hidden, Divider, FormControlLabel, \n    Checkbox, FormControl\n} from \"@material-ui/core\";\nimport { \n    Delete as DeleteIcon,\n    Close, Person, AddCircle\n} from \"@material-ui/icons\";\nimport { useSnackbar } from \"notistack\";\n\nimport MaskedInput, { conformToMask } from \"react-text-mask\";\n\nimport SelectInputForm from \"../../reusables/SelectInputForm\";\nimport DynaslopeSiteSelectInputForm from \"../../reusables/DynaslopeSiteSelectInputForm\";\nimport { saveContact } from \"../ajax\";\nimport { GeneralContext } from \"../../contexts/GeneralContext\";\n\nconst offices_obj = {\n    \"0\": [\"LEWC\"],\n    \"1\": [\"LGU\", \"NGO\"],\n    \"2\": [\"LGU\", \"NGO\", \"PNP\"],\n    \"3\": [\"LGU\", \"NGO\", \"PNP\"],\n    \"4\": [\"NGO\", \"OCD\", \"PHIVOLCS\", \"DOST\"],\n    \"5\": [\"NGO\", \"OCD\", \"PHIVOLCS\", \"DOST\", \"MGB\"]\n};\n\nconst mobile_number_mask = [\"(\", \"+\", \"6\", \"3\", \"9\", \")\", \" \", /\\d/, /\\d/, \"-\", /\\d/, /\\d/, /\\d/, \"-\", /\\d/, /\\d/, /\\d/, /\\d/];\nconst conforming_mobile_mask = [\"(\", \"+\", /\\d/, /\\d/, /\\d/, \")\", \" \", /\\d/, /\\d/, \"-\", /\\d/, /\\d/, /\\d/, \"-\", /\\d/, /\\d/, /\\d/, /\\d/];\n\nfunction prepareGeographicalList (data, category) {\n    let list = [];\n    if (category === \"municipality\") {\n        const municipalities = data.map(({ municipality, province }) => ({ id: municipality, label: `${municipality}, ${province}` }));\n        list = [...municipalities];\n    } else if ([\"province\", \"region\"].includes(category)) {\n        const unique = [...new Set(data.map(x => x[category]).sort())];\n        const selection = unique.map(x => ({ id: x, label: x })); \n        list = [...selection];\n    }\n    return list;\n}\n\nfunction TextMaskCustom (props) {\n    const { inputRef, mask, ...other } = props;\n  \n    return (\n        <MaskedInput\n            {...other}\n            ref={ref => {\n                inputRef(ref ? ref.inputElement : null);\n            }}\n            mask={mask} placeholderChar=\"x\"\n            showMask\n        />\n    );\n}\n\nfunction conformTextMask (mobile_number) {\n    const { conformedValue } = conformToMask(mobile_number, conforming_mobile_mask);\n    return conformedValue;\n}\n\nfunction removeNumberMask (data, type) {\n    const altered_data = [];\n    \n    if (type === \"mobile\") {\n        data.forEach((row, index) => {\n            const { mobile_number } = row;\n            mobile_number.sim_num = mobile_number.sim_num.replace(/[()+-\\s]/g, \"\");\n            altered_data.push(row);\n        });\n    } else {\n        data.forEach((row, index) => {\n            delete row.mobile_id;\n            const { landline_id } = row;\n\n            if (landline_id === undefined) {\n                row.landline_id = 0;\n            }\n            row.landline_num = row.landline_num.replace(/[()+-\\s]/g, \"\");\n            altered_data.push(row);\n        });\n    }\n\n    return altered_data;\n}\n\nfunction userAffiliation (scope, site_details) {\n    const { municipality, province, region, site_id } = site_details;\n    let site = \"\";\n    let location = \"\";\n\n    if (scope === 0 || scope === 1) {\n        site = { value: site_id };\n        location = \"\";\n    } else if (scope === 2) {\n        site = \"\";\n        location = municipality;\n    } else if (scope === 3) {\n        site = \"\";\n        location = province;\n    } else if (scope === 4) {\n        site = \"\";\n        location = region;\n    }\n\n    return { site, location };\n}\n\nfunction contactFormValidation (user_details, contact_numbers, affiliation) {\n    const { first_name, last_name } = user_details;\n    const { scope, site, office, location } = affiliation;\n    const { mobile_nums, landline_nums } = contact_numbers;\n    let is_sim_num_invalid = false;\n    let is_affiliation_invalid = false;\n    let is_landline_num_invalid = false;\n    let button_state = null;\n\n    mobile_nums.forEach((row, index) => {\n        const { mobile_number: { sim_num } } = row;\n        if (is_sim_num_invalid === false) {\n            if (sim_num === \"\") { is_sim_num_invalid = true; }\n            else { is_sim_num_invalid = sim_num.includes(\"x\"); }\n        }\n    });\n\n    if (landline_nums.length !== 0)\n        landline_nums.forEach((row, index) => {\n            const { landline_num } = row;\n            if (is_landline_num_invalid === false) {\n                if (landline_num === \"\") { is_landline_num_invalid = true; }\n                else { is_landline_num_invalid = landline_num.includes(\"x\"); }\n            }\n        });\n\n    if (scope === 0 || scope === 1) {\n        if (site === \"\" || office === \"\") { is_affiliation_invalid = true; }\n        else { is_affiliation_invalid = false; }\n    } else if (scope === 2 || scope === 3 || scope === 4) {\n        if (location === \"\" || office === \"\") { is_affiliation_invalid = true; }\n        else { is_affiliation_invalid = false; }\n    } else if (scope === 5) {\n        if (location === \"\") { is_affiliation_invalid = true; }\n        else { is_affiliation_invalid = false; }\n    }\n\n    if (first_name === \"\" || last_name === \"\" || is_sim_num_invalid === true || is_affiliation_invalid === true || is_landline_num_invalid === true) {\n        button_state = true;\n    } else { button_state = false; }\n\n    return button_state;\n}\n\nfunction reducerFunction (state, action) {\n    const { type, category, payload } = action;\n    const state_copy = [...state];\n\n    let addend = {\n        status: 1, has_delete: true\n    };\n\n    if (category === \"email\") {\n        addend = \"\";\n    } else if (category === \"mobile\") {\n        addend = { ...addend, mobile_number: { sim_num: \"\", mobile_id: 0 } };\n    } else if (category === \"landline\") {\n        addend = { ...addend, landline_num: \"\" };\n    }\n\n    switch (type) {\n        case \"UPDATE\":\n            if (category === \"email\") {\n                state_copy[payload.key] = payload.value;\n            } else if (category === \"mobile\") {\n                if (payload.data === \"sim_num\") {\n                    state_copy[payload.key].mobile_number[payload.data] = payload.value;\n                } else {\n                    state_copy[payload.key][payload.data] = payload.value;\n                }\n            } else {\n                state_copy[payload.key][payload.data] = payload.value;\n            }\n            return [...state_copy];\n        case \"ADD\":\n            return [...state_copy, addend];\n        case \"DELETE\":\n            state_copy.splice(payload.key, 1);\n            return [...state_copy];\n        default:\n            break;\n    }\n\n    return [];\n}\n\nfunction getOfficesList (scope) {\n    const office_list = offices_obj[scope];\n    const o = office_list.map(x => ({ id: x.toLowerCase(), label: x }));\n    return o;\n}\n\nfunction ContactForm (props) {\n    const {\n        setContactForm, chosenContact, isEditMode,\n        setContactFormForEdit, handleClose, isFromChatterbox,\n        setSnackbarKey\n    } = props;\n\n    let initial_mobiles = [{\n        mobile_number: { sim_num: \"\", mobile_id: 0 }, status: 1\n    }];\n    \n    let initial_landlines = [];\n    let initial_emails = [];\n    let initial_scope = 0;\n    let initial_office = \"\";\n    let initial_office_list = [];\n    let initial_site = \"\";\n    let initial_location = \"\";\n    let initial_status = true;\n    let initial_ewi_recipient = true;\n    let initial_ewi_restriction = 0;\n    const initial_save_button_state = false;\n    let initial_user_details = {\n        first_name: \"\", last_name: \"\",\n        middle_name: \"\", nickname: \"\", user_id: 0\n    };\n    \n    if (isEditMode || isFromChatterbox) {\n        const {\n            mobile_numbers, ewi_recipient, ewi_restriction, landline_numbers,\n            emails, first_name, last_name, middle_name, nickname,\n            user_id, organizations, status \n        } = chosenContact;\n        initial_user_details = { first_name, last_name, middle_name, nickname, user_id };\n        \n        if (organizations.length !== 0) {\n            const { scope, name } = organizations[0].organization;\n            const site_details = organizations[0].site;\n            initial_scope = scope;\n            initial_office = name;\n            initial_office_list = getOfficesList(scope);\n            const { site, location } = userAffiliation(scope, site_details);\n            initial_site = site;\n            initial_location = location;\n        }\n\n        if (ewi_restriction !== null) {\n            if (ewi_restriction.length !== 0) {\n                const { alert_level } = ewi_restriction;\n                initial_ewi_restriction = alert_level;\n            }\n        }\n        const updated_mobile_numbers = mobile_numbers.map((row, index) => {\n            const new_data = JSON.parse(JSON.stringify(row));\n            const { mobile_number: { sim_num } } = new_data;\n            new_data.mobile_number.sim_num = conformTextMask(sim_num);\n            return new_data;\n        });\n\n        initial_mobiles = updated_mobile_numbers;\n        initial_landlines = landline_numbers;\n        initial_emails = emails;\n        initial_ewi_recipient = ewi_recipient === 1;\n        initial_status = status === 1;\n    }\n\n    const { sites } = useContext(GeneralContext);\n    const municipalities = prepareGeographicalList(sites, \"municipality\");\n    const provinces = prepareGeographicalList(sites, \"province\");\n    const regions = prepareGeographicalList(sites, \"region\");\n\n    const scope_list = [\n        { id: 0, label: \"Community\" },\n        { id: 1, label: \"Barangay\" },\n        { id: 2, label: \"Municipal\", select_label: \"Municipality\", list: municipalities },\n        { id: 3, label: \"Provincial\", select_label: \"Province\", list: provinces },\n        { id: 4, label: \"Regional\", select_label: \"Region\", list: regions },\n        { id: 5, label: \"National\" }\n    ];\n\n    const restriction_list = [\n        { id: 0, label: \"No restrictions\" },\n        { id: 1, label: \"Do not send on Alert 1\" },\n        { id: 2, label: \"Do not send on Alert 2 and below\" }\n    ];\n    const [user_details, setUserDetails] = useState(initial_user_details);\n    const [scope, setScope] = useState(initial_scope);\n    const [site, setSite] = useState(initial_site);\n    const [location, setLocation] = useState(initial_location);\n    const [offices, setOffices] = useState(initial_office_list);\n    const [office, setOffice] = useState(initial_office);\n    const [mobile_nums, setMobileNums] = useReducer(reducerFunction, initial_mobiles);\n    const [landline_nums, setLandlineNums] = useReducer(reducerFunction, initial_landlines);\n    const [emails, setEmails] = useReducer(reducerFunction, initial_emails);\n    const [is_ewi_recipient, setEwiRecipient] = useState(initial_ewi_recipient);\n    const [is_active, setIsActive] = useState(initial_status);\n    const { enqueueSnackbar, closeSnackbar } = useSnackbar();\n    const [restriction, setRestriction] = useState(initial_ewi_restriction);\n    const [save_button_state, setSaveButtonState] = useState(initial_save_button_state);\n\n    const closeButtonFn = () => {\n        if (isFromChatterbox) handleClose();\n        if (isEditMode) return setContactFormForEdit(false);\n        return setContactForm(false);\n    };\n\n    const nameChangeHandler = attr => event => {\n        setUserDetails({ ...user_details, [attr]: event.target.value });\n    };\n\n    const ewiRecipientHandler = event => setEwiRecipient(event.target.checked);\n    const isActiveHandler = event => setIsActive(event.target.checked);\n\n    const snackBarActionFn = key => {\n        return (<Button\n            color=\"primary\"\n            onClick={() => { closeSnackbar(key); }}\n        >\n            Dismiss\n        </Button>);\n    };\n\n    useEffect(() => {\n        if (scope !== \"\") {\n            const o = getOfficesList(scope);\n            setOffices(o);\n\n            if (!isEditMode) {\n                setSite(\"\");\n                setLocation(\"\");\n                setOffice(\"\");\n            }\n        }\n    }, [scope]);\n\n    useEffect(() => {\n        let button_state = true;\n        const affiliation = {\n            scope, site, office, location\n        };\n\n        const contact_numbers = {\n            mobile_nums, landline_nums\n        };\n\n        button_state = contactFormValidation(user_details, contact_numbers, affiliation);\n        setSaveButtonState(button_state);\n    }, [\n        user_details, mobile_nums, landline_nums,\n        scope, site, office, location\n    ]);\n\n    const queueUpdatingSnackbar = () => {\n        if (!isFromChatterbox) {\n            const key = enqueueSnackbar(\n                \"Updating contacts list...\",\n                { variant: \"warning\", persist: true }\n            );\n        \n            setSnackbarKey(key);\n        }\n    };\n\n    const saveFunction = () => {\n        const mobile_numbers = removeNumberMask(mobile_nums, \"mobile\");\n        const landline_numbers = removeNumberMask(landline_nums, \"landline\");\n        const ewi_recipient = is_ewi_recipient ? 1 : 0;\n        const active = is_active ? 1 : 0;\n        const final_data = {\n            user: {\n                ...user_details,\n                emails,\n                ewi_recipient,\n                restriction,\n                status: active\n            },\n            affiliation: {\n                site,\n                location,\n                scope,\n                office\n            },\n            contact_numbers: {\n                mobile_numbers,\n                landline_numbers\n            }\n        };\n        \n        saveContact(final_data, data => {\n            const { status, message } = data;\n            let variant;\n            if (status === true) {\n                closeButtonFn();\n                queueUpdatingSnackbar();\n                variant = \"success\";\n            } else {\n                variant = \"error\";\n            }\n\n            enqueueSnackbar(\n                message,\n                {\n                    variant,\n                    autoHideDuration: 5000,\n                    action: snackBarActionFn\n                }\n            );\n        });\n    };\n \n    return (\n        <Grid\n            container spacing={1} \n            alignItems=\"center\" justify=\"space-evenly\"\n        >\n            {\n                !isFromChatterbox && <Fragment>\n                    <Grid item xs={2} style={{ textAlign: \"-webkit-center\" }}>\n                        <Avatar><Person /></Avatar>\n                    </Grid>\n\n                    <Grid item xs={9}>\n                        <Typography variant=\"h5\" align=\"center\">\n                            Contact Form\n                        </Typography>\n                    </Grid>\n    \n                    <Grid item xs={1} >\n                        <IconButton edge=\"start\" onClick={closeButtonFn}>\n                            <Close />\n                        </IconButton>\n                    </Grid>\n\n                    <Grid item xs={12} style={{ padding: \"12px 4px\" }} >\n                        <Divider />\n                    </Grid>\n                </Fragment>\n            }\n\n            <Grid item xs={12}>\n                <Typography variant=\"h6\" align=\"center\">\n                    Personal Details\n                </Typography>\n            </Grid>\n\n            <Grid item xs={6}>\n                <TextField\n                    label=\"First Name\"\n                    value={user_details.first_name}\n                    onChange={nameChangeHandler(\"first_name\")}\n                    margin=\"dense\"\n                    required\n                    error={user_details.first_name === \"\"}\n                />\n            </Grid>\n\n            <Grid item xs={6}>\n                <TextField\n                    label=\"Last Name\"\n                    value={user_details.last_name}\n                    onChange={nameChangeHandler(\"last_name\")}\n                    margin=\"dense\"\n                    required\n                    error={user_details.last_name === \"\"}\n                />\n            </Grid>\n\n            <Grid item xs={6}>\n                <TextField\n                    label=\"Middle Name\"\n                    value={user_details.middle_name || \"\"}\n                    onChange={nameChangeHandler(\"middle_name\")}\n                    margin=\"dense\"\n                />\n            </Grid>\n\n            <Grid item xs={6}>\n                <TextField\n                    label=\"Nickname\"\n                    value={user_details.nickname || \"\"}\n                    onChange={nameChangeHandler(\"nickname\")}\n                    margin=\"dense\"\n                />\n            </Grid>\n\n            <Grid item xs={12}>\n                <Typography variant=\"h6\" align=\"center\">\n                    Affiliation\n                </Typography>\n            </Grid>\n\n            <Grid item xs={12}>\n                <SelectInputForm\n                    div_id=\"scope\"\n                    label=\"Scope\"\n                    changeHandler={event => setScope(event.target.value)}\n                    value={scope}\n                    list={scope_list}\n                    mapping={{ id: \"id\", label: \"label\" }}\n                    required\n                    error={scope === \"\"}\n                />\n            </Grid>\n\n            {\n                [0, 1].includes(scope) && (\n                    <Grid item xs={6}>\n                        <DynaslopeSiteSelectInputForm\n                            value={site}\n                            changeHandler={value => setSite(value)}\n                        />\n                    </Grid>\n                )\n            }\n\n            {\n                [2, 3, 4].includes(scope) && (\n                    <Grid item xs={6}>\n                        <SelectInputForm\n                            div_id=\"location\"\n                            label={scope_list[scope].select_label}\n                            changeHandler={event => setLocation(event.target.value)}\n                            value={location}\n                            list={scope_list[scope].list}\n                            mapping={{ id: \"id\", label: \"label\" }}\n                            required\n                            error={location === \"\"}\n                        />\n                    </Grid>\n                )\n            }\n\n            <Grid item xs={6}>\n                <SelectInputForm\n                    div_id=\"office\"\n                    label=\"Office\"\n                    changeHandler={event => setOffice(event.target.value)}\n                    value={office}\n                    list={offices}\n                    mapping={{ id: \"id\", label: \"label\" }}\n                    required\n                    error={office === \"\"}\n                />\n            </Grid>\n\n            <Grid item xs={6} style={{ textAlign: \"center\" }}>\n                <FormControl>\n                    <FormControlLabel\n                        control={\n                            <Checkbox\n                                checked={is_active}\n                                onChange={isActiveHandler}\n                                value=\"checkedA\"\n                                color=\"primary\"\n                            />\n                        }\n                        label=\"Active\"\n                    />\n                </FormControl>\n            </Grid>\n            \n            <Grid item xs={6} style={{ textAlign: \"center\" }}>\n                <FormControl>\n                    <FormControlLabel\n                        control={\n                            <Checkbox\n                                checked={is_ewi_recipient}\n                                onChange={ewiRecipientHandler}\n                                value=\"checkedB\"\n                                color=\"primary\"\n                            />\n                        }\n                        label=\"EWI Recipient\"\n                    />\n                </FormControl>\n            </Grid>\n\n            <Grid item xs={12}>\n                <SelectInputForm\n                    div_id=\"ewi_restriction\"\n                    label=\"Ewi Restriction\"\n                    changeHandler={event => setRestriction(event.target.value)}\n                    value={restriction}\n                    list={restriction_list}\n                    mapping={{ id: \"id\", label: \"label\" }}\n                    required\n                    error={restriction === \"\"}\n                />\n            </Grid>\n\n            <Grid item xs={12}>\n                <Typography variant=\"h6\" align=\"center\">\n                    Contact Information\n                </Typography>\n            </Grid>\n\n            <Grid item xs={12}>\n                <Typography variant=\"body1\" align=\"center\">\n                    Mobile\n                </Typography>\n            </Grid>\n\n            {\n                mobile_nums.map((row, index) => {\n                    const { mobile_number: { sim_num }, status, has_delete } = row;\n                    const enable_delete = typeof has_delete !== \"undefined\";\n                    let is_sim_num_invalid = true;\n                    if (sim_num === \"\") {\n                        is_sim_num_invalid = true;\n                    } else {\n                        is_sim_num_invalid = sim_num.includes(\"x\");\n                    }\n                    return (\n                        <Fragment key={index}>\n                            <Grid item xs={7}>\n                                <FormControl fullWidth>\n                                    <TextField\n                                        label=\"Mobile Number\"\n                                        value={sim_num}\n                                        onChange={event => setMobileNums({\n                                            type: \"UPDATE\",\n                                            payload: {\n                                                data: \"sim_num\",\n                                                value: event.target.value,\n                                                key: index\n                                            },\n                                            category: \"mobile\"\n                                        })}\n                                        InputProps={{\n                                            inputComponent: TextMaskCustom,\n                                            inputProps: { mask: mobile_number_mask }\n                                        }}\n                                        required\n                                        error={is_sim_num_invalid}\n                                    />\n                                </FormControl>\n                            </Grid>\n\n                            <Grid item xs={3} style={{ textAlign: \"center\" }}>\n                                <FormControlLabel\n                                    style={{ margin: 0 }}\n                                    control={\n                                        <Checkbox\n                                            checked={Boolean(status)}\n                                            onChange={event => setMobileNums({\n                                                type: \"UPDATE\",\n                                                payload: {\n                                                    data: \"status\",\n                                                    value: event.target.checked ? 1 : 0,\n                                                    key: index\n                                                },\n                                                category: \"mobile\"\n                                            })}\n                                            color=\"primary\"\n                                        />\n                                    }\n                                    label=\"Active\"\n                                />\n                            </Grid>\n                            {\n                                index !== 0 && enable_delete ? (\n                                    <Grid item xs={2} style={{ textAlign: \"center\" }}>\n                                        <IconButton\n                                            edge=\"end\"\n                                            size=\"small\"\n                                            aria-label=\"delete\"\n                                            onClick={() => setMobileNums({\n                                                type: \"DELETE\",\n                                                payload: { key: index }\n                                            })}\n                                        >\n                                            <DeleteIcon />\n                                        </IconButton>\n                                    </Grid>\n                                ) : (\n                                    <Hidden>\n                                        <Grid item xs={2} />\n                                    </Hidden>\n                                )\n                            }        \n                        </Fragment>\n                    );\n                })\n            }\n\n            <Grid item xs={12} style={{ textAlign: \"right\" }}>\n                <Button \n                    variant=\"contained\"\n                    color=\"primary\"\n                    size=\"small\"\n                    startIcon={<AddCircle />}\n                    onClick={() => setMobileNums({ type: \"ADD\", category: \"mobile\" })}\n                >\n                    Add number\n                </Button>\n            </Grid>\n\n            <Grid item xs={12}>\n                <Typography variant=\"body1\" align=\"center\">\n                    Landline\n                </Typography>\n            </Grid>\n\n            {\n                landline_nums.length === 0 && (\n                    <Grid item xs={12}>\n                        <Typography variant=\"body2\" color=\"textSecondary\" align=\"center\" paragraph>\n                            No landline number saved\n                        </Typography>\n                    </Grid>\n                )\n            }\n\n            {\n                landline_nums.map((row, index) => {\n                    const { landline_num } = row;\n                    let is_landline_valid = true;\n                    if (landline_num === \"\" ) {\n                        is_landline_valid = true;\n                    } else {\n                        is_landline_valid = landline_num.includes(\"x\");\n                    }\n                    return (\n                        <Fragment key={index}>\n                            <Grid item xs={10}>\n                                <FormControl fullWidth>\n                                    <TextField\n                                        label=\"Landline Number\"\n                                        value={landline_num}\n                                        onChange={event => setLandlineNums({\n                                            type: \"UPDATE\",\n                                            payload: {\n                                                data: \"landline_num\",\n                                                value: event.target.value,\n                                                key: index\n                                            },\n                                            category: \"landline\"\n                                        })}\n                                        InputProps={{\n                                            inputComponent: TextMaskCustom,\n                                            inputProps: { mask: [/\\d/, /\\d/, /\\d/, \"-\", /\\d/, /\\d/, /\\d/, /\\d/] }\n                                        }}\n                                        required\n                                        error={is_landline_valid}\n                                    />\n                                </FormControl>\n                            </Grid>\n\n                            <Grid item xs={2} style={{ textAlign: \"center\" }}>\n                                <IconButton\n                                    edge=\"end\"\n                                    size=\"small\"\n                                    aria-label=\"delete\"\n                                    onClick={() => setLandlineNums({\n                                        type: \"DELETE\",\n                                        payload: { key: index }\n                                    })}\n                                >\n                                    <DeleteIcon />\n                                </IconButton>\n                            </Grid>\n                                \n                        </Fragment>\n                    );\n                })\n            }\n\n            <Grid item xs={12} style={{ textAlign: \"right\" }}>\n                <Button \n                    variant=\"contained\"\n                    color=\"primary\"\n                    size=\"small\"\n                    startIcon={<AddCircle />}\n                    onClick={() => setLandlineNums({ type: \"ADD\", category: \"landline\" })}\n                >\n                    Add number\n                </Button>\n            </Grid>\n\n            <Grid item xs={12}>\n                <Typography variant=\"body1\" align=\"center\">\n                    Email\n                </Typography>\n            </Grid>\n\n            {\n                emails.length === 0 && (\n                    <Grid item xs={12}>\n                        <Typography variant=\"body2\" color=\"textSecondary\" align=\"center\" paragraph>\n                            No email address saved\n                        </Typography>\n                    </Grid>\n                )\n            }\n\n            {\n                emails.map((email, index) => {\n                    return (\n                        <Fragment key={index}>\n                            <Grid item xs={10}>\n                                <FormControl fullWidth>\n                                    <TextField\n                                        label=\"Email\"\n                                        value={email.email}\n                                        onChange={event => setEmails({\n                                            type: \"UPDATE\",\n                                            payload: {\n                                                value: event.target.value,\n                                                key: index\n                                            },\n                                            category: \"email\"\n                                        })}\n                                    />\n                                </FormControl>\n                            </Grid>\n\n                            <Grid item xs={2} style={{ textAlign: \"center\" }}>\n                                <IconButton\n                                    edge=\"end\"\n                                    size=\"small\"\n                                    aria-label=\"delete\"\n                                    onClick={() => setEmails({\n                                        type: \"DELETE\",\n                                        payload: { key: index }\n                                    })}\n                                >\n                                    <DeleteIcon />\n                                </IconButton>\n                            </Grid>\n                        </Fragment>\n                    );\n                })\n            }\n\n            <Grid item xs={12} style={{ textAlign: \"right\" }}>\n                <Button \n                    variant=\"contained\"\n                    color=\"primary\"\n                    size=\"small\"\n                    startIcon={<AddCircle />}\n                    onClick={() => setEmails({ type: \"ADD\", category: \"email\" })}\n                >\n                    Add email\n                </Button>\n            </Grid>\n\n            <Grid item xs={12} style={{ padding: \"16px 4px\" }} >\n                <Divider />\n            </Grid>\n\n            <Grid item xs={12} style={{ textAlign: \"right\" }}>\n                <Button \n                    color=\"secondary\" \n                    variant=\"contained\"\n                    style={{ marginRight: 6 }} \n                    onClick={() => saveFunction()}\n                    disabled={save_button_state}\n                >\n                    Save\n                </Button>\n                <Button variant=\"contained\" onClick={closeButtonFn}>\n                    Cancel\n                </Button>\n            </Grid>\n        </Grid>\n    );\n}\n\nexport default React.memo(ContactForm);","import React, { useState, useContext } from \"react\";\nimport Dialog from \"@material-ui/core/Dialog\";\nimport DialogContent from \"@material-ui/core/DialogContent\";\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\nimport DialogContentText from \"@material-ui/core/DialogContentText\";\nimport FormControl from \"@material-ui/core/FormControl\";\nimport Radio from \"@material-ui/core/Radio\";\nimport RadioGroup from \"@material-ui/core/RadioGroup\";\nimport FormControlLabel from \"@material-ui/core/FormControlLabel\";\nimport DialogActions from \"@material-ui/core/DialogActions\";\nimport Button from \"@material-ui/core/Button\";\nimport Grid from \"@material-ui/core/Grid\";\nimport Checkbox from \"@material-ui/core/Checkbox\";\n\nimport { useSnackbar } from \"notistack\";\n\nimport { Tooltip } from \"@material-ui/core\";\nimport { CommsContext } from \"./Container\";\nimport ContactForm from \"../contacts/ContactForm\";\nimport SelectMultipleWithSuggest from \"../../reusables/SelectMultipleWithSuggest\";\nimport { attachMobileNumberToExistingUser } from \"../ajax\";\n\nfunction SaveContactModal (props) {\n    const {\n        open, setSaveContactModal, mobileDetails\n    } = props;\n    const { sim_num, mobile_id } = mobileDetails;\n    const unknown_number = {\n        mobile_number: { sim_num, mobile_id },\n        priority: 0,\n        status: 1\n    };\n\n    const data = {\n        emails: [],\n        ewi_recipient: [],\n        ewi_restriction: [],\n        landline_numbers: [],\n        first_name: \"\",\n        last_name: \"\",\n        middle_name: \"\",\n        nickname: \"\",\n        user_id: 0,\n        organizations: [],\n        status: 0,\n        mobile_numbers: [unknown_number]\n    };\n    const initial_user_data = data;\n\n    const { contacts } = useContext(CommsContext);\n    const [save_type, setSaveType] = useState(\"existing\");\n    const [is_edit_mode, setEditMode] = useState(true);\n    const [selected_contact, setSelectedContact] = useState(null);\n    const [is_active, setIsActive] = useState(true);\n    const { enqueueSnackbar } = useSnackbar();\n\n    const options = contacts.map(row => {\n        const { user_id, first_name, last_name } = row;\n        return {\n            label: `${first_name} ${last_name}`,\n            value: user_id,\n            data: row\n        };\n    });\n\n    const setContactForm = bool => {\n        setEditMode(false);\n    };\n\n    const setContactFormForEdit = bool => {\n        setEditMode(bool);\n    };\n\n    const handleClose = () => {\n        setSaveContactModal(false);\n    };\n\n    const handleSave = () => {\n        const input = {\n            user_id: selected_contact.value,\n            mobile_id,\n            status: is_active ? 1 : 0\n        };\n\n        attachMobileNumberToExistingUser(input, ret => {\n            const { status, message } = ret;\n            let variant;\n            if (status === true) {\n                handleClose();\n                variant = \"success\";\n            } else {\n                variant = \"error\";\n            }\n\n            enqueueSnackbar(\n                message,\n                {\n                    variant,\n                    autoHideDuration: 4000\n                }\n            );\n        });\n    };\n\n    return (\n        <Dialog\n            open={open}\n            aria-labelledby=\"form-dialog-title\"\n        >\n            <DialogTitle id=\"form-dialog-title\">{`Save mobile number (+${sim_num})`}</DialogTitle>\n            <DialogContent>\n                <DialogContentText>\n                    Choose whether to add number to an existing contact or fill-out a new contact form.\n                </DialogContentText>\n                <FormControl component=\"fieldset\" style={{ display: \"flex\", marginBottom: 16 }}>\n                    <RadioGroup\n                        aria-label=\"save-number-options\"\n                        name=\"save-number-options\"\n                        row\n                        style={{ justifyContent: \"space-around\" }}\n                        value={save_type}\n                        onChange={e => setSaveType(e.target.value)}\n                    >\n                        <FormControlLabel value=\"existing\" control={<Radio />} label=\"Add to existing contact\" />\n                        <FormControlLabel value=\"new\" control={<Radio />} label=\"Create new contact\" />\n                    </RadioGroup>\n                </FormControl>\n\n                {\n                    save_type === \"existing\" && (\n                        <Grid container spacing={2} style={{ marginBottom: 200 }}>\n                            <Grid item xs={8}>\n                                <SelectMultipleWithSuggest\n                                    label=\"Contact Person\"\n                                    options={options}\n                                    value={selected_contact}\n                                    changeHandler={e => setSelectedContact(e)}\n                                    placeholder=\"Type name of contact person\"\n                                    openMenuOnClick={false}\n                                    renderDropdownIndicator={false}\n                                    isClearable\n                                />\n                            </Grid>\n\n                            <Grid item xs={4}>\n                                <Tooltip\n                                    title=\"Inactive numbers will not receive EWI if a contact is an EWI recipient.\"\n                                    arrow\n                                >\n                                    <FormControlLabel\n                                        control={\n                                            <Checkbox\n                                                checked={is_active}\n                                                onChange={e => setIsActive(e.target.checked)}\n                                                name=\"is_active\"\n                                                color=\"primary\"\n                                            />\n                                        }\n                                        label=\"Set as active\"\n                                    />\n                                </Tooltip>\n                            </Grid>\n                        </Grid>\n                    )\n                }\n                \n                { \n                    save_type === \"new\" && (\n                        <ContactForm\n                            setContactForm={setContactForm}\n                            chosenContact={initial_user_data}\n                            isEditMode={is_edit_mode}\n                            setContactFormForEdit={setContactFormForEdit}\n                            handleClose={handleClose}\n                            isFromChatterbox\n                        />\n                    )\n                }\n            </DialogContent>\n\n            {\n                save_type === \"existing\" && (\n                    <DialogActions>\n                        <Button variant=\"text\" onClick={handleSave} color=\"secondary\">\n                            Save\n                        </Button>\n                        <Button variant=\"text\" onClick={handleClose} color=\"primary\">\n                            Cancel\n                        </Button>\n                    </DialogActions>\n                )\n            }\n        </Dialog>\n    );\n}\n\nexport default React.memo(SaveContactModal);","import React, { Fragment } from \"react\";\nimport { Link } from \"react-router-dom\";\n\nimport {\n    List, ListItem, ListItemAvatar,\n    ListItemText, Avatar, Grid, \n    Chip, Typography, makeStyles,\n    IconButton, Paper\n} from \"@material-ui/core\";\nimport { isWidthUp } from \"@material-ui/core/withWidth\";\nimport {\n    CallReceived, CallMade, MoreVert,\n    Cancel, RadioButtonUnchecked, CheckCircle,\n    MobileOff\n} from \"@material-ui/icons\";\n\nimport moment from \"moment\";\n\nimport GenericAvatar from \"../../../images/generic-user-icon.jpg\";\nimport { getUserOrganizations, simNumFormatter } from \"../../../UtilityFunctions\";\nimport OptionsModal from \"./OptionsModal\";\nimport BlockNumberModal from \"./BlockNumberModal\";\nimport SaveContactModal from \"./SaveContactModal\";\n\nconst useStyles = makeStyles(theme => ({\n    inline: {\n        display: \"inline\",\n    },\n    overflowEllipsis: {\n        fontSize: \"inherit\",\n        textOverflow: \"ellipsis\",\n        whiteSpace: \"nowrap\",\n        overflow: \"hidden\"\n    },\n    link: { textDecoration: \"none\" },\n    noFlexGrow: { flexGrow: 0 },\n    hidden: { display: \"none !important\" },\n    sentIcon: { fontSize: \"1.10rem\" }\n}));\n\nexport function mobileUserFormatter (users) {\n    const sender_arr = [];\n    let orgs_arr = [];\n\n    users.forEach(row => {\n        const { user, status } = row;\n        const { first_name, last_name, organizations } = user;\n        const sender = `${first_name} ${last_name}`;\n        const orgs = getUserOrganizations(organizations);\n        if (users.length === 1) orgs_arr = [...orgs];\n        let org = sender;\n        let level = null;\n        if (orgs.length > 0) {\n            org = `${orgs[0].toUpperCase()}: ${orgs.slice(1).join(\", \")}`;\n            level = orgs[0];\n        }\n        \n        sender_arr.push({ sender, org, level, inactive: !status });\n    });\n\n    return { sender_arr, orgs_arr };\n}\n\nfunction returnTS (ts_received) {\n    const moment_ts = moment(ts_received);\n    const is_today = moment_ts.isSame(moment(), \"day\");\n    const ts = is_today ? moment_ts.format(\"HH:mm\") : moment_ts.format(\"MMM D\");\n\n    return ts;\n}\n\nfunction SecondaryInformation (classes, first_message) {\n    const { \n        sms_msg: message, ts: msg_ts, \n        source, send_status, ts_sent\n    } = first_message;\n    const ts = returnTS(msg_ts);\n\n    return (\n        <Grid \n            container \n            justify=\"space-between\"\n            spacing={0}\n        >\n            <Grid item xs={1} style={{ flexBasis: 0, marginRight: 6 }}>\n                {\n                    source === \"inbox\" ? (\n                        <CallReceived fontSize=\"small\" />\n                    ) : (\n                        <CallMade fontSize=\"small\" />\n                    )\n                }\n            </Grid>\n            <Grid item xs className={classes.overflowEllipsis}>\n                {message}\n            </Grid>\n            <Grid\n                item\n                style={{ marginRight: 8 }}\n                className={classes.noFlexGrow}\n            >\n                {ts}\n            </Grid>\n            <Grid item style={{ paddingTop: 2, marginRight: 8 }}>\n                {\n                    (send_status === 0 || (send_status === null && ts_sent !== null)) && <RadioButtonUnchecked className={classes.sentIcon} />\n                }\n                {\n                    send_status > 0 && send_status <= 5 && (\n                        <CheckCircle color=\"primary\" className={classes.sentIcon} />\n                    )\n                }\n                {\n                    (send_status === -1 || send_status > 5) && <Cancel color=\"error\" className={classes.sentIcon} />\n                }\n            </Grid>\n        </Grid>\n    );\n}\n\n// eslint-disable-next-line max-params\nfunction MessageListItem (row, props, openOptionsModal, index) {\n    const { messages, mobile_details } = row;\n    const [first_message] = messages;\n    const { classes, url, width, async, is_desktop, searchFilters } = props;\n\n    const { mobile_id, sim_num, users } = mobile_details;\n    const sim_number = simNumFormatter(sim_num);\n    let senders = [{ sender: sim_number, org: sim_number, inactive: false }];\n    let orgs = [];\n\n    const is_unknown = users.length === 0; // users === null;\n    if (!is_unknown) {\n        const { sender_arr, orgs_arr } = mobileUserFormatter(users);\n        senders = sender_arr;\n        orgs = orgs_arr;\n    }\n\n    let search_filters = null;\n    if (typeof searchFilters !== \"undefined\") {\n        search_filters = { ...searchFilters };\n    }\n\n    const no_convo_message = searchFilters ? \"No conversations\" : \"No conversation yet\";\n    \n    const on_option_button_click = e => {\n        e.preventDefault();\n        openOptionsModal(is_unknown, mobile_details);\n    };\n\n    const InactiveIcon = <MobileOff\n        style={{ color: \"red\", marginRight: 6 }}\n        fontSize=\"small\" titleAccess=\"Inactive number\"/>;\n\n    return (\n        <Link \n            to={{\n                pathname: `${url}/${mobile_id}`,\n                state: {\n                    async, search_filters\n                }\n            }} \n            key={`${index}-${mobile_id}`} \n            className={classes.link}\n        >\n            <ListItem alignItems=\"center\" button>\n                <ListItemAvatar>\n                    <Avatar alt=\"User\" src={GenericAvatar} className={classes.bigAvatar} />\n                </ListItemAvatar>\n                <ListItemText\n                    primary={\n                        <Grid container spacing={0} justify=\"flex-start\" alignItems=\"center\">\n                            <Grid item xs className={classes.noFlexGrow}>\n                                <Typography \n                                    variant=\"body1\" \n                                    className={classes.overflowEllipsis}\n                                    component=\"div\"\n                                    style={{ display: \"flex\", alignItems: \"center\" }}\n                                >\n                                    {senders.map((row, i) => {\n                                        return (\n                                            <Fragment key={`${row.sender}-${mobile_id}`}>\n                                                {senders.length > 1 && row.inactive && InactiveIcon}\n                                                <span title={row.org} \n                                                    style={{ paddingRight: 4 }}\n                                                >\n                                                    {row.sender}{i < senders.length - 1 && \",\"}\n                                                </span>\n                                            </Fragment>\n                                        );\n                                    })}\n                                </Typography>\n                            </Grid>\n                            \n                            {\n                                orgs.map((x, i) => {\n                                    const color = i === 0 ? \"secondary\" : \"primary\";\n                                    return (\n                                        <Grid key={i} item xs className={classes.noFlexGrow}>\n                                            <Chip color={color} size=\"small\" label={x} />\n                                        </Grid>\n                                    );\n                                })\n                            }\n\n                            <Grid \n                                item xs={6} sm\n                                container justify={isWidthUp(\"sm\", width) ? \"flex-end\" : \"flex-start\"}\n                                alignItems=\"center\"\n                            >\n                                {\n                                    (senders.length === 1 && senders[0].inactive) && InactiveIcon\n                                }\n\n                                <Typography \n                                    variant=\"subtitle2\" \n                                    color=\"textSecondary\"\n                                >\n                                    {sim_number}\n                                </Typography>\n                            </Grid>\n                            <Grid \n                                item xs \n                                style={{ \n                                    textAlign: \"right\",\n                                    flexGrow: is_desktop ? 0 : 1,\n                                    flexBasis: \"auto\" \n                                }}\n                            >\n                                <IconButton size=\"small\" onClick={on_option_button_click}>\n                                    <MoreVert />\n                                </IconButton>\n                            </Grid>\n                        </Grid>\n                    }\n                    primaryTypographyProps={{\n                        className: classes.overflowEllipsis\n                    }}\n                    secondary={\n                        messages.length > 0 ? (\n                            SecondaryInformation(classes, first_message)\n                        ) : (\n                            <div style={{ textAlign: \"center\" }}>{no_convo_message}</div>\n                        )\n                    }\n                    secondaryTypographyProps={{ component: \"div\" }}\n                />\n            </ListItem>\n        </Link>\n    );\n}\n\nfunction MessageList (comp_props) {\n    const { messagesArr, hidden } = comp_props;\n    const classes = useStyles();\n    const props = { ...comp_props, classes };\n\n    const [open_options, setOpenOptions] = React.useState(false);\n    const [is_unregistered, setIfUnregistered] = React.useState(false);\n    const [open_block_modal, setBlockModal] = React.useState(false);\n    const [open_save_contact_modal, setSaveContactModal] = React.useState(false);\n    const [chosen_mobile, setChosenMobile] = React.useState({});\n\n    const openOptionsModal = (is_unreg, mobile_details) => {\n        setIfUnregistered(is_unreg);\n        setChosenMobile(mobile_details);\n        setOpenOptions(true);\n    };\n\n    const handleOptionsClose = value => {\n        setOpenOptions(false);\n    };\n    \n    return (\n        <Fragment>\n            {\n                messagesArr.length === 0 ? (\n                    <Paper\n                        style={{\n                            height: \"30vh\", padding: 60, display: \"flex\",\n                            justifyContent: \"center\", alignItems: \"center\",\n                            background: \"gainsboro\", border: \"4px solid #CCCCCC\",\n                            marginTop: 30\n                        }}\n                        className={ hidden ? classes.hidden : \"\" }\n                    >\n                        <div>No conversations</div>\n                    </Paper>\n                ) : (\n                    <List dense className={ hidden ? classes.hidden : \"\" }>\n                        {\n                            messagesArr.map((row, index) => MessageListItem(row, props, openOptionsModal, index))\n                        }\n                    </List>\n                )\n            }\n\n            <OptionsModal \n                open={open_options}\n                onClose={handleOptionsClose}\n                isUnregistered={is_unregistered}\n                setBlockModal={setBlockModal}\n                setSaveContactModal={setSaveContactModal}\n            />\n\n            <BlockNumberModal\n                open={open_block_modal}\n                setBlockModal={setBlockModal}\n                mobileDetails={chosen_mobile}\n                setOpenOptions={setOpenOptions}\n            />\n\n            <SaveContactModal\n                open={open_save_contact_modal}\n                setSaveContactModal={setSaveContactModal}\n                mobileDetails={chosen_mobile}\n                setOpenOptions={setOpenOptions}\n            />\n        </Fragment>\n    );\n}\n\nexport default MessageList;","import React, { useState, useEffect, Fragment } from \"react\";\n\nimport {\n    Dialog, DialogTitle, DialogContent,\n    DialogContentText, DialogActions,\n    Button, withMobileDialog, makeStyles,\n    Radio, RadioGroup, FormControlLabel,\n    FormLabel\n} from \"@material-ui/core\";\n\nimport axios from \"axios\";\nimport moment from \"moment\";\n\nimport GeneralStyles from \"../../GeneralStyles\";\nimport SelectMultipleWithSuggest from \"../reusables/SelectMultipleWithSuggest\";\nimport { SlideTransition, FadeTransition } from \"../reusables/TransitionList\";\nimport { host } from \"../../config\";\nimport { handleUpdateInsertTags, handleDeleteTags } from \"./ajax\";\nimport { getCurrentUser } from \"../sessions/auth\";\nimport { mobileUserFormatter } from \"../communication/chatterbox/MessageList\";\nimport DynaslopeSiteSelectInputForm from \"../reusables/DynaslopeSiteSelectInputForm\";\n\nconst useStyles = makeStyles(theme => GeneralStyles(theme));\n\nfunction prepareContactPerson (mobileDetails) {\n    const { sim_num, users } = mobileDetails;\n    let name = sim_num;\n\n    if (users.length > 0) {\n        const formatted_users = mobileUserFormatter(users, false);\n        const { sender_arr } = formatted_users;\n        const temp = [];\n        sender_arr.forEach(row => {\n            const { sender, level, inactive } = row;\n            if (!inactive) {\n                const position = level !== null ? `${level} ` : \"\";\n                temp.push(`${position}${sender}`);\n            }\n        });\n\n        if (temp.length > 0) name = temp.join(\", \");\n        if (temp.length > 1) name += \"(shared number)\";\n    }\n    \n    return name;\n}\n\nfunction useFetchTagOptions (tag_selection) {\n    const [tags, update_tags] = useState([]);\n    const cancel_token = axios.CancelToken;\n    const source = cancel_token.source();\n\n    useEffect(() => {\n        const api_link = `${host}/api/chatterbox/get_message_tag_options/sms${tag_selection}_users`;\n\n        axios.get(api_link, { cancelToken: source.token })\n        .then(({ data }) => {\n            const arr = data.map(row => ({\n                value: row.tag_id,\n                label: row.tag\n            }));\n\n            update_tags(arr);\n        })\n        .catch(error => {\n            console.log(error);\n        });\n\n        // return source.cancel();\n    }, [tag_selection]);\n\n    return tags;\n}\n\nfunction preparePassedTags (tag_obj) {\n    const { tags } = tag_obj;\n    \n    const tag_arr = tags.map(x => ({\n        value: x.tag_id,\n        label: x.tag.tag\n    }));\n\n    return tag_arr;\n}\n\nfunction GeneralDataTagModal (props) {\n    const {\n        fullScreen, isOpen,\n        closeHandler, tagOption, isMobile,\n        tagObject, mobileDetails, message\n    } = props;\n\n    const classes = useStyles();\n\n    const tag_options = useFetchTagOptions(tagOption);\n    const [tags, update_tags] = useState(null);\n    const [orig_tags, setOrigTags] = useState([]);\n    const [has_fyi_tag, setHasFyiTag] = useState(false);\n    const [sites, setSites] = useState(null);\n    const [fyi_purpose, setFyiPurspose] = useState(\"\");\n\n    const is_saved_number = mobileDetails.users.length > 0;\n\n    useEffect(() => {\n        let bool = false;\n        if (tags !== null) bool = tags.some(x => x.label === \"#AlertFYI\");\n        setHasFyiTag(bool);\n    }, [tags]);\n\n    const [is_disabled, setIsDisabled] = useState(false);\n    useEffect(() => {\n        let bool = false;\n        if (is_saved_number) {\n            if (has_fyi_tag) {\n                if (sites === null || fyi_purpose === \"\") bool = true;\n            }\n        } else {\n            bool = true;\n        }\n        setIsDisabled(bool);\n    }, [has_fyi_tag, sites, fyi_purpose]);\n\n    useEffect(() =>{\n        const tag_arr = preparePassedTags(tagObject);\n        update_tags(tag_arr);\n        setOrigTags(tag_arr);\n    }, [tagObject]);\n\n    const update_tags_fn = value => update_tags(value);\n\n    const submitTagHandler = () => {\n        const { id, source, ts } = tagObject;\n\n        let contact_person = null;\n        let site_id_list = [];\n        if (is_saved_number && !has_fyi_tag) {\n            mobileDetails.users.forEach(row => {\n                const { user } = row;\n\n                const user_organizations = user.organizations;\n                user_organizations.forEach(org => {\n                    const { site: { site_id } } = org;\n                    !site_id_list.includes(site_id) && site_id_list.push(site_id);\n                });\n            });\n\n            contact_person = prepareContactPerson(mobileDetails);\n        } else if (has_fyi_tag) {\n            site_id_list = sites.map(x => x.value);\n        }\n        \n        const var_key_id = source === \"inbox\" ? \"inbox_id\" : \"outbox_id\";\n\n        // DELETE MISSING TAGS\n        let missing_tags = [];\n        // console.log(orig_tags, tags);\n        if (orig_tags.length > 0) {\n            if (tags === null) missing_tags = [...orig_tags];\n            else {\n                missing_tags = orig_tags.filter(row => !tags.some(x => x.value === row.value));\n            }\n        }\n\n        if (missing_tags.length > 0) {\n            // console.log(\"missing_tags\", missing_tags);\n            const delete_tag_id_list = missing_tags.map(tag => {\n                return tag.value;\n            });\n            const delete_payload = {\n                tag_type: `sms${source}_user_tags`,\n                tag_details: {\n                    [var_key_id]: id,\n                    delete_tag_id_list\n                }\n            };\n            console.log(\"delete_payload\", delete_payload);\n            handleDeleteTags(delete_payload, response => {\n                console.log(\"untag response\", response);\n            });\n        }\n\n        // ADD NEW TAGS\n        let new_tags = [];\n        if (tags !== null) new_tags = tags.filter((i => a => a !== orig_tags[i] || !++i)(0));\n        if (new_tags.length > null) {            \n            // console.log(\"new_tags\", new_tags);\n            const tag_id_list = new_tags.map(tag => {\n                return tag.value;\n            });\n            const payload = {\n                tag_type: `sms${source}_user_tags`,\n                contact_person,\n                message: has_fyi_tag ? fyi_purpose : message,\n                tag_details: {\n                    user_id: getCurrentUser().user_id,\n                    [var_key_id]: id,\n                    tag_id_list,\n                    site_id_list,\n                    ts: moment().format(\"YYYY-MM-DD HH:mm:ss\"),\n                    ts_message: ts\n                }\n            };\n            console.log(\"PAYLOAD\", payload);\n            handleUpdateInsertTags(payload, response => {\n                console.log(\"tag response\", response);\n            });\n        }\n\n        closeHandler();\n    };\n\n    return (\n        <Dialog\n            fullWidth\n            fullScreen={fullScreen}\n            open={isOpen}\n            aria-labelledby=\"form-dialog-title\"\n            TransitionComponent={fullScreen ? SlideTransition : FadeTransition}      \n        >\n            <DialogTitle id=\"form-dialog-title\">\n                Chatterbox Message Tagging\n            </DialogTitle>\n            <DialogContent>\n                <DialogContentText>\n                    Attach or remove tags to a message.\n                </DialogContentText>\n\n                <DialogContentText className={classes.dyna_error}>\n                    NOTE: You must manually remove any site logs created (if any) \n                    by a tag when removing a tag to a message.\n                </DialogContentText>\n                \n                <div style={{ margin: \"24px 0\" }}>\n                    <SelectMultipleWithSuggest\n                        label=\"Tags\"\n                        options={tag_options}\n                        value={tags}\n                        changeHandler={update_tags_fn}\n                        placeholder=\"Select tags\"\n                        renderDropdownIndicator={false}\n                        openMenuOnClick\n                        isMulti\n                    />\n                </div>\n                {\n                    has_fyi_tag && <Fragment>\n                        <DialogContentText color=\"textPrimary\">\n                            Alert FYI\n                        </DialogContentText>\n\n                        \n                        <DynaslopeSiteSelectInputForm\n                            value={sites}\n                            changeHandler={value => setSites(value)}\n                            isMulti\n                            required\n                        />\n\n\n                        <FormLabel component=\"legend\" style={{ marginTop: 24 }}>Purpose</FormLabel>\n                        <RadioGroup\n                            aria-label=\"fyi-purpose\"\n                            name=\"fyi-purpose\"\n                            row\n                            style={{ justifyContent: \"space-around\" }}\n                            value={fyi_purpose}\n                            onChange={e => setFyiPurspose(e.target.value)}\n                        >\n                            <FormControlLabel value=\"alert raising\" control={<Radio />} label=\"Alert raising\" />\n                            <FormControlLabel value=\"alert lowering\" control={<Radio />} label=\"Alert lowering\" />\n                        </RadioGroup>\n                    </Fragment>\n                }\n\n                {\n                    !isMobile && <div style={{ height: 240 }} />\n                }\n            </DialogContent>\n            <DialogActions>\n                <Button \n                    color=\"primary\"\n                    onClick={submitTagHandler}\n                    disabled={is_disabled}\n                >\n                    Submit\n                </Button>\n                <Button onClick={closeHandler}>\n                    Cancel\n                </Button>\n            </DialogActions>\n        </Dialog>\n    );\n}\n\nexport default withMobileDialog()(GeneralDataTagModal);\n","import { host } from \"../../config\";\nimport { makePOSTAxiosRequest } from \"../../UtilityFunctions\";\n\nexport function handleUpdateInsertTags (payload, callback) {\n    const api_link = `${host}/api/general_data_tag/handle_update_insert_tags`;\n\n    makePOSTAxiosRequest(api_link, payload, callback);\n}\n\nexport function handleDeleteTags (payload, callback) {\n    const api_link = `${host}/api/general_data_tag/handle_delete_tags`;\n\n    makePOSTAxiosRequest(api_link, payload, callback);\n}\n","import React, { useState, useEffect, Fragment } from \"react\";\nimport moment from \"moment\";\n\nimport List from \"@material-ui/core/List\";\nimport ListItem from \"@material-ui/core/ListItem\";\nimport ListItemText from \"@material-ui/core/ListItemText\";\nimport ListItemAvatar from \"@material-ui/core/ListItemAvatar\";\nimport Avatar from \"@material-ui/core/Avatar\";\nimport Button from \"@material-ui/core/Button\";\nimport Typography from \"@material-ui/core/Typography\";\nimport { IconButton, Tooltip, makeStyles, CircularProgress } from \"@material-ui/core\";\nimport {\n    TurnedIn, TurnedInNot, Refresh,\n    RadioButtonUnchecked, CheckCircle, Cancel\n} from \"@material-ui/icons\";\nimport GenericAvatar from \"../../../images/generic-user-icon.jpg\";\nimport GeneralDataTagModal from \"../../widgets/GeneralDataTagModal\";\nimport { loadMoreMessages, resendMessage } from \"../ajax\";\n\nconst useStyles = makeStyles(theme => ({\n    root: {\n        width: \"100%\",\n        backgroundColor: theme.palette.background.paper,\n    },\n    inline: {\n        display: \"inline\",\n    },\n    chatItemSent: {\n        justifyContent: \"flex-end\"\n    },\n    chatBubble: {\n        flexGrow: 0,\n        maxWidth: \"65%\",\n        [theme.breakpoints.down(\"xs\")]: {\n            maxWidth: \"75%\"\n        },\n        [theme.breakpoints.up(\"md\")]: {\n            maxWidth: \"50%\"\n        }, \n        paddingLeft: \"12px !important\",\n        paddingRight: 12,\n        paddingTop: 12,\n        paddingBottom: 6,\n        border: \"solid 1px rgba(215, 215, 215, 1)\",\n        backgroundColor: \"rgba(245, 245, 245, 1)\"\n    },\n    chatBubbleReceived: {\n        marginLeft: 14,\n        \"&:before\": {\n            content: \"''\",\n            left: 69,\n            right: \"auto\",\n            top: 14,\n            border: \"18px solid\",\n\n            position: \"absolute\",\n            width: 0,\n            height: 0,\n            bottom: \"auto\",\n            borderColor: \"rgba(215, 215, 215, 1) transparent transparent transparent\",\n        },\n        \"&:after\": {\n            content: \"''\",\n            left: 71.5,\n            right: \"auto\",\n            top: 15,\n            border: \"20px solid\",\n\n            position: \"absolute\",\n            width: 0,\n            height: 0,\n            bottom: \"auto\",\n            borderColor: \"rgba(245, 245, 245, 1) transparent transparent transparent\",\n        }\n    },\n    chatBubbleSent: {\n        marginRight: 14,\n        \"&:before\": {\n            content: \"''\",\n            left: \"auto\",\n            right: 69,\n            top: 14,\n            border: \"18px solid\",\n\n            position: \"absolute\",\n            width: 0,\n            height: 0,\n            bottom: \"auto\",\n            borderColor: \"rgba(215, 215, 215, 1) transparent transparent transparent\",\n        },\n        \"&:after\": {\n            content: \"''\",\n            left: \"auto\",\n            right: 71.5,\n            top: 15,\n            border: \"20px solid\",\n\n            position: \"absolute\",\n            width: 0,\n            height: 0,\n            bottom: \"auto\",\n            borderColor: \"rgba(245, 245, 245, 1) transparent transparent transparent\",\n        }\n    },\n    chatMessage: {\n        display: \"flex\",\n        alignItems: \"flex-start\",\n        justifyContent: \"space-between\",\n        fontSize: \"0.75rem\",\n        lineHeight: \"1.25em\"\n    },\n    timestampArea: { \n        display: \"flex\",\n        justifyContent: \"flex-end\",\n        alignItems: \"center\",\n        marginTop: 12\n    },\n    timestamp: {\n        fontSize: \"0.65rem\",\n    },\n    tagButton: {\n        padding: 0,\n        zIndex: 1\n    },\n    sentIcon: {\n        fontSize: \"1rem\"\n    }\n}));\n\nfunction arrowGenerator (color) {\n    return {\n        \"&[x-placement*=\\\"bottom\\\"] $arrow\": {\n            top: 0,\n            left: 0,\n            marginTop: \"-0.95em\",\n            width: \"2em\",\n            height: \"1em\",\n            \"&::before\": {\n                borderWidth: \"0 1em 1em 1em\",\n                borderColor: `transparent transparent ${color} transparent`,\n            },\n        },\n        \"&[x-placement*=\\\"top\\\"] $arrow\": {\n            bottom: 0,\n            left: 0,\n            marginBottom: \"-0.95em\",\n            width: \"2em\",\n            height: \"1em\",\n            \"&::before\": {\n                borderWidth: \"1em 1em 0 1em\",\n                borderColor: `${color} transparent transparent transparent`,\n            },\n        },\n        \"&[x-placement*=\\\"right\\\"] $arrow\": {\n            left: 0,\n            marginLeft: \"-0.95em\",\n            height: \"2em\",\n            width: \"1em\",\n            \"&::before\": {\n                borderWidth: \"1em 1em 1em 0\",\n                borderColor: `transparent ${color} transparent transparent`,\n            },\n        },\n        \"&[x-placement*=\\\"left\\\"] $arrow\": {\n            right: 0,\n            marginRight: \"-0.95em\",\n            height: \"2em\",\n            width: \"1em\",\n            \"&::before\": {\n                borderWidth: \"1em 0 1em 1em\",\n                borderColor: `transparent transparent transparent ${color}`,\n            },\n        },\n    };\n}\n\nconst useStylesBootstrap = makeStyles(theme => ({\n    arrow: {\n        position: \"absolute\",\n        fontSize: 6,\n        \"&::before\": {\n            content: \"\\\"\\\"\",\n            margin: \"auto\",\n            display: \"block\",\n            width: 0,\n            height: 0,\n            borderStyle: \"solid\",\n        },\n    },\n    popper: arrowGenerator(theme.palette.common.black),\n    tooltip: {\n        position: \"relative\",\n        backgroundColor: theme.palette.common.black,\n    },\n    tooltipPlacementLeft: {\n        margin: \"0 8px\",\n    },\n    tooltipPlacementRight: {\n        margin: \"0 8px\",\n    },\n    tooltipPlacementTop: {\n        margin: \"8px 0\",\n    },\n    tooltipPlacementBottom: {\n        margin: \"8px 0\",\n    },\n}));\n  \nfunction BootstrapTooltip (props) {\n    const { arrow, ...classes } = useStylesBootstrap();\n    const [arrowRef, setArrowRef] = React.useState(null);\n    const { title } = props;\n\n    return (\n        <Tooltip\n            classes={classes}\n            PopperProps={{\n                popperOptions: {\n                    modifiers: {\n                        arrow: {\n                            enabled: Boolean(arrowRef),\n                            element: arrowRef,\n                        },\n                    },\n                },\n            }}\n            {...props}\n            title={\n                <React.Fragment>\n                    {title}\n                    <span className={arrow} ref={setArrowRef} />\n                </React.Fragment>\n            }\n        />\n    );\n}\n\n// eslint-disable-next-line max-params\nfunction chatBubbleCreator (classes, message_row, set_gdt_fn, on_resend_click) {\n    const {\n        convo_id,\n        source, sms_msg: message,\n        ts, ts_sent, send_status,\n        tags\n    } = message_row;\n\n    const tag_object = {\n        tags,\n        source,\n        id: message_row[`${source}_id`],\n        ts\n    };\n\n    const is_you = source === \"outbox\";\n    const timestamp = moment(ts).format(\"M/D/YYYY HH:mm:ss\");\n\n    const avatar_component = <ListItemAvatar style={{ textAlign: \"-webkit-center\" }}>\n        <Avatar alt=\"Remy Sharp\" src={GenericAvatar} />\n    </ListItemAvatar>;\n\n    const has_tag = tags.length > 0;\n    const tag_icon = has_tag\n        ? <TurnedIn fontSize=\"small\" color=\"primary\" />\n        : <TurnedInNot fontSize=\"small\" color=\"primary\" />;\n    \n    const tag_summary = tags.map(x => x.tag.tag).join(\", \");\n\n    const bubble_area = <ListItemText\n        className={`${classes.chatBubble} ${is_you ? classes.chatBubbleSent : classes.chatBubbleReceived}`}\n        primary={\n            <Typography component=\"span\" className={classes.chatMessage} variant=\"body2\" color=\"textPrimary\">\n                <span style={{ paddingRight: 6, zIndex: 1 }}>{message}</span>\n                <BootstrapTooltip disableFocusListener disableHoverListener={!has_tag} title={tag_summary}>\n                    <IconButton className={classes.tagButton} onClick={set_gdt_fn(true, tag_object, message)}>\n                        {tag_icon}\n                    </IconButton>\n                </BootstrapTooltip>\n            </Typography>\n        }\n        secondary={\n            <Fragment>\n                <div \n                    className={classes.timestamp}\n                    style={{ paddingRight: is_you ? 6 : 0 }}\n                >\n                    {timestamp}\n                </div>\n                {\n                    (send_status >= 0 && send_status < 5 && send_status !== null) && (\n                        <BootstrapTooltip disableFocusListener title=\"SENDING\">\n                            <RadioButtonUnchecked className={classes.sentIcon} />\n                        </BootstrapTooltip>\n                    )\n                }\n                {\n                    send_status === 5 && (\n                        <BootstrapTooltip disableFocusListener title={ `SENT: ${moment(ts_sent).format(\"M/D/YYYY HH:mm:ss\")}` }>\n                            <CheckCircle color=\"primary\" className={classes.sentIcon} />\n                        </BootstrapTooltip>\n                    )\n                }\n                {\n                    (send_status === -1 || send_status > 5) && (\n                        <Fragment>\n                            <BootstrapTooltip disableFocusListener title=\"UNSENT\">\n                                <Cancel color=\"error\" className={classes.sentIcon} />\n                            </BootstrapTooltip>\n                            <BootstrapTooltip disableFocusListener title=\"Resend\">\n                                <Refresh \n                                    color=\"action\"\n                                    className={classes.sentIcon}\n                                    onClick={() => on_resend_click(message_row)}\n                                />\n                            </BootstrapTooltip>\n                        </Fragment>\n                    )\n                }\n            </Fragment>\n        }\n        secondaryTypographyProps={{ component: \"div\", className: classes.timestampArea }}\n    />;\n\n    let arr = [avatar_component, bubble_area];\n    if (is_you) arr = arr.reverse();\n    const [first, second] = arr;\n\n    return <ListItem\n        alignItems=\"flex-start\"\n        className={is_you ? classes.chatItemSent : \"\"}\n        key={convo_id}\n    >\n        {first}{second}\n    </ListItem>;\n}\n\nfunction ChatThread (props) {\n    const { message_list, mobileDetails, searchFilters, setScrollToBottom } = props;\n    const classes = useStyles();\n\n    const [messages, setMessages] = useState([]);\n    const [is_gdt_modal_open, set_is_gdt_modal_open] = useState(false);\n    const [selected_message, setSelectedMessage] = useState(\"\");\n    const default_tag_obj = {\n        id: \"\", source: \"\", tags: []\n    };\n\n    const [tag_object, update_tag_object] = useState(default_tag_obj);\n    const [message_batch, setMessageBatch] = useState(1);\n    const [loaded_messages, setLoadedMessages] = useState([]);\n    const [is_loading, setIsLoading] = useState(false);\n\n    useEffect(() => {\n        const initial_messages = message_list.slice(0).reverse();\n        setMessages(initial_messages);\n        setLoadedMessages(initial_messages);\n        setScrollToBottom(true);\n    }, [message_list]);\n\n    const set_gdt_fn = (bool, obj = default_tag_obj, message) => () => {\n        update_tag_object(obj);\n        set_is_gdt_modal_open(bool);\n        setSelectedMessage(message);\n        // create API to save tag\n    };\n\n    const onLoadMessageClick = () => {\n        const { mobile_id } = mobileDetails;\n        setIsLoading(true);\n        loadMoreMessages(mobile_id, message_batch, data => {\n            setIsLoading(false);\n            setLoadedMessages(data);\n            const reversed = data.slice(0).reverse();\n            setMessages(reversed.concat(messages));\n        });\n        setMessageBatch(message_batch + 1);\n    };\n\n    const onResendClick = message_row => {\n        const { convo_id } = message_row;\n        const temp = messages.map(row => {\n            if (row.convo_id === convo_id)\n                row.send_status = 0;\n            return row;\n        });\n        setMessages(temp);\n        resendMessage(convo_id);\n    };\n\n    const no_convo_message = searchFilters ? \"No conversations\" : \"No conversation yet\";\n\n    return (\n        <Fragment>\n            {\n                message_list.length === 0 && (\n                    <Typography variant=\"subtitle1\" align=\"center\" style={{ marginTop: 8 }}>\n                        { no_convo_message }\n                    </Typography>\n                )\n            }\n\n            {\n                loaded_messages.length >= 20 && (\n                    <Button\n                        color=\"primary\"\n                        size=\"small\"\n                        fullWidth\n                        onClick={onLoadMessageClick}\n                        endIcon={is_loading && <CircularProgress size=\"1.5rem\" />}\n                    >\n                        <strong>Load{is_loading && \"ing\"} more messages...</strong>\n                    </Button>\n                )\n            }\n                \n            <List className={classes.root}>\n                {\n                    messages.map(row => chatBubbleCreator(classes, row, set_gdt_fn, onResendClick))\n                }\n            </List>\n\n            <GeneralDataTagModal\n                isOpen={is_gdt_modal_open}\n                closeHandler={set_gdt_fn(false)}\n                tagOption={tag_object.source} // UPDATE THIS FOR GOD SAKE\n                tagObject={tag_object}\n                mobileDetails={mobileDetails}\n                message={selected_message}\n            />\n        </Fragment>\n    );\n}\n\nexport default ChatThread;","import io from \"socket.io-client\";\nimport { host } from \"../config\";\n\nlet socket;\n\nfunction connectToWebsocket () {\n    if (typeof socket === \"undefined\" || socket === null) {\n        socket = io(`${host}/communications`, {\n            reconnectionDelay: 10000,\n            reconnectionAttempts: 30,\n            transports: [\"websocket\"]\n        });\n    }\n}\n\nfunction subscribeToWebSocket (reconnect_callback, page) {\n    connectToWebsocket();\n\n    if (page === \"chatterbox\") {\n        socket.emit(\"get_latest_messages\");\n        socket.emit(\"get_all_mobile_numbers\");\n        socket.emit(\"get_all_contacts\");\n    } else if (page === \"contacts\") {\n        socket.emit(\"get_all_contacts\");\n    }\n\n    socket.on(\"reconnecting\", () => {\n        reconnect_callback(true);\n    });\n\n    socket.on(\"reconnect\", () => {\n        reconnect_callback(false);\n    });\n\n    socket.on(\"reconnect_failed\", () => {\n        // reconnect_callback(false);\n        console.log(\"failed\");\n    });\n}\n\nfunction sendWSMessage (key) {\n    connectToWebsocket();\n\n    socket.emit(key);\n}\n\nfunction receiveLatestMessages (callback) {\n    connectToWebsocket();\n\n    socket.on(\"receive_latest_messages\", data => {\n        console.log(\"Latest messages\", data);\n        callback(data);\n    });\n}\n\nfunction removeReceiveLatestMessages () {\n    socket.removeListener(\"receive_latest_messages\");\n}\n\nfunction receiveAllContacts (callback) {\n    connectToWebsocket();\n\n    socket.on(\"receive_all_contacts\", data => {\n        console.log(\"All Contacts\", data);\n        callback(data);\n    });\n}\n\nfunction removeReceiveAllContacts () {\n    socket.removeListener(\"receive_all_contacts\");\n}\n\nfunction receiveMobileIDRoomUpdate (callback) {\n    connectToWebsocket();\n\n    socket.on(\"receive_mobile_id_room_update\", data => {\n        console.log(\"Mobile ID Room Update\", data);\n        callback(data);\n    });\n}\n\nfunction removeReceiveMobileIDRoomUpdateListener () {\n    socket.removeListener(\"receive_mobile_id_room_update\");\n}\n\nfunction receiveAllMobileNumbers (callback) {\n    connectToWebsocket();\n\n    socket.on(\"receive_all_mobile_numbers\", data => {\n        console.log(\"All Saved Mobile Numbers\", data);\n        callback(data);\n    });\n}\n\nfunction removeReceiveAllMobileNumbers () {\n    socket.removeListener(\"receive_all_mobile_numbers\");\n}\n\nfunction receiveSearchResults (callback) {\n    socket.on(\"receive_search_results\", data => {\n        console.log(\"Chatterbox Search Results\", data);\n        callback(data);\n    });\n}\n\nfunction removeReceiveSearchResults () {\n    socket.removeListener(\"receive_search_results\");\n}\n\nfunction sendMessageToDB (data, callback) {\n    socket.emit(\"send_message_to_db\", data, ret => {\n        if (typeof callback !== \"undefined\")\n            callback(ret);\n    });\n}\n\nfunction unsubscribeToWebSocket () {\n    socket.close();\n}\n\n\nexport {\n    socket, subscribeToWebSocket, unsubscribeToWebSocket, \n    receiveMobileIDRoomUpdate, removeReceiveMobileIDRoomUpdateListener,\n    sendMessageToDB, receiveSearchResults, removeReceiveSearchResults,\n    receiveAllMobileNumbers, receiveLatestMessages, receiveAllContacts,\n    removeReceiveAllContacts, removeReceiveLatestMessages, sendWSMessage,\n    removeReceiveAllMobileNumbers\n};","import React, { Fragment, useState, useEffect, useRef } from \"react\";\n\nimport { \n    IconButton, Typography, Divider,\n    Grid, Chip, makeStyles, Avatar,\n    Button, Menu, MenuItem, Box,\n    Tooltip\n} from \"@material-ui/core\";\nimport {\n    KeyboardArrowLeft, MoreVert, AssignmentLate,\n    MobileOff\n} from \"@material-ui/icons\";\n\nimport ContentLoader from \"react-content-loader\";\nimport { useSnackbar } from \"notistack\";\n\nimport ChatThread from \"./ChatThread\";\nimport GeneralStyles from \"../../../GeneralStyles\";\nimport MessageInputTextbox from \"./MessageInputTextbox\";\nimport GenericAvatar from \"../../../images/generic-user-icon.jpg\";\nimport { simNumFormatter } from \"../../../UtilityFunctions\";\nimport { \n    receiveMobileIDRoomUpdate,\n    removeReceiveMobileIDRoomUpdateListener\n} from \"../../../websocket/communications_ws\";\nimport { mobileUserFormatter } from \"./MessageList\";\nimport { sendMessage } from \"../ajax\";\nimport { getCurrentUser } from \"../../sessions/auth\";\nimport SaveContactModal from \"./SaveContactModal\";\n\nconst useStyles = makeStyles(theme => {\n    const gen_style = GeneralStyles(theme);\n    \n    return {\n        regularContainer: {\n            ...gen_style.pageContentMargin,\n            margin: 0,\n            padding: \"16px 0\"\n        },\n        chatInputContainer: {\n            ...gen_style.pageContentMargin\n        },\n        divider: {\n            ...gen_style.pageContentMargin,\n            margin: 0\n        },\n        sticky: {\n            position: \"sticky\",\n            top: 56,\n            [theme.breakpoints.up(\"sm\")]: {\n                top: 63\n            },\n            [theme.breakpoints.up(\"md\")]: {\n                top: 118\n            },\n            backgroundColor: \"white\",\n            borderBottom: \"1px solid rgba(0, 0, 0, 0.12)\",\n            zIndex: 3\n        },\n        chatHead: {\n            paddingLeft: 8,\n            [theme.breakpoints.up(\"md\")]: {\n                paddingLeft: 0\n            },\n            display: \"flex\",\n            alignItems: \"center\"\n        },\n        backButton: {\n            padding: 0,\n            marginRight: 12\n        },\n        backIcon: {\n            width: 40,\n            height: 40\n        },\n        noFlexGrow: { flexGrow: 0 }\n    };\n});\n\nconst AvatarWithText = () => (\n    <ContentLoader\n        height={70}\n        width={800}\n        speed={2}\n        foregroundColor=\"#f3f3f3\"\n        backgroundColor=\"#ecebeb\"\n        viewBox=\"0 0 800 70\"\n        preserveAspectRatio=\"xMinYMin slice\"\n        style={{ height: \"100%\", width: \"100%\" }}\n    >\n        <rect x=\"69\" y=\"7\" rx=\"4\" ry=\"4\" width=\"663\" height=\"19\" /> \n        <rect x=\"70\" y=\"35\" rx=\"3\" ry=\"3\" width=\"293\" height=\"14\" /> \n        <rect x=\"0\" y=\"120\" rx=\"3\" ry=\"3\" width=\"201\" height=\"6\" /> \n        <circle cx=\"30\" cy=\"30\" r=\"30\" />\n    </ContentLoader>\n);\n\nconst ChatLoader = props => {\n    return (\n        <ContentLoader\n            height={160}\n            width={446}\n            speed={2}\n            foregroundColor=\"#f3f3f3\"\n            backgroundColor=\"#ecebeb\"\n            viewBox=\"3 0 446 160\"\n            preserveAspectRatio=\"xMinYMin slice\"\n            style={{ height: \"100%\", width: \"100%\" }}\n        >\n            <circle cx=\"19\" cy=\"25\" r=\"16\" />\n            <rect x=\"40\" y=\"12\" rx=\"5\" ry=\"5\" width=\"220\" height=\"10\" />\n            <rect x=\"40\" y=\"29\" rx=\"5\" ry=\"5\" width=\"220\" height=\"10\" />\n\n            <circle cx=\"420\" cy=\"71\" r=\"16\" />\n            <rect x=\"179\" y=\"76\" rx=\"5\" ry=\"5\" width=\"220\" height=\"10\" />\n            <rect x=\"179\" y=\"58\" rx=\"5\" ry=\"5\" width=\"220\" height=\"10\" />\n            \n            <circle cx=\"21\" cy=\"117\" r=\"16\" />\n            <rect x=\"45\" y=\"104\" rx=\"5\" ry=\"5\" width=\"220\" height=\"10\" />\n            <rect x=\"45\" y=\"122\" rx=\"5\" ry=\"5\" width=\"220\" height=\"10\" />\n        </ContentLoader>\n    );\n};\n  \nfunction RecipientFormatter (props) {\n    const { mobile_details, classes, saveNumberModal, searchFilters } = props;\n    const { users, sim_num } = mobile_details;\n    const sim_number = simNumFormatter(sim_num);\n    const [anchorEl, setAnchor] = useState(null);\n    \n    let senders = [{ sender: sim_number, org: sim_number, inactive: false }];\n    let orgs = [];\n\n    const is_unknown = users.length === 0; // users === null;\n    if (!is_unknown) {\n        const { sender_arr, orgs_arr } = mobileUserFormatter(users);\n        senders = sender_arr;\n        orgs = orgs_arr;\n    }\n\n    const handleClick = event => {\n        setAnchor(event.currentTarget);\n    };\n\n    const handleClose = () => {\n        setAnchor(null);\n    };\n\n    const handleMenuClick = () => {\n        setAnchor(null);\n        saveNumberModal();\n    };\n\n    const InactiveIcon = <MobileOff\n        style={{ color: \"red\", marginRight: 6 }}\n        fontSize=\"small\" titleAccess=\"Inactive number\"/>;\n\n    return (\n        <Grid container alignItems=\"center\">\n            <div style={{ marginRight: 12 }}>\n                <Avatar alt=\"User\" src={GenericAvatar} className={classes.bigAvatar} />\n            </div>\n            \n            <div>\n                <Grid \n                    container\n                    spacing={0} \n                    justify=\"flex-start\"\n                    alignItems=\"center\"\n                >\n\n                    <Grid item xs>\n                        <Typography \n                            variant=\"body1\"\n                            component=\"div\"\n                            style={{ display: \"flex\", alignItems: \"center\" }}\n                        >\n                            {senders.map((row, i) => {\n                                return (\n                                    <Fragment key={row.sender}>\n                                        {senders.length > 1 && row.inactive && InactiveIcon}\n                                        <span title={row.org} \n                                            style={{ paddingRight: 4 }}\n                                        >\n                                            {row.sender}{i < senders.length - 1 && \",\"}\n                                        </span>\n                                    </Fragment>\n                                );\n                            })}\n                        </Typography>\n                    </Grid>\n                    {\n                        orgs.map((x, i) => {\n                            const color = i === 0 ? \"secondary\" : \"primary\";\n                            return (\n                                <Grid key={i} item xs className={classes.noFlexGrow}>\n                                    <Chip color={color} size=\"small\" label={x} />\n                                </Grid>\n                            );\n                        })\n                    }        \n                </Grid>\n\n                {\n                    !is_unknown && (\n                        <Grid container alignItems=\"center\">\n                            {\n                                (senders.length === 1 && senders[0].inactive) && InactiveIcon\n                            }\n\n                            <Typography \n                                variant=\"subtitle2\" \n                                color=\"textSecondary\"\n                            >\n                                {sim_number}\n                            </Typography>\n                        </Grid>\n                    )\n                }\n            </div>\n\n            <Box ml={1} flex=\"display\">\n                {\n                    searchFilters && (\n                        <Tooltip title=\"Filters enabled\" arrow>\n                            <AssignmentLate color=\"primary\" />\n                        </Tooltip>\n                    )\n                }\n            </Box>\n\n            {\n                is_unknown && (\n                    <Grid \n                        container item xs\n                        justify=\"flex-end\"\n                    >\n                        <IconButton \n                            size=\"small\"\n                            aria-controls=\"simple-menu\"\n                            aria-haspopup=\"true\"\n                            onClick={handleClick}\n                        >\n                            <MoreVert/>\n                        </IconButton>\n                \n                        <Menu\n                            id=\"simple-menu\"\n                            anchorEl={anchorEl}\n                            getContentAnchorEl={null}\n                            keepMounted\n                            open={Boolean(anchorEl)}\n                            onClose={handleClose} \n                            anchorOrigin={{\n                                vertical: \"bottom\",\n                                horizontal: \"center\",\n                            }}\n                            transformOrigin={{\n                                vertical: \"top\",\n                                horizontal: \"center\",\n                            }}\n                        >\n                            <MenuItem\n                                style={{ \n                                    fontSize: 12\n                                }}\n                                key=\"save_unknown\" \n                                onClick={handleMenuClick}\n                            >\n                                Save unknown number\n                            </MenuItem>\n                        </Menu>\n                    </Grid>\n                )\n            }\n        </Grid>\n    );\n}\n\nconst goBack = history => e => {\n    e.preventDefault();\n    history.goBack();\n};\n\nfunction ConversationWindow (props) {\n    const {\n        history,\n        match: { params: { mobile_id } },\n        location: { state }, socket\n    } = props;\n\n    let search_filters = null;\n    if (typeof state !== \"undefined\") {\n        const { search_filters: sf } = state;\n        search_filters = sf;\n    }\n\n    const classes = useStyles();\n    const current_user = getCurrentUser();\n\n    const { enqueueSnackbar, closeSnackbar } = useSnackbar();\n    const [open_save_contact_modal, setSaveContactModal] = useState(false);\n    const [conversation_details, setConversationDetails] = useState({\n        message_list: null,\n        mobile_details: {}\n    });\n    const [composed_message, setComposedMessage] = useState(\"\");\n    const handle_message_fn = event => setComposedMessage(event.target.value);\n\n    useEffect(() => {\n        if (typeof socket !== \"undefined\") {\n            socket.emit(\"join_mobile_id_room\", {\n                mobile_id, search_filters\n            });\n\n            receiveMobileIDRoomUpdate(data => {\n                const { mobile_details, messages } = data;\n                setConversationDetails({\n                    mobile_details,\n                    message_list: messages\n                });\n            });\n        }\n\n        return () => {\n            if (typeof socket !== \"undefined\") {\n                socket.emit(\"leave_mobile_id_room\", mobile_id);\n                removeReceiveMobileIDRoomUpdateListener();\n            }\n        };\n    }, [socket, mobile_id]);\n\n    const { mobile_details, message_list } = conversation_details;\n\n    const snackBarActionFn = key => {\n        return (<Button\n            color=\"primary\"\n            onClick={() => { closeSnackbar(key); }}\n        >\n            Dismiss\n        </Button>);\n    };\n\n    const on_send_message_fn = () => {\n        const { mobile_id: m_id, gsm_id } = mobile_details;\n\n        const formatted_message = `${composed_message} - ${current_user.nickname} from PHIVOLCS-DYNASLOPE`;\n\n        const payload = {\n            sms_msg: formatted_message,\n            recipient_list: [\n                {\n                    mobile_id: m_id,\n                    gsm_id\n                }\n            ]\n        };\n\n        sendMessage(payload, response => {\n            if (response.status) {\n                enqueueSnackbar(\n                    \"EWI SMS Sent!\",\n                    {\n                        variant: \"success\",\n                        autoHideDuration: 7000,\n                        action: snackBarActionFn\n                    }\n                );\n                setComposedMessage(\"\");\n            } else {\n                enqueueSnackbar(\n                    response.message,\n                    {\n                        variant: \"error\",\n                        autoHideDuration: 7000,\n                        action: snackBarActionFn\n                    }\n                );\n            }\n        }, () => {\n            enqueueSnackbar(\n                \"Error sending EWI SMS...\",\n                {\n                    variant: \"error\",\n                    autoHideDuration: 7000,\n                    action: snackBarActionFn\n                }\n            );\n        });\n    };\n\n    const saveNumberModal = () => {\n        setSaveContactModal(true);\n    };\n\n    const convo_end_ref = useRef(null);\n    const [scrollToBottom, setScrollToBottom] = useState(false);\n    useEffect(() => {\n        convo_end_ref.current.scrollIntoView();\n    }, [scrollToBottom]);\n\n    return (\n        <Fragment>\n            {\n                message_list == null\n                    ? <div \n                        className={classes.regularContainer} \n                        style={{ paddingLeft: 16, paddingBottom: 0 }}\n                    >\n                        <AvatarWithText />\n                    </div>\n                    : <div className={`${classes.regularContainer} ${classes.sticky}`}>\n                        <div className={classes.chatHead}>\n                            <IconButton\n                                aria-label=\"Back\"\n                                color=\"primary\"\n                                className={classes.backButton}\n                                onClick={goBack(history)}\n                            >\n                                <KeyboardArrowLeft className={classes.backIcon} />\n                            </IconButton>\n                     \n                            <RecipientFormatter \n                                mobile_details={mobile_details}\n                                classes={classes} \n                                saveNumberModal={saveNumberModal}\n                                searchFilters={search_filters}\n                            />\n                        </div>\n                    </div>\n            }\n\n            <div className={classes.regularContainer}>\n                { \n                    message_list === null\n                        ? <div style={{ padding: \"0 16px\" }}><ChatLoader style={{ height: \"100%\" }} /></div>\n                        : <ChatThread\n                            message_list={message_list}\n                            searchFilters={search_filters}\n                            mobileDetails={mobile_details}\n                            setScrollToBottom={setScrollToBottom}\n                        />\n                }\n            </div>\n\n            {\n                message_list !== null && (\n                    <Fragment>\n                        <Divider className={classes.divider}/>\n\n                        <div className={classes.chatInputContainer}>\n                            <MessageInputTextbox \n                                value={composed_message}\n                                disableSend={composed_message === \"\"}\n                                setComposedMessage={setComposedMessage}\n                                messageChangeHandler={handle_message_fn}\n                                sendButtonClickHandler={on_send_message_fn}\n                            />\n                        </div>\n                    </Fragment>\n                )\n            }\n\n            <div \n                style={{ \"float\": \"left\", clear: \"both\" }}\n                ref={convo_end_ref} \n            />\n\n            <SaveContactModal\n                open={open_save_contact_modal}\n                setSaveContactModal={setSaveContactModal}\n                mobileDetails={mobile_details}\n            />\n        </Fragment>\n    );\n}\n\nexport default ConversationWindow;\n","import React from \"react\";\nimport {\n    Dialog, DialogTitle, DialogContent,\n    DialogContentText, DialogActions,\n    Button, withMobileDialog, IconButton,\n    makeStyles\n} from \"@material-ui/core\";\nimport { Close } from \"@material-ui/icons\";\nimport SendMessageForm from \"./SendMessageForm\";\nimport { SlideTransition, FadeTransition } from \"../../reusables/TransitionList\";\n\nconst useStyle = makeStyles(theme => ({\n    dialogContent: {\n        \"&::-webkit-scrollbar-track\": {\n            boxShadow: \"inset 0 0 5px grey\"\n        },\n        \"&::-webkit-scrollbar-thumb\": {\n            background: \"rgba(127, 127, 127, 0.7)\"\n        }\n    }\n}));\n\nfunction SendMessageModal (props) {\n    const {\n        fullScreen, modalStateHandler,\n        modalState, recipientsList\n    } = props;\n    const classes = useStyle();\n\n    return (\n        <Dialog\n            fullWidth\n            fullScreen={fullScreen}\n            open={modalState}\n            aria-labelledby=\"form-dialog-title\"\n            TransitionComponent={fullScreen ? SlideTransition : FadeTransition}\n                    \n        >\n            <DialogTitle id=\"form-dialog-title\">\n                <div style={{ display: \"flex\", alignItems: \"center\", justifyContent: \"space-between\" }}>\n                    <span>Send a Message</span>\n                    <IconButton \n                        color=\"inherit\" \n                        onClick={modalStateHandler}\n                        aria-label=\"Close\"\n                        style={{ padding: 0 }}\n                    >\n                        <Close />\n                    </IconButton>\n                </div>\n            </DialogTitle>\n\n            <DialogContent className={classes.dialogContent}>\n                <DialogContentText>\n                    Choose your recipients and compose a message, then send it.\n                </DialogContentText>\n                        \n                <div style={{ marginTop: 20 }}>\n                    <SendMessageForm \n                        isMobile={fullScreen}\n                        textboxValue=\"\"\n                        recipientsList={recipientsList}\n                        modalStateHandler={modalStateHandler}\n                    />\n                </div>\n            </DialogContent>\n            <DialogActions>\n                <Button onClick={modalStateHandler} color=\"primary\">\n                    Cancel\n                </Button>\n            </DialogActions>\n        </Dialog>\n    );\n}\n\nexport default withMobileDialog()(SendMessageModal);\n","import React from \"react\";\nimport {\n    Fab, withStyles, Zoom\n} from \"@material-ui/core\";\nimport withWidth, { isWidthUp } from \"@material-ui/core/withWidth\";\nimport AddIcon from \"@material-ui/icons/Add\";\nimport { compose } from \"recompose\";\n\nconst styles = theme => ({\n    fab: {\n        position: \"fixed\",\n        bottom: theme.spacing(2),\n        right: theme.spacing(2),\n        zIndex: 1\n    }\n});\n\nfunction CircularAddButton (props) {\n    const { classes, clickHandler, width } = props;\n\n    return (\n        <Zoom in unmountOnExit style={{\n            transitionDelay: \"100ms\",\n        }}>\n            <Fab \n                color=\"secondary\" \n                aria-label=\"Add\" \n                className={classes.fab}\n                size={isWidthUp(\"md\", width) ? \"large\" : \"medium\"}\n                onClick={clickHandler}\n            >\n                <AddIcon />\n            </Fab>\n        </Zoom>\n    );\n}\n\nexport default compose(\n    withStyles(styles),\n    withWidth()\n)(CircularAddButton);\n","import React, {\n    useState, useEffect, useContext, Fragment\n} from \"react\";\nimport { Link } from \"react-router-dom\";\n\nimport {\n    Dialog, DialogTitle, DialogContent,\n    DialogContentText, DialogActions,\n    Button, withMobileDialog, IconButton,\n    makeStyles, FormControlLabel,\n    Checkbox, Grid, Divider, Typography\n} from \"@material-ui/core\";\nimport { Close } from \"@material-ui/icons\";\nimport MomentUtils from \"@date-io/moment\";\nimport { MuiPickersUtilsProvider, KeyboardDateTimePicker } from \"@material-ui/pickers\";\nimport moment from \"moment\";\n\nimport SelectMultipleWithSuggest from \"../../reusables/SelectMultipleWithSuggest\";\nimport { SlideTransition, FadeTransition } from \"../../reusables/TransitionList\";\nimport { GeneralContext } from \"../../contexts/GeneralContext\";\nimport DynaslopeSiteSelectInputForm from \"../../reusables/DynaslopeSiteSelectInputForm\";\n\nconst useStyles = makeStyles(theme => ({\n    link: { textDecoration: \"none\" }\n}));\n\nfunction SearchMessageModal (props) {\n    const {\n        fullScreen, modalStateHandler,\n        setSearchResultsToEmpty,\n        modalState, url, isMobile\n    } = props;\n    const classes = useStyles();\n\n    const {\n        organizations: orgs_list\n    } = useContext(GeneralContext);\n\n    const [org_options, setOrgOptions] = useState([]);\n    useEffect(() => {\n        const temp = orgs_list.map(row => {\n            let pre = \"\";\n            switch (row.scope) {\n                case 1:\n                    pre = \"Barangay \"; break;\n                case 2:\n                    pre = \"Municipal \"; break;\n                case 3:\n                    pre = \"Provincial \"; break;\n                case 4:\n                    pre = \"Regional \"; break;\n                case 5:\n                    pre = \"National \"; break;\n                default:\n                    break;\n            }\n\n            return {\n                value: row.org_id,\n                label: pre + row.name.toUpperCase()\n            };\n        });\n        setOrgOptions(temp);\n    }, [orgs_list]);\n\n    const [sites, setSites] = useState([]);\n    const [organizations, setOrganizations] = useState([]);\n    const [only_ewi_recipients, setOnlyEwiRecipients] = useState(false);\n    const [include_inactive_numbers, setIncludeInactiveNumbers] = useState(false);\n    const [ts_start, setTsStart] = useState(null);\n    const [ts_end, setTsEnd] = useState(null);\n\n    const [is_search_disabled, setIsSearchDisabled] = useState(true);\n    const has_site_or_org = sites.length > 0 || organizations.length > 0;\n    const are_ts_all_null = [ts_start, ts_end].every(x => x === null);\n    const has_message_filters = [ts_start, ts_end].every(x => x !== null) || are_ts_all_null;\n\n    const compound_fn = () => {\n        modalStateHandler();\n        setSearchResultsToEmpty();\n    };\n\n    useEffect(() => {\n        let bool = true;\n\n        if (has_site_or_org) {\n            if (has_message_filters) bool = false;\n        } else if (has_message_filters && !are_ts_all_null) bool = false;\n        \n        setIsSearchDisabled(bool);\n    }, [sites, organizations, ts_start, ts_end]);\n\n    return (\n        <Dialog\n            fullWidth\n            fullScreen={fullScreen}\n            open={modalState}\n            aria-labelledby=\"form-dialog-title\"\n            TransitionComponent={fullScreen ? SlideTransition : FadeTransition}\n                \n        >\n            <DialogTitle id=\"form-dialog-title\">\n                Search Chatterbox\n            </DialogTitle>\n\n            <DialogContent style={{ overflowY: \"hidden\" }}>\n                <DialogContentText>\n                    Fill in at least one field from any of the filters. NOTE: the broader the search \n                    filters, the longer the query might run.\n                </DialogContentText>\n\n                <Grid container spacing={2}>\n                    <Typography\n                        variant=\"subtitle1\"\n                        component={Grid} item xs={12}\n                    >\n                        CONTACT FILTERS\n                    </Typography>\n\n                    <Grid item xs={12}>\n                        <DynaslopeSiteSelectInputForm\n                            value={sites}\n                            changeHandler={value => setSites(value || [])}\n                            isMulti\n                        />     \n                    </Grid>\n\n                    <Grid item xs={12}>\n                        <SelectMultipleWithSuggest\n                            label=\"Organization(s)\"\n                            options={org_options}\n                            value={organizations}\n                            changeHandler={value => setOrganizations(value || [])}\n                            placeholder=\"Select organization(s)\"\n                            renderDropdownIndicator={false}\n                            openMenuOnClick\n                            isMulti\n                        />\n                    </Grid>\n\n                    <Grid item xs={12}><Divider /></Grid>\n\n                    <Typography\n                        variant=\"subtitle1\"\n                        component={Grid} item xs={12}\n                    >\n                        MESSAGE FILTERS\n                    </Typography>\n                \n                    <MuiPickersUtilsProvider utils={MomentUtils}>\n                        <Grid item xs={12} sm={6}> \n                            <KeyboardDateTimePicker\n                                autoOk\n                                label=\"Start Date/Time\"\n                                value={ts_start}\n                                onChange={value => setTsStart(value)}\n                                ampm={false}\n                                placeholder=\"2010/01/01 00:00\"\n                                format=\"YYYY/MM/DD HH:mm\"\n                                mask=\"____/__/__ __:__\"\n                                clearable\n                                disableFuture\n                                fullWidth\n                                InputLabelProps={{\n                                    shrink: true,\n                                }}\n                                error={ts_start === null && ts_end !== null}\n                                helperText={\n                                    ts_start === null && ts_end !== null &&\n                                    \"Both date/time must have values\"\n                                }\n                            />\n                        </Grid>\n\n                        <Grid item xs={12} sm={6}> \n                            <KeyboardDateTimePicker\n                                autoOk\n                                label=\"End Date/Time\"\n                                value={ts_end}\n                                onChange={value => setTsEnd(value)}\n                                ampm={false}\n                                placeholder=\"2010/01/01 00:00\"\n                                format=\"YYYY/MM/DD HH:mm\"\n                                mask=\"____/__/__ __:__\"\n                                clearable\n                                disableFuture\n                                fullWidth\n                                InputLabelProps={{\n                                    shrink: true,\n                                }}\n                                error={ts_start !== null && ts_end === null}\n                                helperText={\n                                    ts_start !== null && ts_end === null &&\n                                    \"Both date/time must have values\"\n                                }\n                            />\n                        </Grid>\n                    </MuiPickersUtilsProvider>\n                    \n                    <Grid item xs={12}><Divider /></Grid>\n\n                    {\n                        !is_search_disabled && <Fragment>\n                            <Grid item xs={12} sm={6}>\n                                <FormControlLabel\n                                    control={\n                                        <Checkbox\n                                            checked={only_ewi_recipients}\n                                            onChange={x => setOnlyEwiRecipients(x.target.checked)}\n                                            name=\"onlyEWIRecipients\"\n                                        />\n                                    }\n                                    label=\"Only EWI recipients\"\n                                />  \n                            </Grid>\n\n                            <Grid item xs={12} sm={6}>\n                                <FormControlLabel\n                                    control={\n                                        <Checkbox\n                                            checked={include_inactive_numbers}\n                                            onChange={x => setIncludeInactiveNumbers(x.target.checked)}\n                                            name=\"includeInactiveNumbers\"\n                                        />\n                                    }\n                                    label=\"Include inactive numbers\"\n                                />  \n                            </Grid>\n                        </Fragment>\n                    }\n                </Grid>\n\n                {\n                    !isMobile && <div style={{ height: 100 }} />\n                }\n            </DialogContent>\n            <DialogActions>\n                <Button onClick={modalStateHandler}>\n                    Cancel\n                </Button>\n                <Button\n                    onClick={compound_fn}\n                    color=\"secondary\"\n                    disabled={is_search_disabled}\n                    component={Link}\n                    to={{\n                        pathname: `${url}/search_results`,\n                        state: {\n                            sites, organizations, only_ewi_recipients, include_inactive_numbers,\n                            ts_start: ts_start ? moment(ts_start).format(\"YYYY-MM-DD HH:mm:ss\") : ts_start,\n                            ts_end: ts_end ? moment(ts_end).format(\"YYYY-MM-DD HH:mm:ss\") : ts_end\n                        }\n                    }} \n                >\n                    Search\n                </Button>\n            </DialogActions>\n        </Dialog>\n    );\n}\n\nexport default withMobileDialog()(SearchMessageModal);\n","import React, {\n    useState, useEffect\n} from \"react\";\n\nimport { \n    IconButton, Typography,\n    makeStyles, Button, Box,\n    Grid, Hidden, Divider\n} from \"@material-ui/core\";\nimport { ArrowBackIos } from \"@material-ui/icons\";\nimport { isWidthDown } from \"@material-ui/core/withWidth\";\n\nimport GeneralStyles from \"../../../GeneralStyles\";\nimport PageTitle from \"../../reusables/PageTitle\";\nimport MessageList from \"./MessageList\";\n\nimport { receiveSearchResults, removeReceiveSearchResults } from \"../../../websocket/communications_ws\";\nimport { capitalizeFirstLetter } from \"../../../UtilityFunctions\";\n\nconst useStyles = makeStyles(theme => {\n    const gen_style = GeneralStyles(theme);\n    \n    return {\n        ...gen_style,\n        regularContainer: {\n            ...gen_style.pageContentMargin,\n            margin: 0,\n            padding: \"16px 0\"\n        },\n        chatInputContainer: {\n            ...gen_style.pageContentMargin\n        },\n        divider: {\n            ...gen_style.pageContentMargin,\n            margin: 0\n        },\n        backButton: {\n            padding: 0,\n            marginRight: 12\n        },\n        backIcon: {\n            width: 40,\n            height: 40\n        }\n    };\n});\n  \nconst goBack = history => e => {\n    e.preventDefault();\n    history.goBack();\n};\n\nfunction BackToMainButton (props) {\n    const { width, history } = props;\n\n    return (\n        isWidthDown(width, \"sm\") ? (<Button\n            variant=\"contained\"\n            color=\"primary\"\n            size=\"small\" \n            onClick={goBack(history)}\n            startIcon={<ArrowBackIos />}\n        >\n            Back to conversation list\n        </Button>) : (<IconButton\n            variant=\"contained\"\n            color=\"primary\"\n            size=\"small\" \n            onClick={goBack(history)}\n        >\n            <ArrowBackIos />\n        </IconButton>)\n    );\n}\n\nfunction SearchResultsPage (props) {\n    const {\n        location, socket, width,\n        url, is_desktop,\n        searchResults, setSearchResults,\n        ListLoader\n    } = props;\n    const classes = useStyles();\n    const { state: {\n        sites, organizations, only_ewi_recipients,\n        include_inactive_numbers, ts_start, ts_end\n    } } = location;\n\n    const [is_loading, setIsLoading] = useState(false);\n    const has_no_input = sites === null && organizations === null;\n\n    useEffect(() => {\n        const has_no_search_results = searchResults.length === 0;\n\n        if (!has_no_input && has_no_search_results) {\n            setIsLoading(true);\n\n            const input = {\n                site_ids: sites.map(s => s.value),\n                org_ids: organizations.map(o => o.value),\n                only_ewi_recipients,\n                include_inactive_numbers,\n                ts_start,\n                ts_end\n            };\n\n            if (typeof socket !== \"undefined\") {\n                socket.emit(\"get_search_results\", input);\n    \n                receiveSearchResults(data => {\n                    setIsLoading(false);\n                    setSearchResults(data);\n                });\n            }\n        }\n\n        return () => {\n            if (typeof socket !== \"undefined\") {\n                removeReceiveSearchResults();\n            }\n        };\n    }, [\n        socket, sites, organizations,\n        ts_start, ts_end\n    ]);\n\n    return (\n        <div className={classes.pageContentMargin}>\n            <PageTitle\n                title=\"Communications | Chatterbox\"\n            />\n\n            <Grid container>\n                <div><BackToMainButton {...props}/></div>\n\n                <Hidden smDown>\n                    <Grid item xs={12} style={{ marginBottom: 12 }} />\n                </Hidden>\n\n                <Typography\n                    component={Grid} item xs\n                    variant=\"h5\"\n                >\n                    Search Results\n                </Typography>\n\n                <Hidden smUp>\n                    <Grid item xs={12} style={{ marginBottom: 8 }} />\n                </Hidden>\n            </Grid>\n\n            <Box display=\"flex\" flexWrap=\"wrap\">\n                {\n                    sites.length !== 0 && <Box mr={2}>\n                        <Typography variant=\"subtitle2\">\n                            <strong>Site(s):</strong> { sites.map(x => x.data.site_code.toUpperCase()).join(\", \") }\n                        </Typography>\n                    </Box>\n                }\n\n                {\n                    organizations.length !== 0 && <Box mr={2}>\n                        <Typography variant=\"subtitle2\">\n                            <strong>Organizations(s):</strong> { organizations.map(x => x.label).join(\", \") }\n                        </Typography>\n                    </Box>\n                }\n\n                {\n                    ts_start && <Box mr={2}>\n                        <Typography variant=\"subtitle2\"><strong>Start Date/Time:</strong>{ts_start}</Typography>\n                    </Box>\n                }\n\n                {\n                    ts_end && <Box mr={2}>\n                        <Typography variant=\"subtitle2\"><strong>End Date/Time:</strong>{ts_end}</Typography>\n                    </Box>\n                }\n\n                <Box mr={2}>\n                    <Typography variant=\"subtitle2\">\n                        <strong>Only EWI Recipients:</strong> {capitalizeFirstLetter(only_ewi_recipients.toString())}\n                    </Typography>\n                </Box>\n\n                <Box mr={2}>\n                    <Typography variant=\"subtitle2\">\n                        <strong>Include Invalid Numbers:</strong> {capitalizeFirstLetter(include_inactive_numbers.toString())}\n                    </Typography>\n                </Box>\n            </Box>\n\n            <Divider style={{ marginTop: 12 }} />\n\n            {\n                has_no_input && (\n                    <Typography variant=\"h6\" align=\"center\">\n                        <strong>No search input</strong>\n                    </Typography>\n                )\n            }\n\n            {\n                // eslint-disable-next-line no-nested-ternary\n                is_loading ? (\n                    <div style={{ width: \"100%\" }}>\n                        <ListLoader />\n                    </div>\n                ) : (\n                    searchResults.length > 0 ? (\n                        <MessageList\n                            width={width}\n                            url={url}\n                            messagesArr={searchResults}\n                            searchFilters={{ ts_start, ts_end }}\n                            hidden={false}\n                            is_desktop={is_desktop}\n                        />\n                    ) : (\n                        <Typography variant=\"h6\" align=\"center\">\n                            <strong>No results found</strong>\n                        </Typography>\n                    )\n                )\n            }\n        </div>\n    );\n}\n\nexport default SearchResultsPage;\n","import React, {\n    Fragment, useState,\n    useEffect, useContext, createContext\n} from \"react\";\nimport { Route, Switch } from \"react-router-dom\";\n\nimport { \n    Button, Badge, makeStyles, IconButton,\n    Dialog, DialogTitle, DialogContent, Typography, Divider\n} from \"@material-ui/core\";\nimport withWidth, { isWidthUp } from \"@material-ui/core/withWidth\";\nimport { Create, Search, Info } from \"@material-ui/icons\";\n\nimport ContentLoader from \"react-content-loader\";\n\nimport GeneralStyles from \"../../../GeneralStyles\";\nimport PageTitle from \"../../reusables/PageTitle\";\nimport MessageList from \"./MessageList\";\nimport ConversationWindow from \"./ConversationWindow\";\nimport TabBar from \"../../reusables/TabBar\";\nimport SendMessageModal from \"./SendMessageModal\";\nimport CircularAddButton from \"../../reusables/CircularAddButton\";\nimport SearchMessageModal from \"./SearchMessageModal\";\nimport SearchResultsPage from \"./SearchResultsPage\";\nimport { GeneralContext } from \"../../contexts/GeneralContext\"; \nimport {\n    socket, subscribeToWebSocket, removeReceiveLatestMessages,\n    receiveAllMobileNumbers, receiveLatestMessages,\n    removeReceiveAllMobileNumbers, receiveAllContacts,\n    removeReceiveAllContacts\n} from \"../../../websocket/communications_ws\";\n\nconst useStyles = makeStyles(theme => {\n    const gen_style = GeneralStyles(theme);\n    \n    return {\n        ...gen_style,\n        tabBar: {\n            ...gen_style.pageContentMargin,\n            margin: 0\n        },\n        tabBarContent: {\n            marginTop: 16\n        },\n\n    }; \n});\n\nconst ListLoader = () => (\n    <ContentLoader \n        speed={2}\n        foregroundColor=\"#f3f3f3\"\n        backgroundColor=\"#ecebeb\"\n        viewBox=\"0 0 600 400\"\n        style={{ width: \"100%\" }}\n    >\n        <circle cx=\"47\" cy=\"48\" r=\"26\" /> \n        <rect x=\"90\" y=\"36\" rx=\"0\" ry=\"0\" width=\"489\" height=\"29\" /> \n        <circle cx=\"47\" cy=\"108\" r=\"26\" /> \n        <rect x=\"90\" y=\"96\" rx=\"0\" ry=\"0\" width=\"489\" height=\"29\" /> \n        <circle cx=\"49\" cy=\"168\" r=\"26\" /> \n        <rect x=\"90\" y=\"156\" rx=\"0\" ry=\"0\" width=\"489\" height=\"29\" />\n        <circle cx=\"49\" cy=\"228\" r=\"26\" /> \n        <rect x=\"90\" y=\"216\" rx=\"0\" ry=\"0\" width=\"489\" height=\"29\" />\n        <circle cx=\"49\" cy=\"288\" r=\"26\" /> \n        <rect x=\"90\" y=\"276\" rx=\"0\" ry=\"0\" width=\"489\" height=\"29\" />\n        <circle cx=\"49\" cy=\"348\" r=\"26\" /> \n        <rect x=\"90\" y=\"336\" rx=\"0\" ry=\"0\" width=\"489\" height=\"29\" />\n    </ContentLoader>\n);\n\nfunction ChatterboxInfoModal (props) {\n    const { modalState, modalStateHandler } = props;\n    \n    return (\n        <Dialog onClose={modalStateHandler} aria-labelledby=\"simple-dialog-title\" open={modalState}>\n            <DialogTitle id=\"simple-dialog-title\">Chatterbox Information</DialogTitle>\n            <DialogContent>\n                <Typography variant=\"h6\" gutterBottom align=\"center\">Inbox</Typography>\n                <Typography variant=\"body1\" gutterBottom align=\"justify\">\n                    &emsp;&emsp;Inbox tab contains the list of our contacts who recently sent a message to our server.\n                    The first contact in the list is the most recent message sender, and so on.<br/><br/>\n                    &emsp;&emsp;Unlike a regular message list on a messaging app, outbound messages to our contacts do not affect\n                    the order of the list nor the appearance of a contact on the list (because our server sends\n                    a lot of messages, especially when routine, that incoming messages might get unnoticed).\n                </Typography>\n                <Divider style={{ margin: \"8px 0\" }} />\n                <Typography variant=\"h6\" gutterBottom align=\"center\">Unsent</Typography>\n                <Typography variant=\"body1\" gutterBottom align=\"justify\">\n                    &emsp;&emsp;Unsent tab displays conversation threads which contains unsent messages within one day span.\n                    Unsent messages refer to messages in the process of sending or messages with failed sending attempt.\n                </Typography>\n            </DialogContent>\n        </Dialog>\n    );\n}\n\nexport const CommsContext = createContext();\n\nfunction Container (comp_props) {\n    const { location, match: { url }, width } = comp_props;\n    const classes = useStyles();\n\n    const [chosen_tab, setChosenTab] = useState(0);\n    const [is_open_send_modal, setIsOpenSendModal] = useState(false);\n    const [is_open_search_modal, setIsOpenSearchModal] = useState(false);\n    const [message_collection, setMessagesCollection] = useState({\n        inbox: null,\n        unsent: null\n    });\n    const [tabs_array, setTabsArray] = useState([\n        { label: \"Inbox\", href: \"inbox\" },\n        { label: \"Unsent\", href: \"unsent\" }\n    ]);\n    const [search_results, setSearchResults] = useState([]);\n    const [recipients_list, setRecipientsList] = useState([]);\n    const [contacts, setContacts] = useState([]);\n    const [is_open_info_modal, setIsOpenInfoModal] = useState(false);\n\n    const set_modal_fn = (key, bool) => () => {\n        if (key === \"send\") setIsOpenSendModal(bool);\n        else if (key === \"search\") setIsOpenSearchModal(bool);\n        else if (key === \"info\") setIsOpenInfoModal(bool);\n    };\n\n    const { setIsReconnecting } = useContext(GeneralContext);\n\n    useEffect(() => {\n        subscribeToWebSocket(setIsReconnecting, \"chatterbox\");\n\n        receiveLatestMessages(data => {\n            setMessagesCollection(data);\n            \n            const { unsent: { length } } = data;\n            let label = \"Unsent\";\n            const index = tabs_array.findIndex(x => x.href === label);\n            if (length > 0) {\n                label = <Badge\n                    style={{ padding: \"0 8px\" }}\n                    color=\"secondary\" \n                    badgeContent={length}\n                    overlap=\"rectangle\"\n                >\n                    Unsent\n                </Badge>;\n            }\n            setTabsArray(prev => [...prev.slice(0, index), { label, href: \"unsent\" }]);\n        });\n\n        receiveAllMobileNumbers(data => {\n            setRecipientsList(data);\n        });\n\n        receiveAllContacts(data => setContacts(data));\n\n        return () => {\n            removeReceiveLatestMessages();\n            removeReceiveAllMobileNumbers();\n            removeReceiveAllContacts();\n        };\n    }, []);\n\n    const is_desktop = isWidthUp(\"md\", width);\n\n    const custom_buttons = <span>\n        <IconButton \n            color=\"primary\"\n            aria-label=\"Chatterbox info\"\n            onClick={set_modal_fn(\"info\", true)}\n        >\n            <Info fontSize=\"large\" />\n        </IconButton>\n\n        <Button\n            aria-label=\"Compose message\"\n            variant=\"contained\" \n            color=\"primary\"\n            size=\"small\" \n            style={{ marginRight: 8 }}\n            onClick={set_modal_fn(\"send\", true)}\n            startIcon={<Create/>}\n        >\n            Compose\n        </Button>\n\n        <Button \n            aria-label=\"Search messages\"\n            variant=\"contained\"\n            color=\"primary\"\n            size=\"small\"\n            onClick={set_modal_fn(\"search\", true)}\n            startIcon={<Search />}\n        >\n            Search\n        </Button>\n    </span>;\n\n    return (\n        <Switch location={location}>\n            <Route exact path={url} \n                render={ props => (\n                    <Fragment>\n                        <div className={classes.pageContentMargin}>\n                            <PageTitle\n                                title=\"Communications | Chatterbox\" \n                                customButtons={is_desktop ? custom_buttons : false}\n                            />\n                        </div>\n\n                        <div className={classes.tabBar}>\n                            <TabBar \n                                chosenTab={chosen_tab}\n                                onSelect={tab => setChosenTab(tab)}\n                                tabsArray={tabs_array}\n                            />\n                        </div>\n\n                        <div className={`${classes.tabBar} ${classes.tabBarContent}`}>\n                            <CommsContext.Provider value={{ contacts }}>\n                                {\n                                    message_collection.inbox === null ? (\n                                        <ListLoader />\n                                    ) : (\n                                        <MessageList\n                                            width={width}\n                                            url={url}\n                                            messagesArr={message_collection.inbox}\n                                            hidden={chosen_tab !== 0}\n                                            is_desktop={is_desktop}\n                                        />\n                                    )\n                                }\n\n                                {\n                                    chosen_tab === 1 && (\n                                        message_collection.unsent === null ? (\n                                            <div style={{ width: \"100%\" }}><ListLoader /></div>\n                                        ) : (\n                                            <MessageList\n                                                width={width}\n                                                url={url}\n                                                messagesArr={message_collection.unsent}\n                                                hidden={chosen_tab !== 1}\n                                                is_desktop={is_desktop}\n                                            />\n                                        )\n                                    )\n                                }\n                            </CommsContext.Provider>\n                        </div>\n\n                        { !is_desktop && <CircularAddButton clickHandler={set_modal_fn(\"send\", true)} />}\n\n                        <SendMessageModal\n                            modalStateHandler={set_modal_fn(\"send\", false)} \n                            modalState={is_open_send_modal}\n                            recipientsList={recipients_list}\n                        />\n\n                        <SearchMessageModal \n                            modalStateHandler={set_modal_fn(\"search\", false)}\n                            modalState={is_open_search_modal}\n                            setSearchResultsToEmpty={() => setSearchResults([])}\n                            url={url}\n                        />\n\n                        <ChatterboxInfoModal\n                            modalStateHandler={set_modal_fn(\"info\", false)} \n                            modalState={is_open_info_modal}\n                        />\n                    </Fragment>\n                )}\n            />\n            \n            <Route path={`${url}/search_results`} render={\n                props => <CommsContext.Provider value={{ contacts }}>\n                    <SearchResultsPage\n                        {...props}\n                        messageCollection={message_collection}\n                        socket={socket}\n                        url={url}\n                        width={width}\n                        is_desktop={is_desktop}\n                        searchResults={search_results}\n                        setSearchResults={setSearchResults}\n                        ListLoader={ListLoader}\n                    />\n                </CommsContext.Provider>\n            } \n            />\n\n            <Route path={`${url}/:mobile_id`} render={\n                props => <CommsContext.Provider value={{ contacts }}>\n                    <ConversationWindow \n                        {...props}\n                        messageCollection={message_collection}\n                        socket={socket}\n                    />\n                </CommsContext.Provider>\n            } \n            />\n        </Switch>\n    );\n\n}\n\nexport default withWidth()(Container);\n","import React from \"react\";\n\nimport {\n    Grid, Typography,\n    List, ListItem, ListItemAvatar,\n    ListItemText, Avatar, Chip,\n    Tooltip\n} from \"@material-ui/core\";\nimport { Person, Star } from \"@material-ui/icons\";\n\nimport { getUserOrganizations, getUserContactPriority } from \"../../../UtilityFunctions\";\n\nconst MemoizedItem = React.memo(props => {\n    const { classes, row, index, onContactClickFn } = props;\n\n    const { user_id, first_name, last_name, organizations } = row;\n    const orgs = getUserOrganizations(organizations);\n    const is_priority = getUserContactPriority(organizations);\n\n    return (\n        <ListItem \n            button\n            onClick={onContactClickFn(row, index)}\n            key={user_id}\n        >\n            <ListItemAvatar>\n                <Avatar>\n                    <Person />\n                </Avatar>\n            </ListItemAvatar>\n            <ListItemText\n                primary={\n                    <Grid \n                        container\n                        spacing={0}\n                        justify=\"flex-start\"\n                        alignItems=\"center\"\n                    >\n                        <Grid \n                            item xl\n                            style={{ flexGrow: 1 }}\n                        >\n                            <Typography \n                                variant=\"body1\" \n                                style={{ marginRight: 8 }}\n                            >\n                                {`${last_name}, ${first_name}`}\n                            </Typography>\n                        </Grid>\n                        {\n                            orgs.map((x, i) => {\n                                const bool = i === 0;\n                                const color = bool ? \"secondary\" : \"primary\";\n\n                                if (bool && is_priority) {\n                                    return (\n                                        <Grid key={i} item xs className={classes.noFlexGrow}>\n                                            <Tooltip \n                                                arrow\n                                                disableFocusListener\n                                                title=\"Contact Priority\"\n                                                placement=\"top\"\n                                            >\n                                                <Chip\n                                                    color={color} size=\"small\"\n                                                    label={x}\n                                                    icon={<Star style={{ color: \"gold\" }}/>}\n                                                />\n                                            </Tooltip>\n                                        </Grid>\n                                    );\n                                }\n\n                                return (\n                                    <Grid key={i} item xs className={classes.noFlexGrow}>\n                                        <Chip color={color} size=\"small\" label={x} />\n                                    </Grid>\n                                );\n                            })\n                        }\n                    </Grid>\n                }\n            />\n        </ListItem>           \n    );\n});\n\nfunction ContactList (props) {\n    const {\n        contacts, onContactClickFn, classes\n    } = props;\n\n    return (\n        <List dense style={{ paddingTop: 0 }}>\n            {\n                contacts.map((row, index) => {\n                    return <MemoizedItem \n                        row={row}\n                        index={index}\n                        onContactClickFn={onContactClickFn}\n                        classes={classes}\n                        key={`list-${index}`}\n                    />;\n                })\n            }\n        </List>\n    );\n}\n\nexport default ContactList;","import React from \"react\";\n\nimport {\n    Grid, Typography,\n    List, ListItem, ListItemAvatar,\n    ListItemText, Avatar\n} from \"@material-ui/core\";\nimport { Block } from \"@material-ui/icons\";\n\n\nfunction BlockedContactList (props) {\n    const { blocked_numbers, onBlockContactClickFn, } = props;\n    if (blocked_numbers.length === 0) {\n        return (<div>No blocked contact</div>);\n    }\n    return (\n        <List dense style={{ paddingTop: 0 }}>\n            {\n                blocked_numbers.map(row => {\n                    const { mobile_number } = row;\n                    const { mobile_id, sim_num } = mobile_number;\n                    return (\n                        <ListItem \n                            button\n                            onClick={onBlockContactClickFn(row)}\n                            key={mobile_id}\n                        >\n                            <ListItemAvatar>\n                                <Avatar>\n                                    <Block />\n                                </Avatar>\n                            </ListItemAvatar>\n                            <ListItemText\n                                primary={\n                                    <Grid \n                                        container\n                                        spacing={0}\n                                        justify=\"flex-start\"\n                                        alignItems=\"center\"\n                                    >\n                                        <Grid \n                                            item xl\n                                            style={{ flexGrow: 1 }}\n                                        >\n                                            <Typography \n                                                variant=\"body1\" \n                                                style={{ marginRight: 8 }}\n                                            >\n                                                {`+${sim_num}`}\n                                            </Typography>\n                                        </Grid>   \n                                    </Grid>\n                                }\n                            />\n                        </ListItem>\n                    );\n                })\n            }\n        </List>\n    );\n}\n\nexport default React.memo(BlockedContactList);","import React, { Fragment } from \"react\";\n\nimport {\n    Grid, Typography, Paper\n} from \"@material-ui/core\";\n\nfunction groupSimPrefixesByNetwork (sim_prefixes) {\n    const smart = [];\n    const globe = [];\n\n    sim_prefixes.forEach(row => {\n        const { prefix, network_id } = row;\n        const prefix_code = `0${prefix}`;\n        if (network_id === 1) {\n            globe.push(prefix_code);\n        } else {\n            smart.push(prefix_code);\n        }\n    });\n\n    return [\n        { network: \"Globe\", prefixes: globe },\n        { network: \"Smart\", prefixes: smart }\n    ];\n}\n\nfunction SimGroup (props) {\n    const { row: { network, prefixes } } = props;\n\n    return (\n        <Fragment>\n            <Typography \n                variant=\"h5\"\n                style={{ marginBottom: 12 }}\n            >\n                {network}\n            </Typography>\n\n            <Paper style={{ padding: \"24px 16px\" }}>\n                <Grid\n                    container spacing={3}\n                >\n                    {\n                        prefixes.map(row => {\n                            return (\n                                <Typography \n                                    variant=\"body1\"\n                                    component={Grid}\n                                    item xs={2}\n                                    align=\"center\"\n                                    key={row}\n                                >\n                                    {row}\n                                </Typography>\n                            );\n                        })\n                    }\n                </Grid>\n            </Paper>\n        </Fragment>\n    );\n}\n\nfunction SimPrefixesList (props) {\n    const { sim_prefixes } = props;\n    const groups = groupSimPrefixesByNetwork(sim_prefixes);\n\n    return (\n        <Fragment>\n            {\n                groups.map(row => (\n                    <Fragment key={row.network}>\n                        <SimGroup row={row} />\n                        <div style={{ marginBottom: 24 }} />\n                    </Fragment>\n                ))\n            }\n        </Fragment>\n    );\n}\n\nexport default React.memo(SimPrefixesList);","import React, { useState, useEffect, Fragment } from \"react\";\nimport {\n    Accordion, AccordionDetails,\n    AccordionSummary, makeStyles, Button,\n    Grid, Typography, Divider, CardActions,\n    CardContent, FormControl, Radio, Card,\n    RadioGroup, FormControlLabel, FormLabel\n} from \"@material-ui/core\";\nimport {\n    ArrowBack, Save\n} from \"@material-ui/icons\";\nimport ExpandMoreIcon from \"@material-ui/icons/ExpandMore\";\nimport { saveUpdatedPrimaryContact } from \"../ajax\";\nimport { capitalizeFirstLetter } from \"../../../UtilityFunctions\";\nimport { sendWSMessage } from \"../../../websocket/communications_ws\";\n\nconst useStyles = makeStyles(theme => ({\n    root: {\n        width: \"100%\"\n    },\n    icons: {\n        fontSize: \"1.15rem\",\n        [theme.breakpoints.down(\"xs\")]: {\n            fontSize: \"1.7rem\"\n        }\n    },\n    details: {\n        alignItems: \"center\",\n    },\n    column: {\n        flexBasis: \"33.33%\",\n    },\n    helper: {\n        borderLeft: `2px solid ${theme.palette.divider}`,\n        padding: `${theme.spacing()}px ${theme.spacing(2)}px`,\n    },\n    link: {\n        color: theme.palette.primary.main,\n        textDecoration: \"none\",\n        \"&:hover\": {\n            textDecoration: \"underline\",\n        },\n    },\n    title: {\n        fontSize: 14,\n    },\n    pos: {\n        marginBottom: 12,\n    },\n}));\n\nfunction createHeader (scope, org_name) {\n    let office = \"\";\n\n    if (scope === 0) office = \"community\";\n    else if (scope === 1) office = \"barangay\";\n    else if (scope === 2) office = \"municipal\";\n    else if (scope === 3) office = \"provincial\";\n    else if (scope === 4) office = \"regional\";\n    else if (scope === 5) office = \"national\";\n    \n    const header = `${capitalizeFirstLetter(office)} ${org_name.toUpperCase()}`;\n    const offices = `${office}_${org_name}`;\n\n    return {\n        header,\n        offices\n    };\n}\n\nfunction SelectPrimaryContact (props) {\n    const {\n        checkbox_data,\n        updatePrimary,\n        contact_per_org,\n        setContactsPerOrg,\n        contacts_key,\n        classes, } = props;\n    const [value, setValue] = useState(0);\n    const updated_org_primary_contact = [];\n    \n    useEffect(() => {\n        let has_primary = false;\n        // eslint-disable-next-line no-shadow\n        if (checkbox_data.find(contact => contact.primary_contact === 1)) {\n            if ( has_primary === false) {\n                has_primary = true;\n                const data = checkbox_data.find(contact => contact.primary_contact === 1);\n                const u_org_id = data.user_org_id.toString();\n                setValue(u_org_id);\n            }\n        }\n    }, []);\n    \n    const handleChange = event => {\n        setValue(event.target.value);\n    };\n\n    const savePrimary = () => {\n        updatePrimary();\n        const selected_value = parseInt(value, 10);\n        checkbox_data.forEach((row, index) => {\n            let is_primary = 0;\n            if (selected_value === row.user_org_id) {\n                is_primary = 1;\n            }\n            // eslint-disable-next-line no-param-reassign\n            row.primary_contact = is_primary;\n            updated_org_primary_contact.push(row);\n        });\n\n        contact_per_org[contacts_key] = updated_org_primary_contact;\n        setContactsPerOrg(contact_per_org);\n        saveUpdatedPrimaryContact(updated_org_primary_contact, data => {\n            sendWSMessage(\"update_all_contacts\");\n        });\n    };\n\n    return (\n        <Fragment>\n            <Grid item xs={12} key=\"contact_radio_button\">\n                <FormControl component=\"fieldset\" style={{ display: \"flex\" }}>\n                    <FormLabel component=\"legend\" style={{ textAlign: \"center\", marginBottom: 8 }}>\n                        Choose primary contact.\n                    </FormLabel>\n\n                    <RadioGroup \n                        aria-label=\"choose_primary_contact\"\n                        name=\"choose_primary_contact\"\n                        value={value}\n                        onChange={handleChange}\n                        row\n                        style={{ justifyContent: \"space-around\" }}\n                    >\n                        {\n                            checkbox_data.map((row, index) => {\n                                const { contact_person, user_org_id } = row;\n                                const { first_name, last_name } = contact_person;\n                                \n                                return (\n                                    <FormControlLabel\n                                        value={user_org_id.toString()}\n                                        control={<Radio color=\"primary\"/>}\n                                        label={`${first_name} ${last_name}`}\n                                        key={`contact_radio_button_${index + 1}`}\n                                    />\n                                );\n                            })\n                        }\n                    </RadioGroup>\n                </FormControl>\n            </Grid>\n            <Grid item xs={12}><Divider /></Grid>\n            <Grid container item xs={12} justify=\"flex-end\">\n                <Button\n                    variant=\"contained\"\n                    color=\"secondary\"\n                    size=\"small\"\n                    className={classes.button}\n                    style={{ marginRight: 8 }}\n                    startIcon={<Save />}\n                    onClick={savePrimary}\n                >\n                    Save\n                </Button>\n                <Button\n                    variant=\"contained\"\n                    color=\"primary\"\n                    size=\"small\"\n                    className={classes.button}\n                    startIcon={<ArrowBack />}\n                    onClick={() => updatePrimary()}\n                >\n                    Back\n                </Button>\n            </Grid>\n        </Fragment>\n    );\n}\n\nfunction AllContacts (props) {\n    const { siteData, classes, isUpdatePrimary, setIsUpdatePrimary } = props;\n    const [orgs, setOrgs] = useState([]);\n    const [contact_per_org, setContactsPerOrg] = useState({});\n    const [checkbox_data, setCheckboxData] = useState([]);\n    const [contacts_key, setContactKey] = useState([]);\n\n    useEffect(() => {\n        setIsUpdatePrimary(false);\n    \n        const initial_contact_per_org = {};\n        const initial_orgs = [];\n        siteData.forEach((row, index) => {\n            const { org_name, scope } = row;\n            const { offices } = createHeader(scope, org_name);\n            const key = initial_contact_per_org[offices];\n            if (key === undefined) {\n                initial_contact_per_org[offices] = [row];\n                initial_orgs.push(offices);\n            } else {\n                initial_contact_per_org[offices].push(row);\n            }\n        });\n    \n        setContactsPerOrg(initial_contact_per_org);\n        setOrgs(initial_orgs);\n    }, [siteData]);\n\n    const updatePrimary = key => {\n        setIsUpdatePrimary(!isUpdatePrimary);\n        if (key !== undefined) {\n            setCheckboxData(contact_per_org[key]);\n            setContactKey(key);\n        }\n    };\n\n    if (isUpdatePrimary) {\n        return (\n            <SelectPrimaryContact\n                checkbox_data={checkbox_data}\n                updatePrimary={updatePrimary}\n                contact_per_org={contact_per_org}\n                setContactsPerOrg={setContactsPerOrg}\n                contacts_key={contacts_key}\n                classes={classes}\n            />\n        );\n    }\n\n    return orgs.map((row, index) => {\n        const { scope, org_name } = contact_per_org[row][0];\n        const { header: contact_scope } = createHeader(scope, org_name);\n        const primary_contact = contact_per_org[row].find(x => x.primary_contact === 1);\t\n        let primary = \"No primary contact set\";\n        if (typeof primary_contact !== \"undefined\") {\n            const { contact_person: { first_name, last_name } } = primary_contact;\n            primary = `${first_name} ${last_name}`;\n        }\n        \n        return (\n            <Grid item xs={12} sm={6} lg={4} align=\"center\" key={`contact_per_org_${index + 1}`}>\n                <Card className={classes.root} key={`contact_per_org_card_${index + 1}`}>\n                    <CardContent key={`contact_per_org_content_${index + 1}`}>\n                        <Typography variant=\"subtitle2\">\n                            {contact_scope}\n                        </Typography>\n                        <Typography variant=\"body1\">{primary}</Typography>\n                    </CardContent>\n                    <CardActions disableSpacing>\n                        <Grid container justify=\"flex-end\">\n                            <Button \n                                size=\"small\" color=\"primary\"\n                                onClick={() => updatePrimary(row)}\n                            >\n                                Update\n                            </Button>\n                        </Grid>\n                    </CardActions>\n                </Card>\n            </Grid>\n        );\n    });\n}\n\nfunction ContactPrioritization (props) {\n    const { siteLabel, siteID, siteData } = props;\n    const [ isUpdatePrimary, setIsUpdatePrimary ] = useState(false);\n    const classes = useStyles();\n    \n    return (\n        <Fragment key={`site_ID${siteID + 1}`}>\n            <Accordion>\n                <AccordionSummary expandIcon={<ExpandMoreIcon />}>\n                    <Typography variant=\"body1\">{siteLabel}</Typography>\n                </AccordionSummary>\n                <Divider />\n                <AccordionDetails className={classes.details}>\n                    <Grid container spacing={3} style={{ marginTop: 6 }}>\n                        <AllContacts \n                            siteData={siteData}\n                            classes={classes}\n                            isUpdatePrimary={isUpdatePrimary}\n                            setIsUpdatePrimary={setIsUpdatePrimary}\n                        />\n                    </Grid>\n                </AccordionDetails>\n                <Divider />\n            </Accordion>\n        </Fragment>\n    );\n}\n\nfunction areStakeHoldersSame (prev, current) {\n    return prev.siteData.length === current.siteData.length;\n}\n\nexport default React.memo(ContactPrioritization, areStakeHoldersSame);\n","import React, {\n    useState, useEffect, useContext\n} from \"react\";\nimport {\n    Dialog, DialogTitle, DialogContent,\n    DialogContentText, DialogActions,\n    Button, withMobileDialog, IconButton\n} from \"@material-ui/core\";\nimport { Close } from \"@material-ui/icons\";\nimport SelectMultipleWithSuggest from \"../../reusables/SelectMultipleWithSuggest\";\nimport { SlideTransition, FadeTransition } from \"../../reusables/TransitionList\";\nimport { GeneralContext } from \"../../contexts/GeneralContext\";\nimport DynaslopeSiteSelectInputForm from \"../../reusables/DynaslopeSiteSelectInputForm\";\nimport ContactList from \"./ContactList\";\n\n\nfunction SearchContactsModal (props) {\n    const {\n        fullScreen, \n        modalState, modalStateHandler,\n        isMobile, contactsArray, classes, setChosenContact\n    } = props;\n\n    const {\n        organizations: orgs_list\n    } = useContext(GeneralContext);\n\n    const [org_options, setOrgOptions] = useState([]);\n    useEffect(() => {\n        const temp = orgs_list.map(row => {\n            let pre = \"\";\n            switch (row.scope) {\n                case 1:\n                    pre = \"Barangay \"; break;\n                case 2:\n                    pre = \"Municipal \"; break;\n                case 3:\n                    pre = \"Provincial \"; break;\n                case 4:\n                    pre = \"Regional \"; break;\n                case 5:\n                    pre = \"National \"; break;\n                default:\n                    break;\n            }\n\n            return {\n                value: row.org_id,\n                label: pre + row.name.toUpperCase()\n            };\n        });\n        setOrgOptions(temp);\n    }, [orgs_list]);\n\n    const [sites, setSites] = useState(null);\n    const [organization, setOrganizations] = useState(null);\n    const [results, set_results] = useState([]);\n\n    const onContactClickFn = React.useCallback(row => () => {\n        setChosenContact(row);\n        compound_fn();\n    }, []);\n\n    const compound_fn = () => {\n        modalStateHandler();\n    };\n\n    const handleChange = name => value => {\n        if (name === \"sites\") {\n            setSites(value);\n        } else if (name === \"organizations\") {\n            setOrganizations(value);\n        }\n    };\n \n    useEffect(() => {\n        let filtered = [];\n\n        if (organization !== null) {\n            const orgs = organization.map(org => {\n                return org.value;\n            });\n\n            const population = contactsArray;\n            filtered = population.filter(row => {\n                const { organizations } = row;\n                let org_id = null;\n                if (organizations.length !== 0) \n                    // eslint-disable-next-line prefer-destructuring\n                    org_id = organizations[0].organization.org_id; \n\n                return orgs.includes(org_id);         \n            });\n        }\n\n        if (sites !== null) {\n            const site_codes = sites.map(site => {\n                return site.data.site_code;\n            });\n\n            let population = contactsArray;\n            if (filtered.length !== 0) population = filtered;\n\n            filtered = [];\n            population.forEach(row => {\n                const { organizations } = row;\n                organizations.every(value => {\n                    const { site: { site_code } } = value;\n                    if (site_codes.includes(site_code)) {\n                        filtered.push(row);\n                        return false;\n                    }\n                    return true;\n                });\n            });\n        }\n\n        if (filtered.length > 0) set_results(filtered);\n        else set_results(null);\n    }, [organization, sites]);\n\n    const ListContent = () => {\n        if (results !== null) {\n            return (\n                <ContactList \n                    {...props} \n                    contacts={results}\n                    classes = {classes}\n                    onContactClickFn={onContactClickFn}\n\n                />); }\n        return null;\n    };\n\n    return (\n        <Dialog\n            fullWidth\n            fullScreen={fullScreen}\n            open={modalState}\n            aria-labelledby=\"form-dialog-title\"\n            TransitionComponent={fullScreen ? SlideTransition : FadeTransition}         \n        >\n\n            <DialogTitle id=\"form-dialog-title\">\n                <div style={{ display: \"flex\", alignItems: \"center\", justifyContent: \"space-between\" }}>\n                    <span>Search contacts</span>\n                    <IconButton \n                        color=\"inherit\" \n                        onClick={modalStateHandler}\n                        aria-label=\"Close\"\n                        style={{ padding: 0 }}\n                    >\n                        <Close />\n                    </IconButton>\n                </div>\n            </DialogTitle>\n            <DialogContent style={{ overflowY: \"auto\" }}>\n                <DialogContentText>\n                    Fill in the following \n                </DialogContentText>\n\n                <div style={{ margin: \"24px 0\" }}>\n                    <DynaslopeSiteSelectInputForm\n                        value={sites}\n                        changeHandler={value => setSites(value)}\n                        isMulti\n                    />     \n                </div>\n\n                <div style={{ margin: \"24px 0\" }}>\n                    <SelectMultipleWithSuggest\n                        label=\"Organizations\"\n                        options={org_options}\n                        value={organization}\n                        changeHandler={handleChange(\"organizations\")}\n                        placeholder=\"Select organizations\"\n                        renderDropdownIndicator={false}\n                        openMenuOnClick\n                        isMulti\n                    />\n                </div>\n\n                {ListContent()}\n                \n                {\n                    !isMobile && <div style={{ height: 240 }} />\n                }    \n            </DialogContent>\n            <DialogActions>\n                <Button onClick={modalStateHandler}>\n                    Close\n                </Button>\n            </DialogActions>\n        </Dialog>\n    );\n}\n\nexport default withMobileDialog()(SearchContactsModal);\n","import React, {\n    Fragment, useState,\n    useEffect, useContext\n} from \"react\";\n\nimport {\n    Button, Grid, Typography,\n    List, ListItem, ListItemAvatar,\n    ListItemText, ListItemSecondaryAction, IconButton,\n    Avatar, TextField, Hidden,\n    ListItemIcon, Chip,\n    Paper, Divider, Slide, \n    Backdrop, Tooltip, AppBar, InputAdornment,\n    Toolbar, Dialog, Collapse,\n    makeStyles\n} from \"@material-ui/core\";\nimport { \n    Close, Call, Person, PersonAdd, ViewList,\n    Block, Edit, PhoneAndroid, MailOutline,\n    Phone, SimCard, FormatListNumbered,\n    Sort, Star\n} from \"@material-ui/icons\";\n\nimport moment from \"moment\";\nimport ContentLoader from \"react-content-loader\";\nimport { useSnackbar } from \"notistack\";\n\nimport GeneralStyles from \"../../../GeneralStyles\";\nimport PageTitle from \"../../reusables/PageTitle\";\nimport {\n    subscribeToWebSocket, receiveAllContacts,\n    removeReceiveAllContacts\n} from \"../../../websocket/communications_ws\";\nimport {\n    getUserOrganizations, prepareSiteAddress,\n    getUserContactPriority\n} from \"../../../UtilityFunctions\";\nimport ContactList from \"./ContactList\";\nimport BlockedContactList from \"./BlockedContactList\";\nimport SimPrefixesList from \"./SimPrefixesList\";\nimport ContactPrioritization from \"./ContactPrioritization\";\nimport { SlideTransition } from \"../../reusables/TransitionList\";\nimport ContactForm from \"./ContactForm\";\nimport { GeneralContext } from \"../../contexts/GeneralContext\";\nimport { getBlockedContacts, getSimPrefixes, getSiteStakeHolders } from \"../ajax\";\nimport SearchContactsModal from \"./SearchContactsModal\";\n\nconst useStyles = makeStyles(theme => {\n    const gen_style = GeneralStyles(theme);\n    \n    return {\n        ...gen_style,\n        tabBar: {\n            ...gen_style.pageContentMargin,\n            margin: 0\n        },\n        tabBarContent: {\n            marginTop: 16\n        },\n        sticky: {\n            position: \"sticky\",\n            top: 146,\n            [theme.breakpoints.down(\"sm\")]: {\n                top: 48\n            },\n            backgroundColor: \"white\",\n            zIndex: 1\n        },\n        noFlexGrow: { flexGrow: 0 },\n        paper: {\n            position: \"fixed\",\n            right: 0,\n            top: 116,\n            width: 400\n        },\n        overflow: {\n            overflowY: \"auto\",\n            height: \"calc(100vh - 250px)\",\n            [theme.breakpoints.down(\"md\")]: {\n                height: \"80vh\"\n            }\n        },\n        insetDivider: { padding: \"8px 70px !important\" },\n        nested: { paddingLeft: theme.spacing(4) },\n        hidden: { display: \"none !important\" }\n    };\n\n});\n\nconst Loader = props => (\n    <ContentLoader\n        speed={2}\n        width={700}\n        height={350}\n        viewBox=\"0 0 700 350\"\n        {...props}\n    >\n        <rect x=\"4\" y=\"8\" rx=\"3\" ry=\"3\" width=\"8\" height=\"317\" />\n        <rect x=\"7\" y=\"317\" rx=\"3\" ry=\"3\" width=\"669\" height=\"8\" />\n        <rect x=\"669\" y=\"9\" rx=\"3\" ry=\"3\" width=\"7\" height=\"313\" />\n        <rect x=\"5\" y=\"8\" rx=\"3\" ry=\"3\" width=\"669\" height=\"7\" />\n        <rect x=\"114\" y=\"52\" rx=\"6\" ry=\"6\" width=\"483\" height=\"15\" />\n        <circle cx=\"77\" cy=\"60\" r=\"15\" />\n        <rect x=\"116\" y=\"105\" rx=\"6\" ry=\"6\" width=\"420\" height=\"15\" />\n        <circle cx=\"78\" cy=\"113\" r=\"15\" />\n        <rect x=\"115\" y=\"158\" rx=\"6\" ry=\"6\" width=\"483\" height=\"15\" />\n        <circle cx=\"78\" cy=\"166\" r=\"15\" />\n        <rect x=\"117\" y=\"211\" rx=\"6\" ry=\"6\" width=\"444\" height=\"15\" />\n        <circle cx=\"79\" cy=\"219\" r=\"15\" />\n        <rect x=\"117\" y=\"263\" rx=\"6\" ry=\"6\" width=\"483\" height=\"15\" />\n        <circle cx=\"80\" cy=\"271\" r=\"15\" />\n    </ContentLoader>\n);\n  \n\nfunction IndividualContact (props) {\n    const {\n        contact, chosenContact, setSlideOpen,\n        classes, setContactFormForEdit, siteOrgs,\n        isContactPriority\n    } = props;\n    \n    const { sites, org } = siteOrgs;\n    const {\n        status, emails, ewi_recipient,\n        landline_numbers, mobile_numbers,\n        ewi_restriction\n    } = chosenContact;\n\n    return (\n        <Grid\n            container \n            spacing={1} \n            alignItems=\"center\"\n            justify=\"space-evenly\"\n        >\n            <Grid item xs={2}>\n                <Avatar>\n                    <Person />\n                </Avatar>\n            </Grid>\n\n            <Grid item xs={7}>\n                <Typography variant=\"h5\" align=\"center\">\n                    {contact}\n                </Typography>\n            </Grid>\n\n            <Grid item xs={1} >\n                <Hidden smDown lgUp>\n                    <IconButton onClick={() => setSlideOpen(false)}>\n                        <Close />\n                    </IconButton>\n                </Hidden>\n            </Grid>\n\n            <Grid item xs={12} style={{ padding: \"12px 4px\" }} >\n                <Divider />\n            </Grid>\n\n            <Grid item xs={12}>\n                <Typography variant=\"h6\" align=\"center\" paragraph>\n                    Affiliation\n                </Typography>\n            </Grid>\n\n            {\n                org !== null ? (\n                    <Fragment>\n                        <Grid item xs={12} container justify=\"center\">\n                            <Tooltip \n                                arrow\n                                disableFocusListener \n                                disableHoverListener={!isContactPriority}\n                                title=\"Contact Priority\"\n                                placement=\"top\"\n                            >\n                                <Chip \n                                    color=\"secondary\"\n                                    label={\n                                        <Typography variant=\"body1\">\n                                            { org.toUpperCase() }\n                                        </Typography>\n                                    }\n                                    icon={isContactPriority ? <Star style={{ color: \"gold\" }} /> : null}\n                                />\n                            </Tooltip>\n                        </Grid>\n\n                        <Grid item xs={12} container justify=\"center\">\n                            {\n                                sites.map(site => {\n                                    const { site_code } = site;\n                                    const address = prepareSiteAddress(site, false);\n\n                                    return (\n                                        <Tooltip key={site_code} title={address} aria-label={address}>\n                                            <Chip color=\"primary\" label={\n                                                <Typography variant=\"body2\">\n                                                    { site_code.toUpperCase() }\n                                                </Typography>\n                                            } />\n                                        </Tooltip>\n                                    );\n                                })\n                            }\n                        </Grid>\n                    </Fragment>\n                ) : (\n                    <Grid item xs={12}>\n                        <Typography color=\"textSecondary\" variant=\"body2\" align=\"center\" paragraph>\n                            No affiliations saved\n                        </Typography>\n                    </Grid>\n                )\n            }\n\n            <Grid item xs={12} className={classes.insetDivider} >\n                <Divider />\n            </Grid>\n\n            <Grid item xs={12}>\n                <Typography variant=\"body1\" align=\"center\">\n                    <strong>Status</strong>\n                </Typography>\n            </Grid>\n\n            <Grid item xs={12}>\n                <Typography variant=\"body2\" align=\"center\">\n                    { status === 0 ? \"Inactive\" : \"Active\" }\n                </Typography>\n            </Grid>\n\n            <Grid item xs={12} className={classes.insetDivider} >\n                <Divider />\n            </Grid>\n\n            <Grid item xs={12}>\n                <Typography variant=\"body1\" align=\"center\">\n                    <strong>EWI Recipient</strong>\n                </Typography>\n            </Grid>\n\n            <Grid item xs={12}>\n                <Typography variant=\"body2\" align=\"center\">\n                    { ewi_recipient === 0 ? \"No\" : \"Yes\" }\n                </Typography>\n            </Grid>\n\n            {\n                ewi_restriction && (\n                    <Fragment>\n                        <Grid item xs={12} className={classes.insetDivider} >\n                            <Divider />\n                        </Grid>\n\n                        <Grid item xs={12}>\n                            <Typography variant=\"body1\" align=\"center\">\n                                <strong>EWI Restriction</strong>\n                            </Typography>\n                        </Grid>\n\n                        <Grid item xs={12}>\n                            <Typography variant=\"body2\" align=\"center\">\n                                Do not send on Alert {ewi_restriction.alert_level} { ewi_restriction.alert_level > 1 && \"and below\" }\n                            </Typography>\n                        </Grid>\n                    </Fragment>\n                )\n            }\n\n            <Grid item xs={12} style={{ padding: \"12px 4px\" }} >\n                <Divider />\n            </Grid>\n\n            <Grid item xs={12}>\n                <Typography variant=\"h6\" align=\"center\">\n                    Contact Information\n                </Typography>\n            </Grid>\n\n            <Grid item xs={12} className={classes.insetDivider} >\n                <Divider />\n            </Grid>\n\n            <Grid item xs={12}>\n                <Typography variant=\"subtitle1\" align=\"center\">\n                    Mobile\n                </Typography>\n            </Grid>\n\n            <Grid item xs={12}>\n                <List dense>\n                    {\n                        mobile_numbers.length === 0 ? (\n                            <Grid item xs={12}>\n                                <Typography color=\"textSecondary\" variant=\"body2\" align=\"center\">\n                                    No mobile numbers saved\n                                </Typography>\n                            </Grid>\n                        ) : (\n                            mobile_numbers.map(num => (\n                                <ListItem key={num.mobile_number.mobile_id}>\n                                    <ListItemAvatar>\n                                        <Avatar>\n                                            <PhoneAndroid />\n                                        </Avatar>\n                                    </ListItemAvatar>\n                                    <ListItemText\n                                        primary={`+${num.mobile_number.sim_num}`}\n                                        // secondary={`Priority: ${num.priority}`}\n                                    />\n                                    <ListItemSecondaryAction>\n                                        {/* <IconButton edge=\"end\" aria-label=\"delete\">\n                                            <DeleteIcon />\n                                        </IconButton> */}\n                                        <ListItemText\n                                            secondary={`Status: ${num.status === 0 ? \"Inactive\" : \"Active\"}`}\n                                        />\n                                    </ListItemSecondaryAction>\n                                </ListItem>\n                            ))\n                        )\n                    }\n                </List>\n            </Grid>\n\n            <Grid item xs={12} className={classes.insetDivider} >\n                <Divider />\n            </Grid>\n\n            <Grid item xs={12}>\n                <Typography variant=\"subtitle1\" align=\"center\">\n                    Landline\n                </Typography>\n            </Grid>\n\n            <Grid item xs={12}>\n                {\n                    landline_numbers.length === 0 ? (\n                        <Grid item xs={12}>\n                            <Typography color=\"textSecondary\" variant=\"body2\" align=\"center\">\n                                No landline numbers saved\n                            </Typography>\n                        </Grid>\n                    ) : (\n                        <List dense>\n                            {\n                                landline_numbers.map(num => (\n                                    <ListItem key={num.landline_id}>\n                                        <ListItemAvatar>\n                                            <Avatar>\n                                                <Call />\n                                            </Avatar>\n                                        </ListItemAvatar>\n                                        <ListItemText\n                                            primary={`+${num.landline_num}`}\n                                        />\n                                    </ListItem>\n                                ))\n                            }\n                        </List>\n                    )\n                }\n            </Grid>\n\n            <Grid item xs={12} className={classes.insetDivider} >\n                <Divider />\n            </Grid>\n\n            <Grid item xs={12}>\n                <Typography variant=\"subtitle1\" align=\"center\">\n                    Email\n                </Typography>\n            </Grid>\n\n            <Grid item xs={12}>\n                {\n                    emails.length === 0 ? (\n                        <Grid item xs={12}>\n                            <Typography color=\"textSecondary\" variant=\"body2\" align=\"center\">\n                                No email addresses saved\n                            </Typography>\n                        </Grid>\n                    ) : (\n                        <List dense>\n                            {\n                                emails.map(row => (\n                                    <ListItem key={row.email_id}>\n                                        <ListItemAvatar>\n                                            <Avatar>\n                                                <MailOutline />\n                                            </Avatar>\n                                        </ListItemAvatar>\n                                        <ListItemText\n                                            primary={`+${row.email}`}\n                                        />\n                                    </ListItem>\n                                ))\n                            }\n                        </List>\n                    )\n                }\n            </Grid>\n\n            <Grid item xs={12} style={{ padding: \"12px 4px\" }} >\n                <Divider />\n            </Grid>\n\n            <Grid item xs={12} style={{ textAlign: \"right\" }}>\n                <Button \n                    color=\"secondary\" \n                    variant=\"contained\"\n                    startIcon={<Edit />}\n                    onClick={() => setContactFormForEdit(true)}\n                >\n                    Edit\n                </Button>\n            </Grid>\n        </Grid>\n    );\n}\n\nfunction BlockedContact (props) {\n    const { chosenContact, setSlideOpen } = props;\n    if (chosenContact.length === 0) {\n        return (\n            <Grid\n                container \n                spacing={1} \n                alignItems=\"center\"\n                justify=\"space-evenly\"\n            >\n                <Grid item xs={7}>\n                    <Typography variant=\"caption\" display=\"block\">\n                        No initial blocked contact\n                    </Typography>\n                </Grid>\n            </Grid>\n        );\n    }\n\n    const { mobile_number, reporter, ts, reason } = chosenContact;\n    const { sim_num, users } = mobile_number;\n    const { first_name: reporter_first_name, last_name: reporter_last_name } = reporter;\n    let contact_name = \"No contact details\";\n    if (users.length > 0) {\n        contact_name = users.map(x => `${x.user.last_name}, ${x.user.first_name}`).join(\" | \");\n    }\n    const date_reported = moment(ts).format(\"MMMM D, YYYY, HH:mm:ss\");\n    return (\n        <Grid\n            container \n            spacing={1} \n            alignItems=\"center\"\n            justify=\"space-evenly\"\n        >\n            <Grid item xs={1}>\n                <Avatar>\n                    <Phone />\n                </Avatar>\n            </Grid>\n\n            <Grid item xs={7}>\n                <Typography variant=\"h5\" align=\"center\">\n                    {`+${sim_num}`}\n                </Typography>\n            </Grid>\n\n            <Grid item xs={1} >\n                <Hidden smDown lgUp>\n                    <IconButton onClick={() => setSlideOpen(false)}>\n                        <Close />\n                    </IconButton>\n                </Hidden>\n            </Grid>\n\n            <Grid item xs={12} style={{ padding: \"12px 4px\" }} >\n                <Divider />\n            </Grid>\n\n            <Grid item xs={12}>\n                <Typography variant=\"h6\" align=\"center\">\n                    Details\n                </Typography>\n            </Grid>\n\n            <Grid item xs={12}>\n                <Typography variant=\"body1\" align=\"center\">\n                    {contact_name}\n                </Typography>\n            </Grid>\n\n            <Grid item xs={12} style={{ padding: \"12px 4px\" }} >\n                <Divider />\n            </Grid>\n\n            <Grid item xs={12}>\n                <Typography variant=\"h6\" align=\"center\">\n                    Reason\n                </Typography>\n            </Grid>\n\n            <Grid item xs={12}>\n                <Typography variant=\"body2\" align=\"center\">\n                    <i>{reason}</i>\n                </Typography>\n            </Grid>\n\n            <Grid item xs={12}>\n                <Typography variant=\"body2\" align=\"center\">\n                    {date_reported}\n                </Typography>\n            </Grid>\n\n            <Grid item xs={12} style={{ padding: \"12px 4px\" }} >\n                <Divider />\n            </Grid>\n\n            <Grid item xs={12}>\n                <Typography variant=\"h6\" align=\"center\">\n                    Reporter\n                </Typography>\n            </Grid>\n\n            <Grid item xs={12}>\n                <Typography variant=\"body1\" align=\"center\">\n                    {`${reporter_last_name}, ${reporter_first_name}`}\n                </Typography>\n            </Grid>\n\n            <Grid item xs={12} style={{ padding: \"12px 4px\" }} >\n                <Divider />\n            </Grid>\n\n            <Grid item xs={12} style={{ textAlign: \"right\" }}>\n                <Button \n                    color=\"secondary\" \n                    variant=\"contained\"\n                    startIcon={<PersonAdd />}\n                    disabled\n                >\n                    Unblock (soon)\n                </Button>\n            </Grid>\n        </Grid>\n    );\n}\n\nconst SearchBar = ({ search_str, setSearchStr, inputProps }) => (\n    <TextField  \n        margin=\"dense\"\n        hiddenLabel \n        fullWidth\n        variant=\"outlined\"\n        placeholder=\"Type contact name\"\n        InputProps={inputProps}\n        value={search_str}\n        onChange={event => setSearchStr(event.target.value)}  \n    /> \n);\n\nfunction Container (props) {\n    const classes = useStyles();\n    \n    const [contacts, setContacts] = useState([]);\n    const [contacts_array, setContactsArray] = useState([]);\n    const [chosen_contact, setChosenContact] = useState({});\n    const [chosen_contact_index, setChosenContactIndex] = useState(0);\n\n    const [is_slide_open, setSlideOpen] = useState(false);\n    const [is_contact_form_open, setContactFormOpen] = useState(false);\n    const [is_edit_mode, setEditMode] = useState(false);\n    const [search_str, setSearchStr] = useState(\"\");\n\n    const [blocked_number_array, setBlockedNumberArray] = useState([]);\n    const [blocked_chosen_contact, setBlockedChosenContact] = useState([]);\n    const [sim_prefixes_list, setSimPrefixesList] = useState([]);\n    const [site_stakeholders, setSiteStakeholders] = useState([]);\n\n    const [tab_selected, setTabSelected] = useState(\"active_numbers\");\n    const [snackbar_key, setSnackbarKey] = useState(null);\n\n    const [modal_state, setModalState] = useState(false);\n    const onContactClickFn = React.useCallback((row, index) => () => {\n        setChosenContact(row);\n        setChosenContactIndex(index);\n        setSlideOpen(true);\n    }, []);\n\n    const onBlockContactClickFn = React.useCallback(row => () => {\n        setBlockedChosenContact(row);\n        setSlideOpen(true);\n    }, []);\n\n    const setContactForm = bool => {\n        setSlideOpen(bool);\n        setContactFormOpen(bool);\n        setEditMode(false);\n    };\n\n    const setContactFormForEdit = bool => {\n        setEditMode(bool);\n        setContactFormOpen(bool);\n    };\n\n    const selectedTab = key => {\n        setTabSelected(key);\n    };\n\n    const modal_handler = (event) =>{   \n        setModalState(!modal_state);\n    };\n\n    const { enqueueSnackbar, closeSnackbar } = useSnackbar();\n    const { setIsReconnecting, sites } = useContext(GeneralContext);\n    const [get_contact_priotitization, setGetContactPrioritization] = useState(false);\n    useEffect(() => {\n        subscribeToWebSocket(setIsReconnecting, \"contacts\");\n        receiveAllContacts(data => {\n            setContacts(data);\n\n            let temp = {};\n            if (data.length > 0) temp = data[chosen_contact_index];\n\n            setChosenContact(temp);\n            setContactsArray(data);\n            setGetContactPrioritization(true);\n\n            if (snackbar_key !== null) {\n                closeSnackbar(snackbar_key);\n                setSnackbarKey(null);\n                enqueueSnackbar(\n                    \"Loading contacts list successful!\",\n                    { variant: \"success\", autoHideDuration: 5000 }\n                );\n            }\n        });\n\n        return () => removeReceiveAllContacts();\n    }, [chosen_contact_index, snackbar_key]);\n\n    useEffect(() => {\n        const { length } = search_str;\n        if (length > 2 ) {\n            const filtered = contacts.filter(row => {\n                const { first_name, last_name } = row;\n                const name = `${first_name} ${last_name}`;\n                const pattern = new RegExp(`${search_str}`, \"gi\");\n                return pattern.test(name);          \n            });\n            setContactsArray(filtered);\n        } else if (length === 0) setContactsArray(contacts);\n    }, [search_str]);\n\n    useEffect(() => {\n        getBlockedContacts(data => {\n            const { status, blocked_numbers } = data;\n            if (status) {\n                setBlockedNumberArray(blocked_numbers);\n                if (blocked_numbers.length !== 0) {\n                    setBlockedChosenContact(blocked_numbers[0]);\n                }\n            }\n        });\n\n        getSimPrefixes(data => {\n            const { status, prefixes } = data;\n            if (status) {\n                setSimPrefixesList(prefixes);\n            }\n        });\n    }, []);\n\n    useEffect(() => {\n        if (get_contact_priotitization) {\n            getSiteStakeHolders(data => {\n                setSiteStakeholders(data);\n            });\n            setGetContactPrioritization(false);\n        }\n    }, [get_contact_priotitization]);\n\n    let contact = \"\";\n    let site_orgs = null;\n    let is_priority = false;\n    // eslint-disable-next-line no-prototype-builtins\n    if (chosen_contact.hasOwnProperty(\"user_id\")) {\n        const { first_name, last_name, organizations } = chosen_contact;\n        contact = `${first_name} ${last_name}`;\n        site_orgs = getUserOrganizations(organizations, true);\n        is_priority = getUserContactPriority(organizations);\n    }\n\n    const set_modal_fn = (key, bool) => () => {\n        setModalState(bool);\n    };\n\n    const PaperDialogContent = () => {\n        if (is_contact_form_open) return (\n            <ContactForm\n                setContactForm={setContactForm}\n                chosenContact={chosen_contact}\n                setSnackbarKey={setSnackbarKey}\n                isEditMode={is_edit_mode}\n                setContactFormForEdit={setContactFormForEdit}\n                isFromChatterbox={false}\n            /> \n        );\n        \n        if (contact !== \"\") {\n            return (\n                <IndividualContact \n                    contact={contact}\n                    chosenContact={chosen_contact}\n                    setSlideOpen={setSlideOpen}\n                    classes={classes}\n                    setContactFormForEdit={setContactFormForEdit}\n                    siteOrgs={site_orgs}\n                    isContactPriority={is_priority}\n                />\n            );\n        }\n    };\n\n    const SearchComp = <SearchBar search_str={search_str} setSearchStr={setSearchStr}\n        inputProps={{ \n            endAdornment: <InputAdornment position=\"end\">\n                <IconButton  \n                    aria-controls=\"sortContacts\" \n                    aria-haspopup=\"true\" \n                    onClick={modal_handler} \n                    color=\"primary\">\n                    <Sort/> \n                </IconButton>                  \n            </InputAdornment> \n        }}\n    />;\n    \n    return (\n        <div className={classes.pageContentMargin}>\n            <PageTitle\n                title=\"Communications | Contacts\" \n            />\n            <Grid container spacing={4}>\n                <Hidden mdUp>\n                    <Grid item xs={12} className={classes.sticky} style={{ paddingBottom: 0 }}>\n                        {SearchComp}\n                    </Grid>\n                </Hidden>\n\n                <Hidden smDown>\n                    <Grid item md={4} lg={3}>\n                        <div className={classes.sticky}>\n                            {SearchComp}\n                          \n                            <List component=\"nav\" aria-label=\"main\">\n                                <ListItem \n                                    button\n                                    onClick={() => selectedTab(\"active_numbers\")}\n                                    selected={tab_selected === \"active_numbers\"}\n                                >\n                                    <ListItemIcon>\n                                        <ViewList />\n                                    </ListItemIcon>\n                                    <ListItemText primary=\"Active Contacts\" />\n                                </ListItem>\n\n                                <Collapse in={tab_selected === \"active_numbers\"} timeout=\"auto\" unmountOnExit>\n                                    <List component=\"div\" disablePadding>\n                                        <ListItem \n                                            button \n                                            onClick={() => setContactForm(true)}\n                                            className={classes.nested}\n                                        >\n                                            <ListItemIcon>\n                                                <PersonAdd />\n                                            </ListItemIcon>\n                                            <ListItemText primary=\"Add Contact\" />\n                                        </ListItem>\n                                    </List>\n                                </Collapse>\n\n                                <ListItem \n                                    button \n                                    onClick={() => selectedTab(\"blocked_numbers\")}\n                                    selected={tab_selected === \"blocked_numbers\"}\n                                >\n                                    <ListItemIcon>\n                                        <Block />\n                                    </ListItemIcon>\n                                    <ListItemText primary=\"Blocked Contacts\" />\n                                </ListItem>\n\n                                <ListItem\n                                    button\n                                    onClick={() => selectedTab(\"contact_prioritization\")}\n                                    selected={tab_selected === \"contact_prioritization\"}\n                                >\n                                    <ListItemIcon>\n                                        <FormatListNumbered />\n                                    </ListItemIcon>\n                                    <ListItemText primary=\"Contact Prioritization\" />\n                                </ListItem>\n\n                                <ListItem\n                                    button\n                                    onClick={() => selectedTab(\"sim_prefixes\")}\n                                    selected={tab_selected === \"sim_prefixes\"}\n                                >\n                                    <ListItemIcon>\n                                        <SimCard />\n                                    </ListItemIcon>\n                                    <ListItemText primary=\"SIM Prefixes\" />\n                                </ListItem>\n                            </List>\n                        </div>\n                    </Grid>\n                </Hidden>\n\n                <Grid item xs={12} md={8} lg={9}>\n                    {\n                        contacts.length === 0\n                            ? <div style={{ width: \"100%\" }}><Loader /></div>\n                            : (\n                                <Fragment>\n                                    <Hidden xsUp={tab_selected !== \"active_numbers\"} implementation=\"css\">\n                                        <Grid container spacing={4}>\n                                            <Grid item xs={12} lg={7}>\n                                                <ContactList \n                                                    classes={classes}\n                                                    contacts={contacts_array}\n                                                    onContactClickFn={onContactClickFn}\n                                                />\n                                            </Grid>\n                            \n                                            <Hidden mdDown>\n                                                <Grid item lg={5}>\n                                                    {\n                                                        contact !== \"\" && (\n                                                            <Paper \n                                                                elevation={1}\n                                                                style={{ padding: 16, zIndex: 2 }}\n                                                                className={`${classes.sticky} ${classes.overflow}`}\n                                                                variant=\"outlined\"\n                                                            >\n                                                                { PaperDialogContent() }\n                                                            </Paper>\n                                                        )\n                                                    }\n                                                </Grid>\n\n                                                <Backdrop open={is_contact_form_open} style={{ zIndex: 1 }} />\n                                            </Hidden>\n\n                                            <Hidden smDown lgUp>\n                                                <Slide direction=\"left\" in={is_slide_open} mountOnEnter unmountOnExit>\n                                                    <Paper \n                                                        elevation={4}\n                                                        className={`${classes.paper} ${classes.overflow}`}\n                                                        style={{ padding: 24, zIndex: 2 }}\n                                                    >\n                                                        { PaperDialogContent() }\n                                                    </Paper>\n                                                </Slide>\n                        \n                                                <Backdrop open={is_slide_open} style={{ zIndex: 1 }} />\n                                            </Hidden>\n                \n                                            <Hidden mdUp>\n                                                <Dialog \n                                                    fullScreen\n                                                    open={is_slide_open}\n                                                    TransitionComponent={SlideTransition}\n                                                >\n                                                    <AppBar style={{ position: \"relative\" }}>\n                                                        <Toolbar>\n                                                            <IconButton edge=\"start\" color=\"inherit\" onClick={() => setContactForm(false)} aria-label=\"close\">\n                                                                <Close />\n                                                            </IconButton>\n                                                        </Toolbar>\n                                                    </AppBar>\n                                                    <Paper elevation={0} style={{ padding: 16 }}>\n                                                        { PaperDialogContent() }\n                                                    </Paper>\n                                                </Dialog>\n                                            </Hidden>\n                                        </Grid>\n                                    </Hidden>\n        \n                                    <Hidden xsUp={tab_selected !== \"blocked_numbers\"} implementation=\"css\">\n                                        <Grid container spacing={4}>\n                                            <Grid item xs={12} lg={7}>\n                                                <BlockedContactList\n                                                    blocked_numbers={blocked_number_array}\n                                                    onBlockContactClickFn={onBlockContactClickFn}\n                                                />\n                                            </Grid>\n\n                                            <Hidden mdDown>\n                                                <Grid item lg={5}>\n                                                    <Paper \n                                                        elevation={1}\n                                                        style={{ padding: 16, zIndex: 2 }}\n                                                        className={classes.sticky}\n                                                        variant=\"outlined\"\n                                                    >\n                                                        <BlockedContact\n                                                            chosenContact={blocked_chosen_contact}\n                                                            setSlideOpen={setSlideOpen}\n                                                        />\n                                                    </Paper>\n                                                </Grid>\n                                            </Hidden>\n\n                                            <Hidden smDown lgUp>\n                                                <Slide direction=\"left\" in={is_slide_open} mountOnEnter unmountOnExit>\n                                                    <Paper \n                                                        elevation={4}\n                                                        className={`${classes.paper} ${classes.overflow}`}\n                                                        style={{ padding: 24, zIndex: 2 }}\n                                                    >\n                                                        <BlockedContact\n                                                            chosenContact={blocked_chosen_contact}\n                                                            setSlideOpen={setSlideOpen}\n                                                        />\n                                                    </Paper>\n                                                </Slide>\n                        \n                                                <Backdrop open={is_slide_open} style={{ zIndex: 1 }} />\n                                            </Hidden>\n                \n                                            <Hidden mdUp>\n                                                <Dialog \n                                                    fullScreen\n                                                    open={is_slide_open}\n                                                    TransitionComponent={SlideTransition}\n                                                >\n                                                    <AppBar style={{ position: \"relative\" }}>\n                                                        <Toolbar>\n                                                            <IconButton edge=\"start\" color=\"inherit\" onClick={() => setContactForm(false)} aria-label=\"close\">\n                                                                <Close />\n                                                            </IconButton>\n                                                        </Toolbar>\n                                                    </AppBar>\n                                                    <Paper elevation={0} style={{ padding: 16 }}>\n                                                        <BlockedContact\n                                                            chosenContact={blocked_chosen_contact}\n                                                            setSlideOpen={setSlideOpen}\n                                                        />\n                                                    </Paper>\n                                                </Dialog>\n                                            </Hidden>\n                                        </Grid>\n                                    </Hidden>\n\n                                    <Hidden xsUp={tab_selected !== \"contact_prioritization\"} implementation=\"css\">\n                                        <Typography variant=\"body1\" style={{ marginBottom: 12 }}>\n                                            <strong><i>\n                                                Note: Contact priority can only be chosen from stakeholders that are currently active and EWI recipients.\n                                            </i></strong>\n                                        </Typography>\n                        \n                                        {\n                                            site_stakeholders.length !== 0 && (\n                                                sites.map((row, index) => {\n                                                    const { site_id, site_code } = row;\n                                                    const site_label = prepareSiteAddress(row, true, \"start\");\n                                                    const site_data = site_stakeholders[site_code];\n                                    \n                                                    return (\n                                                        <ContactPrioritization\n                                                            siteLabel={site_label}\n                                                            siteID={site_id}\n                                                            siteData={site_data}\n                                                            key={index}\n                                                        />\n                                                    );\n                                                })\n                                            )\n                                        }\n                                    </Hidden>\n\n                                    <Hidden xsUp={tab_selected !== \"sim_prefixes\"} implementation=\"css\">\n                                        <SimPrefixesList\n                                            sim_prefixes={sim_prefixes_list}\n                                        />\n                                    </Hidden>\n                                </Fragment>\n                            )\n                    }\n                </Grid>\n            </Grid>\n\n            <SearchContactsModal\n                modalStateHandler={set_modal_fn(\"search\", false)}\n                modalState={modal_state}\n                contactsArray = {contacts_array}\n                classes = {classes}\n                chosenContact = {chosen_contact}\n                setChosenContact= {setChosenContact}\n            />\n        </div>\n    );\n}\n\nexport default Container;\n","import React, {\n    useState\n} from \"react\";\n\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport {\n    Button, Grid, TextField\n} from \"@material-ui/core\";\nimport ChipInput from \"material-ui-chip-input\";\n\nimport { green, red } from \"@material-ui/core/colors\";\nimport Snackbar from \"@material-ui/core/Snackbar\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport CloseIcon from \"@material-ui/icons/Close\";\n\n// import CKEditor from \"@ckeditor/ckeditor5-react\";\n// import ClassicEditor from \"@ckeditor/ckeditor5-build-classic\";\nimport ReactQuill from \"react-quill\";\nimport \"react-quill/dist/quill.snow.css\";\n\nimport GeneralStyles from \"../../../GeneralStyles\";\nimport PageTitle from \"../../reusables/PageTitle\";\n\nimport { sendEmail } from \"./ajax\";\n\nconst useStyles = makeStyles(theme => {\n    const gen_style = GeneralStyles(theme);\n    \n    return {\n        ...gen_style,\n        sticky: {\n            position: \"sticky\",\n            top: 146,\n            [theme.breakpoints.down(\"sm\")]: {\n                top: 48\n            },\n            backgroundColor: \"white\",\n            // borderBottom: \"1px solid rgba(0, 0, 0, 0.12)\",\n            zIndex: 1\n        },\n        noFlexGrow: { flexGrow: 0 },\n        paper: {\n            position: \"fixed\",\n            right: 0,\n            top: 116,\n            height: \"100%\",\n            width: 400\n        },\n        insetDivider: { padding: \"8px 70px !important\" }\n    }; \n});\n\n\nconst recip_default = {\n    to: [], cc: [], bcc: []\n};\n\n\nfunction MailBoxContainer (props) {\n    const classes = useStyles();\n    const { siteId } = props;\n    const [recipients_dict, setRecipientsDict] = useState(recip_default);\n    const [is_snackbar_notif_open, set_snackbar_notif_fn] = useState(false);\n    const [snack_bar_data, set_snack_bar_data] = useState({});    \n    // const [sender, setSender] = useState(\"\");\n    const [subject, setSubject] = useState(\"\");\n    const [mail_body, setMailBody] = useState(\"\");\n    // const [toggled_cc, setToggledCC] = useState(false);\n    // const [toggled_bcc, setToggledBCC] = useState(false);\n\n    const handleAddChip = (key, chip) => {\n        const temp = recipients_dict[key].push(chip);\n        setRecipientsDict({\n            ...recipients_dict,\n            ...temp\n        });\n    };\n\n    const handleDeleteChip = (key, chip, index) => {\n        const temp = recipients_dict[key].splice( recipients_dict[key].indexOf(chip), 1 );\n        setRecipientsDict({\n            ...recipients_dict,\n            ...temp\n        });\n    };\n\n    const handleSend = () => {\n        const { to, cc, bcc } = recipients_dict;\n\n        const payload = {\n            recipients: [ ...to, ...cc, ...bcc ],\n            subject,\n            mail_body\n        };\n        console.log(\"payload\", payload);\n        \n        sendEmail(payload, ret => {\n            console.log(\"AXIOS Response\", ret);\n            const { status } = ret;\n            if (status) {\n                set_snack_bar_data({ text: \"Email sent!\", color: green[600] });\n                setRecipientsDict(recip_default);\n                setSubject(\"\");\n                setMailBody(\"\");\n            } else {\n                set_snack_bar_data({ text: \"Email sent!\", color: red[600] });\n            }\n            set_snackbar_notif_fn(true);\n        });\n    };\n\n    const handleDiscard = () => {\n        setRecipientsDict({\n            to: [],\n            cc: [],\n            bcc: []\n        });\n        setSubject(\"\");\n        setMailBody(\"\");\n    };\n\n    // const handleToggles = key => event => {\n    //     if (key === \"cc\") ;\n    //     else if (key === \"bcc\") setToggledBCC(!toggled_bcc);\n    // };\n    const config = {\n        // toolbar: [\"heading\", \"|\", \"bold\", \"italic\", \"link\", \"bulletedList\", \"numberedList\", \"blockQuote\", \"|\", \"undo\", \"redo\"]\n        height: 500\n    };\n\n    return (\n        <div className={classes.pageContentMargin}>\n            <PageTitle\n                title=\"Communications | MailBox\" \n                // customButtons={\n                //     (\n                //         <Fragment>\n                //             <Button onClick={ret => setToggledCC(!toggled_cc)}>Cc</Button>\n                //             <Button onClick={ret => setToggledBCC(!toggled_bcc)}>Bcc</Button>\n                //         </Fragment>\n                //     )\n                // }\n            />\n            <Grid container spacing={4} alignItems=\"center\">\n                <Grid item xs={12} container spacing={1} key=\"sending_options\">\n                    <Grid item xs={12} sm={6} >\n                        <ChipInput \n                            label=\"To\"\n                            value={recipients_dict.to}\n                            onAdd={(chip) => handleAddChip(\"to\", chip)}\n                            onDelete={(chip, index) => handleDeleteChip(\"to\", chip, index)}\n                            fullWidth\n                            required\n                        />\n                    </Grid>\n\n                    <Grid item xs={12} sm={6} >\n                        <TextField\n                            label=\"Subject\"\n                            value={subject}\n                            onChange={ret => setSubject(ret.target.value)}\n                            margin=\"dense\"\n                            fullWidth\n                        />\n                    </Grid>\n\n                    <Grid item xs={12} sm={6} >\n                        <ChipInput \n                            label=\"Cc\"\n                            value={recipients_dict.cc}\n                            onAdd={(chip) => handleAddChip(\"cc\", chip)}\n                            onDelete={(chip, index) => handleDeleteChip(\"cc\", chip, index)}\n                            fullWidth\n                        />\n                    </Grid>\n\n                    <Grid item xs={12} sm={6} >\n                        <ChipInput \n                            label=\"Bcc\"\n                            value={recipients_dict.bcc}\n                            onAdd={(chip) => handleAddChip(\"bcc\", chip)}\n                            onDelete={(chip, index) => handleDeleteChip(\"bcc\", chip, index)}\n                            fullWidth\n                        />\n                    </Grid>\n                </Grid>\n                <Grid item xs={12} key=\"message_body\">\n                    {/* <CKEditor\n                        editor={ClassicEditor}\n                        data={mail_body}\n                        config={config}\n                        onInit={editor => {\n                            // You can store the \"editor\" and use when it is needed.\n                            editor.setData(mail_body);\n                            // console.log(Array.from(editor.ui.componentFactory.names()));\n                            // console.log(\"PLUGINS: \", ClassicEditor.builtinPlugins.map( plugin => plugin.pluginName ));\n                        }}\n                        onChange={(event, editor) => {\n                            const data = editor.getData();\n                            setMailBody(data);\n                        }}\n                    /> */}\n                    <ReactQuill theme=\"snow\" value={mail_body} onChange={setMailBody}/>\n                </Grid>\n\n                <Grid item xs={12} key=\"buttons\">\n                    <Button color=\"secondary\" onClick={handleSend}>SEND</Button>\n                    <Button color=\"primary\" onClick={handleDiscard}>Discard/Reset</Button>\n                </Grid>\n            </Grid>\n\n            <Snackbar\n                anchorOrigin={{\n                    vertical: \"bottom\",\n                    horizontal: \"right\",\n                }}\n                open={is_snackbar_notif_open}\n                autoHideDuration={6000}\n                onClose={ret => set_snackbar_notif_fn(false)}\n                ContentProps={{\n                    \"aria-describedby\": \"message-id\",\n                }}\n                message={<span id=\"message-id\">{snack_bar_data.text}</span>}\n                action={[\n                    <IconButton\n                        key=\"close\"\n                        aria-label=\"close\"\n                        color=\"inherit\"\n                        className={classes.close}\n                        onClick={ret => set_snackbar_notif_fn(false)}\n                    >\n                        <CloseIcon />\n                    </IconButton>,\n                ]}\n                style={{ backgroundColor: snack_bar_data.color }}\n            />\n        </div>\n    );\n}\n\nexport default (MailBoxContainer);\n\n\n\n\n\n// DUMPING MIGHT BE REUSED CODE\n// {\n//     toggled_cc && (\n//         <Grid item xs={6} >\n//             <TextField\n//                 label=\"Cc\"\n//                 value={recipients_dict.cc}\n//                 onChange={recipientChangeHandler(\"cc\")}\n//                 margin=\"dense\"\n//                 required\n//                 error={recipients_dict.cc === \"\"}\n//                 fullWidth\n//             />\n//         </Grid>\n//     )\n// }\n// {\n//     toggled_bcc && (\n//         <Grid item xs={6} >\n//             <TextField\n//                 label=\"Bcc\"\n//                 value={recipients_dict.bcc}\n//                 onChange={recipientChangeHandler(\"bcc\")}\n//                 margin=\"dense\"\n//                 required\n//                 error={recipients_dict.bcc === \"\"}\n//                 fullWidth\n//             />\n//         </Grid>\n//     )\n// }","import React, { useState, useEffect, Fragment } from \"react\";\n\nimport {\n    Typography, Grid, Divider,\n    Avatar, makeStyles, Tooltip,\n    Badge, withStyles\n} from \"@material-ui/core\";\nimport { Stars, CheckCircle, RemoveCircle } from \"@material-ui/icons\";\n\nimport GeneralStyles from \"../../../GeneralStyles\";\nimport GenericAvatar from \"../../../images/generic-user-icon.jpg\";\nimport { getCommunityStakeholders } from \"../ajax\";\n\nconst useStyle = makeStyles(theme => {\n    const general_styles = GeneralStyles(theme);\n    return {\n        ...general_styles,\n        customPaper: {\n            padding: 8,\n            marginTop: 20,\n            textAlign: \"center\"\n        },\n        bigAvatar: {\n            margin: 10,\n            width: 40,\n            height: 40\n        }\n    };\n});\n\nconst StyledBadge = withStyles((theme) => ({\n    badge: {\n        right: 14,\n        top: 48,\n        padding: \"0 4px\",\n    },\n}))(Badge);\n\nfunction prepareOrgList (classes, community_orgs) {\n    const lgu = [];\n    const non_lgu = [];\n    Object.keys(community_orgs).forEach(x => {\n        let temp = non_lgu;\n        if (/lewc|lgu/i.test(x)) temp = lgu;\n        temp.push(x);\n    });\n\n\n    return lgu.concat(non_lgu).map((org, org_index, arr) => {\n        const user_list_for_ui = community_orgs[org].map((user, user_index) => {\n            const {\n                last_name, first_name, salutation, status, primary_contact\n            } = user;\n\n            const sal = salutation || \"\";\n            let title = \"Active\";\n            let icon = <CheckCircle style={{ color: \"green\" }} />;\n            if (Boolean(primary_contact) && status) {\n                title = \"Contact Priority\";\n                icon = <Stars style={{ color: \"gold\" }} />;\n            } else if (!status) {\n                title = \"Inactive\";\n                icon = <RemoveCircle style={{ color: \"gray\" }} />;\n            }\n\n            const primary_badge = <Tooltip \n                arrow\n                title={title}\n                placement=\"top\"\n                enterTouchDelay={200}\n            >\n                { icon }\n            </Tooltip>;\n\n            return (\n                <Grid \n                    item xs={12} sm={6} md={4} lg={3} justify=\"center\" \n                    alignItems=\"center\" container spacing={1}\n                    key={`staff_${user_index + 1}`}\n                >\n                    <StyledBadge\n                        badgeContent={primary_badge}\n                    >\n                        <Avatar \n                            alt=\"Stakeholder\" src={GenericAvatar} \n                            className={classes.bigAvatar}\n                        />\n                    </StyledBadge>\n\n                    <Typography \n                        variant=\"subtitle1\" \n                        color={ status ? \"textPrimary\" : \"textSecondary\" }\n                    >\n                        {`${sal} ${first_name} ${last_name}`}\n                    </Typography>\n                </Grid>\n            );\n        });\n\n        return (\n            <Fragment key={`fragment_${org_index + 1}`}>\n                <Grid item xs={12} key={`org_label_${org_index + 1}`}>\n                    <Typography variant=\"subtitle1\" >\n                        <strong>{org.toUpperCase()}</strong>\n                    </Typography>\n                </Grid>\n\n                <Grid item xs={12} justify=\"space-evenly\"\n                    alignItems=\"center\" container spacing={1}\n                    key={`staff_list_${org_index + 1}`}\n                >\n                    {user_list_for_ui}\n                </Grid>\n\n                {\n                    arr.length > org_index + 1 && (\n                        <Grid item xs={12}>\n                            <Divider style={{ margin: \"16px 0\" }} />\n                        </Grid>\n                    )\n                }\n            </Fragment>            \n        );\n    });\n}\n\nfunction SiteStakeholdersList (props) {\n    const classes = useStyle();\n    const { siteCode } = props;\n\n    const [community_contacts, setCommunityContacts] = useState(null);\n\n    useEffect(() => {\n        getCommunityStakeholders(siteCode, com_orgs => {\n            console.log(com_orgs);\n            const comm_contacts_ui = prepareOrgList(classes, com_orgs);\n            setCommunityContacts(comm_contacts_ui);\n        });\n    }, []);\n\n    return (\n        <Fragment>\n            <Grid item xs={12} align=\"center\">\n                <Typography variant=\"h6\" color=\"textPrimary\" gutterBottom>\n                    <strong>Site Stakeholders</strong>\n                </Typography>\n            </Grid>\n\n            <Grid item xs={12} align=\"center\" container spacing={1} justify=\"center\">\n                {\n                    // eslint-disable-next-line \n                    community_contacts === null ? (\n                        \"Loading...\"\n                    ) : (\n                        community_contacts.length !== 0 ? (\n                            community_contacts\n                        ) : (\n                            \"No site stakeholders\"\n                        )\n                    )\n                }\n                \n            </Grid>\n        </Fragment>\n    );\n}\n\nexport default SiteStakeholdersList;\n","import axios from \"axios\";\nimport { host } from \"../../config\";\n\n\nexport function getCommunityStakeholders (site_code, callback) {\n    axios.get(`${host}/api/users/get_community_orgs_by_site/${site_code}`)\n    .then(response => {\n        const { data } = response;\n        callback(data);\n    });\n}\n\nexport function getSiteSummary (site_id, callback) {\n    axios.get(`${host}/api/monitoring/get_current_monitoring_summary_per_site/${site_id}`)\n    .then(response => {\n        const { data } = response;\n        callback(data);\n    });\n}\n\nexport function getSiteSeason (site_code, callback) {\n    axios.get(`${host}/api/sites/get_site_season/${site_code}`)\n    .then(response => {\n        const { data } = response;\n        callback(data);\n    })\n    .catch(error => {\n        console.log(error);\n    });\n}\n\nexport function getSeasons (callback) {\n    axios.get(`${host}/api/sites/get_seasons`)\n    .then(response => {\n        const { data } = response;\n        callback(data);\n    })\n    .catch(error => {\n        console.log(error);\n    });\n}\n\nexport function saveSiteInformation (input, callback) {\n    const api_link = `${host}/api/sites/save_site_information`;\n    axios.post(api_link, input)\n    .then(response => {\n        const { data } = response;\n        console.log(\"Save site info data reponse\", data);\n    })\n    .catch(error => {\n        console.error(error);\n    });\n}\n","\nimport React from \"react\";\n\nimport { Button, IconButton } from \"@material-ui/core\";\nimport { ArrowBackIos } from \"@material-ui/icons\";\nimport { isWidthDown } from \"@material-ui/core/withWidth\";\n\nconst goBack = history => e => {\n    e.preventDefault();\n    history.push(\"/community/site_info\");\n    history.replace(\"/community/site_info\");\n};\n\nfunction BackToMainButton (props) {\n    const { width, history } = props;\n\n    return (\n        isWidthDown(width, \"sm\") ? (<Button\n            variant=\"contained\"\n            color=\"primary\"\n            size=\"small\" \n            onClick={goBack(history)}\n        >\n            <ArrowBackIos style={{ fontSize: 16 }}/> Back\n        </Button>) : (<IconButton\n            variant=\"contained\"\n            color=\"primary\"\n            size=\"small\" \n            onClick={goBack(history)}\n            style={{ marginLeft: 6 }}\n        >\n            <ArrowBackIos />\n        </IconButton>)\n    );\n}\n\nexport default BackToMainButton;\n","import React, { useState, useEffect, useReducer } from \"react\";\nimport {\n    Grid, Checkbox, TextField, Typography,\n    FormControl, InputLabel, Select,\n    MenuItem, Radio, RadioGroup,\n    FormLabel, FormControlLabel\n} from \"@material-ui/core\";\nimport { capitalizeFirstLetter, monthSorter } from \"../../../UtilityFunctions\";\n\nconst region_list = [\n    \"I\", \"II\", \"III\", \"IV-A\", \"IV-B\",\n    \"V\", \"VI\", \"VII\", \"VIII\", \"IX\",\n    \"X\", \"XI\", \"XII\", \"XIII\", \"CAR\",\n    \"NCR\", \"BARMM\"\n];\n\nfunction arrangeSeasons (seasons, current_season) {\n    const season_data = seasons[current_season - 1];\n    const dry = [];\n    const wet = [];\n    \n    Object.keys(season_data).forEach(key => {\n        if (season_data[key] === \"d\" || season_data[key] === \"w\")\n            if (season_data[key] === \"d\") dry.push(key);\n            else wet.push(key);\n    });\n\n    monthSorter(dry);\n    monthSorter(wet);\n\n    const list = [\n        { key: \"dry\", list: dry },\n        { key: \"wet\", list: wet }\n    ];\n\n    return list;\n}\n\nfunction sanitizeData (data) {\n    const clean_data = {};\n    Object.keys(data).forEach(key => {\n        clean_data[key] = data[key].value;\n    });\n\n    return clean_data;\n}\n\nfunction getHelperText (field, value) {\n    if (value === \"\") return \"Required field\";\n\n    if (field === \"site_code\") {\n        if (value.length < 3) return \"Site code must be three-lettered keyword\";\n    }\n\n    return \"\";\n}\n\nfunction reducerFunction (state, action) {\n    const { type, field, value } = action;\n    const field_value = state[field];\n    const new_helper_text = getHelperText(field, value);\n    \n    let new_value = value;\n    if ([\"purok\", \"sitio\", \"households\"].includes(field)) { new_value = value || null; }\n    if (field === \"season\") new_value = parseInt(value, 10);\n\n    switch (type) {\n        case \"UPDATE\":\n            return { ...state, [field]: {\n                ...field_value,\n                value: new_value,\n                helper_text: new_helper_text\n            } };\n        default:\n            return { ...state };\n    }\n}\n\nfunction initReducer (data) {\n    const new_data = {};\n    const not_required = [\"sitio\", \"purok\", \"active\", \"site_id\"];\n    Object.keys(data).forEach(key => {\n        new_data[key] = {\n            value: data[key],\n            helper_text: null,\n            required: !not_required.includes(key)\n        };\n    });\n\n    return new_data;\n}\n\nfunction EditSiteInformationForm (props) {\n    const {\n        siteInformation, setSiteInformationData,\n        seasons, setIsDisabled\n    } = props;\n\n    const [site_data, dispatch] = useReducer(reducerFunction, siteInformation, initReducer);\n    const [seasonPreview, setSeasonPreview] = useState([]);\n    \n    const seasonChangeHandler = event => {\n        const selected_season = event.target.value;\n        dispatch({ type: \"UPDATE\", field: \"season\", value: selected_season });\n        const arrangedSeasons = arrangeSeasons(seasons, selected_season);\n        setSeasonPreview(arrangedSeasons);\n    };\n\n    useEffect(() => {\n        const is_disable_save = Object.keys(site_data).some(key => {\n            const { required, helper_text } = site_data[key];\n            return required && helper_text !== \"\" && helper_text !== null;\n        });\n    \n        setIsDisabled(is_disable_save);\n        setSiteInformationData(sanitizeData(site_data));\n    }, [site_data]);\n    \n    useEffect(() => {\n        if (site_data.season.value !== null) {\n            const arrangedSeasons = arrangeSeasons(seasons, site_data.season.value);\n            setSeasonPreview(arrangedSeasons);\n        }\n    }, [site_data.season.value]);\n\n    return (\n        <Grid container spacing={2}>\n            <Grid item xs={12} sm={6}>\n                <TextField\n                    label=\"Site code\"\n                    fullWidth\n                    required\n                    inputProps={{\n                        maxLength: 3\n                    }}\n                    value={site_data.site_code.value.toUpperCase()}\n                    onChange={e => dispatch({ type: \"UPDATE\", field: \"site_code\", value: e.target.value })}\n                    helperText={site_data.site_code.helper_text || \"\"}\n                    error={Boolean(site_data.site_code.helper_text)}\n                />\n            </Grid>\n\n            <Grid item xs={6}>\n                <TextField\n                    label=\"Purok\"\n                    fullWidth\n                    placeholder=\"Enter purok if available\"\n                    InputLabelProps={{ shrink: true }}\n                    value={site_data.purok.value || \"\"}\n                    onChange={e => dispatch({ type: \"UPDATE\", field: \"purok\", value: e.target.value })}\n                />\n            </Grid>\n\n            <Grid item xs={6}>\n                <TextField\n                    label=\"Sitio\"\n                    fullWidth\n                    placeholder=\"Enter sitio if available\"\n                    InputLabelProps={{ shrink: true }}\n                    value={site_data.sitio.value || \"\"}\n                    onChange={e => dispatch({ type: \"UPDATE\", field: \"sitio\", value: e.target.value })}\n                />\n            </Grid>\n\n            <Grid item xs={6}>\n                <TextField\n                    label=\"Barangay\"\n                    fullWidth\n                    required\n                    value={site_data.barangay.value}\n                    onChange={e => dispatch({ type: \"UPDATE\", field: \"barangay\", value: e.target.value })}\n                    helperText={site_data.barangay.helper_text || \"\"}\n                    error={Boolean(site_data.barangay.helper_text)}\n                />\n            </Grid>\n\n            <Grid item xs={6}>\n                <TextField\n                    label=\"Municipality\"\n                    fullWidth\n                    required\n                    value={site_data.municipality.value}\n                    onChange={e => dispatch({ type: \"UPDATE\", field: \"municipality\", value: e.target.value })}\n                    helperText={site_data.municipality.helper_text || \"\"}\n                    error={Boolean(site_data.municipality.helper_text)}\n                />\n            </Grid>\n\n            <Grid item xs={6}>\n                <TextField\n                    label=\"Province\"\n                    fullWidth\n                    required\n                    value={site_data.province.value}\n                    onChange={e => dispatch({ type: \"UPDATE\", field: \"province\", value: e.target.value })}\n                    helperText={site_data.province.helper_text || \"\"}\n                    error={Boolean(site_data.province.helper_text)}\n                />\n            </Grid>\n\n            <Grid item xs={6}>\n                <FormControl\n                    required fullWidth\n                    error={Boolean(site_data.region.helper_text)}\n                >\n                    <InputLabel id=\"region\">Region</InputLabel>\n                    <Select\n                        labelId=\"region-select-label\"\n                        id=\"region-select-id\"\n                        required\n                        value={site_data.region.value}\n                        onChange={e => dispatch({ type: \"UPDATE\", field: \"region\", value: e.target.value })}\n                    >\n                        <MenuItem value=\"\">\n                            <em>None</em>\n                        </MenuItem>\n                        {\n                            region_list.map((item, i) => (\n                                <MenuItem value={item} key={i}>{item}</MenuItem>\n                            ))\n                        }\n                    </Select>\n                </FormControl>\n            </Grid>\n\n            <Grid item xs={6}>\n                <TextField\n                    label=\"PSGC\"\n                    fullWidth\n                    type=\"number\"\n                    required\n                    value={site_data.psgc.value}\n                    onChange={e => dispatch({ type: \"UPDATE\", field: \"psgc\", value: e.target.value })}\n                    helperText={site_data.psgc.helper_text || \"\"}\n                    error={Boolean(site_data.psgc.helper_text)}\n                />\n            </Grid>\n\n            <Grid item xs={12}>\n                <TextField\n                    label=\"Elements at Risk\"\n                    fullWidth\n                    required\n                    value={site_data.households.value || \"\"}\n                    onChange={e => dispatch({ type: \"UPDATE\", field: \"households\", value: e.target.value })}\n                    helperText={site_data.households.helper_text || \"\"}\n                    error={Boolean(site_data.households.helper_text)}\n                />\n            </Grid>\n\n            <Grid item xs={6} container justify=\"center\" alignItems=\"center\">\n                <FormControl>\n                    <FormControlLabel\n                        control={\n                            <Checkbox\n                                checked={site_data.active.value}\n                                onChange={e => dispatch({ type: \"UPDATE\", field: \"active\", value: e.target.checked })}\n                                value=\"checkedA\"\n                                color=\"primary\"\n                            />\n                        }\n                        label=\"Active site\"\n                    />\n                </FormControl>\n            </Grid>\n\n            <Grid item xs={6}>\n                <FormControl component=\"fieldset\" required error={Boolean(site_data.season.helper_text)}>\n                    <FormLabel component=\"legend\">Season</FormLabel>\n                    <RadioGroup\n                        row\n                        aria-label=\"season_group\"\n                        name=\"season\"\n                        value={site_data.season.value.toString()}\n                        onChange={seasonChangeHandler}\n                    >\n                        {\n                            seasons.map((row, index) => {\n                                const { season_group_id } = row;\n                                return (\n                                    <FormControlLabel\n                                        value={season_group_id.toString()}\n                                        control={<Radio color=\"primary\"/>}\n                                        label={`Season  ${season_group_id}`}\n                                        key={`season_${season_group_id}`} />\n                                );\n                            })\n                        }\n                    </RadioGroup>\n                </FormControl>\n            </Grid>\n            \n            <Grid item container xs={12}>\n                {\n                    seasonPreview.map(row => {\n                        const { key, list } = row;\n\n                        return (\n                            <Grid item xs={6} key={key}>\n                                <Typography variant=\"subtitle1\" color=\"textSecondary\" align=\"center\">\n                                    { capitalizeFirstLetter(key) }\n                                </Typography>\n                                <Typography variant=\"subtitle1\" color=\"textPrimary\" align=\"center\">\n                                    {\n                                        list.map(l => capitalizeFirstLetter(l)).join(\", \")\n                                    }\n                                </Typography>\n                            </Grid>\n                        );\n                    })\n                }\n            </Grid>\n        </Grid>\n    );\n}\n\nexport default EditSiteInformationForm;\n","import React, { useState, useContext } from \"react\";\n\nimport {\n    Dialog, DialogTitle, DialogContent,\n    DialogActions, Button, withMobileDialog,\n    DialogContentText, \n} from \"@material-ui/core\";\nimport { useSnackbar } from \"notistack\";\n\nimport EditSiteInformationForm from \"./EditSiteInformationForm\";\nimport { saveSiteInformation } from \"../ajax\";\nimport { GeneralContext } from \"../../contexts/GeneralContext\";\n\nfunction EditSiteInformationModal (props) {\n    const {\n        fullScreen, isOpen, seasons,\n        editButtonAction, siteInformation\n    } = props;\n\n    const { setRefreshSites } = useContext(GeneralContext);\n\n    const [site_information_data, setSiteInformationData] = useState(null);\n    const [is_disabled, setIsDisabled] = useState(true);\n    const { enqueueSnackbar, closeSnackbar } = useSnackbar();\n\n    const snackBarActionFn = key => {\n        return (<Button\n            color=\"primary\"\n            onClick={() => { closeSnackbar(key); }}\n        >\n            Dismiss\n        </Button>);\n    };\n\n    const handleSubmit = () => {\n        saveSiteInformation(site_information_data, data => {\n            const { status, message } = data;\n            if (status === \"success\") {\n                handleClose();\n                setRefreshSites(true);\n            }\n\n            enqueueSnackbar(\n                message,\n                {\n                    variant: status,\n                    autoHideDuration: 3000,\n                    action: snackBarActionFn\n                }\n            );\n        });\n    };\n\n    const handleClose = () => {\n        editButtonAction(false);\n    };\n\n    return (\n        <Dialog\n            fullWidth\n            fullScreen={fullScreen}\n            open={isOpen}\n            aria-labelledby=\"form-dialog-title\"\n        >\n            <DialogTitle id=\"form-dialog-title\">Edit site information</DialogTitle>\n            <DialogContent>\n                <DialogContentText>Update necessary fields of site information form then save.</DialogContentText>\n\n                <EditSiteInformationForm \n                    siteInformation={siteInformation}\n                    setSiteInformationData={setSiteInformationData}\n                    seasons={seasons}\n                    setIsDisabled={setIsDisabled}\n                />\n            </DialogContent>\n            <DialogActions>\n                    \n                <Button onClick={handleClose} color=\"primary\">\n                    Cancel\n                </Button>\n                <Button\n                    color=\"primary\"\n                    onClick={handleSubmit}\n                    disabled={is_disabled}\n                >\n                    Save\n                </Button>\n            </DialogActions>\n        </Dialog>\n    );\n}\n\nexport default withMobileDialog()(EditSiteInformationModal);\n","import React, {\n    Fragment, useState, useEffect\n} from \"react\";\n\nimport {\n    Grid, Typography,\n    Button, makeStyles, Card,\n    CardContent\n} from \"@material-ui/core\";\nimport { responsiveFontSizes } from \"@material-ui/core/styles\";\nimport { Edit } from \"@material-ui/icons\";\nimport ContentLoader from \"react-content-loader\";\n\nimport moment from \"moment\";\n\nimport GeneralStyles from \"../../../GeneralStyles\";\nimport SiteStakeholdersList from \"./SiteStakeholdersList\";\nimport BackToMainButton from \"./BackToMainButton\";\nimport { prepareSiteAddress, capitalizeFirstLetter, monthSorter } from \"../../../UtilityFunctions\";\nimport { getSiteSeason, getSeasons } from \"../ajax\";\nimport EditSiteInformationModal from \"./EditSiteInformationModal\";\n\nconst useStyles = makeStyles(theme => {\n    const temp = responsiveFontSizes(theme);\n    return GeneralStyles(temp);\n});\n\nconst MyLoader = () => (\n    <ContentLoader \n        height={125}\n        width={380}\n        speed={2}\n        foregroundColor=\"#f3f3f3\"\n        backgroundColor=\"#ecebeb\"\n    >\n        <rect x=\"129\" y=\"20\" rx=\"3\" ry=\"3\" width=\"123\" height=\"44\" /> \n        <rect x=\"18\" y=\"80\" rx=\"3\" ry=\"3\" width=\"350\" height=\"22\" />\n    </ContentLoader>\n);\n\nfunction SiteInformationPage (props) {\n    const { \n        width, siteInformation\n    } = props;\n    const classes = useStyles();\n\n    const [site, setSite] = useState(null);\n    const [season_months, setSeasonMonths] = useState([]);\n    const [seasons, setSeasons] = useState([]);\n    const [routine_schedule, setRoutineSchedule] = useState([]);\n    const [isOpenEditModal, setIsEditModal] = useState(false);\n\n    useEffect(() => {\n        if (typeof siteInformation !== \"undefined\") {\n            setSite(siteInformation);\n        }\n    }, [siteInformation]);\n\n    useEffect(() => {\n        if (site !== null) {\n            getSeasons(data => {\n                setSeasons(data);\n            });\n\n            getSiteSeason(site.site_code, data => {\n                const { season_months: sm } = data;\n                const { routine_schedules: rs } = sm;\n\n                const c_dry = [];\n                const c_wet = [];\n                rs.forEach(row => {\n                    const day = moment().isoWeekday(row.iso_week_day)\n                    .format(\"dddd\");\n                    if (row.season_type === \"d\") c_dry.push(day);\n                    else c_wet.push(day);\n                });\n\n                const c_list = [\n                    { key: \"dry\", list: c_dry },\n                    { key: \"wet\", list: c_wet }\n                ];\n\n                setRoutineSchedule(c_list);\n\n                delete sm.routine_schedules;\n                delete sm.season_group_id;\n                \n                const dry = [];\n                const wet = [];\n                \n                Object.keys(sm).forEach(key => {\n                    if (sm[key] === \"d\") dry.push(key);\n                    else wet.push(key);\n                });\n\n                monthSorter(dry);\n                monthSorter(wet);\n\n                const list = [\n                    { key: \"dry\", list: dry },\n                    { key: \"wet\", list: wet }\n                ];\n\n                setSeasonMonths(list);\n            });\n        }\n    }, [site]);\n\n    const editButtonAction = () => {\n        setIsEditModal(!isOpenEditModal);\n    };\n\n    return (\n        <Fragment>\n            <Grid \n                container spacing={2} \n                justify=\"space-between\"\n                alignItems=\"stretch\"\n            >\n                <Grid item xs>\n                    <BackToMainButton {...props} width={width} />\n                </Grid>\n\n                <Grid item xs container justify=\"flex-end\">\n                    <Button\n                        variant=\"contained\"\n                        color=\"primary\"\n                        size=\"small\"\n                        onClick={editButtonAction}\n                        startIcon={<Edit />}\n                    >\n                        Edit Info\n                    </Button>\n                </Grid>\n            </Grid>\n\n            <Grid container spacing={2}>\n                {\n                    site !== null ? (\n                        <Fragment>\n                            <Grid item xs={12} align=\"center\">\n                                <Typography variant=\"h4\">\n                                    { site.site_code.toUpperCase() }\n                                </Typography>\n                                <Typography variant=\"h5\" color=\"textSecondary\">\n                                    { prepareSiteAddress(site, false) }\n                                </Typography>\n                            </Grid>\n                            \n                            <Grid item xs={12} sm={6}>\n                                <Card raised>\n                                    <CardContent>\n                                        <Grid container spacing={1}>\n                                            <Grid item xs={12} align=\"center\">\n                                                <Typography variant=\"h6\" color=\"textPrimary\">\n                                                    <strong>Geographic Information</strong>\n                                                </Typography>\n                                            </Grid>\n\n                                            <Grid item xs align=\"center\">\n                                                <Typography variant=\"subtitle2\" color=\"textSecondary\">\n                                                    Region\n                                                </Typography>\n                                                <Typography variant=\"subtitle1\" color=\"textPrimary\">\n                                                    { site.region }\n                                                </Typography>\n                                            </Grid>\n\n                                            <Grid item xs sm={9} md={8} lg align=\"center\">\n                                                <Typography variant=\"subtitle2\" color=\"textSecondary\">\n                                                    Philippine Standard Geographic Code\n                                                </Typography>\n                                                <Typography variant=\"subtitle1\" color=\"textPrimary\">\n                                                    { site.psgc }\n                                                </Typography>\n                                            </Grid>\n\n                                            <Grid item xs={12} align=\"center\" container spacing={1}>\n                                                <Grid item xs={12}>\n                                                    <Typography variant=\"subtitle1\" color=\"textSecondary\">\n                                                        Seasons\n                                                    </Typography>\n                                                </Grid>\n\n                                                {\n                                                    season_months.length > 0 && (\n                                                        season_months.map(row => {\n                                                            const { key, list } = row;\n\n                                                            return (\n                                                                <Grid item xs={6} key={key}>\n                                                                    <Typography variant=\"subtitle2\" color=\"textSecondary\">\n                                                                        { capitalizeFirstLetter(key) }\n                                                                    </Typography>\n                                                                    <Typography variant=\"subtitle1\" color=\"textPrimary\">\n                                                                        {\n                                                                            list.map(l => capitalizeFirstLetter(l)).join(\", \")\n                                                                        }\n                                                                    </Typography>\n                                                                </Grid>\n                                                            );\n                                                        })\n                                                    )\n                                                }\n                                            </Grid>\n                                        </Grid>\n                                    </CardContent>\n                                </Card>\n                            </Grid>\n\n                            <Grid item xs={12} sm={6} container alignItems=\"center\">\n                                <Card raised style={{ width: \"100%\" }}>\n                                    <CardContent>\n                                        <Grid container spacing={1}>\n                                            <Grid item xs={12} align=\"center\">\n                                                <Typography variant=\"h6\" color=\"textPrimary\">\n                                                    <strong>Monitoring Information</strong>\n                                                </Typography>\n                                            </Grid>\n\n                                            <Grid item xs={12} align=\"center\" container spacing={1}>\n                                                <Grid item xs={12}>\n                                                    <Typography variant=\"subtitle1\" color=\"textSecondary\">\n                                                        Routine Schedules\n                                                    </Typography>\n                                                </Grid>\n\n                                                {\n                                                    routine_schedule.length > 0 && (\n                                                        routine_schedule.map(row => {\n                                                            const { key, list } = row;\n\n                                                            return (\n                                                                <Grid item xs={6} key={key}>\n                                                                    <Typography variant=\"subtitle2\" color=\"textSecondary\">\n                                                                        { capitalizeFirstLetter(key) }\n                                                                    </Typography>\n                                                                    <Typography variant=\"subtitle1\" color=\"textPrimary\">\n                                                                        {\n                                                                            list.map(l => capitalizeFirstLetter(l)).join(\", \")\n                                                                        }\n                                                                    </Typography>\n                                                                </Grid>\n                                                            );\n                                                        })\n                                                    )\n                                                }\n                                            </Grid>\n\n                                            <Grid item xs align=\"center\">\n                                                <Typography variant=\"subtitle2\" color=\"textSecondary\">\n                                                    Current Alert Level\n                                                </Typography>\n                                                <Typography variant=\"subtitle1\" color=\"textPrimary\">\n                                                    ---\n                                                </Typography>\n                                            </Grid>\n                                        </Grid>\n                                    </CardContent>\n                                </Card>\n                            </Grid>\n\n                            <Grid item xs={12}>\n                                <Card raised>\n                                    <CardContent>\n                                        <Grid container spacing={1}>\n                                            <Grid item xs={12} align=\"center\">\n                                                <Typography variant=\"h6\" color=\"textPrimary\">\n                                                    <strong>Site Status</strong>\n                                                </Typography>\n                                            </Grid>\n\n                                            <Grid item xs={12} sm align=\"center\">\n                                                <Typography variant=\"subtitle2\" color=\"textSecondary\">\n                                                    Active\n                                                </Typography>\n                                                <Typography variant=\"subtitle1\" color=\"textPrimary\">\n                                                    { site.active ? \"Yes\" : \"No\" }\n                                                </Typography>\n                                            </Grid>\n\n                                            <Grid item xs={12} sm align=\"center\">\n                                                <Typography variant=\"subtitle2\" color=\"textSecondary\">\n                                                    Elements at Risk\n                                                </Typography>\n                                                <Typography variant=\"subtitle1\" color=\"textPrimary\">\n                                                    { site.households || \"---\" }\n                                                </Typography>\n                                            </Grid>\n                                        </Grid>\n                                    </CardContent>\n                                </Card>\n                            </Grid>\n\n                            <Grid item xs={12} align=\"center\">\n                                <Card raised style={{ width: \"100%\" }}>\n                                    <CardContent>\n                                        <SiteStakeholdersList siteCode={site.site_code} />\n                                    </CardContent>\n                                </Card>\n                            </Grid>\n                        </Fragment>\n                    ) : (\n                        <Grid item xs style={{ width: \"100%\" }}>\n                            <MyLoader />\n                        </Grid>\n                    )\n                }\n            </Grid>\n\n            <EditSiteInformationModal\n                isOpen={isOpenEditModal}\n                siteInformation={siteInformation}\n                editButtonAction={editButtonAction}\n                seasons={seasons}\n            />\n        </Fragment>\n    );\n}\n\nexport default SiteInformationPage;\n","import React, { useRef, createRef, useEffect } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport \"leaflet/dist/leaflet.css\";\nimport { Map as LeafletMap, TileLayer, Popup, CircleMarker } from \"react-leaflet\";\nimport { prepareSiteAddress } from \"../../../UtilityFunctions\";\n\nfunction PhilippineMap (props) {\n    const { siteMapData, hoveredSite, url } = props;\n    const latitude = 12.8797;\n    const longitude = 121.7740;\n    const position = [latitude, longitude];\n    const zoom = 5;\n\n    const refs = useRef(siteMapData.map(() => createRef()));\n    useEffect(() => {\n        if (hoveredSite !== null) {\n            const i = siteMapData.findIndex(x => x.site_code === hoveredSite);\n            const ref = refs.current[i].current;\n            if (ref !== null) ref.leafletElement.openPopup();\n        }\n    }, [hoveredSite]);\n\n    return (\n        <LeafletMap style={{ height: \"75vh\" }} center={position} zoom={zoom} scrollWheelZoom=\"center\">\n            <TileLayer\n                attribution='&copy; <a href=\"https://www.mapbox.com/about/maps/\">Mapbox</a>  <a href=\"http://www.openstreetmap.org/copyright\">OpenStreetMap</a> <strong><a href=\"https://www.mapbox.com/map-feedback/\" target=\"_blank\">Improve this map</a></strong>'\n                id=\"mapbox.streets\"\n                url=\"https://api.mapbox.com/styles/v1/mapbox/streets-v11/tiles/{z}/{x}/{y}?access_token=pk.eyJ1IjoibWFwYm94IiwiYSI6ImNpejY4NXVycTA2emYycXBndHRqcmZ3N3gifQ.rJcFIG214AriISLbB6B5aw\"\n            />\n            {\n                siteMapData.map((site, i) => {\n                    const { site_code } = site;\n                    return (\n                        <CircleMarker\n                            key={site.site_id}\n                            center={[site.latitude, site.longitude]}\n                            fillColor=\"green\"\n                            fillOpacity={1}\n                            color=\"black\"\n                            weight={1}\n                            radius={4}\n                            bringToFront\n                            ref={refs.current[i]}\n                        >\n                            <Popup>\n                                <Link to={`${url}/${site_code}`} style={{ color: \"black\" }}>\n                                    <strong>{site_code.toUpperCase()}</strong> <br/>\n                                    {prepareSiteAddress(site, false)}\n                                </Link>\n                            </Popup>\n                        </CircleMarker>\n                    );\n                })\n            }\n            {/* <Marker icon={marker} position={position}>\n                <Popup>\n                    A pretty CSS3 popup. <br/> Easily customizable.\n                </Popup>\n            </Marker> */}\n        </LeafletMap>\n    );\n}\n\nexport default PhilippineMap;\n","import React, { \n    Fragment, useState, \n    useEffect, useContext\n} from \"react\";\n\nimport {\n    Grid, Typography, withWidth\n} from \"@material-ui/core\";\nimport ContentLoader from \"react-content-loader\";\n\nimport { Route, Switch, Link } from \"react-router-dom\";\nimport { makeStyles } from \"@material-ui/core/styles\";\n\nimport SiteInformationPage from \"./SiteInformationPage\";\nimport PhilippineMap from \"./PhilippineMap\";\n\nimport GeneralStyles from \"../../../GeneralStyles\";\nimport PageTitle from \"../../reusables/PageTitle\";\nimport { GeneralContext } from \"../../contexts/GeneralContext\";\nimport { prepareSiteAddress } from \"../../../UtilityFunctions\";\n\nconst useStyles = makeStyles(theme => {\n    const general_styles = GeneralStyles(theme);\n    const { innerHeight } = window;\n    const height = 118 + ((innerHeight - 118) * 0.06);\n    \n    return {\n        ...general_styles,\n        sticky: {\n            position: \"sticky\",\n            top: height, // 190,\n            [theme.breakpoints.down(\"sm\")]: {\n                top: 48\n            },\n            backgroundColor: \"white\",\n            zIndex: 1\n        }\n    };\n});\n\nconst MapLoader = () => (\n    <ContentLoader \n        height={300}\n        width={684}\n        speed={1}\n        foregroundColor=\"#f3f3f3\"\n        backgroundColor=\"#ecebeb\"\n        style={{ width: \"100%\" }}\n    >\n        <rect x=\"10\" y=\"1\" rx=\"0\" ry=\"0\" width=\"561\" height=\"700\" />\n    </ContentLoader>\n);\n\nfunction SitesPerRegion (props) {\n    const { sitesPerRegion, url, setHoveredSite } = props;\n    const sorted_regions = Object.keys(sitesPerRegion).sort();\n\n    return (\n        <Grid item xs={12} container justify=\"center\">\n            {\n                sorted_regions.map(key => {\n                    const region = key !== \"inactive\" ? key.toUpperCase() : \"Inactive Sites\";\n                \n                    return (\n                        <Grid \n                            container justify=\"center\"\n                            key={key}\n                            style={{ margin: \"8px 0\" }}\n                        >\n                            <Typography\n                                variant=\"h6\" component={Grid} \n                                item xs={12} align=\"center\"\n                                style={{ marginBottom: 4 }}\n                            >\n                                { \n                                    [\"I\", \"V\", \"X\"].includes(region.charAt(0)) && key !== \"inactive\"\n                                        ? `Region ${region}`\n                                        : region }\n                            </Typography>\n\n                            {\n                                sitesPerRegion[key].map(site => (\n                                    <Typography\n                                        variant=\"body2\" component={Grid}\n                                        item xs={12} align=\"center\" \n                                        key={site.site_code}\n                                    >\n                                        <Link\n                                            to={`${url}/${site.site_code}`} \n                                            style={{ color: \"black\" }}\n                                            onFocus={e => setHoveredSite(site.site_code)}\n                                            onMouseOver={e => setHoveredSite(site.site_code)}\n                                        > \n                                            {\n                                                prepareSiteAddress(site, true, \"start\") \n                                            }\n                                        </Link>\n                                    </Typography>\n                                ))\n                            }\n                        </Grid>\n                    );\n                })\n            }\n        </Grid>\n    );\n}\n\nfunction Container (props) {\n    const classes = useStyles();\n    const {\n        width, location,\n        match: { url }\n    } = props;\n\n    const { all_sites_including_inactive: sites } = useContext(GeneralContext);\n    const [hovered_site, setHoveredSite] = useState(null);\n    const [site_map_data, setSiteMapData] = useState(null);\n    const [sites_per_region, setSitesPerRegion] = useState(null);\n\n    useEffect(() => {\n        if (sites.length > 0) {\n            const smd = [];\n            const spr = {};\n            sites.forEach(site => {\n                const { region, active } = site;\n                \n                let key = region;\n                if (!active) {\n                    key = \"inactive\";\n                }\n\n                if (!spr[key]) spr[key] = [];\n                spr[key].push(site);\n\n                smd.push({\n                    ...site,\n                    url: `${url}/${site.site_code}`,\n                });\n            });\n\n            setSiteMapData(smd);\n            setSitesPerRegion(spr);\n        }\n    }, [sites]);\n\n    return (\n        <Fragment>\n            <div className={classes.pageContentMargin}>\n                <PageTitle\n                    title=\"Community | Site Information\"\n                />\n            </div>\n\n            <div className={classes.pageContentMargin}>\n                <Switch location={location}>\n                    <Route exact path={url} render={\n                        props => (\n                            <Grid container spacing={3} justify=\"space-evenly\">\n                                <Grid item xs={12} sm={6}>\n                                    {\n                                        site_map_data === null ? (<MapLoader />)\n                                            : (\n                                                <div className={classes.sticky}>\n                                                    <PhilippineMap \n                                                        siteMapData={site_map_data}\n                                                        width={width}\n                                                        url={url}\n                                                        hoveredSite={hovered_site}\n                                                    />\n                                                </div>                                         \n                                            )\n                                    }\n                                </Grid>\n\n                                <Grid item xs={12} sm={6} container justify=\"center\">\n                                    <Typography \n                                        variant=\"h5\" component={Grid}\n                                        item xs={12} align=\"center\"\n                                        gutterBottom\n                                    >\n                                        <strong>Dynaslope Project Sites</strong>\n                                    </Typography>\n\n                                    {\n                                        sites_per_region === null ? \"Loading\"\n                                            : (\n                                                <SitesPerRegion\n                                                    sitesPerRegion={sites_per_region}\n                                                    url={url}\n                                                    setHoveredSite={setHoveredSite}\n                                                />\n                                            )\n                                    }\n                                </Grid>\n                            </Grid>\n                        )\n                    }/>\n\n                    <Route path={`${url}/:site_code`} render={\n                        props => {\n                            const { match: { params: { site_code } } } = props;\n                            const site = sites.filter(x => x.site_code === site_code).pop();\n                        \n                            return <SiteInformationPage\n                                {...props}\n                                width={width}\n                                siteInformation={site}\n                            />;\n                        }\n                    } \n                    />\n                </Switch>\n            </div>\n        </Fragment>\n    );\n}\n\nexport default withWidth()(Container);\n","import React, { useState, useEffect } from \"react\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport {\n    ListItemText, List, ListItem, OutlinedInput\n} from \"@material-ui/core\";\n\nconst useStyles = makeStyles(theme => ({\n    list: {\n        maxHeight: \"60vh\",\n        overflowY: \"auto\",\n        boxShadow: \"0px 2px 1px -1px rgba(0,0,0,0.2), 0px 1px 1px 0px rgba(0,0,0,0.14), 0px 1px 3px 0px rgba(0,0,0,0.12)\",\n        \"&::-webkit-scrollbar\": {\n            width: 5\n        },\n        \"&::-webkit-scrollbar-track\": {\n            boxShadow: \"inset 0 0 5px grey\"\n        },\n        \"&::-webkit-scrollbar-thumb\": {\n            background: \"rgba(127, 127, 127, 0.7)\"\n        }\n    },\n    searchBox: {\n        marginBottom: theme.spacing(3)\n    },\n    sticky: {\n        position: \"sticky\",\n        top: 146,\n        [theme.breakpoints.down(\"sm\")]: {\n            top: 48\n        },\n        backgroundColor: \"white\",\n        zIndex: 1\n    },\n}));\n\nfunction MemberList (props) {\n    const { users, onMemberClickFn, selectedUserDetails } = props;\n    const classes = useStyles();\n    const [usersList, setUsersList] = useState(null);\n    const [search_str, setSearchStr] = useState(null);\n\n    useEffect(() => {\n        setUsersList(users);\n    }, [users]);\n\n    useEffect(() => {\n        if (search_str !== null ) {\n            const filtered = users.filter(row => {\n                const { first_name, last_name } = row;\n                const name = `${first_name} ${last_name}`;\n                const pattern = new RegExp(`${search_str.toLowerCase()}`, \"gi\");\n                return pattern.test(name.toLocaleLowerCase());\n            });\n            setUsersList(filtered);\n        } else {\n            setUsersList(users);\n        }\n    }, [search_str]);\n\n    return (\n        <div className={classes.sticky}>\n            <OutlinedInput\n                fullWidth\n                margin=\"dense\"\n                placeholder=\"Search Dynaslope staff...\"\n                onChange={event => setSearchStr(event.target.value)} \n                className={classes.searchBox}\n            />\n\n            <List aria-label=\"list\" className={classes.list}>\n                {\n                    usersList !== null && usersList.map(user => {\n                        const name = `${user.last_name}, ${user.first_name}`;\n                        const is_selected = selectedUserDetails !== null && selectedUserDetails.user_id === user.user_id;\n\n                        return (\n                            <ListItem \n                                button \n                                key={user.user_id} \n                                onClick={onMemberClickFn(user)}\n                                selected={is_selected}\n                            >\n                                <ListItemText primary={name} />\n                            </ListItem>\n                        );\n                    })\n                }\n            </List>\n        </div>\n    );\n}\nexport default MemberList;\n\n","import React, {\n    useState, useContext,\n    Fragment, useReducer\n} from \"react\";\nimport { Link } from \"react-router-dom\";\n\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport {\n    Avatar, Grid, Badge, IconButton,\n    ListItemText, List, ListItem, \n    ListItemIcon, CardContent, CardMedia,\n    Button, Dialog, TextField,\n    Select, MenuItem, Divider,\n    Checkbox, Typography, ListItemAvatar,\n    DialogTitle, FormControl, InputLabel,\n    FormControlLabel\n} from \"@material-ui/core\";\n\nimport {\n    Lock as LockIcon,\n    PhoneAndroid, MailOutline,\n    Delete, AddCircle,\n    Wc as WcIcon,\n    Cake, Edit as EditIcon\n} from \"@material-ui/icons\";\n\nimport StringMask from \"string-mask\";\nimport MaskedInput, { conformToMask } from \"react-text-mask\";\nimport moment from \"moment\";\nimport { MuiPickersUtilsProvider, KeyboardDatePicker } from \"@material-ui/pickers\";\nimport MomentUtils from \"@date-io/moment\";\nimport { cloneDeep } from \"lodash\";\nimport { useSnackbar } from \"notistack\";\n\n// import MyShifts from \"./UserShift\";\nimport { updateUserInfo } from \"./ajax\";\nimport Dyna_Wall from \"../../images/dyna_wall.jpg\";\nimport { GeneralContext } from \"../contexts/GeneralContext\";\nimport GenericAvatar from \"../../images/generic-user-icon.jpg\";\nimport MonitoringShiftsCalendar from \"../widgets/monitoring_shifts/MonitoringShiftsCalendar\";\n\nconst useStyles = makeStyles(theme => ({\n    root: {\n        maxWidth: \"100%\",\n        flexGrow: 1,\n    },\n    container: {\n        maxWidth: \"50%\",\n    },\n    media: {\n        objectPosition: \"top\"\n    },\n    avatar: {\n        width: 150,\n        height: 150,\n        [theme.breakpoints.down(\"md\")]: {\n            width: 100,\n            height: 100,\n        },\n        backgroundColor: \"#f2f2f2\"\n    },\n    avatarContainer: {\n        marginTop: -72,\n        marginBottom: theme.spacing(1)\n    },\n    editButton: {\n        backgroundColor: \"#f2f2f2\",\n        \"&:hover\": {\n            backgroundColor: \"#f2f2f2\",\n        }\n    },\n    nickname: { marginBottom: theme.spacing(2) },\n    listBody: { \n        paddingLeft: theme.spacing(7),\n        paddingRight: theme.spacing(11),\n        textAlign: \"center\"\n    },\n    link: {\n        textDecoration: \"none\",\n        color: \"black\"\n    },\n    alignCenter: {\n        textAlign: \"center\",\n    },\n    alignRight: {\n        textAlign: \"right\"\n    }\n}));\n\nfunction TextMaskCustom (props) {\n    const { inputRef, mask, ...other } = props;\n    return (\n        <MaskedInput\n            {...other}\n            ref={ref => {\n                inputRef(ref ? ref.inputElement : null);\n            }}\n            mask={mask} placeholderChar=\"&times;\"\n            showMask\n        />\n    );\n}\n\nconst mobile_number_mask = [\"(\", \"+\", \"6\", \"3\", \"9\", \")\", \" \", /\\d/, /\\d/, \"-\", /\\d/, /\\d/, /\\d/, \"-\", /\\d/, /\\d/, /\\d/, /\\d/];\nconst conforming_mobile_mask = [\"(\", \"+\", /\\d/, /\\d/, /\\d/, \")\", \" \", /\\d/, /\\d/, \"-\", /\\d/, /\\d/, /\\d/, \"-\", /\\d/, /\\d/, /\\d/, /\\d/];\n\nfunction sanitizeData (state) {\n    const clean_data = {};\n    const data = cloneDeep(state);\n    delete data.field_with_error;\n    Object.keys(data).forEach(key => {\n        let clean_value = null;\n\n        if (key === \"mobile_numbers\") {\n            clean_value = data[key].map(x => {\n                const { mobile_number, status } = x;\n                return {\n                    ...x,\n                    status: status.value,\n                    mobile_number: {\n                        ...mobile_number,\n                        sim_num: mobile_number.sim_num.value\n                    }\n                };\n            });\n        } else if (key === \"emails\") {\n            clean_value = data[key].map(x => ({\n                ...x,\n                email: x.email.value\n            }));\n        } else if (key === \"birthday\") {\n            const { value } = data[key];\n            clean_value = typeof value === \"string\" ? value : value.format(\"YYYY-MM-DD\");\n        } else {\n            clean_value = data[key].value;\n        }\n\n        clean_data[key] = clean_value;\n    });\n\n    return clean_data;\n}\n\nfunction getHelperText (field, value, is_required) {\n    if (value === \"\" && is_required) return \"Required field\";\n\n    if (field === \"sim_num\") {\n        if (!value.match(/^[a-z0-9]+$/i)) return \"Enter complete mobile number\";\n    }\n\n    if (field === \"birthday\") {\n        if (value !== null && !value.isValid()) return \"Enter a valid date\";\n    }\n\n    return \"\";\n}\n\nfunction reducerFunction (state, action) {\n    const { type, field, value, key, category } = action;\n\n    let field_value = null;\n    let new_value = null;\n    let new_helper_text = null;\n    let arr = null;\n    const { field_with_error } = state;\n\n    if (type === \"ADD\") {\n        let new_instance = {};\n\n        if (category === \"mobile_numbers\") {\n            arr = [...state.mobile_numbers];\n            new_instance = initMobileNumbers({\n                status: 1,\n                mobile_number: {\n                    sim_num: \"\",\n                    mobile_id: 0\n                }\n            });\n        } else if (category === \"emails\") {\n            arr = [...state.emails];\n            new_instance = initEmails({\n                email: \"\",\n                email_id: 0\n            });\n        }\n\n        arr.push(new_instance);\n        field_with_error.add(`${category}.${arr.length - 1}`);\n    } else if (type === \"DELETE\") {\n        if (category === \"mobile_numbers\")\n            arr = [...state.mobile_numbers];\n        else if (category === \"emails\")\n            arr = [...state.emails];\n        \n        arr.splice(key, 1);\n        const temp = field_with_error;\n        temp.forEach(x => {\n            if (x.includes(`${category}.${key}`)) {\n                field_with_error.delete(x);\n            }\n        });\n    } else {\n        field_value = state[field];\n        let unfilled_key_str = field;\n    \n        new_value = value;\n        if ([\"middle_name\", \"sex\"].includes(field)) new_value = value || null;\n        if (field === \"sim_num\") new_value = value.replace(/[()+-\\s]/g, \"\");\n\n        if (typeof category === \"undefined\") {\n            new_helper_text = getHelperText(field, new_value, field_value.required);\n        }\n\n        arr = [];\n        if ([\"status\", \"sim_num\"].includes(field)) {\n            arr = [...state.mobile_numbers];\n            let saving_point = {};\n            if (field === \"status\") {\n                field_value = arr[key][field];\n                saving_point = arr[key];\n            } else {\n                const parent_val = arr[key].mobile_number;\n                field_value = parent_val[field];\n                saving_point = arr[key].mobile_number;\n            }\n\n            new_helper_text = getHelperText(field, new_value, field_value.required);\n            const new_field_value = {\n                ...field_value,\n                value: new_value,\n                helper_text: new_helper_text\n            };\n\n            saving_point[field] = new_field_value;\n            unfilled_key_str = `mobile_numbers.${key}`;\n        }\n\n        if (field === \"email\") {\n            arr = [...state.emails];\n            const obj = arr[key];\n            field_value = obj[field];\n\n            new_helper_text = getHelperText(field, new_value, field_value.required);\n            const new_field_value = {\n                ...field_value,\n                value: new_value,\n                helper_text: new_helper_text\n            };\n\n            obj[field] = new_field_value;\n            unfilled_key_str = `emails.${key}`;\n        }\n\n        if (typeof category !== \"undefined\") {\n            if (field_with_error.has(unfilled_key_str)) {\n                field_with_error.delete(unfilled_key_str);\n            }\n\n            unfilled_key_str += `.${field}`;\n        }\n\n        if (new_helper_text) {\n            field_with_error.add(unfilled_key_str);\n        } else {\n            field_with_error.delete(unfilled_key_str);\n        }\n    }\n\n    switch (type) {\n        case \"UPDATE\":\n            return {\n                ...state,\n                [field]: {\n                    ...field_value,\n                    value: new_value,\n                    helper_text: new_helper_text\n                },\n                field_with_error\n            };\n        case \"UPDATE_MOBILE\":\n            return {\n                ...state, \n                mobile_numbers: arr,\n                field_with_error\n            };\n        case \"UPDATE_EMAIL\":\n            return {\n                ...state, \n                emails: arr,\n                field_with_error\n            };\n        case \"ADD\":\n            return {\n                ...state,\n                [category]: arr,\n                field_with_error\n            };\n        case \"DELETE\":\n            return {\n                ...state,\n                [category]: arr,\n                field_with_error\n            };\n        default:\n            return { ...state };\n    }\n}\n\nfunction initEmails (x) {\n    return {\n        ...x,\n        email: {\n            value: x.email,\n            helper_text: null,\n            required: true\n        }\n    };\n}\n\nfunction initMobileNumbers (x) {\n    const { mobile_number } = x;\n    return {\n        ...x,\n        status: {\n            value: x.status,\n            helper_text: null,\n            required: false,\n        },\n        mobile_number: {\n            ...mobile_number,\n            sim_num: {\n                value: mobile_number.sim_num,\n                helper_text: null,\n                required: true\n            }\n        }\n    };\n}\n\nfunction initReducer (data) {\n    const new_data = {};\n    const not_required = [\"middle_name\", \"sex\", \"birthday\"];\n    Object.keys(data).forEach(key => {\n        let value = {\n            value: data[key],\n            helper_text: null,\n            required: !not_required.includes(key)\n        };\n\n        if (key === \"mobile_numbers\") {\n            value = data[key].map(x => initMobileNumbers(x));\n        }\n\n        if (key === \"emails\") {\n            value = data[key].map(x => initEmails(x));\n        }\n\n        new_data[key] = value;\n    });\n\n    new_data.field_with_error = new Set();\n\n    return new_data;\n}\n\nfunction conformTextMask (sim_num) {\n    const { conformedValue } = conformToMask(sim_num, conforming_mobile_mask);\n    return conformedValue;\n}\n\nfunction ProfileEdit (props) {\n    const { classes, selectedUserDetails, setIsEdit } = props;\n    const [user_data, dispatch] = useReducer(reducerFunction, selectedUserDetails, initReducer);\n    const { setRefreshUser } = useContext(GeneralContext);\n    const { enqueueSnackbar } = useSnackbar();\n    \n    const save_data = () => {\n        const final_data = sanitizeData(user_data);\n        console.log(\"Final\", final_data);\n\n        updateUserInfo(final_data, data => {\n            const { status, message } = data;\n\n            enqueueSnackbar(\n                message,\n                {\n                    variant: status,\n                    autoHideDuration: 5000\n                }\n            );\n\n            if (status === \"success\") {\n                setIsEdit(false);\n                setRefreshUser(true);\n            }\n        });\n    };\n\n    return (\n        <Fragment>\n            <Grid item xs={12} container spacing={2} style={{ marginTop: 8 }}>\n                <Grid item xs={6} sm={3}>\n                    <TextField\n                        label=\"First Name\"\n                        required\n                        value={user_data.first_name.value || \"\"}\n                        onChange={e => dispatch({ type: \"UPDATE\", field: \"first_name\", value: e.target.value })}\n                        helperText={user_data.first_name.helper_text || \"\"}\n                        error={Boolean(user_data.first_name.helper_text)}\n                    />\n                </Grid>\n\n                <Grid item xs={6} sm={3}>\n                    <TextField\n                        label=\"Last Name\"\n                        required\n                        value={user_data.last_name.value || \"\"}\n                        onChange={e => dispatch({ type: \"UPDATE\", field: \"last_name\", value: e.target.value })}\n                        helperText={user_data.last_name.helper_text || \"\"}\n                        error={Boolean(user_data.last_name.helper_text)}\n                    />\n                </Grid>\n\n                <Grid item xs={6} sm={3}>\n                    <TextField\n                        label=\"Middle Name\"\n                        value={user_data.middle_name.value || \"\"}\n                        onChange={e => dispatch({ type: \"UPDATE\", field: \"middle_name\", value: e.target.value })}\n                    />\n                </Grid>\n\n                <Grid item xs={6} sm={3}>\n                    <TextField\n                        label=\"Nickname\"\n                        required\n                        value={user_data.nickname.value || \"\"}\n                        onChange={e => dispatch({ type: \"UPDATE\", field: \"nickname\", value: e.target.value })}\n                        helperText={user_data.nickname.helper_text || \"\"}\n                        error={Boolean(user_data.nickname.helper_text)}\n                        disabled\n                    />\n                </Grid>\n\n                <Grid item xs={6}>\n                    <MuiPickersUtilsProvider utils={MomentUtils}>\n                        <KeyboardDatePicker\n                            autoOk\n                            label=\"Birthday\"\n                            value={user_data.birthday.value || null}\n                            onChange={e => dispatch({ type: \"UPDATE\", field: \"birthday\", value: e })}\n                            helperText={user_data.birthday.helper_text || \"\"}\n                            error={Boolean(user_data.birthday.helper_text)}\n                            ampm={false}\n                            placeholder=\"01/01/2000\"\n                            format=\"MM/DD/YYYY\"\n                            mask=\"__/__/____\"\n                            clearable\n                            disableFuture\n                        />\n                    </MuiPickersUtilsProvider>\n                </Grid>\n                \n                <Grid item xs={6}>\n                    <FormControl\n                        fullWidth\n                        // required \n                        // error={Boolean(user_data.sex.helper_text)}\n                    >\n                        <InputLabel id=\"sex-label\">Sex</InputLabel>\n                        <Select\n                            labelId=\"sex-label\"\n                            id=\"sex-select\"\n                            value={user_data.sex.value || \"\"}\n                            onChange={e => dispatch({ type: \"UPDATE\", field: \"sex\", value: e.target.value })}\n                        >\n                            <MenuItem value=\"\">---</MenuItem>\n                            <MenuItem value=\"M\">Male</MenuItem>\n                            <MenuItem value=\"F\">Female</MenuItem>\n                        </Select>\n                    </FormControl>\n                </Grid>\n\n                <Grid item xs={12}><Divider /></Grid>\n\n                <Grid item xs={12} lg={6} container spacing={1}>\n                    <Typography\n                        component={Grid} item xs={12}\n                        variant=\"h6\" align=\"center\"\n                    >\n                        Contact Numbers\n                    </Typography>\n\n                    {\n                        user_data.mobile_numbers.map((row, index) => {\n                            const { mobile_number: { sim_num, mobile_id }, status } = row;\n                            const is_existing = mobile_id !== 0; \n\n                            return (\n                                <Grid item xs={12} container spacing={1} key={index}>\n                                    <Grid item xs={7}>\n                                        <FormControl fullWidth>\n                                            <TextField\n                                                label=\"Mobile Number\"\n                                                required\n                                                value={conformTextMask(sim_num.value)}\n                                                onChange={event => dispatch({\n                                                    type: \"UPDATE_MOBILE\",\n                                                    field: \"sim_num\",\n                                                    value: event.target.value,\n                                                    key: index,\n                                                    category: \"mobile_numbers\"\n                                                })}\n                                                InputProps={{\n                                                    inputComponent: TextMaskCustom,\n                                                    inputProps: { mask: mobile_number_mask }\n                                                }}\n                                                helperText={sim_num.helper_text || \"\"}\n                                                error={Boolean(sim_num.helper_text)}\n                                            />\n                                        </FormControl>\n                                    </Grid>\n\n                                    <Grid item xs={is_existing ? 5 : 3} container justify=\"center\">\n                                        <FormControlLabel\n                                            style={{ margin: 0 }}\n                                            control={\n                                                <Checkbox\n                                                    checked={Boolean(status.value)}\n                                                    onChange={event => dispatch({\n                                                        type: \"UPDATE_MOBILE\",\n                                                        field: \"status\",\n                                                        value: event.target.checked ? 1 : 0,\n                                                        key: index,\n                                                        category: \"mobile_numbers\"\n                                                    })}\n                                                    color=\"primary\"\n                                                />\n                                            }\n                                            label=\"Active\"\n                                        />\n                                    </Grid>\n                                    \n                                    {\n                                        !is_existing && (\n                                            <Grid item xs={2} container justify=\"center\">\n                                                <IconButton\n                                                    edge=\"end\"\n                                                    size=\"small\"\n                                                    aria-label=\"delete\"\n                                                    onClick={() => dispatch({\n                                                        type: \"DELETE\",\n                                                        key: index,\n                                                        category: \"mobile_numbers\"\n                                                    })}\n                                                >\n                                                    <Delete />\n                                                </IconButton>\n                                            </Grid>\n                                        )\n                                    }   \n                                </Grid>\n                            );\n                        })\n                    }\n\n                    <Grid item xs={12} className={classes.alignRight}>\n                        <Button \n                            variant=\"contained\"\n                            color=\"primary\"\n                            size=\"small\"\n                            startIcon={<AddCircle />}\n                            onClick={() => dispatch({ type: \"ADD\", category: \"mobile_numbers\" })}\n                        >\n                            Add number\n                        </Button>\n                    </Grid>\n                </Grid>\n\n                <Grid item xs={12} lg={6} container spacing={1}>\n                    <Typography\n                        component={Grid} item xs={12}\n                        variant=\"h6\" align=\"center\"\n                    >\n                        Emails\n                    </Typography>\n\n                    {\n                        user_data.emails.length === 0 && (\n                            <Grid item xs={12}>\n                                <Typography variant=\"body2\" color=\"textSecondary\" align=\"center\" paragraph>\n                                    No email address saved\n                                </Typography>\n                            </Grid>\n                        )\n                    }\n\n                    {\n                        user_data.emails.map((row, index) => {\n                            const { email, email_id } = row;\n                            const is_existing = email_id !== 0;\n\n                            return (\n                                <Grid item xs={12} container spacing={1} key={index}>\n                                    <Grid item xs={is_existing ? 12 : 10}>\n                                        <FormControl fullWidth>\n                                            <TextField\n                                                required\n                                                label=\"Email Address\"\n                                                value={email.value}\n                                                onChange={e => dispatch({\n                                                    type: \"UPDATE_EMAIL\",\n                                                    field: \"email\",\n                                                    value: e.target.value,\n                                                    key: index,\n                                                    category: \"emails\"\n                                                })}\n                                                helperText={email.helper_text || \"\"}\n                                                error={Boolean(email.helper_text)}\n                                            />\n                                        </FormControl>\n                                    </Grid>\n\n                                    {\n                                        !is_existing && (\n                                            <Grid item xs={2} container justify=\"center\">\n                                                <IconButton\n                                                    edge=\"end\"\n                                                    size=\"small\"\n                                                    aria-label=\"delete\"\n                                                    onClick={() => dispatch({\n                                                        type: \"DELETE\",\n                                                        key: index,\n                                                        category: \"emails\"\n                                                    })}\n                                                >\n                                                    <Delete />\n                                                </IconButton>\n                                            </Grid>\n                                        )\n                                    }\n                                </Grid>\n                            );\n                        })\n                    }\n                \n                    <Grid item xs={12} className={classes.alignRight}>\n                        <Button \n                            variant=\"contained\"\n                            color=\"primary\"\n                            size=\"small\"\n                            startIcon={<AddCircle />}\n                            onClick={() => dispatch({ type: \"ADD\", category: \"emails\" })}\n                        >\n                            Add email\n                        </Button>\n                    </Grid>\n                </Grid>\n\n                <Grid item xs={12} container justify=\"flex-end\" style={{ marginTop: 8 }}>\n                    <Button \n                        color=\"secondary\" variant=\"contained\"\n                        style={{ marginRight: 6 }}\n                        disabled={user_data.field_with_error.size > 0}\n                        onClick={save_data}\n                    >\n                        Save\n                    </Button>\n                    <Button color=\"primary\" variant=\"contained\" onClick={() => setIsEdit(false)}>\n                        Cancel\n                    </Button>\n                </Grid>\n            </Grid>\n        </Fragment>\n    );\n}\n\nfunction ProfileDisplay (props) {\n    const { classes, selectedUserDetails } = props;\n    const {\n        first_name, last_name, middle_name: m_name,\n        nickname, birthday: bday, sex: t_sex,\n        mobile_numbers, emails\n    } = selectedUserDetails;\n\n    const middle_name = [\"\", \"NA\", null].includes(m_name) ? \"\" : `${m_name}.`;\n    const birthday = bday === null ? \"---\" : moment(bday).format(\"MMMM DD, YYYY\");\n    let sex = \"---\";\n    if (t_sex !== null) sex = t_sex.toUpperCase() === \"F\" ? \"Female\" : \"Male\";\n\n    const format_to_mask = (number => {\n        if (!number.match(/[()+-\\s]/g)) {\n            const formatter = new StringMask(\"(+000) 00-000-0000\");\n            const result = formatter.apply(number);\n            return result;\n        }\n        \n        return number;\n    });\n\n    return (\n        <Fragment>\n            <Typography\n                component={Grid} item xs={12}\n                gutterBottom variant=\"h5\"\n            >\n                {`${first_name} ${middle_name} ${last_name}`}\n            </Typography>\n            <Typography\n                component={Grid} item xs={12}\n                variant=\"body2\" color=\"textSecondary\"\n                gutterBottom className={classes.nickname}\n            >\n                {nickname}\n            </Typography>\n\n            <Grid item xs={12} container style={{ marginBottom: 16 }}>\n                <Grid item xs={12} sm={6} container justify=\"center\" alignItems=\"center\">\n                    <Cake style={{ paddingRight: 8 }} />\n                    <Typography variant=\"h6\">{ birthday }</Typography>\n                </Grid>\n                            \n                <Grid item xs={12} sm={6} container justify=\"center\" alignItems=\"center\">\n                    <WcIcon style={{ paddingRight: 8 }} />\n                    <Typography variant=\"h6\">{ sex }</Typography>\n                </Grid>\n            </Grid>\n\n            <Grid item xs={12} lg={6}>\n                <Typography variant=\"h6\">\n                    Contact Numbers\n                </Typography>\n\n                <List dense>\n                    {\n                        mobile_numbers.length === 0 ? (\n                            <ListItem className={classes.listBody}>\n                                <ListItemAvatar>\n                                    <Avatar>\n                                        <PhoneAndroid />\n                                    </Avatar>\n                                </ListItemAvatar>\n                                <ListItemText\n                                    primary=\"No mobile numbers saved\"\n                                />\n                            </ListItem>\n                        ) : (\n                            mobile_numbers.map(num => (\n                                <ListItem className={classes.listBody} key={num.mobile_number.mobile_id}>\n                                    <ListItemAvatar>\n                                        <Avatar>\n                                            <PhoneAndroid />\n                                        </Avatar>\n                                    </ListItemAvatar>\n                                    <ListItemText\n                                        primary={format_to_mask(num.mobile_number.sim_num)}\n                                        secondary={`Status: ${num.status === 0 ? \"Inactive\" : \"Active\"}`}\n                                    />\n                                    {/* <ListItemSecondaryAction>\n                                                    <ListItemText\n                                                        secondary={`Status: ${num.status === 0 ? \"Inactive\" : \"Active\"}`}\n                                                    />\n                                                </ListItemSecondaryAction> */}\n                                </ListItem>\n                            ))\n                        )\n                    }\n                </List>\n            </Grid>\n\n            <Grid item xs={12} lg={6}>\n                <Typography variant=\"h6\">\n                    Emails\n                </Typography>\n\n                <List dense>\n                    {\n                        emails.length === 0 ? (\n                            <ListItem className={classes.listBody}>\n                                <ListItemAvatar>\n                                    <Avatar>\n                                        <MailOutline />\n                                    </Avatar>\n                                </ListItemAvatar>\n                                <ListItemText\n                                    primary=\"No email addresses saved\"\n                                />\n                            </ListItem>\n                        ) : (\n                            emails.map(row => (\n                                <ListItem className={classes.listBody} key={row.email_id}>\n                                    <ListItemAvatar>\n                                        <Avatar>\n                                            <MailOutline />\n                                        </Avatar>\n                                    </ListItemAvatar>\n                                    <ListItemText\n                                        primary={row.email}\n                                    />\n                                </ListItem>\n                            ))\n                        )\n                    }\n                </List>\n            </Grid>\n\n            <Grid item xs={12}>\n                <Typography variant=\"h6\">\n                    Monitoring Shifts\n                </Typography>\n\n                <MonitoringShiftsCalendar nickname={nickname} />\n            </Grid>\n        </Fragment>\n    );\n}\n\nfunction ProfileDetails (props) {\n    const { selectedUserDetails, isUser, url } = props;\n    const classes = useStyles();\n    const [isEdit, setIsEdit] = useState(false);\n    const [open, setOpen] = useState(false);\n\n    const handleEdit = () => {\n        setIsEdit(true);\n        setOpen(false);\n    };\n\n    const BadgeButton = () => {\n        return (\n            <Fragment>\n                <IconButton\n                    className={classes.editButton}\n                    onClick={() => setOpen(true)}\n                >\n                    <EditIcon color=\"primary\"/>\n                </IconButton>\n\n                <Dialog onClose={() => setOpen(false)} aria-labelledby=\"simple-dialog-title\" open={open}>\n                    <DialogTitle id=\"simple-dialog-title\">Profile options</DialogTitle>\n                    <List>\n                        <ListItem button onClick={handleEdit}>\n                            <ListItemIcon>\n                                <EditIcon />\n                            </ListItemIcon>\n                            <ListItemText primary=\"Edit info\" />\n                        </ListItem>\n\n                        <Link to={`${url}/credentials`} className={classes.link}>\n                            <ListItem button>\n                                <ListItemIcon>\n                                    <LockIcon />\n                                </ListItemIcon>\n                                <ListItemText primary=\"Update credentials\" />\n                            </ListItem>\n                        </Link>\n                    </List>\n                </Dialog>\n            </Fragment>\n        );\n    };\n\n    return (\n        <Fragment>\n            <CardMedia\n                component=\"img\"\n                height=\"200\"\n                className={classes.media}\n                image={Dyna_Wall}\n                title=\"Dynaslope Header Pic\"\n            />\n\n            <CardContent className={classes.alignCenter}>\n                <Grid container justify=\"center\">\n                    <Grid \n                        container item xs={12} \n                        className={classes.avatarContainer}\n                        justify=\"center\"\n                    >\n                        <Badge\n                            overlap=\"circle\"\n                            anchorOrigin={{\n                                vertical: \"bottom\",\n                                horizontal: \"right\",\n                            }}\n                            badgeContent={isUser && !isEdit && <BadgeButton/>}\n                        >\n                            <Avatar \n                                className={classes.avatar} \n                                src={GenericAvatar}\n                            />\n                        </Badge>\n                    </Grid>\n\n                    {\n                        !isEdit ? (\n                            <ProfileDisplay \n                                classes={classes}\n                                selectedUserDetails={selectedUserDetails}\n                            />\n                        ) : (\n                            <ProfileEdit\n                                classes={classes}\n                                selectedUserDetails={selectedUserDetails}\n                                setIsEdit={setIsEdit}\n                            />\n                        )\n                    }\n                </Grid>\n            </CardContent>\n        </Fragment>\n    );\n}\n\nexport default ProfileDetails;\n","import axios from \"axios\";\nimport { host } from \"../../config\";\n\nfunction updateUserCredentials (json_data, callback) {\n    const api_link = `${host}/api/users/update_account`;\n    axios.post(api_link, json_data)\n    .then(response => {\n        const { data } = response;\n        console.log(data);\n        callback(data);\n    })\n    .catch(error => {\n        console.error(error);\n    });\n}\n\nfunction updateUserInfo (json_data, callback) {\n    const api_link = `${host}/api/users/update_user_info`;\n    axios.post(api_link, json_data)\n    .then(response => {\n        const { data } = response;\n        console.log(data);\n        callback(data);\n    })\n    .catch(error => {\n        console.error(error);\n    });\n}\n\nfunction CreateDynaMember (json_data, callback) {\n    const api_link = `${host}/api/users/create_dynaslope_user`;\n    axios.post(api_link, json_data)\n    .then(response => {\n        const { data } = response;\n        console.log(data);\n        callback(data);\n    })\n    .catch(error => {\n        console.error(error);\n    });\n}\nexport { updateUserCredentials, updateUserInfo, CreateDynaMember };","import React, { \n    useState, Fragment, useEffect,\n    useContext\n} from \"react\";\n\nimport {\n    Grid, Hidden, IconButton,\n    Dialog, AppBar, Toolbar,\n    Slide, Card, makeStyles\n} from \"@material-ui/core\";\nimport { Close } from \"@material-ui/icons\";\n\nimport PageTitle from \"../reusables/PageTitle\";\nimport MemberList from \"./MemberList\";\nimport ProfileDetails from \"./ProfileDetails\";\n\nimport GeneralStyles from \"../../GeneralStyles\";\nimport { GeneralContext } from \"../contexts/GeneralContext\";\nimport { getCurrentUser } from \"../sessions/auth\";\n\nconst useStyles = makeStyles(theme=>({\n    ...GeneralStyles(theme),\n    schedIcon: {\n        width: 50,\n        height: 50,\n        display: \"flex\",\n    },\n    margin: {\n        margin: theme.spacing(1),\n    },\n    appBar: {\n        position: \"relative\",\n    },\n    title: {\n        marginLeft: theme.spacing(2),\n        flex: 1,\n    },\n}));\n\nconst Transition = React.forwardRef((props, ref) => {\n    return <Slide direction=\"up\" ref={ref} {...props} />;\n});\n  \nfunction ProfileContainer (props) {\n    const { match: { url } } = props;\n    const classes = useStyles();\n\n    const { users } = useContext(GeneralContext);\n    const currentUser = getCurrentUser();\n\n    const [users_list, setUsers] = useState(null);\n    const [selectedUser, setSelectedUser] = useState(null);\n    const [open, setOpen] = useState(true);\n    const [isUser, setIsUser] = useState(false);\n    const [isWebAdmin, setWebAdmin] = useState(false);\n\n    useEffect(() => {\n        setUsers(users);\n    }, [users]);\n\n    useEffect(() => {\n        if (typeof users_list !== \"undefined\" && users_list !== null) {\n            const current = users_list.filter(data => {\n                if (data.user_id === currentUser.user_id) {\n                    return data; \n                }\n            }); \n            setSelectedUser(current[0]);\n        }\n    }, [users_list]);\n\n    useEffect(() => {\n        if (typeof selectedUser !== \"undefined\" && selectedUser !== null) {\n            selectedUser.user_id === currentUser.user_id ? setIsUser(true) : setIsUser(false);\n            selectedUser.teams.forEach(row => {\n                setWebAdmin(row.team.team_name === \"web-admin\");\n            });\n        }\n    }, [selectedUser]);\n\n    const onMemberClickFn = user => () => {\n        setSelectedUser(user);\n        setOpen(true);\n    };\n    \n    const handleClose = () => {\n        setOpen(false);\n    };\n\n    return (\n        <Fragment>\n            <div className={classes.pageContentMargin}>\n                <PageTitle\n                    title=\"Dynaslope | Staff Profiles\"\n                />\n            </div>\n\n            <div className={classes.pageContentMargin}>\n                <Grid container justify=\"center\" spacing={2}>\n                    { \n                        users_list !== null &&\n                            <Grid item xs={12} md={4}>\n                                <MemberList\n                                    users={users_list}\n                                    onMemberClickFn={onMemberClickFn}\n                                    isWebAdmin={isWebAdmin}\n                                    isUser={isUser}\n                                    selectedUserDetails={selectedUser}\n                                />\n                            </Grid>\n                    }\n                    {\n                        // selectedUser !== null && (\n                        //     <Grid item md={9}>\n                        //         Loading...\n                        //     </Grid>\n                        // )\n                    }\n                    {\n                        selectedUser !== null && (\n                            <Fragment>\n                                <Hidden smDown>\n                                    <Grid item xs={12} md={8}>\n                                        {\n                                            typeof selectedUser !== \"undefined\" && (\n                                                <Card>\n                                                    <ProfileDetails\n                                                        currentUser={currentUser}\n                                                        selectedUserDetails={selectedUser}\n                                                        isUser={isUser}\n                                                        isAdmin={isWebAdmin}\n                                                        url={url}\n                                                    />\n                                                </Card>\n                                            )\n                                        }\n                                    </Grid>   \n                                </Hidden>\n\n                                <Hidden mdUp>\n                                    <Dialog fullScreen open={open} onClose={handleClose} TransitionComponent={Transition}>\n                                        <AppBar className={classes.appBar}>\n                                            <Toolbar style={{ justifyContent: \"flex-end\" }}>\n                                                <IconButton \n                                                    edge=\"end\" \n                                                    color=\"inherit\" \n                                                    onClick={handleClose} \n                                                    aria-label=\"close\"\n                                                >\n                                                    <Close />\n                                                </IconButton>\n                                            </Toolbar>\n                                        </AppBar>\n\n                                        {\n                                            typeof selectedUser !== \"undefined\" && (\n                                                <ProfileDetails\n                                                    currentUser={currentUser}\n                                                    selectedUserDetails={selectedUser}\n                                                    isUser={isUser}\n                                                    isAdmin={isWebAdmin}\n                                                    url={url}\n                                                />\n                                            )\n                                        }\n                                    </Dialog>\n                                </Hidden>\n                            </Fragment>\n                        )\n                    }\n                </Grid> \n            </div>\n        </Fragment>\n    );\n}\n\nexport default ProfileContainer;\n","import React, { useState, useEffect } from \"react\";\nimport Avatar from \"@material-ui/core/Avatar\";\nimport Button from \"@material-ui/core/Button\";\nimport TextField from \"@material-ui/core/TextField\";\nimport LockOutlinedIcon from \"@material-ui/icons/LockOutlined\";\nimport Typography from \"@material-ui/core/Typography\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Container from \"@material-ui/core/Container\";\nimport VisibilityIcon from \"@material-ui/icons/Visibility\";\nimport VisibilityOffIcon from \"@material-ui/icons/VisibilityOff\";\nimport { InputAdornment, IconButton } from \"@material-ui/core\";\nimport VerifiedUserIcon from \"@material-ui/icons/VerifiedUser\";\n\nimport { getCurrentUser } from \"../sessions/auth\";\nimport { updateUserCredentials } from \"./ajax\";\n\nconst useStyles = makeStyles((theme) => ({\n    paper: {\n        marginTop: theme.spacing(8),\n        display: \"flex\",\n        flexDirection: \"column\",\n        alignItems: \"center\",\n    },\n    avatar: {\n        margin: theme.spacing(1),\n        backgroundColor: theme.palette.secondary.main,\n    },\n    avatar_success: {\n        margin: theme.spacing(1),\n        backgroundColor: \"green\",\n    },\n    form: {\n        width: \"100%\", // Fix IE 11 issue.\n        marginTop: theme.spacing(1),\n    },\n    submit: {\n        margin: theme.spacing(3, 0, 2),\n    },\n    form_display: {\n        display: \"block\",\n    },\n    form_hide: {\n        display: \"none\",\n    }\n}));\n\nexport default function ChangePasswordForm (props) {\n    const { history } = props;\n    const classes = useStyles();\n\n    const [warningText, setWarningText] = useState(\"\");\n    const [username, setUsername] = useState(\"\");\n    const [pass1, setPass1] = useState(\"\");\n    const [pass2, setPass2] = useState(\"\");\n    const [old_pass, setOldPass] = useState(\"\");\n    const [disabled, setDisabled] = useState(true);\n    const [show, setShow] = useState(false);\n    const [color, setColor] = useState(\"error\");\n    const [title, setTitle] = useState(\"Update login credentials\");\n    const [success, setSuccess] = useState(false);\n    const { user_id } = getCurrentUser();\n\n    useEffect(() => {\n        if (pass1.length > 5 || pass2.length > 5) {\n            if (pass1 === pass2) {\n                setWarningText(\"Enter your old password below\"); \n                setDisabled(false);\n                setColor(\"primary\");\n            } else {\n                setWarningText(\"Passwords did not matched\");\n                setDisabled(true);\n                setColor(\"error\");\n            } \n        } else {\n            setWarningText(\"Password too short\");\n            setColor(\"error\");\n        }\n        \n        if (pass1.length === 0 || pass2.length === 0) {\n            setWarningText(\"\");\n        }\n    }, [pass1, pass2]);\n\n    const handleClickShowPassword = () => setShow(!show);\n\n    const saveChanges = () => {\n        const data = {\n            user_id,\n            username,\n            new_password: pass1,\n            old_password: old_pass,\n        };\n        \n        updateUserCredentials(data, response => {\n            if (response === \"success\") {\n                setTitle(\"Account update success\");\n                setSuccess(true);\n            } else {\n                setSuccess(false);\n                setWarningText(\"Invalid old password\");\n                setColor(\"error\");\n            }\n        });\n    };\n\n    const goToProfile = () => {\n        history.push(\"/profile\");\n    };\n\n    return (\n        <Container component=\"main\" maxWidth=\"xs\">\n            <div className={classes.paper}>\n                <Avatar className={ !success ? classes.avatar : classes.avatar_success}>\n                    {success ? <VerifiedUserIcon/> : <LockOutlinedIcon />}\n                </Avatar>\n                <Typography component=\"h1\">\n                    {title}\n                </Typography>\n\n                <div className={ success ? classes.form_hide : classes.form_display}>\n                    <TextField\n                        variant=\"outlined\"\n                        margin=\"normal\"\n                        required\n                        fullWidth\n                        id=\"username\"\n                        label=\"New username (leave empty if no changes)\"\n                        name=\"Username\"\n                        onChange={e=> setUsername(e.target.value)}           \n                    />\n                    \n                    <TextField\n                        variant=\"outlined\"\n                        margin=\"normal\"\n                        fullWidth\n                        type={show ? \"text\" : \"password\"}\n                        label=\"New password\"\n                        id=\"password1\"\n                        onChange={e=> setPass1(e.target.value)}\n                        InputProps={{ endAdornment: (\n                            <InputAdornment position=\"end\">\n                                <IconButton\n                                    aria-label=\"toggle password visibility\"\n                                    onClick={handleClickShowPassword}\n                                >\n                                    {show ? <VisibilityIcon /> : <VisibilityOffIcon />}\n                                </IconButton>\n                            </InputAdornment>\n                        )\n                        }}\n                    />\n\n                    <TextField\n                        variant=\"outlined\"\n                        margin=\"normal\"\n                        type=\"password\"\n                        fullWidth\n                        id=\"password2\"\n                        label=\"Confirm new password\"\n                        onChange={e=> setPass2(e.target.value)}\n                    />\n\n                    <Typography variant=\"body2\" color={color}> \n                        {warningText}\n                    </Typography>\n\n                    <TextField\n                        variant=\"outlined\"\n                        margin=\"normal\"\n                        required\n                        fullWidth\n                        name=\"currentpassword\"\n                        label=\"Current password\"\n                        type=\"password\"\n                        id=\"password\"\n                        autoComplete=\"current-password\"\n                        disabled={disabled}\n                        onChange={e => setOldPass(e.target.value)}\n                    />\n                </div>\n\n                <Button\n                    type=\"submit\"\n                    fullWidth\n                    variant=\"contained\"\n                    color=\"primary\"\n                    className={classes.submit}\n                    disabled={disabled}\n                    onClick={ success ? goToProfile : saveChanges}\n                >\n                    {success ? \"go to profile\" : \"save changes\"}\n                </Button>\n\n                {\n                    !success && (\n                        <Button\n                            fullWidth\n                            variant=\"contained\"\n                            color=\"primary\"\n                            onClick={goToProfile}\n                        >\n                            Cancel\n                        </Button>\n                    )\n                }\n            </div>       \n        </Container>\n    );\n}","import MomentUtils from \"@date-io/moment\";\nimport moment from \"moment\";\nimport React, { useState, useEffect, useContext } from \"react\";\nimport { Avatar, TextField, OutlinedInput, Tooltip,\n    Button, IconButton, InputAdornment, Divider\n} from \"@material-ui/core\";\nimport Grid from \"@material-ui/core/Grid\";\nimport MaskedInput from \"react-text-mask\";\nimport PersonAddIcon from \"@material-ui/icons/PersonAdd\";\nimport Typography from \"@material-ui/core/Typography\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Container from \"@material-ui/core/Container\";\nimport {\n    MuiPickersUtilsProvider,\n    KeyboardDatePicker,\n} from \"@material-ui/pickers\";\nimport CheckCircleOutlineIcon from \"@material-ui/icons/CheckCircleOutline\";\nimport AddIcon from \"@material-ui/icons/Add\";\nimport DeleteIcon from \"@material-ui/icons/Delete\";\nimport AddIcCallIcon from \"@material-ui/icons/AddIcCall\";\nimport RemoveCircleOutlineIcon from \"@material-ui/icons/RemoveCircleOutline\";\nimport { Redirect } from \"react-router-dom\";\nimport { CreateDynaMember } from \"./ajax\";\nimport { react_host } from \"../../config\";\nimport { GeneralContext } from \"../contexts/GeneralContext\";\nimport { getCurrentUser } from \"../sessions/auth\";\n\nconst useStyles = makeStyles((theme) => ({\n    paper: {\n        marginTop: theme.spacing(8),\n        display: \"flex\",\n        flexDirection: \"column\",\n        alignItems: \"center\",\n    },\n    avatar: {\n        margin: theme.spacing(1),\n        backgroundColor: theme.palette.primary.main,\n        padding: 5,\n    },\n    successIcon: {\n        margin: theme.spacing(1),\n        width: 70,\n        height: 70,\n        color: \"green\",\n        backgroundColor: \"white\",\n    },\n    form: {\n        width: \"100%\", // Fix IE 11 issue.\n        marginTop: theme.spacing(3),\n    },\n    submit: {\n        margin: theme.spacing(3, 0, 2),\n    },\n    hide: {\n        display: \"none\",\n    },\n    flex: {\n        display: \"flex\",\n    }\n}));\n\nfunction TextMaskCustom (props) {\n    const { inputRef, mask, ...other } = props;\n  \n    return (\n        <MaskedInput\n            {...other}\n            ref={ref => {\n                inputRef(ref ? ref.inputElement : null);\n            }}\n            mask={mask} placeholderChar=\"&times;\"\n            showMask\n        />\n    );\n}\n\nconst salutations = [\n    {\n        value: \"Mr.\",\n        label: \"Mr.\",\n    },\n    {\n        value: \"Ms.\",\n        label: \"Ms.\",\n    },\n    {\n        value: \"Mrs.\",\n        label: \"Mrs.\",\n    },\n];\n  \nexport default function CreateDynaUser () {\n    const classes = useStyles();\n    const { setRefreshUser } = useContext(GeneralContext);\n    const mobile_number_mask = [\"(\", \"+\", \"6\", \"3\", \"9\", \")\", \" \", /\\d/, /\\d/, \"-\", /\\d/, /\\d/, /\\d/, \"-\", /\\d/, /\\d/, /\\d/, /\\d/];\n    const [firstName, setFirstName] = useState(\"\");\n    const [middleName, setMiddleName] = useState(\"\");\n    const [lastName, setLastName] = useState(\"\");\n    const [nickname, setNickname] = useState(\"\");\n    const [email, setEemail] = useState([]);\n    const [typedEmail, setTypedemail] = useState(\"\");\n    const [mobileNumber, setMobileNumber] = useState([]);\n    const [typedMobile, setTypedMobile] = useState(\"\");\n    const [username, setUsername] = useState(\"\");\n    const [password, setPassword] = useState(\"\");\n    const [isSuccess, setSuccess] = useState(false);\n    const [birthday, setBirthday] = useState(null);\n    const [sex, setGender] = useState(\"m\");\n    const [salutation, setSalutation] = useState(\"Mr.\");\n    const [disabled, setDisabled] = useState(true);\n\n    useEffect(() => {\n        if (username !== \"\" && password !== \"\") {\n            setDisabled(false);\n        } else {\n            setDisabled(true);\n        }\n    }, [username, password]);\n    const handleSubmit = () => {\n        const unmasked_number = mobileNumber.map(row => {\n            return row.replace(/[()+-\\s]/g, \"\");\n        });\n        const number = [];\n        unmasked_number.forEach(sim => {\n            const formatted = {\n                mobile_number: {\n                    mobile_id: 0,\n                    sim_num: sim                 \n                },\n                status: 1\n            };\n            number.push(formatted);\n        });\n        \n        const json_data = {\n            user_id: 0,\n            first_name: firstName,\n            middle_name: middleName,\n            last_name: lastName,\n            nickname,\n            salutation,\n            birthday,\n            sex,\n            emails: email,\n            mobile_numbers: unmasked_number !== \"\" ? number : [],\n            landline_numbers: [],\n            ewi_recipient: 0,\n            status: 1,\n            username,\n            password\n        };\n        CreateDynaMember(json_data, response => {\n            if (response.status) {\n                setSuccess(true);\n                setRefreshUser(true);\n            }\n        });\n    };\n\n    const reset = () => {\n        setFirstName(\"\");\n        setMiddleName(\"\");\n        setLastName(\"\");\n        setNickname(\"\");\n        setGender(\"\");\n        setBirthday(null);\n        setSalutation(\"\");\n\n        setUsername(\"\");\n        setPassword(\"\");\n        setEemail([]);\n        setMobileNumber([]);\n\n        setDisabled(true);\n        setSuccess(false);\n    };\n\n    const goHome = () => {\n        window.location.href = react_host;\n    };\n    \n    const getBirthday = date => {\n        const bday = moment(date).format(\"yyy-MM-DD\");\n        setBirthday(bday);\n    };\n\n    const insertToEmail = () => {\n        if (typedEmail.length > 0) {\n            const emails = email;\n            emails.push(typedEmail);\n            setEemail([...emails]);\n            setTypedemail(\"\");\n        }\n    };\n\n    const removeFromEmailList = index => {\n        const emails = email;\n        emails.splice(index, 1);\n        setEemail([...emails]);\n    };\n\n    const insertToMobileNumbers = () => {\n        if (typedMobile.length > 0) {\n            const mobiles = mobileNumber;\n            mobiles.push(typedMobile);\n            setMobileNumber([...mobiles]);\n            setTypedMobile(\"\");\n        }\n    };\n\n    const removeFromMobileList = index => {\n        const mobiles = mobileNumber;\n        mobiles.splice(index, 1);\n        setMobileNumber([...mobiles]);\n    };\n    return (\n        <Container component=\"main\" maxWidth=\"xs\">\n            <div className={classes.paper}>\n                <Avatar className={isSuccess ? classes.successIcon : classes.avatar}>\n                    {isSuccess ? <CheckCircleOutlineIcon className={classes.successIcon}/> : <PersonAddIcon /> }\n                </Avatar>                   \n                <Typography component=\"h1\" variant=\"h5\">\n                    {isSuccess ? \"New user was created!\" : \" Create Dynaslope User\"}\n                </Typography>\n                <div className={isSuccess ? classes.hide : classes.form} >\n                    <Grid container spacing={2}>\n                        <Grid item xs={12} md={3}>\n                            <TextField\n                                variant=\"outlined\"\n                                value={salutation}\n                                fullWidth\n                                select\n                                onChange={e=> setSalutation(e.target.value)}\n                                SelectProps={{\n                                    \"native\": true,\n                                }}\n                            >\n                                {salutations.map((option) => (\n                                    <option key={option.value} value={option.value}>\n                                        {option.label}\n                                    </option>\n                                ))}\n                            </TextField>\n                        </Grid>\n                        <Grid item xs={12} md={4}>\n                            <TextField\n                                variant=\"outlined\"\n                                value={firstName}\n                                label=\"First Name\"\n                                fullWidth\n                                onChange={e=> setFirstName(e.target.value)}\n                            />\n                        </Grid>\n                        <Grid item xs={12} sm={5}>\n                            <TextField\n                                variant=\"outlined\"\n                                value={middleName}\n                                label=\"Middle Name\"\n                                fullWidth\n                                onChange={e=> setMiddleName(e.target.value)}\n                            />\n                        </Grid>\n                        <Grid item xs={12} md={6}>\n                            <TextField\n                                variant=\"outlined\"\n                                value={lastName}\n                                label=\"Last Name\"\n                                fullWidth\n                                onChange={e=> setLastName(e.target.value)}\n                            />\n                        </Grid>\n                        <Grid item xs={12} sm={6}>\n                            <TextField\n                                variant=\"outlined\"\n                                value={nickname}\n                                fullWidth\n                                label=\"Nickame\"\n                                onChange={e=> setNickname(e.target.value)}\n                            />\n                        </Grid>\n                        <Grid item xs={12} md={4}>\n                            <TextField\n                                variant=\"outlined\"\n                                value={sex}\n                                fullWidth\n                                select\n                                onChange={e=> setGender(e.target.value)}\n                                SelectProps={{\n                                    \"native\": true,\n                                }}\n                            >\n                                <option value=\"m\">\n                                    Male\n                                </option>\n                                <option value=\"f\">\n                                    Female\n                                </option>                           \n                            </TextField>\n                        </Grid>\n                        <Grid item xs={12} md={8}>\n                            <MuiPickersUtilsProvider utils={MomentUtils}>\n                                <KeyboardDatePicker\n                                    disableToolbar\n                                    variant=\"dialog\"\n                                    format=\"yyyy-MM-DD\"\n                                    margin=\"normal\"\n                                    label=\"Birth Date\"\n                                    value={birthday}\n                                    onChange={e=>getBirthday(e)}\n                                    KeyboardButtonProps={{\n                                        \"aria-label\": \"change date\",\n                                    }}\n                                    placeholder=\"YYYY-MM-DD\"\n                                    fullWidth\n                                    style={{ marginTop: 0 }}\n                                    disableFuture\n                                    maxDate={moment().subtract(15, \"years\")}\n                                />\n                            </MuiPickersUtilsProvider>\n                        </Grid>\n                        { mobileNumber.length > 0 && (\n                            mobileNumber.map((row, index) => {\n                                return (\n                                    <Grid item xs={12} key={row} className={classes.flex}>\n                                        <TextField\n                                            variant=\"outlined\"\n                                            value={row}\n                                            fullWidth\n                                            label=\"Phone\"\n                                            InputProps={{\n                                                inputComponent: TextMaskCustom,\n                                                inputProps: { mask: mobile_number_mask }\n                                            }}\n                                        />\n                                        <Tooltip title=\"remove from list\" >\n                                            <IconButton  \n                                                variant=\"contained\"\n                                                style={{ margin: 2, color: \"red\" }}\n                                                onClick={e=> removeFromMobileList(index)}\n                                            >\n                                                <RemoveCircleOutlineIcon/>\n                                            </IconButton>\n                                        </Tooltip>\n                                    </Grid>\n                                );\n                            })\n                        )\n                        }\n                        <Grid item xs={12} className={classes.flex}>\n                            <TextField\n                                variant=\"outlined\"\n                                value={typedMobile}\n                                fullWidth\n                                onChange={e=> setTypedMobile(e.target.value)}\n                                placeholder=\"Mobile Number\"\n                                InputProps={{\n                                    inputComponent: TextMaskCustom,\n                                    inputProps: { mask: mobile_number_mask }\n                                }}\n                            />\n                            <Tooltip title=\"add to list\">\n                                <IconButton \n                                    color=\"primary\" \n                                    variant=\"contained\"\n                                    style={{ margin: 2 }}\n                                    onClick={e=> insertToMobileNumbers()}\n                                >\n                                    <AddIcCallIcon/>\n                                </IconButton>\n                            </Tooltip>\n                        </Grid>\n                        <Divider/>      \n                        { \n                            email.length > 0 \n                             && (\n                                 email.map( (row, index) => {\n                                     return (\n                                         <Grid item xs={12} key={row}>\n                                             <OutlinedInput\n                                                 fullWidth\n                                                 value={row}\n                                                 onChange={e=> setTypedemail(e.target.value)}\n                                                 endAdornment=\n                                                     {\n                                                         <InputAdornment position=\"end\">\n                                                             <Tooltip title=\"Remove email from list\">\n                                                                 <IconButton onClick={e=> removeFromEmailList(index)}>\n                                                                     <DeleteIcon/>\n                                                                 </IconButton>\n                                                             </Tooltip>\n                                                         </InputAdornment>\n                                                     }\n                                             />\n                                         </Grid>\n                                     );\n                                 }\n                                 ))\n                        }\n                        <Grid item xs={12}>\n                            <OutlinedInput\n                                fullWidth\n                                placeholder={email.length > 0 ? \"Add another email\" : \"Email\"}\n                                value={typedEmail}\n                                onChange={e=> setTypedemail(e.target.value)}\n                                endAdornment=\n                                    {\n                                        <InputAdornment position=\"end\">\n                                            <Tooltip title=\"add email to list\">\n                                                <IconButton\n                                                    color=\"primary\" \n                                                    onClick={e=> insertToEmail()}\n                                                    \n                                                >\n                                                    <AddIcon/>\n                                                </IconButton>\n                                            </Tooltip>\n                                        </InputAdornment>       \n                                    }\n                            />\n                        </Grid>\n                        <Grid item xs={12} md={6}>\n                            <TextField\n                                variant=\"outlined\"\n                                value={username}\n                                fullWidth\n                                label=\"username\"\n                                type=\"text\"\n                                onChange={e=> setUsername(e.target.value)}\n                            />\n                        </Grid>\n\n                        <Grid item xs={12} md={6}>\n                            <TextField\n                                variant=\"outlined\"\n                                value={password}\n                                fullWidth\n                                label=\"Password\"\n                                type=\"password\"\n                                onChange={e=> setPassword(e.target.value)}\n                            />\n                        </Grid>\n                    </Grid>             \n                </div>\n                <Button\n                    fullWidth\n                    variant=\"contained\"\n                    color=\"primary\"\n                    className={classes.submit}\n                    onClick={isSuccess ? e=>goHome() : e=>handleSubmit()}\n                    disabled={isSuccess ? false : disabled}\n                >\n                    {isSuccess ? \"Dashboard\" : \"Create\"}\n                </Button>\n                { isSuccess && (\n                    <Button\n                        fullWidth\n                        variant=\"contained\"\n                        color=\"primary\"\n                        onClick={e=>reset()}\n                    >\n                        Create another account\n                    </Button>\n                )}\n            </div>\n        </Container>\n    );\n}","import React from \"react\";\nimport { Route, Switch } from \"react-router-dom\";\n\nimport DashboardContainer from \"./components/monitoring/dashboard/Container\";\nimport EventsTableContainer from \"./components/monitoring/events_table/Container\";\nimport ShiftsAndReportsContainer from \"./components/monitoring/shifts_and_reports/Container\";\nimport SiteLogsContainer from \"./components/monitoring/site_logs/Container\";\nimport IssuesAndReminders from \"./components/monitoring/issues_and_reminders/Container\";\nimport QAContainer from \"./components/monitoring/qa/Container\";\n\nimport IntegratedSiteAnalysisContainer from \"./components/analysis/integrated_site/Container\";\nimport MonitoringAlertsAnalytics from \"./components/analysis/monitoring_alerts_analytics/Container\";\nimport LoggersAndSensorsFormContainer from \"./components/analysis/loggers_and_sensors_form/Container\";\n\nimport ChatterboxContainer from \"./components/communication/chatterbox/Container\";\nimport ContactsContainer from \"./components/communication/contacts/Container\";\nimport MailBoxContainer from \"./components/communication/mailbox/MailBoxContainer\";\n\nimport SitesInformationContainer from \"./components/community/site_information/Container\";\n\nimport ProfileContainer from \"./components/member_profile/Container\";\nimport UpdateCredentialsForm from \"./components/member_profile/UpdateCredentialsForm\";\nimport CreateDynaUser from \"./components/member_profile/CreateDynaUser\";\n\n\nfunction RoutesCollection (props) {\n    const { \n        location, match: { url }\n    } = props;\n\n    return (\n\n        <Switch location={location}>\n            <Route exact path={url} component={DashboardContainer} />\n            <Route path={`${url}monitoring/events`} component={EventsTableContainer} />\n            <Route path={`${url}monitoring/shifts_and_reports`} component={ShiftsAndReportsContainer} />\n            <Route path={`${url}monitoring/issues_and_reminders`} component={IssuesAndReminders} />\n            <Route path={`${url}monitoring/logs`} component={SiteLogsContainer} />\n            <Route path={`${url}monitoring/qa`} component={QAContainer} />\n            <Route path={`${url}monitoring`} render={() => <h3> Not yet created</h3>} />\n\n            <Route path={`${url}analysis/sites`} component={IntegratedSiteAnalysisContainer} />\n            <Route path={`${url}analysis/alerts`} component={MonitoringAlertsAnalytics} />\n            <Route path={`${url}analysis/forms/loggers_and_sensors`} component={LoggersAndSensorsFormContainer} />\n            <Route path={`${url}analysis`} render={() => <h3> Not yet created</h3>} />\n\n            <Route path={`${url}communication/chatterbox`} component={ChatterboxContainer} />\n            <Route path={`${url}communication/contacts`} component={ContactsContainer} />\n            <Route path={`${url}communication/mailbox`} component={MailBoxContainer} />\n            <Route path={`${url}communication`} render={() => <h3>Sorry. We could not find what you are looking for.</h3>} />\n\n            <Route path={`${url}community/site_info`} component={SitesInformationContainer} />\n            \n            <Route path={`${url}profile/credentials`} component={UpdateCredentialsForm} />\n            <Route path={`${url}profile/create`} component={CreateDynaUser} />\n            <Route path={`${url}profile`} component={ProfileContainer} />\n            \n\n\n            <Route render={() => <h3> Not found</h3>} />\n        </Switch>\n\n    );\n\n}\n\nexport default RoutesCollection;","import React, { Fragment, useEffect, useState } from \"react\";\nimport { makeStyles } from \"@material-ui/core\";\nimport { useSnackbar } from \"notistack\";\n\nimport RainfallGraph from \"../analysis/integrated_site/RainfallGraph\";\nimport SurficialGraph from \"../analysis/integrated_site/SurficialGraph\";\nimport SubsurfaceGraph from \"../analysis/integrated_site/SubsurfaceGraph\";\nimport { getCurrentUser } from \"../sessions/auth\";\nimport PageTitle from \"../reusables/PageTitle\";\nimport GeneralStyles from \"../../GeneralStyles\";\nimport { capitalizeFirstLetter } from \"../../UtilityFunctions\";\n\nfunction Container (props) {\n    const { match: { params: {\n        site_code, ts_end,\n        chart_type, tsm_sensor\n    } } } = props;\n    const [rainfall_comp, setRainfallComp] = useState(\"\");\n    const [surficial_comp, setSurficialComp] = useState(\"\");\n    const [subsurface_comp, setSubsurfaceComp] = useState(\"\");\n\n    const { enqueueSnackbar } = useSnackbar();\n\n    const current_user = getCurrentUser();\n    const classes = makeStyles(theme => GeneralStyles(theme))();\n\n    useEffect(() => {\n        enqueueSnackbar(\n            \"Please wait for the charts to load before closing the page. \" +\n            \"If loading took long enough, please wait for about a minute and check \" +\n            \"your connection before trying again. \" +\n            \"If loading problem persist, contact the developers.\",\n            {\n                variant: \"warning\",\n                autoHideDuration: 10000,\n                style: { whiteSpace: \"pre-line\" },\n                anchorOrigin: {\n                    vertical: \"top\",\n                    horizontal: \"center\",\n                }\n            }\n        );\n\n        const input = { site_code, ts_end }; // \"2017-06-09 04:30:00\"\n        let temp;\n\n        if (chart_type === \"rainfall\") {\n            temp = <RainfallGraph \n                {...props}\n                input={input}\n                currentUser={current_user}\n                disableBack \n                saveSVG\n            />;\n            setRainfallComp(temp);\n        } else if (chart_type === \"surficial\") {\n            temp = <SurficialGraph \n                {...props}\n                input={input}\n                currentUser={current_user}\n                disableBack\n                disableMarkerList\n                isEndOfShift\n                saveSVG\n            />;\n            setSurficialComp(temp);\n        } else if (chart_type === \"subsurface\") {\n            input.tsm_sensor = tsm_sensor;\n            temp = <SubsurfaceGraph \n                {...props}\n                input={input}\n                currentUser={current_user}\n                disableBack\n                saveSVG\n                isEOS\n            />;\n            setSubsurfaceComp(temp);\n        }\n    }, []);\n\n    const type = capitalizeFirstLetter(chart_type);\n\n    return (\n        <Fragment>\n            <div className={classes.pageContentMargin}>\n                <PageTitle\n                    title={`Chart Rendering | ${site_code.toUpperCase()} | ${type}`}\n                />\n            </div>\n            <div className={classes.pageContentMargin}>\n                { rainfall_comp }\n                { surficial_comp }\n                { subsurface_comp }\n            </div>\n        </Fragment>\n    );\n}\n\nexport default Container;\n","import React, { \n    useState, useEffect,\n    useRef\n} from \"react\";\nimport { BrowserRouter, Switch, Route, Redirect } from \"react-router-dom\";\n\nimport { withStyles } from \"@material-ui/core\";\n\nimport LoginComponent from \"./components/sessions/Login\";\nimport { Header, Footer, Navigation } from \"./components/layouts\";\nimport { isLoggedIn, refreshSession } from \"./components/sessions/auth\";\n\nimport RoutesCollection from \"./Routes\";\nimport { access_refresh_interval } from \"./config\";\n\nimport BulletinTemplate from \"./components/widgets/bulletin/BulletinTemplate\";\nimport ChartRenderingContainer from \"./components/chart_rendering/Container\";\n\nimport { CTProvider } from \"./components/monitoring/dashboard/CTContext\";\nimport { GeneralProvider } from \"./components/contexts/GeneralContext\";\nimport { ServerTimeProvider } from \"./components/contexts/ServerTimeContext\";\nimport { NotificationsProvider } from \"./components/contexts/NotificationsContext\";\n\nconst styles = theme => ({\n    app: {\n        height: \"100%\",\n        minHeight: \"85vh\",\n        display: \"flex\",\n        flexDirection: \"column\",\n        justifyContent: \"space-between\"\n    },\n    body: { \n        // Margin to accomodate sticky nature of header and navigation\n        marginTop: 60,\n        [theme.breakpoints.up(\"sm\")]: {\n            marginTop: 70\n        },\n        [theme.breakpoints.up(\"md\")]: {\n            marginTop: 124\n        }\n    }\n});\n\nfunction App (props) {\n    const { classes } = props;\n    \n    useEffect(() => {\n        document.title = \"MIA 3.0 - Dynaslope Monitoring and Information Application\";\n    }, []);\n\n    const [drawer, setDrawer] = useState(false);\n    const toggleDrawer = bool => () => {\n        setDrawer(bool);\n    };\n\n    const [is_logged, setIsLogged] = useState(null);\n    const interval_ref = useRef(false);\n    useEffect(() => {\n        isLoggedIn(bool => {\n            setIsLogged(bool);\n            \n            if (bool) {\n                interval_ref.current = setInterval(refreshSession, access_refresh_interval);\n            }\n        });\n\n        return () => clearInterval(interval_ref.current);\n    }, []);\n\n    const onLogin = () => {\n        setIsLogged(true);\n        interval_ref.current = setInterval(refreshSession, access_refresh_interval);\n    };\n\n    const onLogout = () => {\n        setIsLogged(false);\n        clearInterval(interval_ref.current);\n    };\n\n    return (\n        <BrowserRouter>\n            <Switch>\n                <Route path=\"/bulletin/:release_id\" component={BulletinTemplate} />\n                <Route path=\"/chart_rendering/:site_code/:ts_end/:chart_type/:tsm_sensor?\" component={ChartRenderingContainer} />\n                <Route exact path=\"/login\" render={r_props => {\n                    return (\n                    // eslint-disable-next-line no-nested-ternary\n                        is_logged === null ? (\n                            <div>Loading...</div>\n                        ) : (\n                            !is_logged ? (\n                                <LoginComponent {...r_props} onLogin={onLogin} />\n                            ) : (\n                                <Redirect to=\"/\" />\n                            )\n                        )\n                    );\n                }} />\n                <Route path=\"/\" render={r_props => {\n                    return (\n                    // eslint-disable-next-line no-nested-ternary\n                        is_logged === null ? (\n                            <div>Loading...</div>\n                        ) : (\n                            is_logged ? (\n                                // <ConnectionNotifierProvider>\n                                <GeneralProvider>\n                                    <CTProvider>\n                                        <ServerTimeProvider>\n                                            <NotificationsProvider>\n                                                <Header\n                                                    {...r_props} \n                                                    drawerHandler={toggleDrawer}\n                                                    onLogout={onLogout}\n                                                />\n                                            \n                                                <Navigation\n                                                    {...r_props}\n                                                    drawerHandler={toggleDrawer}\n                                                    drawer={drawer}\n                                                    onLogout={onLogout}\n                                                />\n                                            </NotificationsProvider>\n                                    \n                                            <div className={classes.app}>\n                                                <div className={classes.body}>\n                                                    <RoutesCollection {...r_props} />\n                                                </div>\n                                            </div>\n                            \n                                            <Footer />\n                                        </ServerTimeProvider>\n                                    </CTProvider>\n                                </GeneralProvider>\n                                // </ConnectionNotifierProvider>\n                            ) : (\n                                <Redirect to=\"/login\" />\n                            )\n                        )\n                    );\n                }} />\n            </Switch>\n        </BrowserRouter>\n    );\n}\n\nexport default withStyles(styles)(App);\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n    window.location.hostname === \"localhost\" ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === \"[::1]\" ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n        /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register (config) {\n    if (process.env.NODE_ENV === \"production\" && \"serviceWorker\" in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n        const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n        if (publicUrl.origin !== window.location.origin) {\n            // Our service worker won't work if PUBLIC_URL is on a different origin\n            // from what our page is served on. This might happen if a CDN is used to\n            // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n            return;\n        }\n\n        window.addEventListener(\"load\", () => {\n            const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n            if (isLocalhost) {\n                // This is running on localhost. Let's check if a service worker still exists or not.\n                checkValidServiceWorker(swUrl, config);\n\n                // Add some additional logging to localhost, pointing developers to the\n                // service worker/PWA documentation.\n                navigator.serviceWorker.ready.then(() => {\n                    console.log(\n                        \"This web app is being served cache-first by a service \" +\n              \"worker. To learn more, visit https://bit.ly/CRA-PWA\"\n                    );\n                });\n            } else {\n                // Is not localhost. Just register service worker\n                registerValidSW(swUrl, config);\n            }\n        });\n    }\n}\n\nfunction registerValidSW (swUrl, config) {\n    navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n        registration.onupdatefound = () => {\n            const installingWorker = registration.installing;\n            if (installingWorker == null) {\n                return;\n            }\n            installingWorker.onstatechange = () => {\n                if (installingWorker.state === \"installed\") {\n                    if (navigator.serviceWorker.controller) {\n                        // At this point, the updated precached content has been fetched,\n                        // but the previous service worker will still serve the older\n                        // content until all client tabs are closed.\n                        console.log(\n                            \"New content is available and will be used when all \" +\n                  \"tabs for this page are closed. See https://bit.ly/CRA-PWA.\"\n                        );\n\n                        // Execute callback\n                        if (config && config.onUpdate) {\n                            config.onUpdate(registration);\n                        }\n                    } else {\n                        // At this point, everything has been precached.\n                        // It's the perfect time to display a\n                        // \"Content is cached for offline use.\" message.\n                        console.log(\"Content is cached for offline use.\");\n\n                        // Execute callback\n                        if (config && config.onSuccess) {\n                            config.onSuccess(registration);\n                        }\n                    }\n                }\n            };\n        };\n    })\n    .catch(error => {\n        console.error(\"Error during service worker registration:\", error);\n    });\n}\n\nfunction checkValidServiceWorker (swUrl, config) {\n    // Check if the service worker can be found. If it can't reload the page.\n    fetch(swUrl)\n    .then(response => {\n        // Ensure service worker exists, and that we really are getting a JS file.\n        const contentType = response.headers.get(\"content-type\");\n        if (\n            response.status === 404 ||\n        (contentType != null && contentType.indexOf(\"javascript\") === -1)\n        ) {\n        // No service worker found. Probably a different app. Reload the page.\n            navigator.serviceWorker.ready.then(registration => {\n                registration.unregister().then(() => {\n                    window.location.reload();\n                });\n            });\n        } else {\n        // Service worker found. Proceed as normal.\n            registerValidSW(swUrl, config);\n        }\n    })\n    .catch(() => {\n        console.log(\n            \"No internet connection found. App is running in offline mode.\"\n        );\n    });\n}\n\nexport function unregister () {\n    if (\"serviceWorker\" in navigator) {\n        navigator.serviceWorker.ready.then(registration => {\n            registration.unregister();\n        });\n    }\n}\n","import React, { useEffect } from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport { SnackbarProvider } from \"notistack\";\nimport App from \"./App\";\nimport * as serviceWorker from \"./serviceWorker\";\n\nfunction noop () {}\n\nif (process.env.NODE_ENV !== \"development\") {\n    console.log = noop;\n    console.warn = noop;\n    console.error = noop;\n}\n\nReactDOM.render(\n    <SnackbarProvider \n        maxSnack={3}\n        anchorOrigin={{\n            vertical: \"bottom\",\n            horizontal: \"right\",\n        }}\n    >\n        <App />\n    </SnackbarProvider>,\n    document.getElementById(\"root\")\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n","module.exports = \"data:image/jpeg;base64,iVBORw0KGgoAAAANSUhEUgAABAAAAAQAAgMAAAACc8MQAAAABGdBTUEAALGPC/xhBQAAAAFzUkdCAK7OHOkAAAAMUExURcXFxf///+np6dbW1sCaIHAAAAnDSURBVHja7d0xbuw2FEBRNW7UaGtu1LDR1tiwcTNbU6NmGgcJEqQIkPx4SOq9uffuQAcg+Uj/by+LmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZmZ5e77+fW1/1H5+vo+BYB9/Z/f/nflcQpAafvH1/9lIAD58zEEcIDtuf9r5VuAt+7Z9v/q6xQAuf8hdkI6wHfbf613nYrpAM/9lyunAOjvf08BOMCvnYBvfBbSAba2/98eArC//70E8AA/+f59rwIgZ6B3nIboAD/8/vcRoAP8+PvfRYAOsO0vdAjAnILfaR7GA7z2/W8wD9MBni9+f/qTkA6w7S93CEDeAtNvg3SAZ4fvT70N0gG2vUuHAOQtMPU2SAd4dvr+tNsgHWDrtQKyPovgAbqtgKxrgA6w7R07BMjX1RNgPwVAr4CMawAP0PoC5LsQ0QHWzt+/FwHYKyDdGqADbN2/P9lBiAe4+gPkmobpAANWQK41gAcYsQJSrQE6wNaGADwEAD6I53wcxwOMWQGJ7kN0gHXQ96d5FMEDXKMAsoxCdIBt2PcnuQ/hAdZxAEUA8hiUZhSiAwzcA3PsgniAayRAhlEID9CGAlQBwGNQjlEIDzB2D0ywC+IB2mCAKgB4EM4wDOMBRu+B4XdBPEAbDlAFQO+B0XdBPMA6HqAIwD4Fg5+DeIA2AaAKgN4DY++CeIAZe2DoXRAP0KYAVAHAV6HY1yE8wDoHoAjAPgUDn4N4gDYJoAoggADgOSjuJIQHWGcBFAHYc1DYSQgP0KYBVAHQp2DUc1AAAeAA6zyAIgB7Dgo6CeEB2kSAKoAAAoDnoJiTEB5gnQlQBBBAAPIkHHIWFkAAOECbClAFCNfU798/BUDfhSLehvAA61yAIoAAAsTqYy7ALgD7LhTwNoQHaJMBqgACCAC+DQe8DwsgABtgmw1wCCCAAOD3kHgvIgIIAAeY/SIW7k1MAAHgANd0gFMAAQQQQADsq3i4d3EBBBBAAAEEEEAALMD074/201EBBBBAAAEEEEAAAQQQQAABBBBAAAEEEEAAAQQQQAAMgD8bFEAAAQQQQAABBKACXNMB/P8CAggggABx8v8OCyAAG8DfISKAAGwAf5eYAAKwAfydogIIAAfwd4sLIAAbYParqH9jJBqAf2eIDuDfGhNAADaAf3OUDuDfHcYD+LfH6QBzb0OnAAIIQJ6F403CAgiAB5h6GzoECNjMWbgKIIAA6Fn4FIA9CUWcgwSYOQkdAgggAHoSqgKE7GLPQQLMm4RizkECzDsHDwGC1tinoAAC4AEu9hwkwKxJKOocJMCsSegQIGyNfQoKMOkcPAVgn4NxT0EB5uyCVYCFvQueArB3wdB7oAATrkOHAKFr7FNQgAnn4CkAexcMvgcKMHwXrAIs7F3wFCB4g69DZRGAvQtWARb2LngKEL4NPQgLMHgXrAIkaEWPQQIM3QUPAVJ0kccgAUbugjn2QAHGjUJVgCQ9B62AU4AkbWPWwGMRIEsXeQwSYNR96FgEYK+BUwD2Gki1AgQYcB+qAqSq+6NIWQRgr4EqQLI29CEoQPdp+BSAvQYSrgABej6Ol1OAjGug3yz0WARAr4GcK0CAfheiugiQsw08BQnQbxtMuwUK0GkbrIsAC3kbPBYBMvdEb4ECdNgG6yJA7l58FnksAqQXAJ+BArx6EqY/AwV4TeBNvl+Anwq8zfcL8MN5uC4CvEfbD5fA4xTgPb6/wY9BOsDzhftweQhAvgq9x4MIHGD7evVZ/OsUgPsimv8spAP0+aeSiQXoAL3+rWxaATpAv38snVSADtDzd+mkFKAD9P1lSgkF6AC9f5tWOgE6QP9fp5ZMgA4w4vfppRLAA1z7gA4BKE/h+Z/I6QCDvj+PAB1g4B9YOAWADkGphiE8wNA/t1cE4J6BWU5COsDgv7ka/9/P0gG20X95O/pJiAe49uEdAnDPwPgnIR1g/BYYfBvEA0z5/sg3IjrAc5/UQwDwFhh4G8QDXPu0DgGITyHRn0XoAPO2wKDbIB7guU/tIUC0FbBP7hQAOwXFnIXoAOs+vSoA8DEs7sMYHeC539BDAOhFKOCFCA9wywqItAboAPesgEBrAA9w0wqIswboANt+W6cAyLeQaK8idIAbV0CMNYAHuO4EOARgr4AIawAPcN0LcAgAvQqHuRLjAZ77zT0EQK+A29cAHuD2FXD3GsADtPsBigA3tu4BqgKgV8C9a4AOEGIF3LkG8ABXDIBDAOZ76P0vo3iAZxSAhwDgMejOUYgOsO5hqgKgV8Bda4AOsO2BOgXA3oTuuw/hAVokgCIAeQy6ZxTCA1yxAA4ByGPQHaMQHmCNBlAFAI9Bd4xCdIBwe+DsXRAPcMUDOARA74Gzd0E6wLoHrAqA3gPn7oJ4gBYRoAjA3gNn7oJ4gCsmwCEAeg+cuQvSAYLugfN2QTzAFRXgEAC9B87bBekAYffAWbsgHuCKC3AIgN4DZ+2CdIBtD9wpAPoUnHMO4gFaZIAiAHsPnLEL4gHW2ABVAPBVaM51CA/QYgMUAdin4PhzEA+wRgeoAqD3wPG7IB0g/B44ehfEA6zxAaoA4KvQ+OsQHqDFBygCsE/BsecgHmDNAFAFQJ+CY89BPEDLAFAEYJ+CI89BPMCaA6AKgD4FR56DeICWA6AIwD4Fx52DeIA1C0AVAH0KjjsH8QAtC0ARQAAByHPQqEkID7DmAagCoOegUZMQHqDlASgCsE/BMecgHmDNBFAFEEAA8Bw0ZhLCA7RMAEUA9hw0YhLCA6y5AKoAAggAnoNGTEJ4gJYLoAjAnoP6T0ICCAAHWLMBVAHQc1D/SQgP0LIBFAEEEIA8B/WehPAAaz6AKoAAAoAn4d6zMB6g5QMoAgggAHkS7jsL4wHWjABVAAEEAE/CfWdhAQSAA7SMAEWAfu0pE4B9F+p5G8IDrDkBqgACCACehHvOwgIIAAdoOQGKAAIIQL4L9bsNCSAAHGDNClAFEEAA8F2o321IAAHgAC0rQBFAAAG4Pxz/PQHYt+Fe92EBBIADrHkBqgACCPB6H3kBPgVAv4f0ehERQAA4QMsLUAQQQADyi1inNzE6wJYZ4BRAAAHA7yF9XkQEEEAAAdAAH5kBPgVAv4j1eRMTQAABBEADtMwARQABBBBAAO7PRbr8ZEQAAdgAW26AUwABBBBAAOzPRXr8ZEQAAQQQQAABwAAfuQE+BRBAAAEEwP50vMfPxwUQQAABBBAADNByAxQBBBBAAAH+pd8AoDH47zbOd5EAAAAASUVORK5CYII=\"","import React, {\n    createContext, useState,\n    useEffect\n} from \"react\";\nimport { \n    getServerTime, receiveServerTime\n} from \"../../websocket/misc_ws\";\n\nexport const ServerTimeContext = createContext();\n\nexport const ServerTimeProvider = ({ children }) => {\n    const [server_time, setServerTime] = useState(null);\n\n    useEffect(() => {\n        getServerTime();\n        receiveServerTime(ts => setServerTime(ts));\n    }, []);\n\n    const return_obj = { server_time };\n\n    return (\n        <ServerTimeContext.Provider value={return_obj}>\n            {children}\n        </ServerTimeContext.Provider>\n    );\n};","module.exports = __webpack_public_path__ + \"static/media/phivolcs-dynaslope-logo.de612ba1.png\";","import axios from \"axios\";\nimport { host } from \"../../config\";\n\nexport function getSession (access_token, callback) {\n    const api_link = `${host}/api/check_session`;\n\n    axios.get(api_link, {\n        headers: {\n            Authorization: `Bearer ${access_token}`\n        }\n    })\n    .then(response => {\n        const { data } = response;\n        console.log(data);\n        callback(data);\n    })\n    .catch(error => {\n        console.error(error);\n    });\n}\n\nexport function refreshSession (refresh_token, callback) {\n    const api_link = `${host}/api/refresh_session`;\n\n    axios.get(api_link, {\n        headers: {\n            Authorization: `Bearer ${refresh_token}`\n        }\n    })\n    .then(response => {\n        const { data } = response;\n        console.log(data);\n        callback(data);\n    })\n    .catch(error => {\n        console.error(error);\n    });\n}\n\nexport function loginUser (payload, callback) {\n    const api_link = `${host}/api/login`;\n\n    axios.post(api_link, payload)\n    .then(response => {\n        const { data } = response;\n        console.log(data);\n        callback(data);\n    })\n    .catch(error => {\n        console.error(error);\n    });\n}","import { getSession, refreshSession as rS, loginUser } from \"./ajax\";\n\nexport function isLoggedIn (callback) {\n    // const token = localStorage.getItem(\"access_token\");\n    const data = JSON.parse(localStorage.getItem(\"data\"));\n    \n    if (data !== null) {\n        const { tokens: { access_token, refresh_token } } = data;\n        getSession(access_token, response => {\n            // const { message, is_logged_in } = response;\n            const { is_logged_in } = response;\n\n            if (is_logged_in) {\n                rS(refresh_token, res => {\n                    data.tokens.access_token = res.access_token;\n                    localStorage.setItem(\"data\", JSON.stringify(data));\n                });\n            }\n\n            callback(is_logged_in);\n        });\n    } else {\n        // eslint-disable-next-line\n        callback(false);\n    }\n}\n\nexport function refreshSession () {\n    const data = JSON.parse(localStorage.getItem(\"data\"));\n    const { tokens: { refresh_token } } = data;\n\n    rS(refresh_token, response => {\n        data.tokens.access_token = response.access_token;\n        localStorage.setItem(\"data\", JSON.stringify(data));\n    });\n}\n\nexport function login (credentials, success_callback, failed_callback) {\n    loginUser(credentials, response => {\n        const { ok, message, data } = response;\n\n        if (ok) {\n            localStorage.setItem(\"data\", JSON.stringify(data));\n            success_callback(data);\n        } else {\n            failed_callback(message);\n        }\n    });\n}\n  \nexport function logout (callback) {\n    localStorage.clear();\n    callback();\n}\n\nexport function getCurrentUser () {\n    const data = JSON.parse(localStorage.getItem(\"data\"));\n    const { user } = data;\n\n    return user;\n}\n// export function requiredAuth (nextState, replace) {\n//     if (!isLoggedIn()) {\n//         replace({\n//             pathname: \"/\",\n//             state: { nextPathname: nextState.location.pathname }\n//         });\n//     }\n// }","const phivolcs_red = \"#FE0000\";\nconst dynaslope_blue = \"#16526D\";\nconst dynaslope_orange = \"#F8991D\";\nconst daag_yellow = \"#FCEE27\";\nconst zarcon_red = \"#991B1E\";\n\nconst styles = theme => ({\n    dynaslopeLogo: {\n        // width: 60,\n        // height: 47.28\n        height: 60\n    },\n    phivolcsLogo: {\n        height: 70,\n        marginTop: 8\n    },\n    phivolcsDynaslopeLogo: {\n        height: 62\n    },\n    pageContentMargin: {\n        margin: \"0 16px\",\n        [theme.breakpoints.up(\"md\")]: {\n            margin: \"0 64px\"\n        },\n        [theme.breakpoints.up(\"lg\")]: {\n            margin: \"0 100px\"\n        }\n    },\n    paperContainer: {\n        width: \"100%\",\n        overflowX: \"auto\"\n    },\n    sectionHeadContainer: {\n        margin: \"20px 0\"\n    },\n    sectionHead: {\n        fontSize: \"1.5rem\",\n        [theme.breakpoints.down(\"xs\")]: {\n            fontSize: \"1.2rem\"\n        }\n    },\n    extended: {\n        backgroundColor: \"green\"\n    },\n    alert0: {\n        backgroundColor: \"#EEEEEE\"\n    },\n    alert1: {\n        backgroundColor: daag_yellow\n    },\n    alert2: {\n        backgroundColor: dynaslope_orange,\n        \"& *\": {\n            color: \"white !important\"\n        }\n    },\n    alert3: {\n        backgroundColor: zarcon_red,\n        \"& *\": {\n            color: \"white !important\"\n        }\n    },\n    dyna_error: {\n        color: phivolcs_red\n    }\n});\n\nexport const alert_1 = daag_yellow;\nexport const alert_2 = dynaslope_orange;\nexport const alert_3 = zarcon_red;\n\nexport default styles;\n","module.exports = __webpack_public_path__ + \"static/media/login-bg-img.6bf92800.jpg\";","import React, { Fragment, useState, useContext } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport {\n    SwipeableDrawer, List, ListItem,\n    ListItemText, ListItemIcon, Divider,\n    ListSubheader, Collapse, Badge, Typography,\n    Toolbar, makeStyles\n} from \"@material-ui/core\";\nimport {\n    Mail as MailIcon,\n    Notifications as NotificationsIcon,\n    AccountCircle, ExitToApp,\n    ExpandLess, ExpandMore\n} from \"@material-ui/icons\";\n\nimport moment from \"moment\";\n\nimport PhivolcsDynaslopeLogo from \"../../images/phivolcs-dynaslope-logo.png\";\nimport GeneralStyles from \"../../GeneralStyles\";\nimport { logout, getCurrentUser } from \"../sessions/auth\";\nimport { ServerTimeContext } from \"../contexts/ServerTimeContext\";\n\nconst useStyles = makeStyles(theme => ({\n    ...GeneralStyles(theme),\n    list: {\n        width: 300,\n        maxWidth: 360\n    },\n    nested: {\n        paddingLeft: theme.spacing(3),\n    },\n    nestedText: {\n        fontSize: \"0.9rem\"\n    },\n    drawerHeader: {\n        height: 220,\n        display: \"block\",\n        alignItems: \"center\",\n        textAlign: \"center\",\n        padding: 16\n    },\n    logo: {\n        height: 105\n    },\n    titleBlock: {\n        display: \"block\",\n        margin: \"0 4px\"\n    },\n    projectTitle: { fontWeight: 600 },\n    link: { textDecoration: \"none\" }\n}));\n\nfunction ScreenDrawer (props) {\n    const { \n        drawerHandler, drawer, navigationLabels,\n        history, onLogout\n    } = props;\n    const classes = useStyles();\n    const [open, isOpen] = useState({});\n    const iOS = process.browser && /iPad|iPhone|iPod/.test(navigator.userAgent);\n\n    const { nickname } = getCurrentUser();\n    const { server_time } = useContext(ServerTimeContext);\n\n    const handleNestedList = key => {\n        const status = typeof open[key] === \"undefined\" ? false : open[key];\n        isOpen(state => ({ [key]: !status }));\n    };\n\n    const onClickProfile = () => {\n        history.push(\"/profile\");\n    };\n\n    const onClickLogout = () => {\n        logout(() => {\n            onLogout();\n            history.push(\"/login\");\n        });\n    };\n    \n    return (\n        <SwipeableDrawer \n            open={drawer} \n            onClose={drawerHandler(false)}\n            onOpen={drawerHandler(true)}\n            disableBackdropTransition={!iOS}\n            disableDiscovery={iOS}\n        >\n            <div\n                tabIndex={0}\n                role=\"button\"\n                onKeyDown={drawerHandler(false)}\n            >\n                <div className={classes.list}>\n                    <Toolbar className={classes.drawerHeader}>\n                        <img\n                            src={PhivolcsDynaslopeLogo}\n                            alt=\"PHIVOLCS-Dynaslope Logo\"\n                            className={`${classes.phivolcsDynaslopeLogo} ${classes.logo}`}\n                        />\n\n                        <Typography variant=\"h5\" className={classes.projectTitle}>\n                            MIA 3.0\n                        </Typography>\n\n                        <Typography variant=\"subtitle2\" className={classes.projectSubtitle}>\n                            Monitoring and Information Application\n                        </Typography>\n\n                        <Typography variant=\"subtitle1\" style={{ marginTop: 6, fontWeight: 600 }}>\n                            Hello {nickname}!\n                        </Typography>\n\n                        <Typography variant=\"button\">\n                            {\n                                server_time \n                                    ? moment(server_time).format(\"ddd DD-MMM-YYYY HH:mm:ss\")\n                                    : \"Loading server time...\"\n                            }\n                        </Typography>\n                    </Toolbar>\n\n                    <Divider />\n\n                    <List component=\"nav\">\n                        {/* <ListItem button>\n                                <ListItemIcon>\n                                    <Badge badgeContent={4} color=\"secondary\">\n                                        <MailIcon />\n                                    </Badge>\n                                </ListItemIcon>\n                                <ListItemText primary=\"Messages\" />\n                            </ListItem>\n                            <ListItem button>\n                                <ListItemIcon>\n                                    <Badge badgeContent={11} color=\"secondary\">\n                                        <NotificationsIcon />\n                                    </Badge>\n                                </ListItemIcon>\n                                <ListItemText primary=\"Notifications\" />\n                            </ListItem> */}\n                        <ListItem button onClick={onClickProfile}>\n                            <ListItemIcon>\n                                <AccountCircle />\n                            </ListItemIcon>\n                            <ListItemText primary=\"Profile\" />\n                        </ListItem>\n                        <ListItem button onClick={onClickLogout}>\n                            <ListItemIcon>\n                                <ExitToApp />\n                            </ListItemIcon>\n                            <ListItemText primary=\"Logout\" />\n                        </ListItem>\n                    </List>\n\n                    <Divider />\n\n                    <List\n                        component=\"nav\"\n                        subheader={<ListSubheader component=\"div\">Directory</ListSubheader>}\n                    >\n                        {\n                            navigationLabels.map(({ key, main, sub }) => (\n                                <Fragment key={key}>\n                                    <ListItem\n                                        button \n                                        onClick={() => handleNestedList(key)}\n                                    >\n                                        <ListItemText primary={main} />\n                                        { open[key] ? <ExpandLess /> : <ExpandMore /> }\n                                    </ListItem>\n\n                                    <Collapse in={open[key]} timeout=\"auto\" unmountOnExit>\n                                        <List component=\"div\" disablePadding>\n                                            {\n                                                sub.map((row, i) => {\n                                                    const { label: sublabel, link, soon, divider } = row;\n                                                    const disabled = typeof soon !== \"undefined\";\n\n                                                    if (disabled) {\n                                                        const l = <span>{sublabel}<Typography\n                                                            component=\"span\"\n                                                            variant=\"overline\"\n                                                            style={{ paddingLeft: 4 }}\n                                                        >\n                                                            SOON\n                                                        </Typography></span>;\n                                                        \n                                                        return <ListItem key={sublabel} button className={classes.nested} disabled>\n                                                            <ListItemText \n                                                                primaryTypographyProps={{\n                                                                    className: classes.nestedText\n                                                                }}\n                                                                primary={l}/>\n                                                        </ListItem>;\n                                                    }\n                                                    \n                                                    if (typeof divider !== \"undefined\") {\n                                                        return (\n                                                            <ListItem\n                                                                key={i}\n                                                                divider button={false}\n                                                                style={{ paddingTop: 0, marginBottom: 8 }}/>\n                                                        );\n                                                    }\n\n                                                    return (\n                                                        <Link to={link} key={sublabel} className={classes.link}>\n                                                            <ListItem button className={classes.nested} onClick={drawerHandler(false)}>\n                                                                <ListItemText \n                                                                    primaryTypographyProps={{\n                                                                        className: classes.nestedText\n                                                                    }}\n                                                                    primary={sublabel}/>\n                                                            </ListItem>\n                                                        </Link>\n                                                    );\n                                                })\n                                            }\n                                        </List>\n                                    </Collapse>\n                                </Fragment>\n                            ))\n                        }\n                    </List>\n                </div>\n            </div>\n        </SwipeableDrawer>\n    );\n}\n\nexport default ScreenDrawer;","module.exports = __webpack_public_path__ + \"static/media/phivolcs-letter-head.234377b7.png\";","module.exports = __webpack_public_path__ + \"static/media/phivolcs-letter-footer.131de212.png\";","module.exports = __webpack_public_path__ + \"static/media/dyna_wall.d9a91c1f.jpg\";","import io from \"socket.io-client\";\nimport { host } from \"../config\";\nimport { getCurrentUser } from \"../components/sessions/auth\";\n\nlet socket;\n\nfunction connectToWebsocket () {\n    if (typeof socket === \"undefined\" || socket === null) {\n        socket = io(`${host}/misc`, {\n            reconnectionDelay: 10000,\n            reconnectionAttempts: 30,\n            transports: [\"websocket\"]\n        });\n    }\n}\n\nfunction subscribeToMiscWebSocket (reconnect_callback) {\n    connectToWebsocket();\n\n    socket.on(\"reconnecting\", () => {\n        reconnect_callback(true);\n    });\n\n    socket.on(\"reconnect\", () => {\n        reconnect_callback(false);\n    });\n\n    socket.on(\"reconnect_failed\", () => {\n        // reconnect_callback(false);\n        console.log(\"failed\");\n    });\n}\n\nfunction unsubscribeToWebSocket () {\n    socket.close();\n    socket = null;\n}\n\nfunction getServerTime () {\n    connectToWebsocket();\n    socket.emit(\"get_server_time\");\n}\n\nfunction receiveServerTime (callback) {\n    socket.on(\"receive_server_time\", data => {\n        callback(data);\n    });\n}\n\nfunction getMonitoringShifts () {\n    connectToWebsocket();\n    socket.emit(\"get_monitoring_shifts\");\n}\n\nfunction receiveMonitoringShiftData (callback) {\n    socket.on(\"receive_monitoring_shifts\", data => {\n        const temp = JSON.parse(data);\n        console.log(\"Monitoring Shifts:\", temp);\n        callback(temp);\n    });\n\n    socket.on(\"reconnect\", () => {\n        socket.emit(\"get_monitoring_shifts\");\n    });\n}\n\nfunction removeReceiveMonitoringShiftData () {\n    socket.removeListener(\"receive_monitoring_shifts\");\n}\n\nfunction getUserNotifications () {\n    const { user_id } = getCurrentUser();\n    connectToWebsocket();\n    socket.emit(\"get_user_notifications\", user_id);\n}\n\nfunction receiveUserNotifications (callback) {\n    socket.on(\"receive_user_notifications\", data => {\n        console.log(\"Notifications:\", data);\n        callback(data);\n    });\n    \n    socket.on(\"reconnect\", () => {\n        const { user_id } = getCurrentUser();\n        socket.emit(\"get_user_notifications\", user_id);\n    });\n}\n\nexport { \n    subscribeToMiscWebSocket,\n    unsubscribeToWebSocket,\n    connectToWebsocket, \n    getServerTime, \n    receiveServerTime, \n    receiveMonitoringShiftData,\n    getMonitoringShifts,\n    removeReceiveMonitoringShiftData,\n    getUserNotifications,\n    receiveUserNotifications\n};\n    "],"sourceRoot":""}